/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const t="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,i=(t,i,n=null)=>{for(;i!==n;){const n=i.nextSibling;t.removeChild(i),i=n}},n=`{{lit-${String(Math.random()).slice(2)}}}`,e=`\x3c!--${n}--\x3e`,r=new RegExp(`${n}|${e}`);class s{constructor(t,i){this.parts=[],this.element=i;const e=[],s=[],h=document.createTreeWalker(i.content,133,null,!1);let c=0,f=-1,l=0;const{strings:d,values:{length:v}}=t;for(;l<v;){const t=h.nextNode();if(null!==t){if(f++,1===t.nodeType){if(t.hasAttributes()){const i=t.attributes,{length:n}=i;let e=0;for(let t=0;t<n;t++)o(i[t].name,"$lit$")&&e++;for(;e-- >0;){const i=d[l],n=a.exec(i)[2],e=n.toLowerCase()+"$lit$",s=t.getAttribute(e);t.removeAttribute(e);const o=s.split(r);this.parts.push({type:"attribute",index:f,name:n,strings:o}),l+=o.length-1}}"TEMPLATE"===t.tagName&&(s.push(t),h.currentNode=t.content)}else if(3===t.nodeType){const i=t.data;if(i.indexOf(n)>=0){const n=t.parentNode,s=i.split(r),h=s.length-1;for(let i=0;i<h;i++){let e,r=s[i];if(""===r)e=u();else{const t=a.exec(r);null!==t&&o(t[2],"$lit$")&&(r=r.slice(0,t.index)+t[1]+t[2].slice(0,-"$lit$".length)+t[3]),e=document.createTextNode(r)}n.insertBefore(e,t),this.parts.push({type:"node",index:++f})}""===s[h]?(n.insertBefore(u(),t),e.push(t)):t.data=s[h],l+=h}}else if(8===t.nodeType)if(t.data===n){const i=t.parentNode;null!==t.previousSibling&&f!==c||(f++,i.insertBefore(u(),t)),c=f,this.parts.push({type:"node",index:f}),null===t.nextSibling?t.data="":(e.push(t),f--),l++}else{let i=-1;for(;-1!==(i=t.data.indexOf(n,i+1));)this.parts.push({type:"node",index:-1}),l++}}else h.currentNode=s.pop()}for(const t of e)t.parentNode.removeChild(t)}}const o=(t,i)=>{const n=t.length-i.length;return n>=0&&t.slice(n)===i},h=t=>-1!==t.index,u=()=>document.createComment(""),a=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function c(t,i){const{element:{content:n},parts:e}=t,r=document.createTreeWalker(n,133,null,!1);let s=l(e),o=e[s],h=-1,u=0;const a=[];let c=null;for(;r.nextNode();){h++;const t=r.currentNode;for(t.previousSibling===c&&(c=null),i.has(t)&&(a.push(t),null===c&&(c=t)),null!==c&&u++;void 0!==o&&o.index===h;)o.index=null!==c?-1:o.index-u,s=l(e,s),o=e[s]}a.forEach(t=>t.parentNode.removeChild(t))}const f=t=>{let i=11===t.nodeType?0:1;const n=document.createTreeWalker(t,133,null,!1);for(;n.nextNode();)i++;return i},l=(t,i=-1)=>{for(let n=i+1;n<t.length;n++){const i=t[n];if(h(i))return n}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const d=new WeakMap,v=t=>"function"==typeof t&&d.has(t),p={},m={};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class w{constructor(t,i,n){this.o=[],this.template=t,this.processor=i,this.options=n}update(t){let i=0;for(const n of this.o)void 0!==n&&n.setValue(t[i]),i++;for(const t of this.o)void 0!==t&&t.commit()}_clone(){const i=t?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],e=this.template.parts,r=document.createTreeWalker(i,133,null,!1);let s,o=0,u=0,a=r.nextNode();for(;o<e.length;)if(s=e[o],h(s)){for(;u<s.index;)u++,"TEMPLATE"===a.nodeName&&(n.push(a),r.currentNode=a.content),null===(a=r.nextNode())&&(r.currentNode=n.pop(),a=r.nextNode());if("node"===s.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(a.previousSibling),this.o.push(t)}else this.o.push(...this.processor.handleAttributeExpressions(a,s.name,s.strings,this.options));o++}else this.o.push(void 0),o++;return t&&(document.adoptNode(i),customElements.upgrade(i)),i}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const g=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),b=` ${n} `;class y{constructor(t,i,n,e){this.strings=t,this.values=i,this.type=n,this.processor=e}getHTML(){const t=this.strings.length-1;let i="",r=!1;for(let s=0;s<t;s++){const t=this.strings[s],o=t.lastIndexOf("\x3c!--");r=(o>-1||r)&&-1===t.indexOf("--\x3e",o+1);const h=a.exec(t);i+=null===h?t+(r?b:e):t.substr(0,h.index)+h[1]+h[2]+"$lit$"+h[3]+n}return i+=this.strings[t],i}getTemplateElement(){const t=document.createElement("template");let i=this.getHTML();return void 0!==g&&(i=g.createHTML(i)),t.innerHTML=i,t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const A=t=>null===t||!("object"==typeof t||"function"==typeof t),x=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class _{constructor(t,i,n){this.dirty=!0,this.element=t,this.name=i,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new k(this)}_getValue(){const t=this.strings,i=t.length-1,n=this.parts;if(1===i&&""===t[0]&&""===t[1]){const t=n[0].value;if("symbol"==typeof t)return String(t);if("string"==typeof t||!x(t))return t}let e="";for(let r=0;r<i;r++){e+=t[r];const i=n[r];if(void 0!==i){const t=i.value;if(A(t)||!x(t))e+="string"==typeof t?t:String(t);else for(const i of t)e+="string"==typeof i?i:String(i)}}return e+=t[i],e}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class k{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===p||A(t)&&t===this.value||(this.value=t,v(t)||(this.committer.dirty=!0))}commit(){for(;v(this.value);){const t=this.value;this.value=p,t(this)}this.value!==p&&this.committer.commit()}}class S{constructor(t){this.value=void 0,this.l=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(u()),this.endNode=t.appendChild(u())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.p(this.startNode=u()),t.p(this.endNode=u())}insertAfterPart(t){t.p(this.startNode=u()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.l=t}commit(){if(null===this.startNode.parentNode)return;for(;v(this.l);){const t=this.l;this.l=p,t(this)}const t=this.l;t!==p&&(A(t)?t!==this.value&&this.g(t):t instanceof y?this._(t):t instanceof Node?this.I(t):x(t)?this.T(t):t===m?(this.value=m,this.clear()):this.g(t))}p(t){this.endNode.parentNode.insertBefore(t,this.endNode)}I(t){this.value!==t&&(this.clear(),this.p(t),this.value=t)}g(t){const i=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);i===this.endNode.previousSibling&&3===i.nodeType?i.data=n:this.I(document.createTextNode(n)),this.value=t}_(t){const i=this.options.templateFactory(t);if(this.value instanceof w&&this.value.template===i)this.value.update(t.values);else{const n=new w(i,t.processor,this.options),e=n._clone();n.update(t.values),this.I(e),this.value=n}}T(t){Array.isArray(this.value)||(this.value=[],this.clear());const i=this.value;let n,e=0;for(const r of t)n=i[e],void 0===n&&(n=new S(this.options),i.push(n),0===e?n.appendIntoPart(this):n.insertAfterPart(i[e-1])),n.setValue(r),n.commit(),e++;e<i.length&&(i.length=e,this.clear(n&&n.endNode))}clear(t=this.startNode){i(this.startNode.parentNode,t.nextSibling,this.endNode)}}class M{constructor(t,i,n){if(this.value=void 0,this.l=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=i,this.strings=n}setValue(t){this.l=t}commit(){for(;v(this.l);){const t=this.l;this.l=p,t(this)}if(this.l===p)return;const t=!!this.l;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.l=p}}class I extends _{constructor(t,i,n){super(t,i,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new E(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class E extends k{}let T=!1;(()=>{try{const t={get capture(){return T=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}})();class C{constructor(t,i,n){this.value=void 0,this.l=void 0,this.element=t,this.eventName=i,this.eventContext=n,this.C=t=>this.handleEvent(t)}setValue(t){this.l=t}commit(){for(;v(this.l);){const t=this.l;this.l=p,t(this)}if(this.l===p)return;const t=this.l,i=this.value,n=null==t||null!=i&&(t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive),e=null!=t&&(null==i||n);n&&this.element.removeEventListener(this.eventName,this.C,this.O),e&&(this.O=O(t),this.element.addEventListener(this.eventName,this.C,this.O)),this.value=t,this.l=p}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const O=t=>t&&(T?{capture:t.capture,passive:t.passive,once:t.once}:t.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;function D(t){let i=N.get(t.type);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},N.set(t.type,i));let e=i.stringsArray.get(t.strings);if(void 0!==e)return e;const r=t.strings.join(n);return e=i.keyString.get(r),void 0===e&&(e=new s(t,t.getTemplateElement()),i.keyString.set(r,e)),i.stringsArray.set(t.strings,e),e}const N=new Map,L=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const R=new
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class{handleAttributeExpressions(t,i,n,e){const r=i[0];if("."===r){return new I(t,i.slice(1),n).parts}if("@"===r)return[new C(t,i.slice(1),e.eventContext)];if("?"===r)return[new M(t,i.slice(1),n)];return new _(t,i,n).parts}handleTextExpression(t){return new S(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const j=(t,...i)=>new y(t,i,"html",R)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,U=(t,i)=>`${t}--${i}`;let P=!0;void 0===window.ShadyCSS?P=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),P=!1);const F=t=>i=>{const e=U(i.type,t);let r=N.get(e);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},N.set(e,r));let o=r.stringsArray.get(i.strings);if(void 0!==o)return o;const h=i.strings.join(n);if(o=r.keyString.get(h),void 0===o){const n=i.getTemplateElement();P&&window.ShadyCSS.prepareTemplateDom(n,t),o=new s(i,n),r.keyString.set(h,o)}return r.stringsArray.set(i.strings,o),o},z=["html","svg"],B=new Set,V=(t,i,n)=>{B.add(t);const e=n?n.element:document.createElement("template"),r=i.querySelectorAll("style"),{length:s}=r;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(e,t);const o=document.createElement("style");for(let t=0;t<s;t++){const i=r[t];i.parentNode.removeChild(i),o.textContent+=i.textContent}(t=>{z.forEach(i=>{const n=N.get(U(i,t));void 0!==n&&n.keyString.forEach(t=>{const{element:{content:i}}=t,n=new Set;Array.from(i.querySelectorAll("style")).forEach(t=>{n.add(t)}),c(t,n)})})})(t);const h=e.content;n?function(t,i,n=null){const{element:{content:e},parts:r}=t;if(null==n)return void e.appendChild(i);const s=document.createTreeWalker(e,133,null,!1);let o=l(r),h=0,u=-1;for(;s.nextNode();){u++;for(s.currentNode===n&&(h=f(i),n.parentNode.insertBefore(i,n));-1!==o&&r[o].index===u;){if(h>0){for(;-1!==o;)r[o].index+=h,o=l(r,o);return}o=l(r,o)}}}(n,o,h.firstChild):h.insertBefore(o,h.firstChild),window.ShadyCSS.prepareTemplateStyles(e,t);const u=h.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==u)i.insertBefore(u.cloneNode(!0),i.firstChild);else if(n){h.insertBefore(o,h.firstChild);const t=new Set;t.add(o),c(n,t)}};window.JSCompiler_renameProperty=(t,i)=>t;const $={toAttribute(t,i){switch(i){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){switch(i){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},H=(t,i)=>i!==t&&(i==i||t==t),W={attribute:!0,type:String,converter:$,reflect:!1,hasChanged:H};class K extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((i,n)=>{const e=this._attributeNameForProperty(n,i);void 0!==e&&(this._attributeToPropertyMap.set(e,n),t.push(e))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,i)=>this._classProperties.set(i,t))}}static createProperty(t,i=W){if(this._ensureClassProperties(),this._classProperties.set(t,i),i.noAccessor||this.prototype.hasOwnProperty(t))return;const n="symbol"==typeof t?Symbol():"__"+t,e=this.getPropertyDescriptor(t,n,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}static getPropertyDescriptor(t,i,n){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdateInternal(t,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||W}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,i=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of i)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,i){const n=i.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,i,n=H){return n(t,i)}static _propertyValueFromAttribute(t,i){const n=i.type,e=i.converter||$,r="function"==typeof e?e:e.fromAttribute;return r?r(t,n):t}static _propertyValueToAttribute(t,i){if(void 0===i.reflect)return;const n=i.type,e=i.converter;return(e&&e.toAttribute||$.toAttribute)(t,n)}initialize(){this._updateState=0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,i)=>{if(this.hasOwnProperty(i)){const t=this[i];delete this[i],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(i,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,i)=>this[i]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,i,n){i!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,i,n=W){const e=this.constructor,r=e._attributeNameForProperty(t,n);if(void 0!==r){const t=e._propertyValueToAttribute(i,n);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(r):this.setAttribute(r,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,i){if(8&this._updateState)return;const n=this.constructor,e=n._attributeToPropertyMap.get(t);if(void 0!==e){const t=n.getPropertyOptions(e);this._updateState=16|this._updateState,this[e]=n._propertyValueFromAttribute(i,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,i,n){let e=!0;if(void 0!==t){const r=this.constructor;n=n||r.getPropertyOptions(t),r._valueHasChanged(this[t],i,n.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,i),!0!==n.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,n))):e=!1}!this._hasRequestedUpdate&&e&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,i){return this.requestUpdateInternal(t,i),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const i=this._changedProperties;try{t=this.shouldUpdate(i),t?this.update(i):this._markUpdated()}catch(i){throw t=!1,this._markUpdated(),i}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(i)),this.updated(i))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,i)=>this._propertyToAttribute(i,this[i],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}K.finalized=!0;
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const G=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Z=Symbol();class Y{constructor(t,i){if(i!==Z)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){return void 0===this._styleSheet&&(G?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const q=(t,...i)=>{const n=i.reduce((i,n,e)=>i+(t=>{if(t instanceof Y)return t.cssText;if("number"==typeof t)return t;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${t}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(n)+t[e+1],t[0]);return new Y(n,Z)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.5.1");const Q={};class J extends K{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const t=this.getStyles();if(Array.isArray(t)){const i=(t,n)=>t.reduceRight((t,n)=>Array.isArray(n)?i(n,t):(t.add(n),t),n),n=i(t,new Set),e=[];n.forEach(t=>e.unshift(t)),this._styles=e}else this._styles=void 0===t?[]:[t];this._styles=this._styles.map(t=>{if(t instanceof CSSStyleSheet&&!G){const i=Array.prototype.slice.call(t.cssRules).reduce((t,i)=>t+i.cssText,"");return new Y(String(i),Z)}return t})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow(this.constructor.shadowRootOptions)}adoptStyles(){const t=this.constructor._styles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?G?this.renderRoot.adoptedStyleSheets=t.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){const i=this.render();super.update(t),i!==Q&&this.constructor.render(i,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(t=>{const i=document.createElement("style");i.textContent=t.cssText,this.renderRoot.appendChild(i)}))}render(){return Q}}J.finalized=!0,J.render=(t,n,e)=>{if(!e||"object"!=typeof e||!e.scopeName)throw new Error("The `scopeName` option is required.");const r=e.scopeName,s=L.has(n),o=P&&11===n.nodeType&&!!n.host,h=o&&!B.has(r),u=h?document.createDocumentFragment():n;if(((t,n,e)=>{let r=L.get(n);void 0===r&&(i(n,n.firstChild),L.set(n,r=new S(Object.assign({templateFactory:D},e))),r.appendInto(n)),r.setValue(t),r.commit()})(t,u,Object.assign({templateFactory:F(r)},e)),h){const t=L.get(u);L.delete(u);const e=t.value instanceof w?t.value.template:void 0;V(r,u,e),i(n,n.firstChild),n.appendChild(u),L.set(n,t)}!s&&o&&window.ShadyCSS.styleElement(n.host)},J.shadowRootOptions={mode:"open"};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const X=(t,i)=>{const n=t.startNode.parentNode,e=void 0===i?t.endNode:i.startNode,r=n.insertBefore(u(),e);n.insertBefore(u(),e);const s=new S(t.options);return s.insertAfterNode(r),s},tt=(t,i)=>(t.setValue(i),t.commit(),t),it=(t,i,n)=>{const e=t.startNode.parentNode,r=n?n.startNode:t.endNode,s=i.endNode.nextSibling;s!==r&&((t,i,n=null,e=null)=>{for(;i!==n;){const n=i.nextSibling;t.insertBefore(i,e),i=n}})(e,i.startNode,s,r)},nt=t=>{i(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)},et=(t,i,n)=>{const e=new Map;for(let r=i;r<=n;r++)e.set(t[r],r);return e},rt=new WeakMap,st=new WeakMap,ot=(ht=(t,i,n)=>{let e;return void 0===n?n=i:void 0!==i&&(e=i),i=>{if(!(i instanceof S))throw new Error("repeat can only be used in text bindings");const r=rt.get(i)||[],s=st.get(i)||[],o=[],h=[],u=[];let a,c,f=0;for(const i of t)u[f]=e?e(i,f):f,h[f]=n(i,f),f++;let l=0,d=r.length-1,v=0,p=h.length-1;for(;l<=d&&v<=p;)if(null===r[l])l++;else if(null===r[d])d--;else if(s[l]===u[v])o[v]=tt(r[l],h[v]),l++,v++;else if(s[d]===u[p])o[p]=tt(r[d],h[p]),d--,p--;else if(s[l]===u[p])o[p]=tt(r[l],h[p]),it(i,r[l],o[p+1]),l++,p--;else if(s[d]===u[v])o[v]=tt(r[d],h[v]),it(i,r[d],r[l]),d--,v++;else if(void 0===a&&(a=et(u,v,p),c=et(s,l,d)),a.has(s[l]))if(a.has(s[d])){const t=c.get(u[v]),n=void 0!==t?r[t]:null;if(null===n){const t=X(i,r[l]);tt(t,h[v]),o[v]=t}else o[v]=tt(n,h[v]),it(i,n,r[l]),r[t]=null;v++}else nt(r[d]),d--;else nt(r[l]),l++;for(;v<=p;){const t=X(i,o[p+1]);tt(t,h[v]),o[v++]=t}for(;l<=d;){const t=r[l++];null!==t&&nt(t)}rt.set(i,o),st.set(i,u)}},(...t)=>{const i=ht(...t);return d.set(i,!0),i});var ht;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ut=function(t){const i=[];let n=0;for(let e=0;e<t.length;e++){let r=t.charCodeAt(e);r<128?i[n++]=r:r<2048?(i[n++]=r>>6|192,i[n++]=63&r|128):55296==(64512&r)&&e+1<t.length&&56320==(64512&t.charCodeAt(e+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++e)),i[n++]=r>>18|240,i[n++]=r>>12&63|128,i[n++]=r>>6&63|128,i[n++]=63&r|128):(i[n++]=r>>12|224,i[n++]=r>>6&63|128,i[n++]=63&r|128)}return i},at={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,i){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,e=[];for(let i=0;i<t.length;i+=3){const r=t[i],s=i+1<t.length,o=s?t[i+1]:0,h=i+2<t.length,u=h?t[i+2]:0,a=r>>2,c=(3&r)<<4|o>>4;let f=(15&o)<<2|u>>6,l=63&u;h||(l=64,s||(f=64)),e.push(n[a],n[c],n[f],n[l])}return e.join("")},encodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(t):this.encodeByteArray(ut(t),i)},decodeString(t,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(t):function(t){const i=[];let n=0,e=0;for(;n<t.length;){const r=t[n++];if(r<128)i[e++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];i[e++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;i[e++]=String.fromCharCode(55296+(s>>10)),i[e++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];i[e++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return i.join("")}(this.decodeStringToByteArray(t,i))},decodeStringToByteArray(t,i){this.init_();const n=i?this.charToByteMapWebSafe_:this.charToByteMap_,e=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,null==r||null==s||null==o||null==h)throw new ct;const u=r<<2|s>>4;if(e.push(u),64!==o){const t=s<<4&240|o>>2;if(e.push(t),64!==h){const t=o<<6&192|h;e.push(t)}}}return e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ct extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ft=function(t){return function(t){const i=ut(t);return at.encodeByteArray(i,!0)}(t).replace(/\./g,"")},lt=function(t){try{return at.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dt=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().j,vt=()=>{try{return dt()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.j;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const i=t&&lt(t[1]);return i&&JSON.parse(i)})()}catch(t){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: "+t)}},pt=()=>{var t;return null===(t=vt())||void 0===t?void 0:t.config},mt=t=>{var i;return null===(i=vt())||void 0===i?void 0:i["_"+t]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,n)=>{i?this.reject(i):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(i):t(i,n))}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class bt extends Error{constructor(t,i,n){super(i),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(t,i,n){this.service=t,this.serviceName=i,this.errors=n}create(t,...i){const n=i[0]||{},e=`${this.service}/${t}`,r=this.errors[t],s=r?function(t,i){return t.replace(At,(t,n)=>{const e=i[n];return null!=e?String(e):`<${n}?>`})}(r,n):"Error",o=`${this.serviceName}: ${s} (${e}).`;return new bt(e,o,n)}}const At=/\{\$([^}]+)}/g;function xt(t,i){if(t===i)return!0;const n=Object.keys(t),e=Object.keys(i);for(const r of n){if(!e.includes(r))return!1;const n=t[r],s=i[r];if(_t(n)&&_t(s)){if(!xt(n,s))return!1}else if(n!==s)return!1}for(const t of e)if(!n.includes(t))return!1;return!0}function _t(t){return null!==t&&"object"==typeof t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){const i=[];for(const[n,e]of Object.entries(t))Array.isArray(e)?e.forEach(t=>{i.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):i.push(encodeURIComponent(n)+"="+encodeURIComponent(e));return i.length?"&"+i.join("&"):""}class St{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,n){let e;if(void 0===t&&void 0===i&&void 0===n)throw new Error("Missing Observer.");e=function(t,i){if("object"!=typeof t||null===t)return!1;for(const n of i)if(n in t&&"function"==typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:i,complete:n},void 0===e.next&&(e.next=Mt),void 0===e.error&&(e.error=Mt),void 0===e.complete&&(e.complete=Mt);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?e.error(this.finalError):e.complete()}catch(t){}}),this.observers.push(e),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{i(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mt(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Et{constructor(t,i,n){this.name=t,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Tt{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const t=new wt;if(this.instancesDeferred.set(i,t),this.isInitialized(i)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:i});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),e=null!==(i=null==t?void 0:t.optional)&&void 0!==i&&i;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(e)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}for(const[t,i]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});i.resolve(t)}catch(t){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const e=this.getOrInitializeService({instanceIdentifier:n,options:i});for(const[t,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(t)&&i.resolve(e)}return e}onInit(t,i){var n;const e=this.normalizeInstanceIdentifier(i),r=null!==(n=this.onInitCallbacks.get(e))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(e,r);const s=this.instances.get(e);return s&&t(s,e),()=>{r.delete(t)}}invokeOnInitCallbacks(t,i){const n=this.onInitCallbacks.get(i);if(n)for(const e of n)try{e(t,i)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(t,n),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var e;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ct{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Tt(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Ot||(Ot={}));const Dt={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Nt=Ot.INFO,Lt={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Rt=(t,i,...n)=>{if(i<t.logLevel)return;const e=(new Date).toISOString(),r=Lt[i];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`);console[r](`[${e}]  ${t.name}:`,...n)};class jt{constructor(t){this.name=t,this._logLevel=Nt,this._logHandler=Rt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Dt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}let Ut,Pt;const Ft=new WeakMap,zt=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,$t=new WeakMap;let Ht={get(t,i,n){if(t instanceof IDBTransaction){if("done"===i)return zt.get(t);if("objectStoreNames"===i)return t.objectStoreNames||Bt.get(t);if("store"===i)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(t[i])},set:(t,i,n)=>(t[i]=n,!0),has:(t,i)=>t instanceof IDBTransaction&&("done"===i||"store"===i)||i in t};function Wt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pt||(Pt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...i){return t.apply(Zt(this),i),Gt(Ft.get(this))}:function(...i){return Gt(t.apply(Zt(this),i))}:function(i,...n){const e=t.call(Zt(this),i,...n);return Bt.set(e,i.sort?i.sort():[i]),Gt(e)}}function Kt(t){return"function"==typeof t?Wt(t):(t instanceof IDBTransaction&&function(t){if(zt.has(t))return;const i=new Promise((i,n)=>{const e=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{i(),e()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),e()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)});zt.set(t,i)}(t),i=t,(Ut||(Ut=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>i instanceof t)?new Proxy(t,Ht):t);var i}function Gt(t){if(t instanceof IDBRequest)return function(t){const i=new Promise((i,n)=>{const e=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{i(Gt(t.result)),e()},s=()=>{n(t.error),e()};t.addEventListener("success",r),t.addEventListener("error",s)});return i.then(i=>{i instanceof IDBCursor&&Ft.set(i,t)}).catch(()=>{}),$t.set(i,t),i}(t);if(Vt.has(t))return Vt.get(t);const i=Kt(t);return i!==t&&(Vt.set(t,i),$t.set(i,t)),i}const Zt=t=>$t.get(t);const Yt=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],Qt=new Map;function Jt(t,i){if(!(t instanceof IDBDatabase)||i in t||"string"!=typeof i)return;if(Qt.get(i))return Qt.get(i);const n=i.replace(/FromIndex$/,""),e=i!==n,r=qt.includes(n);if(!(n in(e?IDBIndex:IDBObjectStore).prototype)||!r&&!Yt.includes(n))return;const s=async function(t,...i){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return e&&(o=o.index(i.shift())),(await Promise.all([o[n](...i),r&&s.done]))[0]};return Qt.set(i,s),s}Ht=(t=>({...t,get:(i,n,e)=>Jt(i,n)||t.get(i,n,e),has:(i,n)=>!!Jt(i,n)||t.has(i,n)}))(Ht);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const i=t.getComponent();return"VERSION"===(null==i?void 0:i.type)}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const ti="@firebase/app",ii=new jt("@firebase/app"),ni={[ti]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ei=new Map,ri=new Map,si=new Map;function oi(t,i){try{t.container.addComponent(i)}catch(n){ii.debug(`Component ${i.name} failed to register with FirebaseApp ${t.name}`,n)}}function hi(t){const i=t.name;if(si.has(i))return ii.debug(`There were multiple attempts to register component ${i}.`),!1;si.set(i,t);for(const i of ei.values())oi(i,t);for(const i of ri.values())oi(i,t);return!0}function ui(t,i){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(i)}function ai(t){return void 0!==t.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new yt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fi{constructor(t,i,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,i={}){let n=t;if("object"!=typeof i){i={name:i}}const e=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},i),r=e.name;if("string"!=typeof r||!r)throw ci.create("bad-app-name",{appName:String(r)});if(n||(n=pt()),!n)throw ci.create("no-options");const s=ei.get(r);if(s){if(xt(n,s.options)&&xt(e,s.config))return s;throw ci.create("duplicate-app",{appName:r})}const o=new Ct(r);for(const t of si.values())o.addComponent(t);const h=new fi(n,e,o);return ei.set(r,h),h}function di(t,i,n){var e;let r=null!==(e=ni[t])&&void 0!==e?e:t;n&&(r+="-"+n);const s=r.match(/\s|\//),o=i.match(/\s|\//);if(s||o){const t=[`Unable to register library "${r}" with version "${i}":`];return s&&t.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${i}" contains illegal characters (whitespace or "/")`),void ii.warn(t.join(" "))}hi(new Et(r+"-version",()=>({library:r,version:i}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="firebase-heartbeat-store";let pi=null;function mi(){return pi||(pi=function(t,i,{blocked:n,upgrade:e,blocking:r,terminated:s}={}){const o=indexedDB.open(t,i),h=Gt(o);return e&&o.addEventListener("upgradeneeded",t=>{e(Gt(o.result),t.oldVersion,t.newVersion,Gt(o.transaction),t)}),n&&o.addEventListener("blocked",t=>n(t.oldVersion,t.newVersion,t)),h.then(t=>{s&&t.addEventListener("close",()=>s()),r&&t.addEventListener("versionchange",t=>r(t.oldVersion,t.newVersion,t))}).catch(()=>{}),h}("firebase-heartbeat-database",1,{upgrade:(t,i)=>{switch(i){case 0:try{t.createObjectStore(vi)}catch(t){console.warn(t)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),pi}async function wi(t,i){try{const n=(await mi()).transaction(vi,"readwrite"),e=n.objectStore(vi);await e.put(i,gi(t)),await n.done}catch(t){if(t instanceof bt)ii.warn(t.message);else{const i=ci.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});ii.warn(i.message)}}}function gi(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Ai(i),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){var t,i;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=yi();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(i=this._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some(t=>t.date===e))return this._heartbeatsCache.heartbeats.push({date:e,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{const i=new Date(t.date).valueOf();return Date.now()-i<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const i=yi(),{heartbeatsToSend:n,unsentEntries:e}=function(t,i=1024){const n=[];let e=t.slice();for(const r of t){const t=n.find(t=>t.agent===r.agent);if(t){if(t.dates.push(r.date),xi(n)>i){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),xi(n)>i){n.pop();break}e=e.slice(1)}return{heartbeatsToSend:n,unsentEntries:e}}(this._heartbeatsCache.heartbeats),r=ft(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,e.length>0?(this._heartbeatsCache.heartbeats=e,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function yi(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}()&&new Promise((t,i)=>{try{let n=!0;const e="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(e);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(e),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;i((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(t){i(t)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const i=(await mi()).transaction(vi),n=await i.objectStore(vi).get(gi(t));return await i.done,n}catch(t){if(t instanceof bt)ii.warn(t.message);else{const i=ci.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});ii.warn(i.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const n=await this.read();return wi(this.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var i;if(await this._canUseIndexedDBPromise){const n=await this.read();return wi(this.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function xi(t){return ft(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i;_i="",hi(new Et("platform-logger",t=>new Xt(t),"PRIVATE")),hi(new Et("heartbeat",t=>new bi(t),"PRIVATE")),di(ti,"0.10.7",_i),di(ti,"0.10.7","esm2017"),di("fire-js","");function ki(t,i){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.indexOf(e)<0&&(n[e]=t[e]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(e=Object.getOwnPropertySymbols(t);r<e.length;r++)i.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]])}return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
di("firebase","10.12.4","app");"function"==typeof SuppressedError&&SuppressedError;function Si(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mi=Si,Ii=new yt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ei=new jt("@firebase/auth");function Ti(t,...i){Ei.logLevel<=Ot.ERROR&&Ei.error("Auth (10.12.4): "+t,...i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,...i){throw Li(t,...i)}function Oi(t,...i){return Li(t,...i)}function Di(t,i,n){const e=Object.assign(Object.assign({},Mi()),{[i]:n});return new yt("auth","Firebase",e).create(i,{appName:t.name})}function Ni(t){return Di(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Li(t,...i){if("string"!=typeof t){const n=i[0],e=[...i.slice(1)];return e[0]&&(e[0].appName=t.name),t._errorFactory.create(n,...e)}return Ii.create(t,...i)}function Ri(t,i,...n){if(!t)throw Li(i,...n)}function ji(t){const i="INTERNAL ASSERTION FAILED: "+t;throw Ti(i),new Error(i)}function Ui(t,i){t||ji(i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Fi(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Fi()&&"https:"!==Fi()&&!function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bi{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ui(i>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return zi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,i){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return i?`${n}${i.startsWith("/")?i.slice(1):i}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{static initialize(t,i,n){this.fetchImpl=t,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Wi=new Bi(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,i){return t.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:t.tenantId}):i}async function Gi(t,i,n,e,r={}){return Zi(t,r,async()=>{let r={},s={};e&&("GET"===i?s=e:r={body:JSON.stringify(e)});const o=kt(Object.assign({key:t.config.apiKey},s)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),$i.fetch()(Yi(t,t.config.apiHost,n,o),Object.assign({method:i,headers:h,referrerPolicy:"no-referrer"},r))})}async function Zi(t,i,n){t._canInitEmulator=!1;const e=Object.assign(Object.assign({},Hi),i);try{const i=new qi(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw Qi(t,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const i=r.ok?s.errorMessage:s.error.message,[n,o]=i.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qi(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Qi(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw Qi(t,"user-disabled",s);const h=e[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Di(t,h,o);Ci(t,h)}}catch(i){if(i instanceof bt)throw i;Ci(t,"network-request-failed",{message:String(i)})}}function Yi(t,i,n,e){const r=`${i}${n}?${e}`;return t.config.emulator?Vi(t.config,r):`${t.config.apiScheme}://${r}`}class qi{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Oi(this.auth,"network-request-failed")),Wi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qi(t,i,n){const e={appName:t.name};n.email&&(e.email=n.email),n.phoneNumber&&(e.phoneNumber=n.phoneNumber);const r=Oi(t,i,e);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(t,i){return Gi(t,"POST","/v1/accounts:lookup",i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){if(t)try{const i=new Date(Number(t));if(!isNaN(i.getTime()))return i.toUTCString()}catch(t){}}function tn(t){return 1e3*Number(t)}function nn(t){const[i,n,e]=t.split(".");if(void 0===i||void 0===n||void 0===e)return Ti("JWT malformed, contained fewer than 3 sections"),null;try{const t=lt(n);return t?JSON.parse(t):(Ti("Failed to decode base64 JWT payload"),null)}catch(t){return Ti("Caught error parsing JWT payload as JSON",null==t?void 0:t.toString()),null}}function en(t){const i=nn(t);return Ri(i,"internal-error"),Ri(void 0!==i.exp,"internal-error"),Ri(void 0!==i.iat,"internal-error"),Number(i.exp)-Number(i.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(t,i,n=!1){if(n)return i;try{return await i}catch(i){throw i instanceof bt&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}class sn{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(i=this.user.stsTokenManager.expirationTime)&&void 0!==i?i:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xi(this.lastLoginAt),this.creationTime=Xi(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hn(t){var i;const n=t.auth,e=await t.getIdToken(),r=await rn(t,Ji(n,{idToken:e}));Ri(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(i=s.providerUserInfo)||void 0===i?void 0:i.length)?un(s.providerUserInfo):[],h=(u=t.providerData,a=o,[...u.filter(t=>!a.some(i=>i.providerId===t.providerId)),...a]);var u,a;const c=t.isAnonymous,f=!(t.email&&s.passwordHash||(null==h?void 0:h.length)),l=!!c&&f,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new on(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}function un(t){return t.map(t=>{var{providerId:i}=t,n=ki(t,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class an{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ri(t.idToken,"internal-error"),Ri(void 0!==t.idToken,"internal-error"),Ri(void 0!==t.refreshToken,"internal-error");const i="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):en(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Ri(0!==t.length,"internal-error");const i=en(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return i||!this.accessToken||this.isExpired?(Ri(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:n,refreshToken:e,expiresIn:r}=await async function(t,i){const n=await Zi(t,{},async()=>{const n=kt({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:e,apiKey:r}=t.config,s=Yi(t,e,"/v1/token","key="+r),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",$i.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,i);this.updateTokensAndExpiration(n,e,Number(r))}updateTokensAndExpiration(t,i,n){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,i){const{refreshToken:n,accessToken:e,expirationTime:r}=i,s=new an;return n&&(Ri("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),e&&(Ri("string"==typeof e,"internal-error",{appName:t}),s.accessToken=e),r&&(Ri("number"==typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new an,this.toJSON())}_performRefresh(){return ji("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,i){Ri("string"==typeof t||void 0===t,"internal-error",{appName:i})}class fn{constructor(t){var{uid:i,auth:n,stsTokenManager:e}=t,r=ki(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=e,this.accessToken=e.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new on(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const i=await rn(this,this.stsTokenManager.getToken(this.auth,t));return Ri(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return async function(t,i=!1){const n=It(t),e=await n.getIdToken(i),r=nn(e);Ri(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:e,authTime:Xi(tn(r.auth_time)),issuedAtTime:Xi(tn(r.iat)),expirationTime:Xi(tn(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const i=It(t);await hn(i),await i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)}(this)}_assign(t){this!==t&&(Ri(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new fn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){Ri(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),i&&await hn(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Ni(this.auth));const t=await this.getIdToken();return await rn(this,async function(t,i){return Gi(t,"POST","/v1/accounts:delete",i)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var n,e,r,s,o,h,u,a;const c=null!==(n=i.displayName)&&void 0!==n?n:void 0,f=null!==(e=i.email)&&void 0!==e?e:void 0,l=null!==(r=i.phoneNumber)&&void 0!==r?r:void 0,d=null!==(s=i.photoURL)&&void 0!==s?s:void 0,v=null!==(o=i.tenantId)&&void 0!==o?o:void 0,p=null!==(h=i._redirectEventId)&&void 0!==h?h:void 0,m=null!==(u=i.createdAt)&&void 0!==u?u:void 0,w=null!==(a=i.lastLoginAt)&&void 0!==a?a:void 0,{uid:g,emailVerified:b,isAnonymous:y,providerData:A,stsTokenManager:x}=i;Ri(g&&x,t,"internal-error");const _=an.fromJSON(this.name,x);Ri("string"==typeof g,t,"internal-error"),cn(c,t.name),cn(f,t.name),Ri("boolean"==typeof b,t,"internal-error"),Ri("boolean"==typeof y,t,"internal-error"),cn(l,t.name),cn(d,t.name),cn(v,t.name),cn(p,t.name),cn(m,t.name),cn(w,t.name);const k=new fn({uid:g,auth:t,email:f,emailVerified:b,displayName:c,isAnonymous:y,photoURL:d,phoneNumber:l,tenantId:v,stsTokenManager:_,createdAt:m,lastLoginAt:w});return A&&Array.isArray(A)&&(k.providerData=A.map(t=>Object.assign({},t))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(t,i,n=!1){const e=new an;e.updateFromServerResponse(i);const r=new fn({uid:i.localId,auth:t,stsTokenManager:e,isAnonymous:n});return await hn(r),r}static async _fromGetAccountInfoResponse(t,i,n){const e=i.users[0];Ri(void 0!==e.localId,"internal-error");const r=void 0!==e.providerUserInfo?un(e.providerUserInfo):[],s=!(e.email&&e.passwordHash||(null==r?void 0:r.length)),o=new an;o.updateFromIdToken(n);const h=new fn({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:e.localId,displayName:e.displayName||null,photoURL:e.photoUrl||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,tenantId:e.tenantId||null,providerData:r,metadata:new on(e.createdAt,e.lastLoginAt),isAnonymous:!(e.email&&e.passwordHash||(null==r?void 0:r.length))};return Object.assign(h,u),h}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Map;function dn(t){Ui(t instanceof Function,"Expected a class definition");let i=ln.get(t);return i?(Ui(i instanceof t,"Instance stored in cache mismatched with class"),i):(i=new t,ln.set(t,i),i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return void 0===i?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}vn.type="NONE";const pn=vn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,i,n){return`firebase:${t}:${i}:${n}`}class wn{constructor(t,i,n){this.persistence=t,this.auth=i,this.userKey=n;const{config:e,name:r}=this.auth;this.fullUserKey=mn(this.userKey,e.apiKey,r),this.fullPersistenceKey=mn("persistence",e.apiKey,r),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?fn._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,i?this.setCurrentUser(i):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,n="authUser"){if(!i.length)return new wn(dn(pn),t,n);const e=(await Promise.all(i.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let r=e[0]||dn(pn);const s=mn(n,t.config.apiKey,t.name);let o=null;for(const n of i)try{const i=await n._get(s);if(i){const e=fn._fromJSON(t,i);n!==r&&(o=e),r=n;break}}catch(t){}const h=e.filter(t=>t._shouldAllowMigration);return r._shouldAllowMigration&&h.length?(r=h[0],o&&await r._set(s,o.toJSON()),await Promise.all(i.map(async t=>{if(t!==r)try{await t._remove(s)}catch(t){}})),new wn(r,t,n)):new wn(r,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){const i=t.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(xn(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(bn(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(kn(i))return"Blackberry";if(Sn(i))return"Webos";if(yn(i))return"Safari";if((i.includes("chrome/")||An(i))&&!i.includes("edge/"))return"Chrome";if(_n(i))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(i);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function bn(t=gt()){return/firefox\//i.test(t)}function yn(t=gt()){const i=t.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function An(t=gt()){return/crios\//i.test(t)}function xn(t=gt()){return/iemobile/i.test(t)}function _n(t=gt()){return/android/i.test(t)}function kn(t=gt()){return/blackberry/i.test(t)}function Sn(t=gt()){return/webos/i.test(t)}function Mn(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function In(){return function(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function En(t=gt()){return Mn(t)||_n(t)||Sn(t)||kn(t)||/windows phone/i.test(t)||xn(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tn(t,i=[]){let n;switch(t){case"Browser":n=gn(gt());break;case"Worker":n=`${gn(gt())}-${t}`;break;default:n=t}return`${n}/JsCore/10.12.4/${i.length?i.join(","):"FirebaseCore-web"}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const n=i=>new Promise((n,e)=>{try{n(t(i))}catch(t){e(t)}});n.onAbort=i,this.queue.push(n);const e=this.queue.length-1;return()=>{this.queue[e]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const n of this.queue)await n(t),n.onAbort&&i.push(n.onAbort)}catch(t){i.reverse();for(const t of i)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==t?void 0:t.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){var i,n,e,r;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(i=s.minPasswordLength)&&void 0!==i?i:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(e=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==e?e:"",this.forceUpgradeOnSignin=null!==(r=t.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,n,e,r,s,o;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,h),this.validatePasswordCharacterOptions(t,h),h.isValid&&(h.isValid=null===(i=h.meetsMinPasswordLength)||void 0===i||i),h.isValid&&(h.isValid=null===(n=h.meetsMaxPasswordLength)||void 0===n||n),h.isValid&&(h.isValid=null===(e=h.containsLowercaseLetter)||void 0===e||e),h.isValid&&(h.isValid=null===(r=h.containsUppercaseLetter)||void 0===r||r),h.isValid&&(h.isValid=null===(s=h.containsNumericCharacter)||void 0===s||s),h.isValid&&(h.isValid=null===(o=h.containsNonAlphanumericCharacter)||void 0===o||o),h}validatePasswordLengthOptions(t,i){const n=this.customStrengthOptions.minPasswordLength,e=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=t.length>=n),e&&(i.meetsMaxPasswordLength=t.length<=e)}validatePasswordCharacterOptions(t,i){let n;this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);for(let e=0;e<t.length;e++)n=t.charAt(e),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,i,n,e,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=e)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t,i,n,e){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ln(this),this.idTokenSubscription=new Ln(this),this.beforeStateQueue=new Cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ii,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=dn(i)),this._initializationPromise=this.queue(async()=>{var n,e;if(!this._deleted&&(this.persistenceManager=await wn.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(i),this.lastNotifiedUid=(null===(e=this.currentUser)||void 0===e?void 0:e.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const i=await Ji(this,{idToken:t}),n=await fn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ai(this.app)){const t=this.app.settings.authIdToken;return t?new Promise(i=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(t).then(i,i))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let e=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null==e?void 0:e._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null==o?void 0:o.user)||(e=o.user,r=!0)}if(!e)return this.directlySetCurrentUser(null);if(!e._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(e)}catch(t){e=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(t))}return e?this.reloadAndSetCurrentUserOrClear(e):this.directlySetCurrentUser(null)}return Ri(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===e._redirectEventId?this.directlySetCurrentUser(e):this.reloadAndSetCurrentUserOrClear(e)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await hn(t)}catch(t){if("auth/network-request-failed"!==(null==t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Ni(this));const i=t?It(t):null;return i&&Ri(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Ri(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dn(t))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t,i={}){return Gi(t,"GET","/v2/passwordPolicy",Ki(t,i))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),i=new On(t);null===this.tenantId?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new yt("auth","Firebase",t())}onAuthStateChanged(t,i,n){return this.registerStateListener(this.authStateSubscription,t,i,n)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,n){return this.registerStateListener(this.idTokenSubscription,t,i,n)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(i.tenantId=this.tenantId),await async function(t,i){return Gi(t,"POST","/v2/accounts:revokeToken",Ki(t,i))}(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,i){const n=await this.getOrInitRedirectPersistenceManager(i);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&dn(t)||this._popupRedirectResolver;Ri(i,this,"argument-error"),this.redirectPersistenceManager=await wn.create(this,[dn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(i=this._currentUser)||void 0===i?void 0:i._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(i=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==i?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,n,e){if(this._deleted)return()=>{};const r="function"==typeof i?i:i.next.bind(i);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ri(o,this,"internal-error"),o.then(()=>{s||r(this.currentUser)}),"function"==typeof i){const r=t.addObserver(i,n,e);return()=>{s=!0,r()}}{const n=t.addObserver(i);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ri(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Tn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(i["X-Firebase-Client"]=n);const e=await this._getAppCheckToken();return e&&(i["X-Firebase-AppCheck"]=e),i}async _getAppCheckToken(){var t;const i=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null==i?void 0:i.error)&&function(t,...i){Ei.logLevel<=Ot.WARN&&Ei.warn("Auth (10.12.4): "+t,...i)}("Error while retrieving App Check token: "+i.error),null==i?void 0:i.token}}function Nn(t){return It(t)}class Ln{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,i){const n=new St(t,i);return n.subscribe.bind(n)}(t=>this.observer=t)}get next(){return Ri(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jn(t,i,n){const e=Nn(t);Ri(e._canInitEmulator,e,"emulator-config-failed"),Ri(/^https?:\/\//.test(i),e,"invalid-emulator-scheme");const r=!!(null==n?void 0:n.disableWarnings),s=Un(i),{host:o,port:h}=function(t){const i=Un(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(i.length));if(!n)return{host:"",port:null};const e=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(e);if(r){const t=r[1];return{host:t,port:Pn(e.substr(t.length+1))}}{const[t,i]=e.split(":");return{host:t,port:Pn(i)}}}(i),u=null===h?"":":"+h;e.config.emulator={url:`${s}//${o}${u}/`},e.settings.appVerificationDisabledForTesting=!0,e.emulatorConfig=Object.freeze({host:o,port:h,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function t(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Un(t){const i=t.indexOf(":");return i<0?"":t.substr(0,i+1)}function Pn(t){if(!t)return null;const i=Number(t);return isNaN(i)?null:i}class Fn{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ji("not implemented")}_getIdTokenResponse(t){return ji("not implemented")}_linkToIdToken(t,i){return ji("not implemented")}_getReauthenticationResolver(t){return ji("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zn(t,i){return async function(t,i,n,e,r={}){const s=await Gi(t,i,n,e,r);return"mfaPendingCredential"in s&&Ci(t,"multi-factor-auth-required",{_serverResponse:s}),s}(t,"POST","/v1/accounts:signInWithIdp",Ki(t,i))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Fn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Bn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ci("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:e}=i,r=ki(i,["providerId","signInMethod"]);if(!n||!e)return null;const s=new Bn(n,e);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){return zn(t,this.buildRequest())}_linkToIdToken(t,i){const n=this.buildRequest();return n.idToken=i,zn(t,n)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,zn(t,i)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=kt(i)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends Vn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends $n{constructor(){super("github.com")}static credential(t){return Bn._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hn.credentialFromTaggedObject(t)}static credentialFromError(t){return Hn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hn.credential(t.oauthAccessToken)}catch(t){return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com",Hn.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,n,e=!1){const r=await fn._fromIdTokenResponse(t,n,e),s=Kn(n);return new Wn({user:r,providerId:s,_tokenResponse:n,operationType:i})}static async _forOperation(t,i,n){await t._updateTokensIfNecessary(n,!0);const e=Kn(n);return new Wn({user:t,providerId:e,_tokenResponse:n,operationType:i})}}function Kn(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends bt{constructor(t,i,n,e){var r;super(i.code,i.message),this.operationType=n,this.user=e,Object.setPrototypeOf(this,Gn.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,i,n,e){return new Gn(t,i,n,e)}}function Zn(t,i,n,e){return("reauthenticate"===i?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Gn._fromErrorAndOperation(t,n,i,e);throw n})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Yn{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends Yn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=gt();return yn(t)||Mn(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=En(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const n=this.storage.getItem(i),e=this.localCache[i];n!==e&&t(i,e,n)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((t,i,n)=>{this.notifyListeners(t,n)});const n=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const e=this.storage.getItem(n);if(t.newValue!==e)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!i)return}const e=()=>{const t=this.storage.getItem(n);(i||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);In()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(e,10):e()}notifyListeners(t,i){this.localCache[t]=i;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(i?JSON.parse(i):i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}qn.type="LOCAL";const Qn=qn;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends Yn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Jn.type="SESSION";const Xn=Jn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class te{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(i=>i.isListeningto(t));if(i)return i;const n=new te(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:n,eventType:e,data:r}=i.data,s=this.handlersMap[e];if(!(null==s?void 0:s.size))return;i.ports[0].postMessage({status:"ack",eventId:n,eventType:e});const o=Array.from(s).map(async t=>t(i.origin,r)),h=await function(t){return Promise.all(t.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);i.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:h})}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),i&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ie(t="",i=10){let n="";for(let t=0;t<i;t++)n+=Math.floor(10*Math.random());return t+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */te.receivers=[];class ne{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,n=50){const e="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!e)throw new Error("connection_unavailable");let r,s;return new Promise((o,h)=>{const u=ie("",20);e.port1.start();const a=setTimeout(()=>{h(new Error("unsupported_event"))},n);s={messageChannel:e,onMessage(t){const i=t;if(i.data.eventId===u)switch(i.data.status){case"ack":clearTimeout(a),r=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(i.data.response);break;default:clearTimeout(a),clearTimeout(r),h(new Error("invalid_response"))}}},this.handlers.add(s),e.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:i},[e.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function re(){return void 0!==ee().WorkerGlobalScope&&"function"==typeof ee().importScripts}class se{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function oe(t,i){return t.transaction(["firebaseLocalStorage"],i?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function he(){const t=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((i,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains("firebaseLocalStorage")?i(n):(n.close(),await function(){const t=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new se(t).toPromise()}(),i(await he()))})})}async function ue(t,i,n){const e=oe(t,!0).put({fbase_key:i,value:n});return new se(e).toPromise()}function ae(t,i){const n=oe(t,!0).delete(i);return new se(n).toPromise()}class ce{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await he()),this.db}async _withRetries(t){let i=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(t){if(i++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return re()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=te._getInstance(re()?self:null),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new ne(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(i=n[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await he();return await ue(t,"__sak","1"),await ae(t,"__sak"),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(n=>ue(n,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(i=>async function(t,i){const n=oe(t,!1).get(i),e=await new se(n).toPromise();return void 0===e?null:e.value}(i,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ae(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(t=>{const i=oe(t,!1).getAll();return new se(i).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const i=[],n=new Set;if(0!==t.length)for(const{fbase_key:e,value:r}of t)n.add(e),JSON.stringify(this.localCache[e])!==JSON.stringify(r)&&(this.notifyListeners(e,r),i.push(e));for(const t of Object.keys(this.localCache))this.localCache[t]&&!n.has(t)&&(this.notifyListeners(t,null),i.push(t));return i}notifyListeners(t,i){this.localCache[t]=i;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ce.type="LOCAL";const fe=ce;new Bi(3e4,6e4);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function le(t,i){return i?dn(i):(Ri(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de extends Fn{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zn(t,this._buildIdpRequest())}_linkToIdToken(t,i){return zn(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return zn(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function ve(t){
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return async function(t,i,n=!1){if(ai(t.app))return Promise.reject(Ni(t));const e=await Zn(t,"signIn",i),r=await Wn._fromIdTokenResponse(t,"signIn",e);return n||await t._updateCurrentUser(r.user),r}(t.auth,new de(t),t.bypassAuthState)}function pe(t){const{auth:i,user:n}=t;return Ri(n,i,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(t,i,n=!1){const{auth:e}=t;if(ai(e.app))return Promise.reject(Ni(e));try{const r=await rn(t,Zn(e,"reauthenticate",i,t),n);Ri(r.idToken,e,"internal-error");const s=nn(r.idToken);Ri(s,e,"internal-error");const{sub:o}=s;return Ri(t.uid===o,e,"user-mismatch"),Wn._forOperation(t,"reauthenticate",r)}catch(t){throw"auth/user-not-found"===(null==t?void 0:t.code)&&Ci(e,"user-mismatch"),t}}(n,new de(t),t.bypassAuthState)}async function me(t){const{auth:i,user:n}=t;return Ri(n,i,"internal-error"),async function(t,i,n=!1){const e=await rn(t,i._linkToIdToken(t.auth,await t.getIdToken()),n);return Wn._forOperation(t,"link",e)}(n,new de(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t,i,n,e,r=!1){this.auth=t,this.resolver=n,this.user=e,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:n,postBody:e,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const h={auth:this.auth,requestUri:i,sessionId:n,tenantId:r||void 0,postBody:e||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(h))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ve;case"linkViaPopup":case"linkViaRedirect":return me;case"reauthViaPopup":case"reauthViaRedirect":return pe;default:Ci(this.auth,"internal-error")}}resolve(t){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=new Bi(2e3,1e4);async function be(t,i,n){if(ai(t.app))return Promise.reject(Oi(t,"operation-not-supported-in-this-environment"));const e=Nn(t);!function(t,i,n){if(!(i instanceof n))throw n.name!==i.constructor.name&&Ci(t,"argument-error"),Di(t,"argument-error",`Type of ${i.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(t,i,Vn);const r=le(e,n);return new ye(e,"signInViaPopup",i,r).executeNotNull()}class ye extends we{constructor(t,i,n,e,r){super(t,i,e,r),this.provider=n,this.authWindow=null,this.pollId=null,ye.currentPopupAction&&ye.currentPopupAction.cancel(),ye.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ri(t,this.auth,"internal-error"),t}async onExecution(){Ui(1===this.filter.length,"Popup operations only handle one event");const t=ie();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ye.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,n;(null===(n=null===(i=this.authWindow)||void 0===i?void 0:i.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(t,ge.get())};t()}}ye.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ae=new Map;class xe extends we{constructor(t,i,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}async execute(){let t=Ae.get(this.auth._key());if(!t){try{const i=await async function(t,i){const n=function(t){return mn("pendingRedirect",t.config.apiKey,t.name)}(i),e=function(t){return dn(t._redirectPersistence)}(t);if(!await e._isAvailable())return!1;const r="true"===await e._get(n);return await e._remove(n),r}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(i){t=()=>Promise.reject(i)}Ae.set(this.auth._key(),t)}return this.bypassAuthState||Ae.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function _e(t,i){Ae.set(t._key(),i)}async function ke(t,i,n=!1){if(ai(t.app))return Promise.reject(Ni(t));const e=Nn(t),r=le(e,i),s=new xe(e,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await e._persistUserIfCurrent(o.user),await e._setRedirectUser(null,i)),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(i=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ie(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var n;if(t.error&&!Ie(t)){const e=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";i.onError(Oi(this.auth,e))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const n=null===i.eventId||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Me(t))}saveEventToCache(t){this.cachedEventUids.add(Me(t)),this.lastProcessedEventTime=Date.now()}}function Me(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Ie({type:t,error:i}){return"unknown"===t&&"auth/no-auth-event"===(null==i?void 0:i.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Te=/^https?/;async function Ce(t){if(t.config.emulator)return;const{authorizedDomains:i}=await async function(t,i={}){return Gi(t,"GET","/v1/projects",i)}(t);for(const t of i)try{if(Oe(t))return}catch(t){}Ci(t,"unauthorized-domain")}function Oe(t){const i=Pi(),{protocol:n,hostname:e}=new URL(i);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===e?"chrome-extension:"===n&&t.replace("chrome-extension://","")===i.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===e}if(!Te.test(n))return!1;if(Ee.test(t))return e===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(e)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=new Bi(3e4,6e4);function Ne(){const t=ee().U;if(null==t?void 0:t.H)for(const i of Object.keys(t.H))if(t.H[i].r=t.H[i].r||[],t.H[i].L=t.H[i].L||[],t.H[i].r=[...t.H[i].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}function Le(t){return new Promise((i,n)=>{var e,r,s,o;function h(){Ne(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{Ne(),n(Oi(t,"network-request-failed"))},timeout:De.get()})}if(null===(r=null===(e=ee().gapi)||void 0===e?void 0:e.iframes)||void 0===r?void 0:r.Iframe)i(gapi.iframes.getContext());else{if(!(null===(s=ee().gapi)||void 0===s?void 0:s.load)){const i=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return ee()[i]=()=>{gapi.load?h():n(Oi(t,"network-request-failed"))},(o=`${Rn.gapiScript}?onload=${i}`,Rn.loadJS(o)).catch(t=>n(t))}h()}}).catch(t=>{throw Re=null,t})}let Re=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const je=new Bi(5e3,15e3),Ue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fe(t){const i=t.config;Ri(i.authDomain,t,"auth-domain-config-required");const n=i.emulator?Vi(i,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,e={apiKey:i.apiKey,appName:t.name,v:"10.12.4"},r=Pe.get(t.config.apiHost);r&&(e.eid=r);const s=t._getFrameworks();return s.length&&(e.fw=s.join(",")),`${n}?${kt(e).slice(1)}`}async function ze(t){const i=await function(t){return Re=Re||Le(t),Re}(t),n=ee().gapi;return Ri(n,t,"internal-error"),i.open({where:document.body,url:Fe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ue,dontclear:!0},i=>new Promise(async(n,e)=>{await i.restyle({setHideOnLeave:!1});const r=Oi(t,"network-request-failed"),s=ee().setTimeout(()=>{e(r)},je.get());function o(){ee().clearTimeout(s),n(i)}i.ping(o).then(o,()=>{e(r)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ve{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function $e(t,i,n,e=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-e)/2,0).toString();let h="";const u=Object.assign(Object.assign({},Be),{width:e.toString(),height:r.toString(),top:s,left:o}),a=gt().toLowerCase();n&&(h=An(a)?"_blank":n),bn(a)&&(i=i||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce((t,[i,n])=>`${t}${i}=${n},`,"");if(function(t=gt()){var i;return Mn(t)&&!!(null===(i=window.navigator)||void 0===i?void 0:i.standalone)}(a)&&"_self"!==h)return function(t,i){const n=document.createElement("a");n.href=t,n.target=i;const e=document.createEvent("MouseEvent");e.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i||"",h),new Ve(null);const f=window.open(i||"",h,c);Ri(f,t,"popup-blocked");try{f.focus()}catch(t){}return new Ve(f)}const He=encodeURIComponent("fac");async function We(t,i,n,e,r,s){Ri(t.config.authDomain,t,"auth-domain-config-required"),Ri(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:e,v:"10.12.4",eventId:r};if(i instanceof Vn){i.setDefaultLanguage(t.languageCode),o.providerId=i.providerId||"",function(t){for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}(i.getCustomParameters())||(o.customParameters=JSON.stringify(i.getCustomParameters()));for(const[t,i]of Object.entries(s||{}))o[t]=i}if(i instanceof $n){const t=i.getScopes().filter(t=>""!==t);t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const h=o;for(const t of Object.keys(h))void 0===h[t]&&delete h[t];const u=await t._getAppCheckToken(),a=u?`#${He}=${encodeURIComponent(u)}`:"";return`${function({config:t}){if(!t.emulator)return`https://${t.authDomain}/__/auth/handler`;return Vi(t,"emulator/auth/handler")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)}?${kt(h).slice(1)}${a}`}const Ke=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xn,this._completeRedirectFn=ke,this._overrideRedirectResult=_e}async _openPopup(t,i,n,e){var r;Ui(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return $e(t,await We(t,i,n,Pi(),e),ie())}async _openRedirect(t,i,n,e){await this._originValidation(t);return function(t){ee().location.href=t}(await We(t,i,n,Pi(),e)),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:t,promise:n}=this.eventManagers[i];return t?Promise.resolve(t):(Ui(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}async initAndGetManager(t){const i=await ze(t),n=new Se(t);return i.register("authEvent",i=>{Ri(null==i?void 0:i.authEvent,t,"invalid-auth-event");return{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=i,n}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var e;const r=null===(e=null==n?void 0:n[0])||void 0===e?void 0:e.webStorageSupport;void 0!==r&&i(!!r),Ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ce(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return En()||yn()||Mn()}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ge{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(i=>{t((null==i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ri(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ze=mt("authIdTokenMaxAge")||300;let Ye=null;function qe(t=function(t="[DEFAULT]"){const i=ei.get(t);if(!i&&"[DEFAULT]"===t&&pt())return li();if(!i)throw ci.create("no-app",{appName:t});return i}()){const i=ui(t,"auth");if(i.isInitialized())return i.getImmediate();const n=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,i){const n=ui(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(xt(n.getOptions(),null!=i?i:{}))return t;Ci(t,"already-initialized")}return n.initialize({options:i})}(t,{popupRedirectResolver:Ke,persistence:[fe,Qn,Xn]}),e=mt("authTokenSyncURL");if(e&&"boolean"==typeof isSecureContext&&isSecureContext){const t=new URL(e,location.origin);if(location.origin===t.origin){const i=(r=t.toString(),async t=>{const i=t&&await t.getIdTokenResult(),n=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>Ze)return;const e=null==i?void 0:i.token;Ye!==e&&(Ye=e,await fetch(r,{method:e?"POST":"DELETE",headers:e?{Authorization:"Bearer "+e}:{}}))});!function(t,i,n){It(t).beforeAuthStateChanged(i,n)}(n,i,()=>i(n.currentUser)),function(t,i,n,e){It(t).onIdTokenChanged(i,n,e)}(n,t=>i(t))}}var r;const s=(t=>{var i,n;return null===(n=null===(i=vt())||void 0===i?void 0:i.emulatorHosts)||void 0===n?void 0:n[t]})("auth");return s&&jn(n,"http://"+s),n}var Qe;
//! @version @js-joda/core - 3.2.0
//! @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
function Je(t,i,n){function e(t){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,i&&i.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return void 0===n&&(n=Error),e.prototype=Object.create(n.prototype),e.prototype.name=t,e.prototype.constructor=e,e}Rn={loadJS:t=>new Promise((i,n)=>{const e=document.createElement("script");e.setAttribute("src",t),e.onload=i,e.onerror=t=>{const i=Oi("internal-error");i.customData=t,n(i)},e.type="text/javascript",e.charset="UTF-8",function(){var t,i;return null!==(i=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==i?i:document}().appendChild(e)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Qe="Browser",hi(new Et("auth",(t,{options:i})=>{const n=t.getProvider("app").getImmediate(),e=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Ri(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:s,authDomain:o,clientPlatform:Qe,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tn(Qe)},u=new Dn(n,e,r,h);return function(t,i){const n=(null==i?void 0:i.persistence)||[],e=(Array.isArray(n)?n:[n]).map(dn);(null==i?void 0:i.errorMap)&&t._updateErrorMap(i.errorMap),t._initializeWithPersistence(e,null==i?void 0:i.popupRedirectResolver)}(u,i),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,n)=>{t.getProvider("auth-internal").initialize()})),hi(new Et("auth-internal",t=>(t=>new Ge(t))(Nn(t.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),di("@firebase/auth","1.7.5",function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Qe)),di("@firebase/auth","1.7.5","esm2017"),function(){var t=function(){return this}();t||"undefined"==typeof window||(t=window);var i=function(t,n,e){"string"==typeof t?(2==arguments.length&&(e=n),i.modules[t]||(i.payloads[t]=e,i.modules[t]=null)):i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};i.modules={},i.payloads={};var n,e,r=function(t,i,n){if("string"==typeof i){var e=h(t,i);if(null!=e)return n&&n(),e}else if("[object Array]"===Object.prototype.toString.call(i)){for(var r=[],o=0,u=i.length;o<u;++o){var a=h(t,i[o]);if(null==a&&s.original)return;r.push(a)}return n&&n.apply(null,r)||!0}},s=function(t,i){var n=r("",t,i);return null==n&&s.original?s.original.apply(this,arguments):n},o=function(t,i){if(-1!==i.indexOf("!")){var n=i.split("!");return o(t,n[0])+"!"+o(t,n[1])}if("."==i.charAt(0))for(i=t.split("/").slice(0,-1).join("/")+"/"+i;-1!==i.indexOf(".")&&e!=i;){var e=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return i},h=function(t,n){n=o(t,n);var e=i.modules[n];if(!e){if("function"==typeof(e=i.payloads[n])){var s={},h={id:n,uri:"",exports:s,packaged:!0};s=e((function(t,i){return r(n,t,i)}),s,h)||h.exports,i.modules[n]=s,delete i.payloads[n]}e=i.modules[n]=s||e}return e};e=t,(n="ace")&&(t[n]||(t[n]={}),e=t[n]),e.define&&e.define.packaged||(i.original=e.define,e.define=i,e.define.packaged=!0),e.require&&e.require.packaged||(s.original=e.require,e.require=s,e.require.packaged=!0)}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(t,i,n){function e(t,i,n){Object.defineProperty(t,i,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||e(String.prototype,"startsWith",(function(t,i){return i=i||0,this.lastIndexOf(t,i)===i})),String.prototype.endsWith||e(String.prototype,"endsWith",(function(t,i){(void 0===i||i>this.length)&&(i=this.length),i-=t.length;var n=this.indexOf(t,i);return-1!==n&&n===i})),String.prototype.repeat||e(String.prototype,"repeat",(function(t){for(var i="",n=this;t>0;)1&t&&(i+=n),(t>>=1)&&(n+=n);return i})),String.prototype.includes||e(String.prototype,"includes",(function(t,i){return-1!=this.indexOf(t,i)})),Object.assign||(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var e=arguments[n];null!=e&&Object.keys(e).forEach((function(t){i[t]=e[t]}))}return i}),Object.values||(Object.values=function(t){return Object.keys(t).map((function(i){return t[i]}))}),Array.prototype.find||e(Array.prototype,"find",(function(t){for(var i=this.length,n=arguments[1],e=0;e<i;e++){var r=this[e];if(t.call(n,r,e,this))return r}})),Array.prototype.findIndex||e(Array.prototype,"findIndex",(function(t){for(var i=this.length,n=arguments[1],e=0;e<i;e++){var r=this[e];if(t.call(n,r,e,this))return e}})),Array.prototype.includes||e(Array.prototype,"includes",(function(t,i){return-1!=this.indexOf(t,i)})),Array.prototype.fill||e(Array.prototype,"fill",(function(t){for(var i=this,n=i.length>>>0,e=arguments[1],r=e>>0,s=r<0?Math.max(n+r,0):Math.min(r,n),o=arguments[2],h=void 0===o?n:o>>0,u=h<0?Math.max(n+h,0):Math.min(h,n);s<u;)i[s]=t,s++;return i})),Array.of||e(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(t,i,n){t("./es6-shim")})),ace.define("ace/lib/deep_copy",["require","exports","module"],(function(t,i,n){i.deepCopy=function t(i){if("object"!=typeof i||!i)return i;var n;if(Array.isArray(i)){n=[];for(var e=0;e<i.length;e++)n[e]=t(i[e]);return n}if("[object Object]"!==Object.prototype.toString.call(i))return i;for(var e in n={},i)n[e]=t(i[e]);return n}})),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],(function(t,i,n){i.last=function(t){return t[t.length-1]},i.stringReverse=function(t){return t.split("").reverse().join("")},i.stringRepeat=function(t,i){for(var n="";i>0;)1&i&&(n+=t),(i>>=1)&&(t+=t);return n};var e=/^\s\s*/,r=/\s\s*$/;i.stringTrimLeft=function(t){return t.replace(e,"")},i.stringTrimRight=function(t){return t.replace(r,"")},i.copyObject=function(t){var i={};for(var n in t)i[n]=t[n];return i},i.copyArray=function(t){for(var i=[],n=0,e=t.length;n<e;n++)t[n]&&"object"==typeof t[n]?i[n]=this.copyObject(t[n]):i[n]=t[n];return i},i.deepCopy=t("./deep_copy").deepCopy,i.arrayToMap=function(t){for(var i={},n=0;n<t.length;n++)i[t[n]]=1;return i},i.createMap=function(t){var i=Object.create(null);for(var n in t)i[n]=t[n];return i},i.arrayRemove=function(t,i){for(var n=0;n<=t.length;n++)i===t[n]&&t.splice(n,1)},i.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},i.escapeHTML=function(t){return(""+t).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},i.getMatchOffsets=function(t,i){var n=[];return t.replace(i,(function(t){n.push({offset:arguments[arguments.length-2],length:t.length})})),n},i.deferredCall=function(t){var i=null,n=function(){i=null,t()},e=function(t){return e.cancel(),i=setTimeout(n,t||0),e};return e.schedule=e,e.call=function(){return this.cancel(),t(),e},e.cancel=function(){return clearTimeout(i),i=null,e},e.isPending=function(){return i},e},i.delayedCall=function(t,i){var n=null,e=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(e,t||i))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(e,t||i)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r},i.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(t){return!1}return!0},i.skipEmptyMatch=function(t,i,n){return n&&t.codePointAt(i)>65535?2:1}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(t,i,n){i.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},i.getOS=function(){return i.isMac?i.OS.MAC:i.isLinux?i.OS.LINUX:i.OS.WINDOWS};var e="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(e.platform)||["other"])[0].toLowerCase(),s=e.userAgent||"",o=e.appName||"";i.isWin="win"==r,i.isMac="mac"==r,i.isLinux="linux"==r,i.isIE="Microsoft Internet Explorer"==o||o.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),i.isOldIE=i.isIE&&i.isIE<9,i.isGecko=i.isMozilla=s.match(/ Gecko\/\d+/),i.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),i.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,i.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,i.isSafari=parseFloat(s.split(" Safari/")[1])&&!i.isChrome||void 0,i.isEdge=parseFloat(s.split(" Edge/")[1])||void 0,i.isAIR=s.indexOf("AdobeAIR")>=0,i.isAndroid=s.indexOf("Android")>=0,i.isChromeOS=s.indexOf(" CrOS ")>=0,i.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,i.isIOS&&(i.isMac=!0),i.isMobile=i.isIOS||i.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(t,i,n){var e,r=t("./useragent");i.buildDom=function t(i,n,e){if("string"==typeof i&&i){var r=document.createTextNode(i);return n&&n.appendChild(r),r}if(!Array.isArray(i))return i&&i.appendChild&&n&&n.appendChild(i),i;if("string"!=typeof i[0]||!i[0]){for(var s=[],o=0;o<i.length;o++){var h=t(i[o],n,e);h&&s.push(h)}return s}var u=document.createElement(i[0]),a=i[1],c=1;a&&"object"==typeof a&&!Array.isArray(a)&&(c=2);for(o=c;o<i.length;o++)t(i[o],u,e);return 2==c&&Object.keys(a).forEach((function(t){var i=a[t];"class"===t?u.className=Array.isArray(i)?i.join(" "):i:"function"==typeof i||"value"==t||"$"==t[0]?u[t]=i:"ref"===t?e&&(e[i]=u):"style"===t?"string"==typeof i&&(u.style.cssText=i):null!=i&&u.setAttribute(t,i)})),n&&n.appendChild(u),u},i.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},i.createElement=function(t,i){return document.createElementNS?document.createElementNS(i||"http://www.w3.org/1999/xhtml",t):document.createElement(t)},i.removeChildren=function(t){t.innerHTML=""},i.createTextNode=function(t,i){return(i?i.ownerDocument:document).createTextNode(t)},i.createFragment=function(t){return(t?t.ownerDocument:document).createDocumentFragment()},i.hasCssClass=function(t,i){return-1!==(t.className+"").split(/\s+/g).indexOf(i)},i.addCssClass=function(t,n){i.hasCssClass(t,n)||(t.className+=" "+n)},i.removeCssClass=function(t,i){for(var n=t.className.split(/\s+/g);;){var e=n.indexOf(i);if(-1==e)break;n.splice(e,1)}t.className=n.join(" ")},i.toggleCssClass=function(t,i){for(var n=t.className.split(/\s+/g),e=!0;;){var r=n.indexOf(i);if(-1==r)break;e=!1,n.splice(r,1)}return e&&n.push(i),t.className=n.join(" "),e},i.setCssClass=function(t,n,e){e?i.addCssClass(t,n):i.removeCssClass(t,n)},i.hasCssString=function(t,i){var n,e=0;if(n=(i=i||document).querySelectorAll("style"))for(;e<n.length;)if(n[e++].id===t)return!0},i.removeElementById=function(t,i){(i=i||document).getElementById(t)&&i.getElementById(t).remove()};var s=[];function o(){var t=s;s=null,t&&t.forEach((function(t){h(t[0],t[1])}))}function h(t,n,r){if("undefined"!=typeof document){if(s)if(r)o();else if(!1===r)return s.push([t,n]);if(!e){var h=r;r&&r.getRootNode&&(h=r.getRootNode())&&h!=r||(h=document);var u=h.ownerDocument||h;if(n&&i.hasCssString(n,h))return null;n&&(t+="\n/*# sourceURL=ace/css/"+n+" */");var a=i.createElement("style");a.appendChild(u.createTextNode(t)),n&&(a.id=n),h==u&&(h=i.getDocumentHead(u)),h.insertBefore(a,h.firstChild)}}}if(i.useStrictCSP=function(t){e=t,0==t?o():s||(s=[])},i.importCssString=h,i.importCssStylsheet=function(t,n){i.buildDom(["link",{rel:"stylesheet",href:t}],i.getDocumentHead(n))},i.scrollbarWidth=function(t){var n=i.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var e=i.createElement("ace_outer"),r=e.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",e.appendChild(n);var s=t&&t.documentElement||document&&document.documentElement;if(!s)return 0;s.appendChild(e);var o=n.offsetWidth;r.overflow="scroll";var h=n.offsetWidth;return o===h&&(h=e.clientWidth),s.removeChild(e),o-h},i.computedStyle=function(t,i){return window.getComputedStyle(t,"")||{}},i.setStyle=function(t,i,n){t[i]!==n&&(t[i]=n)},i.HAS_CSS_ANIMATION=!1,i.HAS_CSS_TRANSFORMS=!1,i.HI_DPI=!r.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,r.isChromeOS&&(i.HI_DPI=!1),"undefined"!=typeof document){var u=document.createElement("div");i.HI_DPI&&void 0!==u.style.transform&&(i.HAS_CSS_TRANSFORMS=!0),r.isEdge||void 0===u.style.animationName||(i.HAS_CSS_ANIMATION=!0),u=null}i.HAS_CSS_TRANSFORMS?i.translate=function(t,i,n){t.style.transform="translate("+Math.round(i)+"px, "+Math.round(n)+"px)"}:i.translate=function(t,i,n){t.style.top=Math.round(n)+"px",t.style.left=Math.round(i)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(t,i,n){
/*
 * based on code from:
 *
 * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
var e=t("./dom");i.get=function(t,i){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&i(n.responseText)},n.send(null)},i.loadScript=function(t,i){var n=e.getDocumentHead(),r=document.createElement("script");r.src=t,n.appendChild(r),r.onload=r.onreadystatechange=function(t,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||i())}},i.qualifyURL=function(t){var i=document.createElement("a");return i.href=t,i.href}})),ace.define("ace/lib/oop",["require","exports","module"],(function(t,i,n){i.inherits=function(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(t,i){for(var n in i)t[n]=i[n];return t},i.implement=function(t,n){i.mixin(t,n)}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(t,i,n){var e={},r=function(){this.propagationStopped=!0},s=function(){this.defaultPrevented=!0};e._emit=e._dispatchEvent=function(t,i){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],e=this._defaultHandlers[t];if(n.length||e){"object"==typeof i&&i||(i={}),i.type||(i.type=t),i.stopPropagation||(i.stopPropagation=r),i.preventDefault||(i.preventDefault=s),n=n.slice();for(var o=0;o<n.length&&(n[o](i,this),!i.propagationStopped);o++);return e&&!i.defaultPrevented?e(i,this):void 0}},e._signal=function(t,i){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var e=0;e<n.length;e++)n[e](i,this)}},e.once=function(t,i){var n=this;if(this.on(t,(function e(){n.off(t,e),i.apply(null,arguments)})),!i)return new Promise((function(t){i=t}))},e.setDefaultHandler=function(t,i){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var e=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(e);var s=r.indexOf(i);-1!=s&&r.splice(s,1)}n[t]=i},e.removeDefaultHandler=function(t,i){var n=this._defaultHandlers;if(n){var e=n._disabled_[t];if(n[t]==i)e&&this.setDefaultHandler(t,e.pop());else if(e){var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}},e.on=e.addEventListener=function(t,i,n){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[t];return e||(e=this._eventRegistry[t]=[]),-1==e.indexOf(i)&&e[n?"unshift":"push"](i),i},e.off=e.removeListener=e.removeEventListener=function(t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var e=n.indexOf(i);-1!==e&&n.splice(e,1)}},e.removeAllListeners=function(t){t||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[t]=void 0),this._defaultHandlers&&(this._defaultHandlers[t]=void 0)},i.EventEmitter=e})),ace.define("ace/lib/report_error",["require","exports","module"],(function(t,i,n){i.reportError=function(t,i){var n=new Error(t);n.data=i,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}})),ace.define("ace/lib/default_english_messages",["require","exports","module"],(function(t,i,n){i.defaultEnglishMessages={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"}})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],(function(t,i,n){var e,r,s=t("./oop"),o=t("./event_emitter").EventEmitter,h=t("./report_error").reportError,u=t("./default_english_messages").defaultEnglishMessages,a={setOptions:function(t){Object.keys(t).forEach((function(i){this.setOption(i,t[i])}),this)},getOptions:function(t){var i={};if(t)Array.isArray(t)||(i=t,t=Object.keys(i));else{var n=this.$options;t=Object.keys(n).filter((function(t){return!n[t].hidden}))}return t.forEach((function(t){i[t]=this.getOption(t)}),this),i},setOption:function(t,i){if(this["$"+t]!==i){var n=this.$options[t];if(!n)return c('misspelled option "'+t+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(t,i);n.handlesSet||(this["$"+t]=i),n&&n.set&&n.set.call(this,i)}},getOption:function(t){var i=this.$options[t];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].getOption(t):i&&i.get?i.get.call(this):this["$"+t]:c('misspelled option "'+t+'"')}};function c(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var f=function(){function t(){this.$defaultOptions={},e=u,r="dollarSigns"}return t.prototype.defineOptions=function(t,i,n){return t.$options||(this.$defaultOptions[i]=t.$options={}),Object.keys(n).forEach((function(i){var e=n[i];"string"==typeof e&&(e={forwardTo:e}),e.name||(e.name=i),t.$options[e.name]=e,"initialValue"in e&&(t["$"+e.name]=e.initialValue)})),s.implement(t,a),this},t.prototype.resetOptions=function(t){Object.keys(t.$options).forEach((function(i){var n=t.$options[i];"value"in n&&t.setOption(i,n.value)}))},t.prototype.setDefaultValue=function(t,i,n){if(!t){for(t in this.$defaultOptions)if(this.$defaultOptions[t][i])break;if(!this.$defaultOptions[t][i])return!1}var e=this.$defaultOptions[t]||(this.$defaultOptions[t]={});e[i]&&(e.forwardTo?this.setDefaultValue(e.forwardTo,i,n):e[i].value=n)},t.prototype.setDefaultValues=function(t,i){Object.keys(i).forEach((function(n){this.setDefaultValue(t,n,i[n])}),this)},t.prototype.setMessages=function(t,i){e=t,i&&i.placeholders&&(r=i.placeholders)},t.prototype.nls=function(t,i,n){e[t]||(c("No message found for the key '"+t+"' in the provided messages, trying to find a translation for the default string '"+i+"'."),e[i]||c("No message found for the default string '"+i+"' in the provided messages. Falling back to the default English message."));var s=e[t]||e[i]||i;return n&&("dollarSigns"===r&&(s=s.replace(/\$(\$|[\d]+)/g,(function(t,i){return"$"==i?"$":n[i]}))),"curlyBrackets"===r&&(s=s.replace(/\{([^\}]+)\}/g,(function(t,i){return n[i]})))),s},t}();f.prototype.warn=c,f.prototype.reportError=h,s.implement(f.prototype,o),i.AppConfig=f})),ace.define("ace/theme/textmate-css",["require","exports","module"],(function(t,i,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(t,i,n){i.isDark=!1,i.cssClass="ace-tm",i.cssText=t("./textmate-css"),i.$id="ace/theme/textmate",t("../lib/dom").importCssString(i.cssText,i.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(t,i,n){var e=t("./lib/lang"),r=t("./lib/net"),s=t("./lib/dom"),o=t("./lib/app_config").AppConfig;n.exports=i=new o;var h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};i.get=function(t){if(!h.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return h[t]},i.set=function(t,i){if(h.hasOwnProperty(t))h[t]=i;else if(0==this.setDefaultValue("",t,i))throw new Error("Unknown config key: "+t);"useStrictCSP"==t&&s.useStrictCSP(i)},i.all=function(){return e.copyObject(h)},i.$modes={},i.moduleUrl=function(t,i){if(h.$moduleUrls[t])return h.$moduleUrls[t];var n=t.split("/"),e="snippets"==(i=i||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==i&&"-"==e){var s=new RegExp("^"+i+"[\\-_]|[\\-_]"+i+"$","g");r=r.replace(s,"")}(!r||r==i)&&n.length>1&&(r=n[n.length-2]);var o=h[i+"Path"];return null==o?o=h.basePath:"/"==e&&(i=e=""),o&&"/"!=o.slice(-1)&&(o+="/"),o+i+e+r+this.get("suffix")},i.setModuleUrl=function(t,i){return h.$moduleUrls[t]=i};var u;i.setLoader=function(t){u=t},i.dynamicModules=Object.create(null),i.$loading={},i.$loaded={},i.loadModule=function(n,e){var s;if(Array.isArray(n))var o=n[0],h=n[1];else if("string"==typeof n)h=n;var c=function(n){if(n&&!i.$loading[h])return e&&e(n);if(i.$loading[h]||(i.$loading[h]=[]),i.$loading[h].push(e),!(i.$loading[h].length>1)){var s=function(){!function(i,n){"ace/theme/textmate"===i||"./theme/textmate"===i?n(null,t("./theme/textmate")):u?u(i,n):console.error("loader is not configured")}(h,(function(t,n){n&&(i.$loaded[h]=n),i._emit("load.module",{name:h,module:n});var e=i.$loading[h];i.$loading[h]=null,e.forEach((function(t){t&&t(n)}))}))};if(!i.get("packaged"))return s();r.loadScript(i.moduleUrl(h,o),s),a()}};if(i.dynamicModules[h])i.dynamicModules[h]().then((function(t){t.default?c(t.default):c(t)}));else{try{s=this.$require(h)}catch(t){}c(s||i.$loaded[h])}},i.$require=function(t){if("function"==typeof n.require){return n.require(t)}},i.setModuleLoader=function(t,n){i.dynamicModules[t]=n};var a=function(){h.basePath||h.workerPath||h.modePath||h.themePath||Object.keys(h.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),a=function(){})};i.version="1.35.3"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(t,i,n){t("./lib/fixoldbrowsers");var e=t("./config");e.setLoader((function(i,n){t([i],(function(t){n(null,t)}))}));var r=function(){return this||"undefined"!=typeof window&&window}();function s(i){if(r&&r.document){e.set("packaged",i||t.packaged||n.packaged||r.define&&define.packaged);var s={},o="",h=document.currentScript||document._currentScript,u=h&&h.ownerDocument||document;h&&h.src&&(o=h.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var a,c=u.getElementsByTagName("script"),f=0;f<c.length;f++){var l=c[f],d=l.src||l.getAttribute("src");if(d){for(var v=l.attributes,p=0,m=v.length;p<m;p++){var w=v[p];0===w.name.indexOf("data-ace-")&&(s[(a=w.name.replace(/^data-ace-/,""),a.replace(/-(.)/g,(function(t,i){return i.toUpperCase()})))]=w.value)}var g=d.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);g&&(o=g[1])}}for(var b in o&&(s.base=s.base||o,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[b]&&e.set(b,s[b])}}n.exports=function(i){e.init=s,e.$require=t,i.require=t,"function"==typeof define&&(i.define=define)},s(!0)})),ace.define("ace/range",["require","exports","module"],(function(t,i,n){var e=function(){function t(t,i,n,e){this.start={row:t,column:i},this.end={row:n,column:e}}return t.prototype.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},t.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},t.prototype.contains=function(t,i){return 0==this.compare(t,i)},t.prototype.compareRange=function(t){var i,n=t.end,e=t.start;return 1==(i=this.compare(n.row,n.column))?1==(i=this.compare(e.row,e.column))?2:0==i?1:0:-1==i?-2:-1==(i=this.compare(e.row,e.column))?-1:1==i?42:0},t.prototype.comparePoint=function(t){return this.compare(t.row,t.column)},t.prototype.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},t.prototype.intersects=function(t){var i=this.compareRange(t);return-1==i||0==i||1==i},t.prototype.isEnd=function(t,i){return this.end.row==t&&this.end.column==i},t.prototype.isStart=function(t,i){return this.start.row==t&&this.start.column==i},t.prototype.setStart=function(t,i){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=i)},t.prototype.setEnd=function(t,i){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=i)},t.prototype.inside=function(t,i){return 0==this.compare(t,i)&&(!this.isEnd(t,i)&&!this.isStart(t,i))},t.prototype.insideStart=function(t,i){return 0==this.compare(t,i)&&!this.isEnd(t,i)},t.prototype.insideEnd=function(t,i){return 0==this.compare(t,i)&&!this.isStart(t,i)},t.prototype.compare=function(t,i){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?i>=this.start.column?0:-1:this.end.row===t?i<=this.end.column?0:1:0:i<this.start.column?-1:i>this.end.column?1:0},t.prototype.compareStart=function(t,i){return this.start.row==t&&this.start.column==i?-1:this.compare(t,i)},t.prototype.compareEnd=function(t,i){return this.end.row==t&&this.end.column==i?1:this.compare(t,i)},t.prototype.compareInside=function(t,i){return this.end.row==t&&this.end.column==i?1:this.start.row==t&&this.start.column==i?-1:this.compare(t,i)},t.prototype.clipRows=function(i,n){if(this.end.row>n)var e={row:n+1,column:0};else if(this.end.row<i)e={row:i,column:0};if(this.start.row>n)var r={row:n+1,column:0};else if(this.start.row<i)r={row:i,column:0};return t.fromPoints(r||this.start,e||this.end)},t.prototype.extend=function(i,n){var e=this.compare(i,n);if(0==e)return this;if(-1==e)var r={row:i,column:n};else var s={row:i,column:n};return t.fromPoints(r||this.start,s||this.end)},t.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},t.prototype.isMultiLine=function(){return this.start.row!==this.end.row},t.prototype.clone=function(){return t.fromPoints(this.start,this.end)},t.prototype.collapseRows=function(){return 0==this.end.column?new t(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new t(this.start.row,0,this.end.row,0)},t.prototype.toScreenRange=function(i){var n=i.documentToScreenPosition(this.start),e=i.documentToScreenPosition(this.end);return new t(n.row,n.column,e.row,e.column)},t.prototype.moveBy=function(t,i){this.start.row+=t,this.start.column+=i,this.end.row+=t,this.end.column+=i},t}();e.fromPoints=function(t,i){return new e(t.row,t.column,i.row,i.column)},e.comparePoints=function(t,i){return t.row-i.row||t.column-i.column},i.Range=e})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(t,i,n){for(var e=t("./oop"),r={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},s={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},o=0;o<10;o++)s["Digit"+o]=48+o,s["Numpad"+o]=96+o,r.PRINTABLE_KEYS[48+o]=""+o,r.FUNCTION_KEYS[96+o]="Numpad"+o;for(o=65;o<91;o++){var h=String.fromCharCode(o+32);s["Key"+h.toUpperCase()]=o,r.PRINTABLE_KEYS[o]=h}for(o=1;o<13;o++)s["F"+o]=111+o,r.FUNCTION_KEYS[111+o]="F"+o;var u={Shift:16,Control:17,Alt:18,Meta:224};for(var a in u)s[a]=s[a+"Left"]=s[a+"Right"]=u[a];for(var c in i.$codeToKeyCode=s,r.PRINTABLE_KEYS[173]="-",r.FUNCTION_KEYS){var f=r.FUNCTION_KEYS[c].toLowerCase();r[f]=parseInt(c,10)}for(var c in r.PRINTABLE_KEYS){f=r.PRINTABLE_KEYS[c].toLowerCase();r[f]=parseInt(c,10)}e.mixin(r,r.MODIFIER_KEYS),e.mixin(r,r.PRINTABLE_KEYS),e.mixin(r,r.FUNCTION_KEYS),r.enter=r.return,r.escape=r.esc,r.del=r.delete,function(){for(var t=["cmd","ctrl","alt","shift"],i=Math.pow(2,t.length);i--;)r.KEY_MODS[i]=t.filter((function(t){return i&r.KEY_MODS[t]})).join("-")+"-"}(),r.KEY_MODS[0]="",r.KEY_MODS[-1]="input-",e.mixin(i,r),i.default=i,i.keyCodeToString=function(t){var i=r[t];return"string"!=typeof i&&(i=String.fromCharCode(t)),i.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,i,n){var e,r=t("./keys"),s=t("./useragent"),o=null,h=0;function u(){return null==e&&function(){e=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return e={passive:!1},!0}})}catch(t){}}(),e}function a(t,i,n){this.elem=t,this.type=i,this.callback=n}a.prototype.destroy=function(){f(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=i.addListener=function(t,i,n,e){t.addEventListener(i,n,u()),e&&e.$toDestroy.push(new a(t,i,n))},f=i.removeListener=function(t,i,n){t.removeEventListener(i,n,u())};function l(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)}function d(){o=Object.create(null)}if(i.stopEvent=function(t){return i.stopPropagation(t),i.preventDefault(t),!1},i.stopPropagation=function(t){t.stopPropagation&&t.stopPropagation()},i.preventDefault=function(t){t.preventDefault&&t.preventDefault()},i.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||s.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.button},i.capture=function(t,i,n){var e=t&&t.ownerDocument||document;function r(t){i&&i(t),n&&n(t),f(e,"mousemove",i),f(e,"mouseup",r),f(e,"dragstart",r)}return c(e,"mousemove",i),c(e,"mouseup",r),c(e,"dragstart",r),r},i.addMouseWheelListener=function(t,i,n){c(t,"wheel",(function(t){var n=t.deltaX||0,e=t.deltaY||0;switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=.15*n,t.wheelY=.15*e;break;case t.DOM_DELTA_LINE:t.wheelX=15*n,t.wheelY=15*e;break;case t.DOM_DELTA_PAGE:t.wheelX=150*n,t.wheelY=150*e}i(t)}),n)},i.addMultiMouseDownListener=function(t,n,e,r,o){var h,u,a,f=0,l={2:"dblclick",3:"tripleclick",4:"quadclick"};function d(t){if(0!==i.getButton(t)?f=0:t.detail>1?++f>4&&(f=1):f=1,s.isIE){var o=Math.abs(t.clientX-h)>5||Math.abs(t.clientY-u)>5;a&&!o||(f=1),a&&clearTimeout(a),a=setTimeout((function(){a=null}),n[f-1]||600),1==f&&(h=t.clientX,u=t.clientY)}if(t._clicks=f,e[r]("mousedown",t),f>4)f=0;else if(f>1)return e[r](l[f],t)}Array.isArray(t)||(t=[t]),t.forEach((function(t){c(t,"mousedown",d,o)}))},i.getModifierString=function(t){return r.KEY_MODS[l(t)]},i.addCommandKeyListener=function(t,n,e){var u=null;c(t,"keydown",(function(t){o[t.keyCode]=(o[t.keyCode]||0)+1;var i=function(t,i,n){var e=l(i);if(!n&&i.code&&(n=r.$codeToKeyCode[i.code]||n),!s.isMac&&o){if(i.getModifierState&&(i.getModifierState("OS")||i.getModifierState("Win"))&&(e|=8),o.altGr){if(3==(3&e))return;o.altGr=0}if(18===n||17===n){var u=i.location;if(17===n&&1===u)1==o[n]&&(h=i.timeStamp);else if(18===n&&3===e&&2===u){i.timeStamp-h<50&&(o.altGr=!0)}}}if(n in r.MODIFIER_KEYS&&(n=-1),e||13!==n||3!==i.location||(t(i,e,-n),!i.defaultPrevented)){if(s.isChromeOS&&8&e){if(t(i,e,n),i.defaultPrevented)return;e&=-9}return!!(e||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&t(i,e,n)}}(n,t,t.keyCode);return u=t.defaultPrevented,i}),e),c(t,"keypress",(function(t){u&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(i.stopEvent(t),u=null)}),e),c(t,"keyup",(function(t){o[t.keyCode]=null}),e),o||(d(),c(window,"focus",d))},"object"==typeof window&&window.postMessage&&!s.isOldIE){var v=1;i.nextTick=function(t,n){n=n||window;var e="zero-timeout-message-"+v++,r=function(s){s.data==e&&(i.stopPropagation(s),f(n,"message",r),t())};c(n,"message",r),n.postMessage(e,"*")}}i.$idleBlocked=!1,i.onIdle=function(t,n){return setTimeout((function n(){i.$idleBlocked?setTimeout(n,100):t()}),n)},i.$idleBlockId=null,i.blockIdle=function(t){i.$idleBlockId&&clearTimeout(i.$idleBlockId),i.$idleBlocked=!0,i.$idleBlockId=setTimeout((function(){i.$idleBlocked=!1}),t||100)},i.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),i.nextFrame?i.nextFrame=i.nextFrame.bind(window):i.nextFrame=function(t){setTimeout(t,17)}})),ace.define("ace/clipboard",["require","exports","module"],(function(t,i,n){var e;n.exports={lineMode:!1,pasteCancelled:function(){return!!(e&&e>Date.now()-50)||(e=!1)},cancel:function(){e=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(t,i,n){var e,r=t("../lib/event"),s=t("../config").nls,o=t("../lib/useragent"),h=t("../lib/dom"),u=t("../lib/lang"),a=t("../clipboard"),c=o.isChrome<18,f=o.isIE,l=o.isChrome>63,d=t("../lib/keys"),v=d.KEY_MODS,p=o.isIOS,m=p?/\s/:/\n/,w=o.isMobile;e=function(t,i){var n=h.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),n.style.opacity="0",t.insertBefore(n,t.firstChild);var e=!1,g=!1,b=!1,y=!1,A="";w||(n.style.fontSize="1px");var x=!1,_=!1,k="",S=0,M=0,I=0,E=Number.MAX_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER,C=0;try{var O=document.activeElement===n}catch(t){}this.setNumberOfExtraLines=function(t){E=Number.MAX_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER,C=t<0?0:t},this.setAriaOptions=function(t){if(t.activeDescendant?(n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-autocomplete",t.inline?"both":"list"),n.setAttribute("aria-activedescendant",t.activeDescendant)):(n.setAttribute("aria-haspopup","false"),n.setAttribute("aria-autocomplete","both"),n.removeAttribute("aria-activedescendant")),t.role&&n.setAttribute("role",t.role),t.setLabel){n.setAttribute("aria-roledescription",s("text-input.aria-roledescription","editor"));var e="";if(i.$textInputAriaLabel&&(e+="".concat(i.$textInputAriaLabel,", ")),i.session){var r=i.session.selection.cursor.row;e+=s("text-input.aria-label","Cursor at row $0",[r+1])}n.setAttribute("aria-label",e)}},this.setAriaOptions({role:"textbox"}),r.addListener(n,"blur",(function(t){_||(i.onBlur(t),O=!1)}),i),r.addListener(n,"focus",(function(t){if(!_){if(O=!0,o.isEdge)try{if(!document.hasFocus())return}catch(t){}i.onFocus(t),o.isEdge?setTimeout(N):N()}}),i),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:i.renderer.enableKeyboardAccessibility}),A||l||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var t=n.style.top;n.style.position="fixed",n.style.top="0px";try{var e=0!=n.getBoundingClientRect().top}catch(t){return}var r=[];if(e)for(var s=n.parentElement;s&&1==s.nodeType;)r.push(s),s.setAttribute("ace_nocontext","true"),s=!s.parentElement&&s.getRootNode?s.getRootNode().host:s.parentElement;n.focus({preventScroll:!0}),e&&r.forEach((function(t){t.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=t)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return O},i.on("beforeEndOperation",(function(){var t=i.curOp,e=t&&t.command&&t.command.name;if("insertstring"!=e){var r=e&&(t.docChanged||t.selectionChanged);b&&r&&(k=n.value="",H()),N()}}));var D=function(t,n){for(var e=n,r=1;r<=t-E&&r<2*C+1;r++)e+=i.session.getLine(t-r).length+1;return e},N=p?function(t){if(O&&(!e||t)&&!y){t||(t="");var r="\n ab"+t+"cde fg\n";r!=n.value&&(n.value=k=r);var s=4+(t.length||(i.selection.isEmpty()?0:1));4==S&&M==s||n.setSelectionRange(4,s),S=4,M=s}}:function(){if(!b&&!y&&(O||R)){b=!0;var t=0,e=0,r="";if(i.session){var s=i.selection,o=s.getRange(),h=s.cursor.row;h===T+1?T=(E=T+1)+2*C:h===E-1?E=(T=E-1)-2*C:(h<E-1||h>T+1)&&(E=h>C?h-C:0,T=h>C?h+C:2*C);for(var u=[],a=E;a<=T;a++)u.push(i.session.getLine(a));if(r=u.join("\n"),t=D(o.start.row,o.start.column),e=D(o.end.row,o.end.column),o.start.row<E){var c=i.session.getLine(E-1);t=o.start.row<E-1?0:t,e+=c.length+1,r=c+"\n"+r}else if(o.end.row>T){var f=i.session.getLine(T+1);e=o.end.row>T+1?f.length:o.end.column,e+=r.length+1,r=r+"\n"+f}else w&&h>0&&(r="\n"+r,e+=1,t+=1);r.length>400&&(t<400&&e<400?r=r.slice(0,400):(r="\n",t==e?t=e=0:(t=0,e=1)));var l=r+"\n\n";l!=k&&(n.value=k=l,S=M=l.length)}if(R&&(S=n.selectionStart,M=n.selectionEnd),M!=e||S!=t||n.selectionEnd!=M)try{n.setSelectionRange(t,e),S=t,M=e}catch(t){}b=!1}};this.resetSelection=N,O&&i.onFocus();var L=null;this.setInputHandler=function(t){L=t},this.getInputHandler=function(){return L};var R=!1,j=function(t,e){if(R&&(R=!1),g)return N(),t&&i.onPaste(t),g=!1,"";for(var r=n.selectionStart,s=n.selectionEnd,h=S,u=k.length-M,a=t,c=t.length-r,f=t.length-s,l=0;h>0&&k[l]==t[l];)l++,h--;for(a=a.slice(l),l=1;u>0&&k.length-l>S-1&&k[k.length-l]==t[t.length-l];)l++,u--;c-=l-1,f-=l-1;var d=a.length-l+1;if(d<0&&(h=-d,d=0),a=a.slice(0,d),!(e||a||c||h||u||f))return"";y=!0;var v=!1;return o.isAndroid&&". "==a&&(a="  ",v=!0),a&&!h&&!u&&!c&&!f||x?i.onTextInput(a):i.onTextInput(a,{extendLeft:h,extendRight:u,restoreStart:c,restoreEnd:f}),y=!1,k=t,S=r,M=s,I=f,v?"\n":a},U=function(t){if(b)return $();if(t&&t.inputType){if("historyUndo"==t.inputType)return i.execCommand("undo");if("historyRedo"==t.inputType)return i.execCommand("redo")}var e=n.value,r=j(e,!0);(e.length>500||m.test(r)||w&&S<1&&S==M)&&N()},P=function(t,i,n){var e=t.clipboardData||window.clipboardData;if(e&&!c){var r=f||n?"Text":"text/plain";try{return i?!1!==e.setData(r,i):e.getData(r)}catch(t){if(!n)return P(t,i,!0)}}},F=function(t,s){var o=i.getCopyText();if(!o)return r.preventDefault(t);P(t,o)?(p&&(N(o),e=o,setTimeout((function(){e=!1}),10)),s?i.onCut():i.onCopy(),r.preventDefault(t)):(e=!0,n.value=o,n.select(),setTimeout((function(){e=!1,N(),s?i.onCut():i.onCopy()})))},z=function(t){F(t,!0)},B=function(t){F(t,!1)},V=function(t){var e=P(t);a.pasteCancelled()||("string"==typeof e?(e&&i.onPaste(e,t),o.isIE&&setTimeout(N),r.preventDefault(t)):(n.value="",g=!0))};r.addCommandKeyListener(n,(function(t,n,e){if(!b)return i.onCommandKey(t,n,e)}),i),r.addListener(n,"select",(function(t){b||(e?e=!1:!function(t){return 0===t.selectionStart&&t.selectionEnd>=k.length&&t.value===k&&k&&t.selectionEnd!==M}(n)?w&&n.selectionStart!=S&&N():(i.selectAll(),N()))}),i),r.addListener(n,"input",U,i),r.addListener(n,"cut",z,i),r.addListener(n,"copy",B,i),r.addListener(n,"paste",V,i),"oncut"in n&&"oncopy"in n&&"onpaste"in n||r.addListener(t,"keydown",(function(t){if((!o.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:B(t);break;case 86:V(t);break;case 88:z(t)}}),i);var $=function(){if(b&&i.onCompositionUpdate&&!i.$readOnly){if(x)return W();if(b.useTextareaForIME)i.onCompositionUpdate(n.value);else{var t=n.value;j(t),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+M-b.selectionStart+I)}}},H=function(t){i.onCompositionEnd&&!i.$readOnly&&(b=!1,i.onCompositionEnd(),i.off("mousedown",W),t&&U())};function W(){_=!0,n.blur(),n.focus(),_=!1}var K,G=u.delayedCall($,50).schedule.bind(null,null);function Z(){clearTimeout(K),K=setTimeout((function(){A&&(n.style.cssText=A,A=""),i.renderer.$isMousePressed=!1,i.renderer.$keepTextAreaAtCursor&&i.renderer.$moveTextAreaToCursor()}),0)}r.addListener(n,"compositionstart",(function(t){if(!b&&i.onCompositionStart&&!i.$readOnly&&(b={},!x)){t.data&&(b.useTextareaForIME=!1),setTimeout($,0),i._signal("compositionStart"),i.on("mousedown",W);var e=i.getSelectionRange();e.end.row=e.start.row,e.end.column=e.start.column,b.markerRange=e,b.selectionStart=S,i.onCompositionStart(b),b.useTextareaForIME?(k=n.value="",S=0,M=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),i),r.addListener(n,"compositionupdate",$,i),r.addListener(n,"keyup",(function(t){27==t.keyCode&&n.value.length<n.selectionStart&&(b||(k=n.value),S=M=-1,N()),G()}),i),r.addListener(n,"keydown",G,i),r.addListener(n,"compositionend",H,i),this.getElement=function(){return n},this.setCommandMode=function(t){x=t,n.readOnly=!1},this.setReadOnly=function(t){x||(n.readOnly=t)},this.setCopyWithEmptySelection=function(t){},this.onContextMenu=function(t){R=!0,N(),i._emit("nativecontextmenu",{target:i,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,e){A||(A=n.style.cssText),n.style.cssText=(e?"z-index:100000;":"")+(o.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+M)*i.renderer.characterWidth*.5+"px;";var s=i.container.getBoundingClientRect(),u=h.computedStyle(i.container),a=s.top+(parseInt(u.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),f=s.bottom-a-n.clientHeight-2,l=function(t){h.translate(n,t.clientX-c-2,Math.min(t.clientY-a-2,f))};l(t),"mousedown"==t.type&&(i.renderer.$isMousePressed=!0,clearTimeout(K),o.isWin&&r.capture(i.container,l,Z))},this.onContextMenuClose=Z;var Y=function(t){i.textInput.onContextMenu(t),Z()};r.addListener(n,"mouseup",Y,i),r.addListener(n,"mousedown",(function(t){t.preventDefault(),Z()}),i),r.addListener(i.renderer.scroller,"contextmenu",Y,i),r.addListener(n,"contextmenu",Y,i),p&&function(t,i,n){var r=null,s=!1;n.addEventListener("keydown",(function(t){r&&clearTimeout(r),s=!0}),!0),n.addEventListener("keyup",(function(t){r=setTimeout((function(){s=!1}),100)}),!0);var o=function(t){if(document.activeElement===n&&!(s||b||i.$mouseHandler.isMousePressed||e)){var r=n.selectionStart,o=n.selectionEnd,h=null,u=0;if(0==r?h=d.up:1==r?h=d.home:o>M&&"\n"==k[o]?h=d.end:r<S&&" "==k[r-1]?(h=d.left,u=v.option):r<S||r==S&&M!=S&&r==o?h=d.left:o>M&&k.slice(0,o).split("\n").length>2?h=d.down:o>M&&" "==k[o-1]?(h=d.right,u=v.option):(o>M||o==M&&M!=S&&r==o)&&(h=d.right),r!==o&&(u|=v.shift),h){if(!i.onCommandKey({},u,h)&&i.commands){h=d.keyCodeToString(h);var a=i.commands.findKeyCommand(u,h);a&&i.execCommand(a)}S=r,M=o,N("")}}};document.addEventListener("selectionchange",o),i.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,i,n),this.destroy=function(){n.parentElement&&n.parentElement.removeChild(n)}},i.TextInput=e,i.$setUserAgentForTests=function(t,i){w=t,p=i}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(t,i,n){var e=t("../lib/useragent"),r=function(){function t(t){t.$clickSelection=null;var i=t.editor;i.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),i.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),i.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),i.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),i.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(i){t[i]=this[i]}),this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}return t.prototype.onMouseDown=function(t){var i=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var r=this.editor,s=t.getButton();return 0!==s?((r.getSelectionRange().isEmpty()||1==s)&&r.selection.moveToPosition(n),void(2==s&&(r.textInput.onContextMenu(t.domEvent),e.isMozilla||t.preventDefault()))):(this.mousedownEvent.time=Date.now(),!i||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(n,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t)))},t.prototype.startSelect=function(t,i){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):i||n.selection.moveToPosition(t),i||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},t.prototype.select=function(){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var e=this.$clickSelection.comparePoint(n);if(-1==e)t=this.$clickSelection.end;else if(1==e)t=this.$clickSelection.start;else{var r=s(this.$clickSelection,n);n=r.cursor,t=r.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},t.prototype.extendSelectionBy=function(t){var i,n=this.editor,e=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[t](e.row,e.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(r.start),h=this.$clickSelection.comparePoint(r.end);if(-1==o&&h<=0)i=this.$clickSelection.end,r.end.row==e.row&&r.end.column==e.column||(e=r.start);else if(1==h&&o>=0)i=this.$clickSelection.start,r.start.row==e.row&&r.start.column==e.column||(e=r.end);else if(-1==o&&1==h)e=r.end,i=r.start;else{var u=s(this.$clickSelection,e);e=u.cursor,i=u.anchor}n.selection.setSelectionAnchor(i.row,i.column)}n.selection.selectToPosition(e),n.renderer.scrollCursorIntoView()},t.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},t.prototype.focusWait=function(){var t,i,n,e,r=(t=this.mousedownEvent.x,i=this.mousedownEvent.y,n=this.x,e=this.y,Math.sqrt(Math.pow(n-t,2)+Math.pow(e-i,2))),s=Date.now();(r>0||s-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},t.prototype.onDoubleClick=function(t){var i=t.getDocumentPosition(),n=this.editor,e=n.session.getBracketRange(i);e?(e.isEmpty()&&(e.start.column--,e.end.column++),this.setState("select")):(e=n.selection.getWordRange(i.row,i.column),this.setState("selectByWords")),this.$clickSelection=e,this.select()},t.prototype.onTripleClick=function(t){var i=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var e=n.getSelectionRange();e.isMultiLine()&&e.contains(i.row,i.column)?(this.$clickSelection=n.selection.getLineRange(e.start.row),this.$clickSelection.end=n.selection.getLineRange(e.end.row).end):this.$clickSelection=n.selection.getLineRange(i.row),this.select()},t.prototype.onQuadClick=function(t){var i=this.editor;i.selectAll(),this.$clickSelection=i.getSelectionRange(),this.setState("selectAll")},t.prototype.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var i=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,e=t.domEvent.timeStamp,r=e-n.t,s=r?t.wheelX/r:n.vx,o=r?t.wheelY/r:n.vy;r<550&&(s=(s+n.vx)/2,o=(o+n.vy)/2);var h=Math.abs(s/o),u=!1;if(h>=1&&i.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(u=!0),h<=1&&i.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(u=!0),u)n.allowed=e;else if(e-n.allowed<550){Math.abs(s)<=1.5*Math.abs(n.vx)&&Math.abs(o)<=1.5*Math.abs(n.vy)?(u=!0,n.allowed=e):n.allowed=0}return n.t=e,n.vx=s,n.vy=o,u?(i.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},t}();function s(t,i){if(t.start.row==t.end.row)var n=2*i.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)n=2*i.row-t.start.row-t.end.row;else var n=i.column-4;return n<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}r.prototype.selectEnd=r.prototype.selectByLinesEnd,r.prototype.selectAllEnd=r.prototype.selectByLinesEnd,r.prototype.selectByWordsEnd=r.prototype.selectByLinesEnd,i.DefaultHandlers=r})),ace.define("ace/lib/scroll",["require","exports","module"],(function(t,i,n){i.preventParentScroll=function(t){t.stopPropagation();var i=t.currentTarget;i.scrollHeight>i.clientHeight||t.preventDefault()}})),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],(function(t,i,n){var e,r=this&&this.P||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),s=this&&this.V||function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],e=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},o=t("./lib/dom"),h=(t("./lib/event"),t("./range").Range),u=t("./lib/scroll").preventParentScroll,a=function(){function t(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}return t.prototype.$init=function(){return this.$element=o.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},t.prototype.getElement=function(){return this.$element||this.$init()},t.prototype.setText=function(t){this.getElement().textContent=t},t.prototype.setHtml=function(t){this.getElement().innerHTML=t},t.prototype.setPosition=function(t,i){this.getElement().style.left=t+"px",this.getElement().style.top=i+"px"},t.prototype.setClassName=function(t){o.addCssClass(this.getElement(),t)},t.prototype.setTheme=function(t){this.$element.className="ace_tooltip "+(t.isDark?"ace_dark ":"")+(t.cssClass||"")},t.prototype.show=function(t,i,n){null!=t&&this.setText(t),null!=i&&null!=n&&this.setPosition(i,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},t.prototype.hide=function(t){this.isOpen&&(this.getElement().style.display="none",this.getElement().className="ace_tooltip",this.isOpen=!1)},t.prototype.getHeight=function(){return this.getElement().offsetHeight},t.prototype.getWidth=function(){return this.getElement().offsetWidth},t.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},t}(),c=new(function(){function t(){this.popups=[]}return t.prototype.addPopup=function(t){this.popups.push(t),this.updatePopups()},t.prototype.removePopup=function(t){var i=this.popups.indexOf(t);-1!==i&&(this.popups.splice(i,1),this.updatePopups())},t.prototype.updatePopups=function(){var t,i,n,e;this.popups.sort((function(t,i){return i.priority-t.priority}));var r=[];try{for(var o=s(this.popups),h=o.next();!h.done;h=o.next()){var u=h.value,a=!0;try{for(var c=(n=void 0,s(r)),f=c.next();!f.done;f=c.next()){var l=f.value;if(this.doPopupsOverlap(l,u)){a=!1;break}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(n)throw n.error}}a?r.push(u):u.hide()}}catch(i){t={error:i}}finally{try{h&&!h.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}},t.prototype.doPopupsOverlap=function(t,i){var n=t.getElement().getBoundingClientRect(),e=i.getElement().getBoundingClientRect();return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top},t}());i.popupManager=c,i.Tooltip=a;var f=function(t){function i(i){void 0===i&&(i=document.body);var n=t.call(this,i)||this;n.timeout=void 0,n.lastT=0,n.idleTime=350,n.lastEvent=void 0,n.onMouseOut=n.onMouseOut.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.waitForHover=n.waitForHover.bind(n),n.hide=n.hide.bind(n);var e=n.getElement();return e.style.whiteSpace="pre-wrap",e.style.pointerEvents="auto",e.addEventListener("mouseout",n.onMouseOut),e.tabIndex=-1,e.addEventListener("blur",function(){e.contains(document.activeElement)||this.hide()}.bind(n)),e.addEventListener("wheel",u),n}return r(i,t),i.prototype.addToEditor=function(t){t.on("mousemove",this.onMouseMove),t.on("mousedown",this.hide),t.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},i.prototype.removeFromEditor=function(t){t.off("mousemove",this.onMouseMove),t.off("mousedown",this.hide),t.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},i.prototype.onMouseMove=function(t,i){this.lastEvent=t,this.lastT=Date.now();var n=i.$mouseHandler.isMousePressed;if(this.isOpen){var e=this.lastEvent&&this.lastEvent.getDocumentPosition();this.range&&this.range.contains(e.row,e.column)&&!n&&!this.isOutsideOfText(this.lastEvent)||this.hide()}this.timeout||n||(this.lastEvent=t,this.timeout=setTimeout(this.waitForHover,this.idleTime))},i.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var t=Date.now()-this.lastT;this.idleTime-t>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-t):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},i.prototype.isOutsideOfText=function(t){var i=t.editor,n=t.getDocumentPosition(),e=i.session.getLine(n.row);if(n.column==e.length){var r=i.renderer.pixelToScreenCoordinates(t.clientX,t.clientY),s=i.session.documentToScreenPosition(n.row,n.column);if(s.column!=r.column||s.row!=r.row)return!0}return!1},i.prototype.setDataProvider=function(t){this.$gatherData=t},i.prototype.showForRange=function(t,i,n,e){if(!(e&&e!=this.lastEvent||this.isOpen&&document.activeElement==this.getElement())){var r=t.renderer;this.isOpen||(c.addPopup(this),this.$registerCloseEvents(),this.setTheme(r.theme)),this.isOpen=!0,this.addMarker(i,t.session),this.range=h.fromPoints(i.start,i.end);var s=r.textToScreenCoordinates(i.start.row,i.start.column),o=r.scroller.getBoundingClientRect();s.pageX<o.left&&(s.pageX=o.left);var u=this.getElement();u.innerHTML="",u.appendChild(n),u.style.maxHeight="",u.style.display="block";var a=u.clientHeight,f=u.clientWidth,l=window.innerHeight-s.pageY-r.lineHeight,d=!0;s.pageY-a<0&&s.pageY<l&&(d=!1),u.style.maxHeight=(d?s.pageY:l)-10+"px",u.style.top=d?"":s.pageY+r.lineHeight+"px",u.style.bottom=d?window.innerHeight-s.pageY+"px":"",u.style.left=Math.min(s.pageX,window.innerWidth-f-10)+"px"}},i.prototype.addMarker=function(t,i){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=i,this.marker=i&&i.addMarker(t,"ace_highlight-marker","text")},i.prototype.hide=function(t){(t||document.activeElement!=this.getElement())&&(t&&t.target&&("keydown"!=t.type||t.ctrlKey||t.metaKey)&&this.$element.contains(t.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,c.removePopup(this))))},i.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},i.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},i.prototype.onMouseOut=function(t){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&t.relatedTarget&&!this.getElement().contains(t.relatedTarget)&&(t&&t.currentTarget.contains(t.relatedTarget)||t.relatedTarget.classList.contains("ace_content")||this.hide())},i}(a);i.HoverTooltip=f})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],(function(t,i,n){var e,r=this&&this.P||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),s=this&&this.V||function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],e=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},o=t("../lib/dom"),h=t("../lib/event"),u=t("../tooltip").Tooltip,a=t("../config").nls;t("../lib/lang");i.GutterHandler=function(t){var i,n,e=t.editor,r=e.renderer.$gutterLayer,s=new c(e);function u(){i&&(i=clearTimeout(i)),s.isOpen&&(s.hideTooltip(),e.off("mousewheel",u))}function a(t){s.setPosition(t.x,t.y)}t.editor.setDefaultHandler("guttermousedown",(function(i){if(e.isFocused()&&0==i.getButton()&&"foldWidgets"!=r.getRegion(i)){var n=i.getDocumentPosition().row,s=e.session.selection;if(i.getShiftKey())s.selectTo(n,0);else{if(2==i.domEvent.detail)return e.selectAll(),i.preventDefault();t.$clickSelection=e.selection.getLineRange(n)}return t.setState("selectByLines"),t.captureMouse(i),i.preventDefault()}})),t.editor.setDefaultHandler("guttermousemove",(function(h){var c=h.domEvent.target||h.domEvent.srcElement;if(o.hasCssClass(c,"ace_fold-widget"))return u();s.isOpen&&t.$tooltipFollowsMouse&&a(h),n=h,i||(i=setTimeout((function(){i=null,n&&!t.isMousePressed?function(){var i=n.getDocumentPosition().row;if(i==e.session.getLength()){var o=e.renderer.pixelToScreenCoordinates(0,n.y).row,h=n.$pos;if(o>e.session.documentToScreenRow(h.row,h.column))return u()}if(s.showTooltip(i),s.isOpen)if(e.on("mousewheel",u),t.$tooltipFollowsMouse)a(n);else{var c=n.getGutterRow(),f=r.$lines.get(c);if(f){var l=f.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),d=s.getElement().style;d.left=l.right+"px",d.top=l.bottom+"px"}else a(n)}}():u()}),50))})),h.addListener(e.renderer.$gutter,"mouseout",(function(t){n=null,s.isOpen&&!i&&(i=setTimeout((function(){i=null,u()}),50))}),e),e.on("changeSession",u),e.on("input",u)};var c=function(t){function i(i){var n=t.call(this,i.container)||this;return n.editor=i,n}return r(i,t),i.prototype.setPosition=function(t,i){var n=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),s=this.getHeight();(t+=15)+r>n&&(t-=t+r-n),(i+=15)+s>e&&(i-=20+s),u.prototype.setPosition.call(this,t,i)},Object.defineProperty(i,"annotationLabels",{get:function(){return{error:{singular:a("gutter-tooltip.aria-label.error.singular","error"),plural:a("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:a("gutter-tooltip.aria-label.warning.singular","warning"),plural:a("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:a("gutter-tooltip.aria-label.info.singular","information message"),plural:a("gutter-tooltip.aria-label.info.plural","information messages")}}},enumerable:!1,configurable:!0}),i.prototype.showTooltip=function(t){var n,e,r=this.editor.renderer.$gutterLayer,s=r.$annotations[t];e=s?{displayText:Array.from(s.displayText),type:Array.from(s.type)}:{displayText:[],type:[]};var h=r.session.getFoldLine(t);if(h&&r.$showFoldedAnnotations){for(var u,a={error:[],warning:[],info:[]},c=t+1;c<=h.end.row;c++)if(r.$annotations[c])for(var f=0;f<r.$annotations[c].text.length;f++){var l=r.$annotations[c].type[f];a[l].push(r.$annotations[c].text[f]),"error"!==l?"warning"!==l||(u="warning_fold"):u="error_fold"}if("error_fold"===u||"warning_fold"===u){var d="".concat(i.annotationsToSummaryString(a)," in folded code.");e.displayText.push(d),e.type.push(u)}}if(0===e.displayText.length)return this.hide();var v={error:[],warning:[],info:[]},p=r.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(c=0;c<e.displayText.length;c++){var m=o.createElement("span"),w=o.createElement("span");(n=w.classList).add.apply(n,["ace_".concat(e.type[c]),p]),w.setAttribute("aria-label","".concat(i.annotationLabels[e.type[c].replace("_fold","")].singular)),w.setAttribute("role","img"),w.appendChild(o.createTextNode(" ")),m.appendChild(w),m.appendChild(o.createTextNode(e.displayText[c])),m.appendChild(o.createElement("br")),v[e.type[c].replace("_fold","")].push(m)}var g=this.getElement();o.removeChildren(g),v.error.forEach((function(t){return g.appendChild(t)})),v.warning.forEach((function(t){return g.appendChild(t)})),v.info.forEach((function(t){return g.appendChild(t)})),g.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},i.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},i.annotationsToSummaryString=function(t){var n,e,r=[];try{for(var o=s(["error","warning","info"]),h=o.next();!h.done;h=o.next()){var u=h.value;if(t[u].length){var a=1===t[u].length?i.annotationLabels[u].singular:i.annotationLabels[u].plural;r.push("".concat(t[u].length," ").concat(a))}}}catch(t){n={error:t}}finally{try{h&&!h.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}return r.join(", ")},i}(u);i.GutterTooltip=c})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,i,n){var e=t("../lib/event"),r=t("../lib/useragent"),s=function(){function t(t,i){this.speed,this.wheelX,this.wheelY,this.domEvent=t,this.editor=i,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return t.prototype.stopPropagation=function(){e.stopPropagation(this.domEvent),this.propagationStopped=!0},t.prototype.preventDefault=function(){e.preventDefault(this.domEvent),this.defaultPrevented=!0},t.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},t.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},t.prototype.getGutterRow=function(){var t=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(t,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},t.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=t.contains(i.row,i.column)}return this.$inSelection},t.prototype.getButton=function(){return e.getButton(this.domEvent)},t.prototype.getShiftKey=function(){return this.domEvent.shiftKey},t.prototype.getAccelKey=function(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},t}();i.MouseEvent=s})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(t,i,n){var e=t("../lib/dom"),r=t("../lib/event"),s=t("../lib/useragent");function o(t){var i=t.editor,n=e.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(i){t[i]=this[i]}),this),i.on("mousedown",this.onMouseDown.bind(t));var o,u,a,c,f,l,d,v,p,m,w,g=i.container,b=0;function y(){var t=l;(function(t,n){var e=Date.now(),r=!n||t.row!=n.row,s=!n||t.column!=n.column;!m||r||s?(i.moveCursorToPosition(t),m=e,w={x:u,y:a}):h(w.x,w.y,u,a)>5?m=null:e-m>=200&&(i.renderer.scrollCursorIntoView(),m=null)})(l=i.renderer.screenToTextCoordinates(u,a),t),function(t,n){var e=Date.now(),r=i.renderer.layerConfig.lineHeight,s=i.renderer.layerConfig.characterWidth,o=i.renderer.scroller.getBoundingClientRect(),h={x:{left:u-o.left,right:o.right-u},y:{top:a-o.top,bottom:o.bottom-a}},c=Math.min(h.x.left,h.x.right),f=Math.min(h.y.top,h.y.bottom),l={row:t.row,column:t.column};c/s<=2&&(l.column+=h.x.left<h.x.right?-3:2),f/r<=1&&(l.row+=h.y.top<h.y.bottom?-1:1);var d=t.row!=l.row,v=t.column!=l.column,m=!n||t.row!=n.row;d||v&&!m?p?e-p>=200&&i.renderer.scrollCursorIntoView(l):p=e:p=null}(l,t)}function A(){f=i.selection.toOrientedRange(),o=i.session.addMarker(f,"ace_selection",i.getSelectionStyle()),i.clearSelection(),i.isFocused()&&i.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),y(),c=setInterval(y,20),b=0,r.addListener(document,"mousemove",k)}function x(){clearInterval(c),i.session.removeMarker(o),o=null,i.selection.fromOrientedRange(f),i.isFocused()&&!v&&i.$resetCursorStyle(),f=null,l=null,b=0,p=null,m=null,r.removeListener(document,"mousemove",k)}this.onDragStart=function(t){if(this.cancelDrag||!g.draggable){var e=this;return setTimeout((function(){e.startSelect(),e.captureMouse(t)}),0),t.preventDefault()}f=i.getSelectionRange();var r=t.dataTransfer;r.effectAllowed=i.getReadOnly()?"copy":"copyMove",i.container.appendChild(n),r.setDragImage&&r.setDragImage(n,0,0),setTimeout((function(){i.container.removeChild(n)})),r.clearData(),r.setData("Text",i.session.getTextRange()),v=!0,this.setState("drag")},this.onDragEnd=function(t){if(g.draggable=!1,v=!1,this.setState(null),!i.getReadOnly()){var n=t.dataTransfer.dropEffect;d||"move"!=n||i.session.remove(i.getSelectionRange()),i.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!i.getReadOnly()&&S(t.dataTransfer))return u=t.clientX,a=t.clientY,o||A(),b++,t.dataTransfer.dropEffect=d=M(t),r.preventDefault(t)},this.onDragOver=function(t){if(!i.getReadOnly()&&S(t.dataTransfer))return u=t.clientX,a=t.clientY,o||(A(),b++),null!==_&&(_=null),t.dataTransfer.dropEffect=d=M(t),r.preventDefault(t)},this.onDragLeave=function(t){if(--b<=0&&o)return x(),d=null,r.preventDefault(t)},this.onDrop=function(t){if(l){var n=t.dataTransfer;if(v)switch(d){case"move":f=f.contains(l.row,l.column)?{start:l,end:l}:i.moveText(f,l);break;case"copy":f=i.moveText(f,l,!0)}else{var e=n.getData("Text");f={start:l,end:i.session.insert(l,e)},i.focus(),d=null}return x(),r.preventDefault(t)}},r.addListener(g,"dragstart",this.onDragStart.bind(t),i),r.addListener(g,"dragend",this.onDragEnd.bind(t),i),r.addListener(g,"dragenter",this.onDragEnter.bind(t),i),r.addListener(g,"dragover",this.onDragOver.bind(t),i),r.addListener(g,"dragleave",this.onDragLeave.bind(t),i),r.addListener(g,"drop",this.onDrop.bind(t),i);var _=null;function k(){null==_&&(_=setTimeout((function(){null!=_&&o&&x()}),20))}function S(t){var i=t.types;return!i||Array.prototype.some.call(i,(function(t){return"text/plain"==t||"Text"==t}))}function M(t){var i=["copy","copymove","all","uninitialized"],n=s.isMac?t.altKey:t.ctrlKey,e="uninitialized";try{e=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var r="none";return n&&i.indexOf(e)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(e)>=0?r="move":i.indexOf(e)>=0&&(r="copy"),r}}function h(t,i,n,e){return Math.sqrt(Math.pow(n-t,2)+Math.pow(e-i,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var i=s.isWin?"default":"move";t.renderer.setCursorStyle(i),this.setState("dragReady")},this.onMouseDrag=function(t){var i=this.editor.container;s.isIE&&"dragReady"==this.state&&(h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&i.dragDrop());"dragWait"===this.state&&(h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(i.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var i=this.editor,n=t.inSelection(),e=t.getButton();if(1===(t.domEvent.detail||1)&&0===e&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),i.getDragDelay()){if(s.isWebKit)this.cancelDrag=!0,i.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(o.prototype),i.DragdropHandler=o})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(t,i,n){var e=t("./mouse_event").MouseEvent,r=t("../lib/event"),s=t("../lib/dom");i.addTouchListeners=function(t,i){var n,o,h,u,a,c,f,l,d,v="scroll",p=0,m=0,w=0,g=0;function b(){var t=window.navigator&&window.navigator.clipboard,n=!1,e=function(t){return i.commands.canExecute(t,i)},r=function(r){var o,h,u=r.target.getAttribute("action");if("more"==u||!n)return n=!n,o=i.getCopyText(),h=i.session.getUndoManager().hasUndo(),void d.replaceChild(s.buildDom(n?["span",!o&&e("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],o&&e("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],o&&e("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],t&&e("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],h&&e("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],e("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],e("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),d.firstChild);"paste"==u?t.readText().then((function(t){i.execCommand(u,t)})):u&&("cut"!=u&&"copy"!=u||(t?t.writeText(i.getCopyText()):document.execCommand("copy")),i.execCommand(u)),d.firstChild.style.display="none",n=!1,"openCommandPalette"!=u&&i.focus()};d=s.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(t){v="menu",t.stopPropagation(),t.preventDefault(),i.textInput.focus()},ontouchend:function(t){t.stopPropagation(),t.preventDefault(),r(t)},onclick:r},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],i.container)}function y(){if(i.getOption("enableMobileMenu")){d||b();var t=i.selection.cursor,n=i.renderer.textToScreenCoordinates(t.row,t.column),e=i.renderer.textToScreenCoordinates(0,0).pageX,r=i.renderer.scrollLeft,s=i.container.getBoundingClientRect();d.style.top=n.pageY-s.top-3+"px",n.pageX-s.left<s.width-70?(d.style.left="",d.style.right="10px"):(d.style.right="",d.style.left=e+r-s.left+"px"),d.style.display="",d.firstChild.style.display="none",i.on("input",A)}else d&&A()}function A(t){d&&(d.style.display="none"),i.off("input",A)}function x(){a=null,clearTimeout(a);var t=i.selection.getRange(),n=t.contains(f.row,f.column);!t.isEmpty()&&n||(i.selection.moveToPosition(f),i.selection.selectWord()),v="wait",y()}r.addListener(t,"contextmenu",(function(t){l&&i.textInput.getElement().focus()}),i),r.addListener(t,"touchstart",(function(t){var r=t.touches;if(a||r.length>1)return clearTimeout(a),a=null,h=-1,void(v="zoom");l=i.$mouseHandler.isMousePressed=!0;var s=i.renderer.layerConfig.lineHeight,c=i.renderer.layerConfig.lineHeight,d=t.timeStamp;u=d;var b=r[0],y=b.clientX,A=b.clientY;Math.abs(n-y)+Math.abs(o-A)>s&&(h=-1),n=t.clientX=y,o=t.clientY=A,w=g=0;var _=new e(t,i);if(f=_.getDocumentPosition(),d-h<500&&1==r.length&&!p)m++,t.preventDefault(),t.button=0,function(){a=null,clearTimeout(a),i.selection.moveToPosition(f);var t=m>=2?i.selection.getLineRange(f.row):i.session.getBracketRange(f);t&&!t.isEmpty()?i.selection.setRange(t):i.selection.selectWord(),v="wait"}();else{m=0;var k=i.selection.cursor,S=i.selection.isEmpty()?k:i.selection.anchor,M=i.renderer.$cursorLayer.getPixelPosition(k,!0),I=i.renderer.$cursorLayer.getPixelPosition(S,!0),E=i.renderer.scroller.getBoundingClientRect(),T=i.renderer.layerConfig.offset,C=i.renderer.scrollLeft,O=function(t,i){return(t/=c)*t+(i=i/s-.75)*i};if(t.clientX<E.left)return void(v="zoom");var D=O(t.clientX-E.left-M.left+C,t.clientY-E.top-M.top+T),N=O(t.clientX-E.left-I.left+C,t.clientY-E.top-I.top+T);D<3.5&&N<3.5&&(v=D>N?"cursor":"anchor"),v=N<3.5?"anchor":D<3.5?"cursor":"scroll",a=setTimeout(x,450)}h=d}),i),r.addListener(t,"touchend",(function(t){l=i.$mouseHandler.isMousePressed=!1,c&&clearInterval(c),"zoom"==v?(v="",p=0):a?(i.selection.moveToPosition(f),p=0,y()):"scroll"==v?(p+=60,c=setInterval((function(){p--<=0&&(clearInterval(c),c=null),Math.abs(w)<.01&&(w=0),Math.abs(g)<.01&&(g=0),p<20&&(w*=.9),p<20&&(g*=.9);var t=i.session.getScrollTop();i.renderer.scrollBy(10*w,10*g),t==i.session.getScrollTop()&&(p=0)}),10),A()):y(),clearTimeout(a),a=null}),i),r.addListener(t,"touchmove",(function(t){a&&(clearTimeout(a),a=null);var r=t.touches;if(!(r.length>1||"zoom"==v)){var s=r[0],h=n-s.clientX,c=o-s.clientY;if("wait"==v){if(!(h*h+c*c>4))return t.preventDefault();v="cursor"}n=s.clientX,o=s.clientY,t.clientX=s.clientX,t.clientY=s.clientY;var f=t.timeStamp,l=f-u;if(u=f,"scroll"==v){var d=new e(t,i);d.speed=1,d.wheelX=h,d.wheelY=c,10*Math.abs(h)<Math.abs(c)&&(h=0),10*Math.abs(c)<Math.abs(h)&&(c=0),0!=l&&(w=h/l,g=c/l),i._emit("mousewheel",d),d.propagationStopped||(w=g=0)}else{var p=new e(t,i).getDocumentPosition();"cursor"==v?i.selection.moveCursorToPosition(p):"anchor"==v&&i.selection.setSelectionAnchor(p.row,p.column),i.renderer.scrollCursorIntoView(p),t.preventDefault()}}}),i)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(t,i,n){var e=t("../lib/event"),r=t("../lib/useragent"),s=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,h=t("./mouse_event").MouseEvent,u=t("./dragdrop_handler").DragdropHandler,a=t("./touch_handler").addTouchListeners,c=t("../config"),f=function(){function t(t){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var i=this;this.editor=t,new s(this),new o(this),new u(this);var n=function(i){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus(),setTimeout((function(){t.isFocused()||t.focus()}))},h=t.renderer.getMouseEventTarget();e.addListener(h,"click",this.onMouseEvent.bind(this,"click"),t),e.addListener(h,"mousemove",this.onMouseMove.bind(this,"mousemove"),t),e.addMultiMouseDownListener([h,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",t),e.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel"),t),a(t.container,t);var c=t.renderer.$gutter;e.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),t),e.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick"),t),e.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),t),e.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),t),e.addListener(h,"mousedown",n,t),e.addListener(c,"mousedown",n,t),r.isIE&&t.renderer.scrollBarV&&(e.addListener(t.renderer.scrollBarV.element,"mousedown",n,t),e.addListener(t.renderer.scrollBarH.element,"mousedown",n,t)),t.on("mousemove",(function(n){if(!i.state&&!i.$dragDelay&&i.$dragEnabled){var e=t.renderer.screenToTextCoordinates(n.x,n.y),r=t.session.selection.getRange(),s=t.renderer;!r.isEmpty()&&r.insideStart(e.row,e.column)?s.setCursorStyle("default"):s.setCursorStyle("")}}),t)}return t.prototype.onMouseEvent=function(t,i){this.editor.session&&this.editor._emit(t,new h(i,this.editor))},t.prototype.onMouseMove=function(t,i){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new h(i,this.editor))},t.prototype.onMouseWheel=function(t,i){var n=new h(i,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=i.wheelX,n.wheelY=i.wheelY,this.editor._emit(t,n)},t.prototype.setState=function(t){this.state=t},t.prototype.captureMouse=function(t,i){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var n=this.editor,s=this.editor.renderer;s.$isMousePressed=!0;var o=this,u=function(t){if(t){if(r.isWebKit&&!t.which&&o.releaseMouse)return o.releaseMouse();o.x=t.clientX,o.y=t.clientY,i&&i(t),o.mouseEvent=new h(t,o.editor),o.$mouseMoved=!0}},a=function(t){n.off("beforeEndOperation",f),clearInterval(l),n.session&&c(),o[o.state+"End"]&&o[o.state+"End"](t),o.state="",o.isMousePressed=s.$isMousePressed=!1,s.$keepTextAreaAtCursor&&s.$moveTextAreaToCursor(),o.$onCaptureMouseMove=o.releaseMouse=null,t&&o.onMouseEvent("mouseup",t),n.endOperation()},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout((function(){a(t)}));var f=function(t){o.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(o[o.state+"End"]&&o[o.state+"End"](),o.state="",o.releaseMouse())};n.on("beforeEndOperation",f),n.startOperation({command:{name:"mouse"}}),o.$onCaptureMouseMove=u,o.releaseMouse=e.capture(this.editor.container,u,a);var l=setInterval(c,20)},t.prototype.cancelContextMenu=function(){var t=function(i){i&&i.domEvent&&"contextmenu"!=i.domEvent.type||(this.editor.off("nativecontextmenu",t),i&&i.domEvent&&e.stopEvent(i.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)},t.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},t}();f.prototype.releaseMouse=null,c.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),i.MouseHandler=f})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(t,i,n){var e=t("../lib/dom"),r=function(t){t.on("click",(function(i){var n=i.getDocumentPosition(),r=t.session,s=r.getFoldAt(n.row,n.column,1);s&&(i.getAccelKey()?r.removeFold(s):r.expandFold(s),i.stop());var o=i.domEvent&&i.domEvent.target;o&&e.hasCssClass(o,"ace_inline_button")&&e.hasCssClass(o,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),t.renderer.scrollCursorIntoView())})),t.on("gutterclick",(function(i){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(i)){var n=i.getDocumentPosition().row,e=t.session;e.foldWidgets&&e.foldWidgets[n]&&t.session.onFoldWidgetClick(n,i),t.isFocused()||t.focus(),i.stop()}})),t.on("gutterdblclick",(function(i){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(i)){var n=i.getDocumentPosition().row,e=t.session,r=e.getParentFoldRangeData(n,!0),s=r.range||r.firstRange;if(s){n=s.start.row;var o=e.getFoldAt(n,e.getLine(n).length,1);o?e.removeFold(o):(e.addFold("...",s),t.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}i.stop()}}))};i.FoldHandler=r})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(t,i,n){var e=t("../lib/keys"),r=t("../lib/event"),s=function(){function t(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)}return t.prototype.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},t.prototype.setKeyboardHandler=function(t){var i=this.$handlers;if(i[i.length-1]!=t){for(;i[i.length-1]&&i[i.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(i[i.length-1]);this.addKeyboardHandler(t,1)}},t.prototype.addKeyboardHandler=function(t,i){if(t){"function"!=typeof t||t.handleKeyboard||(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),null==i?this.$handlers.push(t):this.$handlers.splice(i,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},t.prototype.removeKeyboardHandler=function(t){var i=this.$handlers.indexOf(t);return-1!=i&&(this.$handlers.splice(i,1),t.detach&&t.detach(this.$editor),!0)},t.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},t.prototype.getStatusText=function(){var t=this.$data,i=t.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(i,t)||""})).filter(Boolean).join(" ")},t.prototype.$callKeyboardHandlers=function(t,i,n,e){for(var s,o=!1,h=this.$editor.commands,u=this.$handlers.length;u--&&!((s=this.$handlers[u].handleKeyboard(this.$data,t,i,n,e))&&s.command&&((o="null"==s.command||h.exec(s.command,this.$editor,s.args,e))&&e&&-1!=t&&1!=s.passEvent&&1!=s.command.passEvent&&r.stopEvent(e),o)););return o||-1!=t||(s={command:"insertstring"},o=h.exec("insertstring",this.$editor,i)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},t.prototype.onCommandKey=function(t,i,n){var r=e.keyCodeToString(n);return this.$callKeyboardHandlers(i,r,n,t)},t.prototype.onTextInput=function(t){return this.$callKeyboardHandlers(-1,t)},t}();i.KeyBinding=s})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(t,i,n){var e=0,r=0,s=!1,o=!1,h=!1,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],a=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],c=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],f=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function l(t,i,n){if(!(r<t))if(1!=t||1!=e||o)for(var s,h,u,a,c=n.length,f=0;f<c;){if(i[f]>=t){for(s=f+1;s<c&&i[s]>=t;)s++;for(h=f,u=s-1;h<u;h++,u--)a=n[h],n[h]=n[u],n[u]=a;f=s}f++}else n.reverse()}function d(t,i,n,r){var u,a,c,f,l=i[r];switch(l){case 0:case 1:s=!1;case 4:case 3:return l;case 2:return s?3:2;case 7:return s=!0,1;case 8:return 4;case 9:return r<1||r+1>=i.length||2!=(u=n[r-1])&&3!=u||2!=(a=i[r+1])&&3!=a?4:(s&&(a=3),a==u?a:4);case 10:return 2==(u=r>0?n[r-1]:5)&&r+1<i.length&&2==i[r+1]?2:4;case 11:if(r>0&&2==n[r-1])return 2;if(s)return 4;for(f=r+1,c=i.length;f<c&&11==i[f];)f++;return f<c&&2==i[f]?2:4;case 12:for(c=i.length,f=r+1;f<c&&12==i[f];)f++;if(f<c){var d=t[r],v=d>=1425&&d<=2303||64286==d;if(u=i[f],v&&(1==u||7==u))return 1}return r<1||5==(u=i[r-1])?4:n[r-1];case 5:return s=!1,o=!0,e;case 6:return h=!0,4;case 13:case 14:case 16:case 17:case 15:s=!1;case 18:return 4}}function v(t){var i=t.charCodeAt(0),n=i>>8;return 0==n?i>191?0:c[i]:5==n?/[\u0591-\u05f4]/.test(t)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?12:/[\u0660-\u0669\u066b-\u066c]/.test(t)?3:1642==i?11:/[\u06f0-\u06f9]/.test(t)?2:7:32==n&&i<=8287?f[255&i]:254==n&&i>=65136?7:4}i.L=0,i.R=1,i.EN=2,i.ON_R=3,i.AN=4,i.R_H=5,i.B=6,i.RLE=7,i.DOT="",i.doBidiReorder=function(t,n,c){if(t.length<2)return{};var f=t.split(""),p=new Array(f.length),m=new Array(f.length),w=[];e=c?1:0,function(t,i,n,c){var f=e?a:u,l=null,p=null,m=null,w=0,g=null,b=-1,y=null,A=null,x=[];if(!c)for(y=0,c=[];y<n;y++)c[y]=v(t[y]);for(r=e,s=!1,o=!1,h=!1,A=0;A<n;A++){if(l=w,x[A]=p=d(t,c,x,A),g=240&(w=f[l][p]),w&=15,i[A]=m=f[w][5],g>0)if(16==g){for(y=b;y<A;y++)i[y]=1;b=-1}else b=-1;if(f[w][6])-1==b&&(b=A);else if(b>-1){for(y=b;y<A;y++)i[y]=m;b=-1}5==c[A]&&(i[A]=0),r|=m}if(h)for(y=0;y<n;y++)if(6==c[y]){i[y]=e;for(var _=y-1;_>=0&&8==c[_];_--)i[_]=e}}(f,w,f.length,n);for(var g=0;g<p.length;p[g]=g,g++);l(2,w,p),l(1,w,p);for(g=0;g<p.length-1;g++)3===n[g]?w[g]=i.AN:1===w[g]&&(n[g]>7&&n[g]<13||4===n[g]||18===n[g])?w[g]=i.ON_R:g>0&&""===f[g-1]&&/\u0622|\u0623|\u0625|\u0627/.test(f[g])&&(w[g-1]=w[g]=i.R_H,g++);f[f.length-1]===i.DOT&&(w[f.length-1]=i.B),""===f[0]&&(w[0]=i.RLE);for(g=0;g<p.length;g++)m[g]=w[p[g]];return{logicalFromVisual:p,bidiLevels:m}},i.hasBidiCharacters=function(t,i){for(var n=!1,e=0;e<t.length;e++)i[e]=v(t.charAt(e)),n||1!=i[e]&&7!=i[e]&&3!=i[e]||(n=!0);return n},i.getVisualFromLogicalIdx=function(t,i){for(var n=0;n<i.logicalFromVisual.length;n++)if(i.logicalFromVisual[n]==t)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(t,i,n){var e=t("./lib/bidiutil"),r=t("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(){function t(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=e,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(t.getValue())}return t.prototype.isBidiRow=function(t,i,n){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(i,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},t.prototype.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&s.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},t.prototype.getDocumentRow=function(){var t=0,i=this.session.$screenRowCache;if(i.length){var n=this.session.$getRowCacheIndex(i,this.currentRow);n>=0&&(t=this.session.$docRowCache[n])}return t},t.prototype.getSplitIndex=function(){var t=0,i=this.session.$screenRowCache;if(i.length)for(var n,e=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-t>0&&(n=this.session.$getRowCacheIndex(i,this.currentRow-t-1))===e;)e=n,t++;else t=this.currentRow;return t},t.prototype.updateRowLine=function(t,i){void 0===t&&(t=this.getDocumentRow());var n=t===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[t];s&&(void 0===i&&(i=this.getSplitIndex()),i>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[e.L],this.line=i<s.length?this.line.substring(s[i-1],s[i]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[i]),i==s.length&&(this.line+=this.showInvisibles?n:e.DOT))}else this.line+=this.showInvisibles?n:e.DOT;var o,h=this.session,u=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(t,i){return"\t"===t||h.isFullWidth(t.charCodeAt(0))?(o="\t"===t?h.getScreenTabSize(i+u):2,u+=o-1,r.stringRepeat(e.DOT,o)):t})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==e.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},t.prototype.updateBidiMap=function(){var t=[];e.hasBidiCharacters(this.line,t)||this.isRtlDir?this.bidiMap=e.doBidiReorder(this.line,t,this.isRtlDir):this.bidiMap={}},t.prototype.markAsDirty=function(){this.currentRow=null},t.prototype.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var i=this.characterWidth=t.$characterSize.width,n=t.$measureCharWidth("");this.charWidths[e.L]=this.charWidths[e.EN]=this.charWidths[e.ON_R]=i,this.charWidths[e.R]=this.charWidths[e.AN]=n,this.charWidths[e.R_H]=.45*n,this.charWidths[e.B]=this.charWidths[e.RLE]=0,this.currentRow=null}},t.prototype.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},t.prototype.setEolChar=function(t){this.EOL=t},t.prototype.setContentWidth=function(t){this.contentWidth=t},t.prototype.isRtlLine=function(t){return!!this.$isRtl||(null!=t?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir)},t.prototype.setRtlDirection=function(t,i){for(var n=t.getCursorPosition(),e=t.selection.getSelectionAnchor().row;e<=n.row;e++)i||t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE?i&&t.session.getLine(e).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:e},t.session.$bidiHandler.RLE):t.session.doc.removeInLine(e,0,1)},t.prototype.getPosLeft=function(t){t-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,n=t>i?this.session.getOverwrite()?t:t-1:i,r=e.getVisualFromLogicalIdx(n,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&t<=i&&s[r]%2!=0&&r++;for(var h=0;h<r;h++)o+=this.charWidths[s[h]];return!this.session.getOverwrite()&&t>i&&s[r]%2==0&&(o+=this.charWidths[s[r]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},t.prototype.getSelections=function(t,i){var n,e=this.bidiMap,r=e.bidiLevels,s=[],o=0,h=Math.min(t,i)-this.wrapIndent,u=Math.max(t,i)-this.wrapIndent,a=!1,c=!1,f=0;this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var l,d=0;d<r.length;d++)l=e.logicalFromVisual[d],n=r[d],(a=l>=h&&l<u)&&!c?f=o:!a&&c&&s.push({left:f,width:o-f}),o+=this.charWidths[n],c=a;if(a&&d===r.length&&s.push({left:f,width:o-f}),this.isRtlDir)for(var v=0;v<s.length;v++)s[v].left+=this.rtlLineOffset;return s},t.prototype.offsetToCol=function(t){this.isRtlDir&&(t-=this.rtlLineOffset);var i=0,n=(t=Math.max(t,0),0),e=0,r=this.bidiMap.bidiLevels,s=this.charWidths[r[e]];for(this.wrapIndent&&(t-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);t>n+s/2;){if(n+=s,e===r.length-1){s=0;break}s=this.charWidths[r[++e]]}return e>0&&r[e-1]%2!=0&&r[e]%2==0?(t<n&&e--,i=this.bidiMap.logicalFromVisual[e]):e>0&&r[e-1]%2==0&&r[e]%2!=0?i=1+(t>n?this.bidiMap.logicalFromVisual[e]:this.bidiMap.logicalFromVisual[e-1]):this.isRtlDir&&e===r.length-1&&0===s&&r[e-1]%2==0||!this.isRtlDir&&0===e&&r[e]%2!=0?i=1+this.bidiMap.logicalFromVisual[e]:(e>0&&r[e-1]%2!=0&&0!==s&&e--,i=this.bidiMap.logicalFromVisual[e]),0===i&&this.isRtlDir&&i++,i+this.wrapIndent},t}();i.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(t,i,n){var e=t("./lib/oop"),r=t("./lib/lang"),s=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,h=function(){function t(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",(function(t){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),i.$isEmpty||i.$silent||i._emit("changeSelection"),i.$keepDesiredColumnOnChange||t.old.column==t.value.column||(i.$desiredColumn=null)})),this.anchor.on("change",(function(){i.$anchorChanged=!0,i.$isEmpty||i.$silent||i._emit("changeSelection")}))}return t.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},t.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},t.prototype.getCursor=function(){return this.lead.getPosition()},t.prototype.setAnchor=function(t,i){this.$isEmpty=!1,this.anchor.setPosition(t,i)},t.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},t.prototype.getSelectionLead=function(){return this.lead.getPosition()},t.prototype.isBackwards=function(){var t=this.anchor,i=this.lead;return t.row>i.row||t.row==i.row&&t.column>i.column},t.prototype.getRange=function(){var t=this.anchor,i=this.lead;return this.$isEmpty?o.fromPoints(i,i):this.isBackwards()?o.fromPoints(i,t):o.fromPoints(t,i)},t.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},t.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},t.prototype.setRange=function(t,i){var n=i?t.end:t.start,e=i?t.start:t.end;this.$setSelection(n.row,n.column,e.row,e.column)},t.prototype.$setSelection=function(t,i,n,e){if(!this.$silent){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,i),this.cursor.setPosition(n,e),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")}},t.prototype.$moveSelection=function(t){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),t.call(this)},t.prototype.selectTo=function(t,i){this.$moveSelection((function(){this.moveCursorTo(t,i)}))},t.prototype.selectToPosition=function(t){this.$moveSelection((function(){this.moveCursorToPosition(t)}))},t.prototype.moveTo=function(t,i){this.clearSelection(),this.moveCursorTo(t,i)},t.prototype.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},t.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},t.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},t.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},t.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},t.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},t.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},t.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},t.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},t.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},t.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},t.prototype.getWordRange=function(t,i){if(void 0===i){var n=t||this.lead;t=n.row,i=n.column}return this.session.getWordRange(t,i)},t.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},t.prototype.selectAWord=function(){var t=this.getCursor(),i=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(i)},t.prototype.getLineRange=function(t,i){var n,e="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(e);return r?(e=r.start.row,n=r.end.row):n=e,!0===i?new o(e,0,n,this.session.getLine(n).length):new o(e,0,n+1,0)},t.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},t.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},t.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},t.prototype.wouldMoveIntoSoftTab=function(t,i,n){var e=t.column,r=t.column+i;return n<0&&(e=t.column-i,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(e,r).split(" ").length-1==i},t.prototype.moveCursorLeft=function(){var t,i=this.lead.getPosition();if(t=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===i.column)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},t.prototype.moveCursorRight=function(){var t,i=this.lead.getPosition();if(t=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();i=this.lead;this.wouldMoveIntoSoftTab(i,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},t.prototype.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,n=this.session.documentToScreenRow(t,i),e=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,e.row,e.column).match(/^\s*/);r[0].length==i||this.session.$useEmacsStyleLineStart||(e.column+=r[0].length),this.moveCursorToPosition(e)},t.prototype.moveCursorLineEnd=function(){var t=this.lead,i=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==i.column){var n=this.session.getLine(i.row);if(i.column==n.length){var e=n.search(/\s+$/);e>0&&(i.column=e)}}this.moveCursorTo(i.row,i.column)},t.prototype.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,i=this.doc.getLine(t).length;this.moveCursorTo(t,i)},t.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},t.prototype.moveCursorLongWordRight=function(){var t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),e=n.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,i,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(e)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=n.substring(i)),i>=n.length)return this.moveCursorTo(t,n.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(e)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},t.prototype.moveCursorLongWordLeft=function(){var t,i=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(i,n,-1))this.moveCursorTo(t.start.row,t.start.column);else{var e=this.session.getFoldStringAt(i,n,-1);null==e&&(e=this.doc.getLine(i).substring(0,n));var s=r.stringReverse(e);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(n-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(i,0),this.moveCursorLeft(),void(i>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,n)}},t.prototype.$shortWordEndIndex=function(t){var i,n=0,e=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(i=t[n])&&e.test(i);)n++;if(n<1)for(r.lastIndex=0;(i=t[n])&&!r.test(i);)if(r.lastIndex=0,n++,e.test(i)){if(n>2){n--;break}for(;(i=t[n])&&e.test(i);)n++;if(n>2)break}}return r.lastIndex=0,n},t.prototype.moveCursorShortWordRight=function(){var t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),e=n.substring(i),r=this.session.getFoldAt(t,i,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(i==n.length){var s=this.doc.getLength();do{t++,e=this.doc.getLine(t)}while(t<s&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),i=0}var o=this.$shortWordEndIndex(e);this.moveCursorTo(t,i+o)},t.prototype.moveCursorShortWordLeft=function(){var t,i=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(i,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var e=this.session.getLine(i).substring(0,n);if(0===n){do{i--,e=this.doc.getLine(i)}while(i>0&&/^\s*$/.test(e));n=e.length,/\s+$/.test(e)||(e="")}var s=r.stringReverse(e),o=this.$shortWordEndIndex(s);return this.moveCursorTo(i,n-o)},t.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},t.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},t.prototype.moveCursorBy=function(t,i){var n,e=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===i&&(0!==t&&(this.session.$bidiHandler.isBidiRow(e.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(e.column),e.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=e.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?e.column=this.$desiredColumn:this.$desiredColumn=e.column),0!=t&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];t<0?t-=r.rowsAbove||0:t>0&&(t+=r.rowCount-(r.rowsAbove||0))}var s=this.session.screenToDocumentPosition(e.row+t,e.column,n);0!==t&&0===i&&s.row===this.lead.row&&(s.column,this.lead.column),this.moveCursorTo(s.row,s.column+i,0===i)},t.prototype.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},t.prototype.moveCursorTo=function(t,i,n){var e=this.session.getFoldAt(t,i,1);e&&(t=e.start.row,i=e.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(i))&&r.charAt(i-1)&&(this.lead.row==t&&this.lead.column==i+1?i-=1:i+=1),this.lead.setPosition(t,i),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},t.prototype.moveCursorToScreen=function(t,i,n){var e=this.session.screenToDocumentPosition(t,i);this.moveCursorTo(e.row,e.column,n)},t.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},t.prototype.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},t.prototype.toOrientedRange=function(t){var i=this.getRange();return t?(t.start.column=i.start.column,t.start.row=i.start.row,t.end.column=i.end.column,t.end.row=i.end.row):t=i,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},t.prototype.getRangeOfMovements=function(t){var i=this.getCursor();try{t(this);var n=this.getCursor();return o.fromPoints(i,n)}catch(t){return o.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},t.prototype.toJSON=function(){if(this.rangeCount)var t=this.ranges.map((function(t){var i=t.clone();return i.isBackwards=t.cursor==t.start,i}));else(t=this.getRange()).isBackwards=this.isBackwards();return t},t.prototype.fromJSON=function(t){if(null==t.start){if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var i=t.length;i--;){var n=o.fromPoints(t[i].start,t[i].end);t[i].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},t.prototype.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(t[i]))return!1;return!0},t}();h.prototype.setSelectionAnchor=h.prototype.setAnchor,h.prototype.getSelectionAnchor=h.prototype.getAnchor,h.prototype.setSelectionRange=h.prototype.setRange,e.implement(h.prototype,s),i.Selection=h})),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],(function(t,i,n){var e=t("./lib/report_error").reportError,r=2e3,s=function(){function t(t){for(var i in this.splitRegex,this.states=t,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[i],e=[],r=0,s=this.matchMappings[i]={defaultToken:"text"},o="g",h=[],u=0;u<n.length;u++){var a=n[u];if(a.defaultToken&&(s.defaultToken=a.defaultToken),a.caseInsensitive&&-1===o.indexOf("i")&&(o+="i"),a.unicode&&-1===o.indexOf("u")&&(o+="u"),null!=a.regex){a.regex instanceof RegExp&&(a.regex=a.regex.toString().slice(1,-1));var c=a.regex,f=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(a.token)?1==a.token.length||1==f?a.token=a.token[0]:f-1!=a.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:a,groupCount:f-1}),a.token=a.token[0]):(a.tokenArray=a.token,a.token=null,a.onMatch=this.$arrayTokens):"function"!=typeof a.token||a.onMatch||(a.onMatch=f>1?this.$applyToken:a.token),f>1&&(/\\\d/.test(a.regex)?c=a.regex.replace(/\\([0-9]+)/g,(function(t,i){return"\\"+(parseInt(i,10)+r+1)})):(f=1,c=this.removeCapturingGroups(a.regex)),a.splitRegex||"string"==typeof a.token||h.push(a)),s[r]=u,r+=f,e.push(c),a.onMatch||(a.onMatch=null)}}e.length||(s[0]=0,e.push("$")),h.forEach((function(t){t.splitRegex=this.createSplitterRegexp(t.regex,o)}),this),this.regExps[i]=new RegExp("("+e.join(")|(")+")|($)",o)}}return t.prototype.$setMaxTokenCount=function(t){r=0|t},t.prototype.$applyToken=function(t){var i=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,i);if("string"==typeof n)return[{type:n,value:t}];for(var e=[],r=0,s=n.length;r<s;r++)i[r]&&(e[e.length]={type:n[r],value:i[r]});return e},t.prototype.$arrayTokens=function(t){if(!t)return[];var i=this.splitRegex.exec(t);if(!i)return"text";for(var n=[],e=this.tokenArray,r=0,s=e.length;r<s;r++)i[r+1]&&(n[n.length]={type:e[r],value:i[r+1]});return n},t.prototype.removeCapturingGroups=function(t){return t.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(t,i){return i?"(?:":t}))},t.prototype.createSplitterRegexp=function(t,i){if(-1!=t.indexOf("(?=")){var n=0,e=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(t,i,s,o,h,u){return e?e="]"!=h:h?e=!0:o?(n==r.stack&&(r.end=u+1,r.stack=-1),n--):s&&(n++,1!=s.length&&(r.stack=n,r.start=u)),t})),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(i||"").replace("g",""))},t.prototype.getLineTokens=function(t,i){if(i&&"string"!=typeof i){var n=i.slice(0);"#tmp"===(i=n[0])&&(n.shift(),i=n.shift())}else n=[];var e=i||"start",s=this.states[e];s||(e="start",s=this.states[e]);var o=this.matchMappings[e],h=this.regExps[e];h.lastIndex=0;for(var u,a=[],c=0,f=0,l={type:null,value:""};u=h.exec(t);){var d=o.defaultToken,v=null,p=u[0],m=h.lastIndex;if(m-p.length>c){var w=t.substring(c,m-p.length);l.type==d?l.value+=w:(l.type&&a.push(l),l={type:d,value:w})}for(var g=0;g<u.length-2;g++)if(void 0!==u[g+1]){d=(v=s[o[g]]).onMatch?v.onMatch(p,e,n,t):v.token,v.next&&(e="string"==typeof v.next?v.next:v.next(e,n),(s=this.states[e])||(this.reportError("state doesn't exist",e),e="start",s=this.states[e]),o=this.matchMappings[e],c=m,(h=this.regExps[e]).lastIndex=m),v.consumeLineEnd&&(c=m);break}if(p)if("string"==typeof d)v&&!1===v.merge||l.type!==d?(l.type&&a.push(l),l={type:d,value:p}):l.value+=p;else if(d){l.type&&a.push(l),l={type:null,value:""};for(g=0;g<d.length;g++)a.push(d[g])}if(c==t.length)break;if(c=m,f++>r){for(f>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:i,line:t});c<t.length;)l.type&&a.push(l),l={value:t.substring(c,c+=500),type:"overflow"};e="start",n=[];break}}return l.type&&a.push(l),n.length>1&&n[0]!==e&&n.unshift("#tmp",e),{tokens:a,state:n.length?n:e}},t}();s.prototype.reportError=e,i.Tokenizer=s})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],(function(t,i,n){var e,r=t("../lib/deep_copy").deepCopy;(function(){this.addRules=function(t,i){if(i)for(var n in t){for(var e=t[n],r=0;r<e.length;r++){var s=e[r];(s.next||s.onMatch)&&("string"==typeof s.next&&0!==s.next.indexOf(i)&&(s.next=i+s.next),s.nextState&&0!==s.nextState.indexOf(i)&&(s.nextState=i+s.nextState))}this.$rules[i+n]=e}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,i,n,e,s){var o="function"==typeof t?(new t).getRules():t;if(e)for(var h=0;h<e.length;h++)e[h]=i+e[h];else for(var u in e=[],o)e.push(i+u);if(this.addRules(o,i),n){var a=Array.prototype[s?"push":"unshift"];for(h=0;h<e.length;h++)a.apply(this.$rules[e[h]],r(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(i)},this.getEmbeds=function(){return this.$embeds};var t=function(t,i){return("start"!=t||i.length)&&i.unshift(this.nextState,t),this.nextState},i=function(t,i){return i.shift(),i.shift()||"start"};this.normalizeRules=function(){var n=0,e=this.$rules;Object.keys(e).forEach((function r(s){var o=e[s];o.processed=!0;for(var h=0;h<o.length;h++){var u=o[h],a=null;Array.isArray(u)&&(a=u,u={}),!u.regex&&u.start&&(u.regex=u.start,u.next||(u.next=[]),u.next.push({defaultToken:u.token},{token:u.token+".end",regex:u.end||u.start,next:"pop"}),u.token=u.token+".start",u.push=!0);var c=u.next||u.push;if(c&&Array.isArray(c)){var f=u.stateName;f||("string"!=typeof(f=u.token)&&(f=f[0]||""),e[f]&&(f+=n++)),e[f]=c,u.next=f,r(f)}else"pop"==c&&(u.next=i);if(u.push&&(u.nextState=u.next||u.push,u.next=t,delete u.push),u.rules)for(var l in u.rules)e[l]?e[l].push&&e[l].push.apply(e[l],u.rules[l]):e[l]=u.rules[l];var d="string"==typeof u?u:u.include;if(d&&("$self"===d&&(d="start"),a=Array.isArray(d)?d.map((function(t){return e[t]})):e[d]),a){var v=[h,1].concat(a);u.noEscape&&(v=v.filter((function(t){return!t.next}))),o.splice.apply(o,v),h--}u.keywordMap&&(u.token=this.createKeywordMapper(u.keywordMap,u.defaultToken||"text",u.caseInsensitive),delete u.defaultToken)}}),this)},this.createKeywordMapper=function(t,i,n,e){var r=Object.create(null);return this.$keywordList=[],Object.keys(t).forEach((function(i){for(var s=t[i].split(e||"|"),o=s.length;o--;){var h=s[o];this.$keywordList.push(h),n&&(h=h.toLowerCase()),r[h]=i}}),this),t=null,n?function(t){return r[t.toLowerCase()]||i}:function(t){return r[t]||i}},this.getKeywords=function(){return this.$keywords}}).call((e=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),i.TextHighlightRules=e})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(t,i,n){var e;(function(){this.add=function(t,i,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][i]=n},this.addBehaviours=function(t){for(var i in t)for(var n in t[i])this.add(i,n,t[i][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,i){if("function"==typeof t)var n=(new t).getBehaviours(i);else n=t.getBehaviours(i);this.addBehaviours(n)},this.getBehaviours=function(t){if(t){for(var i={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(i[t[n]]=this.$behaviours[t[n]]);return i}return this.$behaviours}}).call((e=function(){this.$behaviours={}}).prototype),i.Behaviour=e})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(t,i,n){var e=t("./range").Range,r=function(){function t(t,i,n){this.$session=t,this.$row=i,this.$rowTokens=t.getTokens(i);var e=t.getTokenAt(i,n);this.$tokenIndex=e?e.index:-1}return t.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},t.prototype.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},t.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},t.prototype.getCurrentTokenRow=function(){return this.$row},t.prototype.getCurrentTokenColumn=function(){var t=this.$rowTokens,i=this.$tokenIndex,n=t[i].start;if(void 0!==n)return n;for(n=0;i>0;)n+=t[i-=1].value.length;return n},t.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},t.prototype.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],i=this.getCurrentTokenColumn();return new e(this.$row,i,this.$row,i+t.value.length)},t}();i.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(t,i,n){var e,r,s=t("../../lib/oop"),o=t("../behaviour").Behaviour,h=t("../../token_iterator").TokenIterator,u=t("../../lib/lang"),a=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],f={},l={'"':'"',"'":"'"},d=function(t){var i=-1;if(t.multiSelect&&(i=t.selection.index,f.rangeCount!=t.multiSelect.rangeCount&&(f={rangeCount:t.multiSelect.rangeCount})),f[i])return e=f[i];e=f[i]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},v=function(t,i,n,e){var r=t.end.row-t.start.row;return{text:n+i+e,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}};(r=function(t){t=t||{},this.add("braces","insertion",(function(i,n,s,o,h){var a=s.getCursorPosition(),c=o.doc.getLine(a.row);if("{"==h){d(s);var f=s.getSelectionRange(),l=o.doc.getTextRange(f),p=o.getTokenAt(a.row,a.column);if(""!==l&&"{"!==l&&s.getWrapBehavioursEnabled())return v(f,l,"{","}");if(p&&/(?:string)\.quasi|\.xml/.test(p.type)){if([/tag\-(?:open|name)/,/attribute\-name/].some((function(t){return t.test(p.type)}))||/(string)\.quasi/.test(p.type)&&"$"!==p.value[a.column-p.start-1])return;return r.recordAutoInsert(s,o,"}"),{text:"{}",selection:[1,1]}}if(r.isSaneInsertion(s,o))return/[\]\}\)]/.test(c[a.column])||s.inMultiSelectMode||t.braces?(r.recordAutoInsert(s,o,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(s,o,"{"),{text:"{",selection:[1,1]})}else if("}"==h){if(d(s),"}"==c.substring(a.column,a.column+1))if(null!==o.$findOpeningBracket("}",{column:a.column+1,row:a.row})&&r.isAutoInsertedClosing(a,c,h))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==h||"\r\n"==h){d(s);var m="";if(r.isMaybeInsertedClosing(a,c)&&(m=u.stringRepeat("}",e.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),"}"===c.substring(a.column,a.column+1)){var w=o.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!w)return null;var g=this.$getIndent(o.getLine(w.row))}else{if(!m)return void r.clearMaybeInsertedClosing();g=this.$getIndent(c)}var b=g+o.getTabString();return{text:"\n"+b+"\n"+g+m,selection:[1,b.length,1,b.length]}}r.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(t,i,n,r,s){var o=r.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(d(n),"}"==r.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;e.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(t,i,n,e,s){if("("==s){d(n);var o=n.getSelectionRange(),h=e.doc.getTextRange(o);if(""!==h&&n.getWrapBehavioursEnabled())return v(o,h,"(",")");if(r.isSaneInsertion(n,e))return r.recordAutoInsert(n,e,")"),{text:"()",selection:[1,1]}}else if(")"==s){d(n);var u=n.getCursorPosition(),a=e.doc.getLine(u.row);if(")"==a.substring(u.column,u.column+1))if(null!==e.$findOpeningBracket(")",{column:u.column+1,row:u.row})&&r.isAutoInsertedClosing(u,a,s))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(t,i,n,e,r){var s=e.doc.getTextRange(r);if(!r.isMultiLine()&&"("==s&&(d(n),")"==e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(t,i,n,e,s){if("["==s){d(n);var o=n.getSelectionRange(),h=e.doc.getTextRange(o);if(""!==h&&n.getWrapBehavioursEnabled())return v(o,h,"[","]");if(r.isSaneInsertion(n,e))return r.recordAutoInsert(n,e,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){d(n);var u=n.getCursorPosition(),a=e.doc.getLine(u.row);if("]"==a.substring(u.column,u.column+1))if(null!==e.$findOpeningBracket("]",{column:u.column+1,row:u.row})&&r.isAutoInsertedClosing(u,a,s))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(t,i,n,e,r){var s=e.doc.getTextRange(r);if(!r.isMultiLine()&&"["==s&&(d(n),"]"==e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(t,i,n,e,r){var s=e.$mode.$quotes||l;if(1==r.length&&s[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(n);var o=r,h=n.getSelectionRange(),u=e.doc.getTextRange(h);if(!(""===u||1==u.length&&s[u])&&n.getWrapBehavioursEnabled())return v(h,u,o,o);if(!u){var a=n.getCursorPosition(),c=e.doc.getLine(a.row),f=c.substring(a.column-1,a.column),p=c.substring(a.column,a.column+1),m=e.getTokenAt(a.row,a.column),w=e.getTokenAt(a.row,a.column+1);if("\\"==f&&m&&/escape/.test(m.type))return null;var g,b=m&&/string|escape/.test(m.type),y=!w||/string|escape/.test(w.type);if(p==o)(g=b!==y)&&/string\.end/.test(w.type)&&(g=!1);else{if(b&&!y)return null;if(b&&y)return null;var A=e.$mode.tokenRe;A.lastIndex=0;var x=A.test(f);A.lastIndex=0;var _=A.test(p),k=e.$mode.$pairQuotesAfter;if(!(k&&k[o]&&k[o].test(f))&&x||_)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;var S=c[a.column-2];if(f==o&&(S==o||A.test(S)))return null;g=!0}return{text:g?o+o:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(t,i,n,e,r){var s=e.$mode.$quotes||l,o=e.doc.getTextRange(r);if(!r.isMultiLine()&&s.hasOwnProperty(o)&&(d(n),e.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o))return r.end.column++,r})),!1!==t.closeDocComment&&this.add("doc comment end","insertion",(function(t,i,n,e,r){if("doc-start"===t&&("\n"===r||"\r\n"===r)&&n.selection.isEmpty()){var s=n.getCursorPosition();if(0===s.column)return;for(var o=e.doc.getLine(s.row),h=e.doc.getLine(s.row+1),u=e.getTokens(s.row),a=0,c=0;c<u.length;c++){a+=u[c].value.length;var f=u[c];if(a>=s.column){if(a===s.column){if(!/\.doc/.test(f.type))return;if(/\*\//.test(f.value)){var l=u[c+1];if(!l||!/\.doc/.test(l.type))return}}var d=s.column-(a-f.value.length),v=f.value.indexOf("*/"),p=f.value.indexOf("/**",v>-1?v+2:0);if(-1!==p&&d>p&&d<p+3)return;if(-1!==v&&-1!==p&&d>=v&&d<=p||!/\.doc/.test(f.type))return;break}}var m=this.$getIndent(o);if(/\s*\*/.test(h))return/^\s*\*/.test(o)?{text:r+m+"* ",selection:[1,2+m.length,1,2+m.length]}:{text:r+m+" * ",selection:[1,3+m.length,1,3+m.length]};if(/\/\*\*/.test(o.substring(0,s.column)))return{text:r+m+" * "+r+" "+m+"*/",selection:[1,4+m.length,1,4+m.length]}}}))}).isSaneInsertion=function(t,i){var n=t.getCursorPosition(),e=new h(i,n.row,n.column);if(!this.$matchTokenType(e.getCurrentToken()||"text",a)){if(/[)}\]]/.test(t.session.getLine(n.row)[n.column]))return!0;var r=new h(i,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",a))return!1}return e.stepForward(),e.getCurrentTokenRow()!==n.row||this.$matchTokenType(e.getCurrentToken()||"text",c)},r.$matchTokenType=function(t,i){return i.indexOf(t.type||t)>-1},r.recordAutoInsert=function(t,i,n){var r=t.getCursorPosition(),s=i.doc.getLine(r.row);this.isAutoInsertedClosing(r,s,e.autoInsertedLineEnd[0])||(e.autoInsertedBrackets=0),e.autoInsertedRow=r.row,e.autoInsertedLineEnd=n+s.substr(r.column),e.autoInsertedBrackets++},r.recordMaybeInsert=function(t,i,n){var r=t.getCursorPosition(),s=i.doc.getLine(r.row);this.isMaybeInsertedClosing(r,s)||(e.maybeInsertedBrackets=0),e.maybeInsertedRow=r.row,e.maybeInsertedLineStart=s.substr(0,r.column)+n,e.maybeInsertedLineEnd=s.substr(r.column),e.maybeInsertedBrackets++},r.isAutoInsertedClosing=function(t,i,n){return e.autoInsertedBrackets>0&&t.row===e.autoInsertedRow&&n===e.autoInsertedLineEnd[0]&&i.substr(t.column)===e.autoInsertedLineEnd},r.isMaybeInsertedClosing=function(t,i){return e.maybeInsertedBrackets>0&&t.row===e.maybeInsertedRow&&i.substr(t.column)===e.maybeInsertedLineEnd&&i.substr(0,t.column)==e.maybeInsertedLineStart},r.popAutoInsertedClosing=function(){e.autoInsertedLineEnd=e.autoInsertedLineEnd.substr(1),e.autoInsertedBrackets--},r.clearMaybeInsertedClosing=function(){e&&(e.maybeInsertedBrackets=0,e.maybeInsertedRow=-1)},s.inherits(r,o),i.CstyleBehaviour=r})),ace.define("ace/unicode",["require","exports","module"],(function(t,i,n){for(var e=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,s=[],o=0;o<e.length;o+=2)s.push(r+=e[o]),e[o+1]&&s.push(45,r+=e[o+1]);i.wordChars=String.fromCharCode.apply(null,s)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(t,i,n){var e,r=t("../config"),s=t("../tokenizer").Tokenizer,o=t("./text_highlight_rules").TextHighlightRules,h=t("./behaviour/cstyle").CstyleBehaviour,u=t("../unicode"),a=t("../lib/lang"),c=t("../token_iterator").TokenIterator,f=t("../range").Range;(function(){this.$defaultBehaviour=new h,this.tokenRe=new RegExp("^["+u.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+u.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,i,n,e){var r=i.doc,s=!0,o=!0,h=1/0,u=i.getTabSize(),c=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))p=this.lineCommentStart.map(a.escapeRegExp).join("|"),d=this.lineCommentStart[0];else p=a.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart;p=new RegExp("^(\\s*)(?:"+p+") ?"),c=i.getUseSoftTabs();g=function(t,i){var n=t.match(p);if(n){var e=n[1].length,s=n[0].length;l(t,e,s)||" "!=n[0][s-1]||s--,r.removeInLine(i,e,s)}};var f=d+" ",l=(w=function(t,i){s&&!/\S/.test(t)||(l(t,h,h)?r.insertInLine({row:i,column:h},f):r.insertInLine({row:i,column:h},d))},b=function(t,i){return p.test(t)},function(t,i,n){for(var e=0;i--&&" "==t.charAt(i);)e++;if(e%u!=0)return!1;for(e=0;" "==t.charAt(n++);)e++;return u>2?e%u!=u-1:e%u==0})}else{if(!this.blockComment)return!1;var d=this.blockComment.start,v=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+a.escapeRegExp(d)+")"),m=new RegExp("(?:"+a.escapeRegExp(v)+")\\s*$"),w=function(t,i){b(t,i)||s&&!/\S/.test(t)||(r.insertInLine({row:i,column:t.length},v),r.insertInLine({row:i,column:h},d))},g=function(t,i){var n;(n=t.match(m))&&r.removeInLine(i,t.length-n[0].length,t.length),(n=t.match(p))&&r.removeInLine(i,n[1].length,n[0].length)},b=function(t,n){if(p.test(t))return!0;for(var e=i.getTokens(n),r=0;r<e.length;r++)if("comment"===e[r].type)return!0}}function y(t){for(var i=n;i<=e;i++)t(r.getLine(i),i)}var A=1/0;y((function(t,i){var n=t.search(/\S/);-1!==n?(n<h&&(h=n),o&&!b(t,i)&&(o=!1)):A>t.length&&(A=t.length)})),h==1/0&&(h=A,s=!1,o=!1),c&&h%u!=0&&(h=Math.floor(h/u)*u),y(o?g:w)},this.toggleBlockComment=function(t,i,n,e){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var s,o,h=(p=new c(i,e.row,e.column)).getCurrentToken(),u=(i.selection,i.selection.toOrientedRange());if(h&&/comment/.test(h.type)){for(var a,l;h&&/comment/.test(h.type);){if(-1!=(m=h.value.indexOf(r.start))){var d=p.getCurrentTokenRow(),v=p.getCurrentTokenColumn()+m;a=new f(d,v,d,v+r.start.length);break}h=p.stepBackward()}var p;for(h=(p=new c(i,e.row,e.column)).getCurrentToken();h&&/comment/.test(h.type);){var m;if(-1!=(m=h.value.indexOf(r.end))){d=p.getCurrentTokenRow(),v=p.getCurrentTokenColumn()+m;l=new f(d,v,d,v+r.end.length);break}h=p.stepForward()}l&&i.remove(l),a&&(i.remove(a),s=a.start.row,o=-r.start.length)}else o=r.start.length,s=n.start.row,i.insert(n.end,r.end),i.insert(n.start,r.start);u.start.row==s&&(u.start.column+=o),u.end.row==s&&(u.end.column+=o),i.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(t,i,n){return this.$getIndent(i)},this.checkOutdent=function(t,i,n){return!1},this.autoOutdent=function(t,i,n){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(t){return null},this.createModeDelegates=function(t){for(var i in this.$embeds=[],this.$modes={},t)if(t[i]){var n=t[i],e=n.prototype.$id,s=r.$modes[e];s||(r.$modes[e]=s=new n),r.$modes[i]||(r.$modes[i]=s),this.$embeds.push(i),this.$modes[i]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],h=function(t){var i,n,e;e=(i=u)[n=o[t]],i[o[t]]=function(){return this.$delegator(n,arguments,e)}},u=this;for(i=0;i<o.length;i++)h(i)},this.$delegator=function(t,i,n){var e=i[0]||"start";if("string"!=typeof e){if(Array.isArray(e[2])){var r=e[2][e[2].length-1];if(o=this.$modes[r])return o[t].apply(o,[e[1]].concat([].slice.call(i,1)))}e=e[0]||"start"}for(var s=0;s<this.$embeds.length;s++)if(this.$modes[this.$embeds[s]]){var o,h=e.split(this.$embeds[s]);if(!h[0]&&h[1])return i[0]=h[1],(o=this.$modes[this.$embeds[s]])[t].apply(o,i)}var u=n.apply(this,i);return n?u:void 0},this.transformAction=function(t,i,n,e,r){if(this.$behaviour){var s=this.$behaviour.getBehaviours();for(var o in s)if(s[o][i]){var h=s[o][i].apply(this,arguments);if(h)return h}}},this.getKeywords=function(t){if(!this.completionKeywords){var i=this.$tokenizer.rules,n=[];for(var e in i)for(var r=i[e],s=0,o=r.length;s<o;s++)if("string"==typeof r[s].token)/keyword|support|storage/.test(r[s].token)&&n.push(r[s].regex);else if("object"==typeof r[s].token)for(var h=0,u=r[s].token.length;h<u;h++)if(/keyword|support|storage/.test(r[s].token[h])){e=r[s].regex.match(/\(.+?\)/g)[h];n.push(e.substr(1,e.length-2))}this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(t,i,n,e){return(this.$keywordList||this.$createKeywordList()).map((function(t){return{name:t,value:t,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call((e=function(){this.HighlightRules=o}).prototype),i.Mode=e})),ace.define("ace/apply_delta",["require","exports","module"],(function(t,i,n){i.applyDelta=function(t,i,n){var e=i.start.row,r=i.start.column,s=t[e]||"";switch(i.action){case"insert":if(1===i.lines.length)t[e]=s.substring(0,r)+i.lines[0]+s.substring(r);else{var o=[e,1].concat(i.lines);t.splice.apply(t,o),t[e]=s.substring(0,r)+t[e],t[e+i.lines.length-1]+=s.substring(r)}break;case"remove":var h=i.end.column,u=i.end.row;e===u?t[e]=s.substring(0,r)+s.substring(h):t.splice(e,u-e+1,s.substring(0,r)+t[u].substring(h))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,i,n){var e=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=function(){function t(t,i,n){this.$onChange=this.onChange.bind(this),this.attach(t),"number"!=typeof i?this.setPosition(i.row,i.column):this.setPosition(i,n)}return t.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},t.prototype.getDocument=function(){return this.document},t.prototype.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var i=function(t,i,n){var e="insert"==t.action,r=(e?1:-1)*(t.end.row-t.start.row),s=(e?1:-1)*(t.end.column-t.start.column),h=t.start,u=e?h:t.end;if(o(i,h,n))return{row:i.row,column:i.column};if(o(u,i,!n))return{row:i.row+r,column:i.column+(i.row==u.row?s:0)};return{row:h.row,column:h.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},t.prototype.setPosition=function(t,i,n){var e;if(e=n?{row:t,column:i}:this.$clipPositionToDocument(t,i),this.row!=e.row||this.column!=e.column){var r={row:this.row,column:this.column};this.row=e.row,this.column=e.column,this._signal("change",{old:r,value:e})}},t.prototype.detach=function(){this.document.off("change",this.$onChange)},t.prototype.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},t.prototype.$clipPositionToDocument=function(t,i){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,i))),i<0&&(n.column=0),n},t}();function o(t,i,n){var e=n?t.column<=i.column:t.column<i.column;return t.row<i.row||t.row==i.row&&e}s.prototype.$insertRight=!1,e.implement(s.prototype,r),i.Anchor=s})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(t,i,n){var e=t("./lib/oop"),r=t("./apply_delta").applyDelta,s=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,h=t("./anchor").Anchor,u=function(){function t(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)}return t.prototype.setValue=function(t){var i=this.getLength()-1;this.remove(new o(0,0,i,this.getLine(i).length)),this.insert({row:0,column:0},t||"")},t.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},t.prototype.createAnchor=function(t,i){return new h(this,t,i)},t.prototype.$detectNewLine=function(t){var i=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=i?i[1]:"\n",this._signal("changeNewLineMode")},t.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},t.prototype.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},t.prototype.getNewLineMode=function(){return this.$newLineMode},t.prototype.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},t.prototype.getLine=function(t){return this.$lines[t]||""},t.prototype.getLines=function(t,i){return this.$lines.slice(t,i+1)},t.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},t.prototype.getLength=function(){return this.$lines.length},t.prototype.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},t.prototype.getLinesForRange=function(t){var i;if(t.start.row===t.end.row)i=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(i=this.getLines(t.start.row,t.end.row))[0]=(i[0]||"").substring(t.start.column);var n=i.length-1;t.end.row-t.start.row==n&&(i[n]=i[n].substring(0,t.end.column))}return i},t.prototype.insertLines=function(t,i){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,i)},t.prototype.removeLines=function(t,i){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,i)},t.prototype.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},t.prototype.insert=function(t,i){return this.getLength()<=1&&this.$detectNewLine(i),this.insertMergedLines(t,this.$split(i))},t.prototype.insertInLine=function(t,i){var n=this.clippedPos(t.row,t.column),e=this.pos(t.row,t.column+i.length);return this.applyDelta({start:n,end:e,action:"insert",lines:[i]},!0),this.clonePos(e)},t.prototype.clippedPos=function(t,i){var n=this.getLength();void 0===t?t=n:t<0?t=0:t>=n&&(t=n-1,i=void 0);var e=this.getLine(t);return null==i&&(i=e.length),{row:t,column:i=Math.min(Math.max(i,0),e.length)}},t.prototype.clonePos=function(t){return{row:t.row,column:t.column}},t.prototype.pos=function(t,i){return{row:t,column:i}},t.prototype.$clipPosition=function(t){var i=this.getLength();return t.row>=i?(t.row=Math.max(0,i-1),t.column=this.getLine(i-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},t.prototype.insertFullLines=function(t,i){var n=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(i=i.concat([""]),n=0):(i=[""].concat(i),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},i)},t.prototype.insertMergedLines=function(t,i){var n=this.clippedPos(t.row,t.column),e={row:n.row+i.length-1,column:(1==i.length?n.column:0)+i[i.length-1].length};return this.applyDelta({start:n,end:e,action:"insert",lines:i}),this.clonePos(e)},t.prototype.remove=function(t){var i=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:i,end:n,action:"remove",lines:this.getLinesForRange({start:i,end:n})}),this.clonePos(i)},t.prototype.removeInLine=function(t,i,n){var e=this.clippedPos(t,i),r=this.clippedPos(t,n);return this.applyDelta({start:e,end:r,action:"remove",lines:this.getLinesForRange({start:e,end:r})},!0),this.clonePos(e)},t.prototype.removeFullLines=function(t,i){t=Math.min(Math.max(0,t),this.getLength()-1);var n=(i=Math.min(Math.max(0,i),this.getLength()-1))==this.getLength()-1&&t>0,e=i<this.getLength()-1,r=n?t-1:t,s=n?this.getLine(r).length:0,h=e?i+1:i,u=e?0:this.getLine(h).length,a=new o(r,s,h,u),c=this.$lines.slice(t,i+1);return this.applyDelta({start:a.start,end:a.end,action:"remove",lines:this.getLinesForRange(a)}),c},t.prototype.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},t.prototype.replace=function(t,i){return t instanceof o||(t=o.fromPoints(t.start,t.end)),0===i.length&&t.isEmpty()?t.start:i==this.getTextRange(t)?t.end:(this.remove(t),i?this.insert(t.start,i):t.start)},t.prototype.applyDeltas=function(t){for(var i=0;i<t.length;i++)this.applyDelta(t[i])},t.prototype.revertDeltas=function(t){for(var i=t.length-1;i>=0;i--)this.revertDelta(t[i])},t.prototype.applyDelta=function(t,i){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!o.comparePoints(t.start,t.end))||(n&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(r(this.$lines,t,i),this._signal("change",t)))},t.prototype.$safeApplyDelta=function(t){var i=this.$lines.length;("remove"==t.action&&t.start.row<i&&t.end.row<i||"insert"==t.action&&t.start.row<=i)&&this.applyDelta(t)},t.prototype.$splitAndapplyLargeDelta=function(t,i){for(var n=t.lines,e=n.length-i+1,r=t.start.row,s=t.start.column,o=0,h=0;o<e;o=h){h+=i-1;var u=n.slice(o,h);u.push(""),this.applyDelta({start:this.pos(r+o,s),end:this.pos(r+h,s=0),action:t.action,lines:u},!0)}t.lines=n.slice(o),t.start.row=r+o,t.start.column=s,this.applyDelta(t,!0)},t.prototype.revertDelta=function(t){this.$safeApplyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},t.prototype.indexToPosition=function(t,i){for(var n=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length,r=i||0,s=n.length;r<s;r++)if((t-=n[r].length+e)<0)return{row:r,column:t+n[r].length+e};return{row:s-1,column:t+n[s-1].length+e}},t.prototype.positionToIndex=function(t,i){for(var n=this.$lines||this.getAllLines(),e=this.getNewLineCharacter().length,r=0,s=Math.min(t.row,n.length),o=i||0;o<s;++o)r+=n[o].length+e;return r+t.column},t.prototype.$split=function(t){return t.split(/\r\n|\r|\n/)},t}();u.prototype.$autoNewLine="",u.prototype.$newLineMode="auto",e.implement(u.prototype,s),i.Document=u})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(t,i,n){var e=t("./lib/oop"),r=t("./lib/event_emitter").EventEmitter,s=function(){function t(t,i){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var n=this;this.$worker=function(){if(n.running){for(var t=new Date,i=n.currentLine,e=-1,r=n.doc,s=i;n.lines[i];)i++;var o=r.getLength(),h=0;for(n.running=!1;i<o;){n.$tokenizeRow(i),e=i;do{i++}while(n.lines[i]);if(++h%5==0&&new Date-t>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=i,-1==e&&(e=i),s<=e&&n.fireUpdateEvent(s,e)}}}return t.prototype.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},t.prototype.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},t.prototype.fireUpdateEvent=function(t,i){var n={first:t,last:i};this._signal("update",{data:n})},t.prototype.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},t.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},t.prototype.$updateOnChange=function(t){var i=t.start.row,n=t.end.row-i;if(0===n)this.lines[i]=null;else if("remove"==t.action)this.lines.splice(i,n+1,null),this.states.splice(i,n+1,null);else{var e=Array(n+1);e.unshift(i,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(i,this.currentLine,this.doc.getLength()),this.stop()},t.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},t.prototype.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},t.prototype.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},t.prototype.$tokenizeRow=function(t){var i=this.doc.getLine(t),n=this.states[t-1],e=this.tokenizer.getLineTokens(i,n,t);return this.states[t]+""!=e.state+""?(this.states[t]=e.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=e.tokens},t.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},t}();e.implement(s.prototype,r),i.BackgroundTokenizer=s})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(t,i,n){var e=t("./lib/lang"),r=t("./range").Range,s=function(){function t(t,i,n){void 0===n&&(n="text"),this.setRegexp(t),this.clazz=i,this.type=n}return t.prototype.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},t.prototype.update=function(t,i,n,s){if(this.regExp)for(var o=s.firstRow,h=s.lastRow,u={},a=o;a<=h;a++){var c=this.cache[a];null==c&&((c=e.getMatchOffsets(n.getLine(a),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(t){return new r(a,t.offset,a,t.offset+t.length)})),this.cache[a]=c.length?c:"");for(var f=c.length;f--;){var l=c[f].toScreenRange(n),d=l.toString();u[d]||(u[d]=!0,i.drawSingleLineMarker(t,l,this.clazz,s))}}},t}();s.prototype.MAX_RANGES=500,i.SearchHighlight=s})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(t,i,n){var e=function(){function t(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return t.prototype.addSession=function(t){this.$session=t},t.prototype.add=function(t,i,n){if(!this.$fromUndo&&t!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===i||!this.lastDeltas){this.lastDeltas=[];var e=this.$undoStack.length;e>this.$undoDepth-1&&this.$undoStack.splice(0,e-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),t.id=this.$rev=++this.$maxRev}"remove"!=t.action&&"insert"!=t.action||(this.$lastDelta=t),this.lastDeltas.push(t)}},t.prototype.addSelection=function(t,i){this.selections.push({value:t,rev:i||this.$rev})},t.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},t.prototype.markIgnored=function(t,i){null==i&&(i=this.$rev+1);for(var n=this.$undoStack,e=n.length;e--;){var r=n[e][0];if(r.id<=t)break;r.id<i&&(r.ignore=!0)}this.lastDeltas=null},t.prototype.getSelection=function(t,i){for(var n=this.selections,e=n.length;e--;){var r=n[e];if(r.rev<t)return i&&(r=n[e+1]),r}},t.prototype.getRevision=function(){return this.$rev},t.prototype.getDeltas=function(t,i){null==i&&(i=this.$rev+1);for(var n=this.$undoStack,e=null,r=0,s=n.length;s--;){var o=n[s][0];if(o.id<i&&!e&&(e=s+1),o.id<=t){r=s+1;break}}return n.slice(r,e)},t.prototype.getChangedRanges=function(t,i){null==i&&(i=this.$rev+1)},t.prototype.getChangedLines=function(t,i){null==i&&(i=this.$rev+1)},t.prototype.undo=function(t,i){this.lastDeltas=null;var n=this.$undoStack;if(function(t,i){for(var n=i;n--;){var e=t[n];if(e&&!e[0].ignore){for(;n<i-1;){var r=c(t[n],t[n+1]);t[n]=r[0],t[n+1]=r[1],n++}return!0}}}(n,n.length)){t||(t=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var e=n.pop(),r=null;return e&&(r=t.undoChanges(e,i),this.$redoStack.push(e),this.$syncRev()),this.$fromUndo=!1,r}},t.prototype.redo=function(t,i){if(this.lastDeltas=null,t||(t=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(t,i){for(var n=0;n<i.length;n++)for(var e=i[n],r=0;r<e.length;r++)p(t,e[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(t){t[0].id=++this.$maxRev}),this)}var e=this.$redoStack.pop(),r=null;return e&&(r=t.redoChanges(e,i),this.$undoStack.push(e),this.$syncRev()),this.$fromUndo=!1,r},t.prototype.$syncRev=function(){var t=this.$undoStack,i=t[t.length-1],n=i&&i[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},t.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},t.prototype.canUndo=function(){return this.$undoStack.length>0},t.prototype.canRedo=function(){return this.$redoStack.length>0},t.prototype.bookmark=function(t){null==t&&(t=this.$rev),this.mark=t},t.prototype.isAtBookmark=function(){return this.$rev===this.mark},t.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},t.prototype.fromJSON=function(t){this.reset(),this.$undoStack=t.$undoStack,this.$redoStack=t.$redoStack},t.prototype.$prettyPrint=function(t){return t?h(t):h(this.$undoStack)+"\n---\n"+h(this.$redoStack)},t}();e.prototype.hasUndo=e.prototype.canUndo,e.prototype.hasRedo=e.prototype.canRedo,e.prototype.isClean=e.prototype.isAtBookmark,e.prototype.markClean=e.prototype.bookmark;var r=t("./range").Range,s=r.comparePoints;r.comparePoints;function o(t){return{row:t.row,column:t.column}}function h(t){if(t=t||this,Array.isArray(t))return t.map(h).join("\n");var i="";return t.action?(i="insert"==t.action?"+":"-",i+="["+t.lines+"]"):t.value&&(i=Array.isArray(t.value)?t.value.map(u).join("\n"):u(t.value)),t.start&&(i+=u(t)),(t.id||t.rev)&&(i+="\t("+(t.id||t.rev)+")"),i}function u(t){return t.start.row+":"+t.start.column+"=>"+t.end.row+":"+t.end.column}function a(t,i){var n="insert"==t.action,e="insert"==i.action;if(n&&e)if(s(i.start,t.end)>=0)l(i,t,-1);else{if(!(s(i.start,t.start)<=0))return null;l(t,i,1)}else if(n&&!e)if(s(i.start,t.end)>=0)l(i,t,-1);else{if(!(s(i.end,t.start)<=0))return null;l(t,i,-1)}else if(!n&&e)if(s(i.start,t.start)>=0)l(i,t,1);else{if(!(s(i.start,t.start)<=0))return null;l(t,i,1)}else if(!n&&!e)if(s(i.start,t.start)>=0)l(i,t,1);else{if(!(s(i.end,t.start)<=0))return null;l(t,i,-1)}return[i,t]}function c(t,i){for(var n=t.length;n--;)for(var e=0;e<i.length;e++)if(!a(t[n],i[e])){for(;n<t.length;){for(;e--;)a(i[e],t[n]);e=i.length,n++}return[t,i]}return t.selectionBefore=i.selectionBefore=t.selectionAfter=i.selectionAfter=null,[i,t]}function f(t,i){var n="insert"==t.action,e="insert"==i.action;if(n&&e)s(t.start,i.start)<0?l(i,t,1):l(t,i,1);else if(n&&!e)s(t.start,i.end)>=0?l(t,i,-1):(s(t.start,i.start)<=0||l(t,r.fromPoints(i.start,t.start),-1),l(i,t,1));else if(!n&&e)s(i.start,t.end)>=0?l(i,t,-1):(s(i.start,t.start)<=0||l(i,r.fromPoints(t.start,i.start),-1),l(t,i,1));else if(!n&&!e)if(s(i.start,t.end)>=0)l(i,t,-1);else{var o,h;if(!(s(i.end,t.start)<=0))return s(t.start,i.start)<0&&(o=t,t=v(t,i.start)),s(t.end,i.end)>0&&(h=v(t,i.end)),d(i.end,t.start,t.end,-1),h&&!o&&(t.lines=h.lines,t.start=h.start,t.end=h.end,h=t),[i,o,h].filter(Boolean);l(t,i,-1)}return[i,t]}function l(t,i,n){d(t.start,i.start,i.end,n),d(t.end,i.start,i.end,n)}function d(t,i,n,e){t.row==(1==e?i:n).row&&(t.column+=e*(n.column-i.column)),t.row+=e*(n.row-i.row)}function v(t,i){var n=t.lines,e=t.end;t.end=o(i);var r=t.end.row-t.start.row,s=n.splice(r,n.length),h=r?i.column:i.column-t.start.column;return n.push(s[0].substring(0,h)),s[0]=s[0].substr(h),{start:o(i),end:e,lines:s,action:t.action}}function p(t,i){i=function(t){return{start:o(t.start),end:o(t.end),action:t.action,lines:t.lines.slice()}}(i);for(var n=t.length;n--;){for(var e=t[n],r=0;r<e.length;r++){var s=f(e[r],i);i=s[0],2!=s.length&&(s[2]?(e.splice(r+1,1,s[1],s[2]),r++):s[1]||(e.splice(r,1),r--))}e.length||t.splice(n,1)}return t}i.UndoManager=e})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(t,i,n){var e=t("../range").Range,r=function(){function t(t,i){this.foldData=t,Array.isArray(i)?this.folds=i:i=this.folds=[i];var n=i[i.length-1];this.range=new e(i[0].start.row,i[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(t){t.setFoldLine(this)}),this)}return t.prototype.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach((function(i){i.start.row+=t,i.end.row+=t}))},t.prototype.addFold=function(t){if(t.sameRow){if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort((function(t,i){return-t.range.compareEnd(i.start.row,i.start.column)})),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},t.prototype.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},t.prototype.walk=function(t,i,n){var e,r,s=0,o=this.folds,h=!0;null==i&&(i=this.end.row,n=this.end.column);for(var u=0;u<o.length;u++){if(-1==(r=(e=o[u]).range.compareStart(i,n)))return void t(null,i,n,s,h);if(!t(null,e.start.row,e.start.column,s,h)&&t(e.placeholder,e.start.row,e.start.column,s)||0===r)return;h=!e.sameRow,s=e.end.column}t(null,i,n,s,h)},t.prototype.getNextFoldTo=function(t,i){for(var n,e,r=0;r<this.folds.length;r++){if(-1==(e=(n=this.folds[r]).range.compareEnd(t,i)))return{fold:n,kind:"after"};if(0===e)return{fold:n,kind:"inside"}}return null},t.prototype.addRemoveChars=function(t,i,n){var e,r,s=this.getNextFoldTo(t,i);if(s)if(e=s.fold,"inside"==s.kind&&e.start.column!=i&&e.start.row!=t)window.console&&window.console.log(t,i,e);else if(e.start.row==t){var o=(r=this.folds).indexOf(e);for(0===o&&(this.start.column+=n);o<r.length;o++){if((e=r[o]).start.column+=n,!e.sameRow)return;e.end.column+=n}this.end.column+=n}},t.prototype.split=function(i,n){var e=this.getNextFoldTo(i,n);if(!e||"inside"==e.kind)return null;var r=e.fold,s=this.folds,o=this.foldData,h=s.indexOf(r),u=s[h-1];this.end.row=u.end.row,this.end.column=u.end.column;var a=new t(o,s=s.splice(h,s.length-h));return o.splice(o.indexOf(this)+1,0,a),a},t.prototype.merge=function(t){for(var i=t.folds,n=0;n<i.length;n++)this.addFold(i[n]);var e=this.foldData;e.splice(e.indexOf(t),1)},t.prototype.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach((function(i){t.push("  "+i.toString())})),t.push("]"),t.join("\n")},t.prototype.idxToPosition=function(t){for(var i=0,n=0;n<this.folds.length;n++){var e=this.folds[n];if((t-=e.start.column-i)<0)return{row:e.start.row,column:e.start.column+t};if((t-=e.placeholder.length)<0)return e.start;i=e.end.column}return{row:this.end.row,column:this.end.column+t}},t}();i.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(t,i,n){var e=t("./range").Range.comparePoints,r=function(){function t(){this.ranges=[],this.$bias=1}return t.prototype.pointIndex=function(t,i,n){for(var r=this.ranges,s=n||0;s<r.length;s++){var o=r[s],h=e(t,o.end);if(!(h>0)){var u=e(t,o.start);return 0===h?i&&0!==u?-s-2:s:u>0||0===u&&!i?s:-s-1}}return-s-1},t.prototype.add=function(t){var i=!t.isEmpty(),n=this.pointIndex(t.start,i);n<0&&(n=-n-1);var e=this.pointIndex(t.end,i,n);return e<0?e=-e-1:e++,this.ranges.splice(n,e-n,t)},t.prototype.addList=function(t){for(var i=[],n=t.length;n--;)i.push.apply(i,this.add(t[n]));return i},t.prototype.substractPoint=function(t){var i=this.pointIndex(t);if(i>=0)return this.ranges.splice(i,1)},t.prototype.merge=function(){for(var t,i=[],n=this.ranges,r=(n=n.sort((function(t,i){return e(t.start,i.start)})))[0],s=1;s<n.length;s++){t=r,r=n[s];var o=e(t.end,r.start);o<0||(0!=o||t.isEmpty()||r.isEmpty())&&(e(t.end,r.end)<0&&(t.end.row=r.end.row,t.end.column=r.end.column),n.splice(s,1),i.push(r),r=t,s--)}return this.ranges=n,i},t.prototype.contains=function(t,i){return this.pointIndex({row:t,column:i})>=0},t.prototype.containsPoint=function(t){return this.pointIndex(t)>=0},t.prototype.rangeAtPoint=function(t){var i=this.pointIndex(t);if(i>=0)return this.ranges[i]},t.prototype.clipRows=function(t,i){var n=this.ranges;if(n[0].start.row>i||n[n.length-1].start.row<t)return[];var e=this.pointIndex({row:t,column:0});e<0&&(e=-e-1);var r=this.pointIndex({row:i,column:0},e);r<0&&(r=-r-1);for(var s=[],o=e;o<r;o++)s.push(n[o]);return s},t.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},t.prototype.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},t.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},t.prototype.$onChange=function(t){for(var i=t.start,n=t.end,e=i.row,r=n.row,s=this.ranges,o=0,h=s.length;o<h;o++){if((c=s[o]).end.row>=e)break}if("insert"==t.action)for(var u=r-e,a=-i.column+n.column;o<h;o++){if((c=s[o]).start.row>e)break;if(c.start.row==e&&c.start.column>=i.column&&(c.start.column==i.column&&this.$bias<=0||(c.start.column+=a,c.start.row+=u)),c.end.row==e&&c.end.column>=i.column){if(c.end.column==i.column&&this.$bias<0)continue;c.end.column==i.column&&a>0&&o<h-1&&c.end.column>c.start.column&&c.end.column==s[o+1].start.column&&(c.end.column-=a),c.end.column+=a,c.end.row+=u}}else for(u=e-r,a=i.column-n.column;o<h;o++){if((c=s[o]).start.row>r)break;c.end.row<r&&(e<c.end.row||e==c.end.row&&i.column<c.end.column)?(c.end.row=e,c.end.column=i.column):c.end.row==r?c.end.column<=n.column?(u||c.end.column>i.column)&&(c.end.column=i.column,c.end.row=i.row):(c.end.column+=a,c.end.row+=u):c.end.row>r&&(c.end.row+=u),c.start.row<r&&(e<c.start.row||e==c.start.row&&i.column<c.start.column)?(c.start.row=e,c.start.column=i.column):c.start.row==r?c.start.column<=n.column?(u||c.start.column>i.column)&&(c.start.column=i.column,c.start.row=i.row):(c.start.column+=a,c.start.row+=u):c.start.row>r&&(c.start.row+=u)}if(0!=u&&o<h)for(;o<h;o++){var c;(c=s[o]).start.row+=u,c.end.row+=u}},t}();r.prototype.comparePoints=e,i.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(t,i,n){var e,r=this&&this.P||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),s=function(t){function i(i,n){var e=t.call(this)||this;return e.foldLine=null,e.placeholder=n,e.range=i,e.start=i.start,e.end=i.end,e.sameRow=i.start.row==i.end.row,e.subFolds=e.ranges=[],e}return r(i,t),i.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},i.prototype.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach((function(i){i.setFoldLine(t)}))},i.prototype.clone=function(){var t=new i(this.range.clone(),this.placeholder);return this.subFolds.forEach((function(i){t.subFolds.push(i.clone())})),t.collapseChildren=this.collapseChildren,t},i.prototype.addSubFold=function(t){if(!this.range.isEqual(t)){var i,n;i=t,n=this.start,o(i.start,n),o(i.end,n);for(var e=t.start.row,r=t.start.column,s=0,h=-1;s<this.subFolds.length&&1==(h=this.subFolds[s].range.compare(e,r));s++);var u=this.subFolds[s],a=0;if(0==h){if(u.range.containsRange(t))return u.addSubFold(t);a=1}e=t.range.end.row,r=t.range.end.column;var c=s;for(h=-1;c<this.subFolds.length&&1==(h=this.subFolds[c].range.compare(e,r));c++);0==h&&c++;for(var f=this.subFolds.splice(s,c-s,t),l=0==h?f.length-1:f.length,d=a;d<l;d++)t.addSubFold(f[d]);return t.setFoldLine(this.foldLine),t}},i.prototype.restoreRange=function(t){return function(t,i){h(t.start,i),h(t.end,i)}(t,this.start)},i}(t("../range_list").RangeList);function o(t,i){t.row-=i.row,0==t.row&&(t.column-=i.column)}function h(t,i){0==t.row&&(t.column+=i.column),t.row+=i.row}i.Fold=s})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(t,i,n){var e=t("../range").Range,r=t("./fold_line").FoldLine,s=t("./fold").Fold,o=t("../token_iterator").TokenIterator,h=t("../mouse/mouse_event").MouseEvent;i.Folding=function(){this.getFoldAt=function(t,i,n){var e=this.getFoldLine(t);if(!e)return null;for(var r=e.folds,s=0;s<r.length;s++){var o=r[s].range;if(o.contains(t,i)){if(1==n&&o.isEnd(t,i)&&!o.isEmpty())continue;if(-1==n&&o.isStart(t,i)&&!o.isEmpty())continue;return r[s]}}},this.getFoldsInRange=function(t){var i=t.start,n=t.end,e=this.$foldData,r=[];i.column+=1,n.column-=1;for(var s=0;s<e.length;s++){var o=e[s].range.compareRange(t);if(2!=o){if(-2==o)break;for(var h=e[s].folds,u=0;u<h.length;u++){var a=h[u];if(-2==(o=a.range.compareRange(t)))break;if(2!=o){if(42==o)break;r.push(a)}}}}return i.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var i=[];t.forEach((function(t){i=i.concat(this.getFoldsInRange(t))}),this)}else i=this.getFoldsInRange(t);return i},this.getAllFolds=function(){for(var t=[],i=this.$foldData,n=0;n<i.length;n++)for(var e=0;e<i[n].folds.length;e++)t.push(i[n].folds[e]);return t},this.getFoldStringAt=function(t,i,n,e){if(!(e=e||this.getFoldLine(t)))return null;for(var r,s,o={end:{column:0}},h=0;h<e.folds.length;h++){var u=(s=e.folds[h]).range.compareEnd(t,i);if(-1==u){r=this.getLine(s.start.row).substring(o.end.column,s.start.column);break}if(0===u)return null;o=s}return r||(r=this.getLine(s.start.row).substring(o.end.column)),-1==n?r.substring(0,i-o.end.column):1==n?r.substring(i-o.end.column):r},this.getFoldLine=function(t,i){var n=this.$foldData,e=0;for(i&&(e=n.indexOf(i)),-1==e&&(e=0);e<n.length;e++){var r=n[e];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,i){var n=this.$foldData,e=0;for(i&&(e=n.indexOf(i)),-1==e&&(e=0);e<n.length;e++){var r=n[e];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,i){for(var n=this.$foldData,e=i-t+1,r=0;r<n.length;r++){var s=n[r],o=s.end.row,h=s.start.row;if(o>=i){h<i&&(h>=t?e-=i-h:e=0);break}o>=t&&(e-=h>=t?o-h:o-t+1)}return e},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort((function(t,i){return t.start.row-i.start.row})),t},this.addFold=function(t,i){var n,e=this.$foldData,o=!1;t instanceof s?n=t:(n=new s(i,t)).collapseChildren=i.collapseChildren,this.$clipRangeToDocument(n.range);var h=n.start.row,u=n.start.column,a=n.end.row,c=n.end.column,f=this.getFoldAt(h,u,1),l=this.getFoldAt(a,c,-1);if(f&&l==f)return f.addSubFold(n);f&&!f.range.isStart(h,u)&&this.removeFold(f),l&&!l.range.isEnd(a,c)&&this.removeFold(l);var d=this.getFoldsInRange(n.range);d.length>0&&(this.removeFolds(d),n.collapseChildren||d.forEach((function(t){n.addSubFold(t)})));for(var v=0;v<e.length;v++){var p=e[v];if(a==p.start.row){p.addFold(n),o=!0;break}if(h==p.end.row){if(p.addFold(n),o=!0,!n.sameRow){var m=e[v+1];if(m&&m.start.row==a){p.merge(m);break}}break}if(a<=p.start.row)break}return o||(p=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(t){t.forEach((function(t){this.addFold(t)}),this)},this.removeFold=function(t){var i=t.foldLine,n=i.start.row,e=i.end.row,r=this.$foldData,s=i.folds;if(1==s.length)r.splice(r.indexOf(i),1);else if(i.range.isEnd(t.end.row,t.end.column))s.pop(),i.end.row=s[s.length-1].end.row,i.end.column=s[s.length-1].end.column;else if(i.range.isStart(t.start.row,t.start.column))s.shift(),i.start.row=s[0].start.row,i.start.column=s[0].start.column;else if(t.sameRow)s.splice(s.indexOf(t),1);else{var o=i.split(t.start.row,t.start.column);(s=o.folds).shift(),o.start.row=s[0].start.row,o.start.column=s[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,e):this.$updateRowLengthCache(n,e)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);i.forEach((function(t){this.removeFold(t)}),this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach((function(i){t.restoreRange(i),this.addFold(i)}),this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach((function(t){this.expandFold(t)}),this)},this.unfold=function(t,i){var n,r;if(null==t)n=new e(0,0,this.getLength(),0),null==i&&(i=!0);else if("number"==typeof t)n=new e(t,0,t,this.getLine(t).length);else if("row"in t)n=e.fromPoints(t,t);else{if(Array.isArray(t))return r=[],t.forEach((function(t){r=r.concat(this.unfold(t))}),this),r;n=t}for(var s=r=this.getFoldsInRangeList(n);1==r.length&&e.comparePoints(r[0].start,n.start)<0&&e.comparePoints(r[0].end,n.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(0!=i?this.removeFolds(r):this.expandFolds(r),s.length)return s},this.isRowFolded=function(t,i){return!!this.getFoldLine(t,i)},this.getRowFoldEnd=function(t,i){var n=this.getFoldLine(t,i);return n?n.end.row:t},this.getRowFoldStart=function(t,i){var n=this.getFoldLine(t,i);return n?n.start.row:t},this.getFoldDisplayLine=function(t,i,n,e,r){null==e&&(e=t.start.row),null==r&&(r=0),null==i&&(i=t.end.row),null==n&&(n=this.getLine(i).length);var s=this.doc,o="";return t.walk((function(t,i,n,h){if(!(i<e)){if(i==e){if(n<r)return;h=Math.max(r,h)}o+=null!=t?t:s.getLine(i).substring(h,n)}}),i,n),o},this.getDisplayLine=function(t,i,n,e){var r,s=this.getFoldLine(t);return s?this.getFoldDisplayLine(s,t,i,n,e):(r=this.doc.getLine(t)).substring(e||0,i||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map((function(i){var n=i.folds.map((function(t){return t.clone()}));return new r(t,n)}))},this.toggleFold=function(t){var i,n,e=this.selection.getRange();if(e.isEmpty()){var r=e.start;if(i=this.getFoldAt(r.row,r.column))return void this.expandFold(i);(n=this.findMatchingBracket(r))?1==e.comparePoint(n)?e.end=n:(e.start=n,e.start.column++,e.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==e.comparePoint(n)?e.end=n:e.start=n,e.start.column++):e=this.getCommentFoldRange(r.row,r.column)||e}else{var s=this.getFoldsInRange(e);if(t&&s.length)return void this.expandFolds(s);1==s.length&&(i=s[0])}if(i||(i=this.getFoldAt(e.start.row,e.start.column)),i&&i.range.toString()==e.toString())this.expandFold(i);else{var o="...";if(!e.isMultiLine()){if((o=this.getTextRange(e)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,e)}},this.getCommentFoldRange=function(t,i,n){var r=new o(this,t,i),s=r.getCurrentToken(),h=s&&s.type;if(s&&/^comment|string/.test(h)){"comment"==(h=h.match(/comment|string/)[0])&&(h+="|doc-start|\\.doc");var u=new RegExp(h),a=new e;if(1!=n){do{s=r.stepBackward()}while(s&&u.test(s.type));s=r.stepForward()}a.start.row=r.getCurrentTokenRow(),a.start.column=r.getCurrentTokenColumn()+s.value.length,r=new o(this,t,i);var c=this.getState(r.$row);if(-1!=n){var f=-1;do{if(s=r.stepForward(),-1==f){var l=this.getState(r.$row);c.toString()!==l.toString()&&(f=r.$row)}else if(r.$row>f)break}while(s&&u.test(s.type));s=r.stepBackward()}else s=r.getCurrentToken();return a.end.row=r.getCurrentTokenRow(),a.end.column=r.getCurrentTokenColumn(),a}},this.foldAll=function(t,i,n,e){null==n&&(n=1e5);var r=this.foldWidgets;if(r){i=i||this.getLength();for(var s=t=t||0;s<i;s++)if(null==r[s]&&(r[s]=this.getFoldWidget(s)),"start"==r[s]&&(!e||e(s))){var o=this.getFoldWidgetRange(s);o&&o.isMultiLine()&&o.end.row<=i&&o.start.row>=t&&(s=o.end.row,o.collapseChildren=n,this.addFold("...",o))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,(function(i){for(var n=t.getTokens(i),e=0;e<n.length;e++){var r=n[e];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,i){var n=this.foldWidgets;if(!n||i&&n[t])return{};for(var e,r=t-1;r>=0;){var s=n[r];if(null==s&&(s=n[r]=this.getFoldWidget(r)),"start"==s){var o=this.getFoldWidgetRange(r);if(e||(e=o),o&&o.end.row>=t)break}r--}return{range:-1!==r&&o,firstRange:e}},this.onFoldWidgetClick=function(t,i){i instanceof h&&(i=i.domEvent);var n={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey};if(!this.$toggleFoldWidget(t,n)){var e=i.target||i.srcElement;e&&/ace_fold-widget/.test(e.className)&&(e.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,i){if(this.getFoldWidget){var n=this.getFoldWidget(t),e=this.getLine(t),r="end"===n?-1:1,s=this.getFoldAt(t,-1===r?0:e.length,r);if(s)return i.children||i.all?this.removeFold(s):this.expandFold(s),s;var o=this.getFoldWidgetRange(t,!0);if(o&&!o.isMultiLine()&&(s=this.getFoldAt(o.start.row,o.start.column,1))&&o.isEqual(s.range))return this.removeFold(s),s;if(i.siblings){var h=this.getParentFoldRangeData(t);if(h.range)var u=h.range.start.row+1,a=h.range.end.row;this.foldAll(u,a,i.all?1e4:0)}else i.children?(a=o?o.end.row:this.getLength(),this.foldAll(t+1,a,i.all?1e4:0)):o&&(i.all&&(o.collapseChildren=1e4),this.addFold("...",o));return o}},this.toggleFoldWidget=function(t){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var n=this.$toggleFoldWidget(i,{});if(!n){var e=this.getParentFoldRangeData(i,!0);if(n=e.range||e.firstRange){i=n.start.row;var r=this.getFoldAt(i,this.getLine(i).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var i=t.start.row,n=t.end.row-i;if(0===n)this.foldWidgets[i]=null;else if("remove"==t.action)this.foldWidgets.splice(i,n+1,null);else{var e=Array(n+1);e.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,e)}},this.tokenizerUpdateFoldWidgets=function(t){var i=t.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(t,i,n){var e=t("../token_iterator").TokenIterator,r=t("../range").Range;i.BracketMatch=function(){this.findMatchingBracket=function(t,i){if(0==t.column)return null;var n=i||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var e=n.match(/([\(\[\{])|([\)\]\}])/);return e?e[1]?this.$findClosingBracket(e[1],t):this.$findOpeningBracket(e[2],t):null},this.getBracketRange=function(t){var i,n=this.getLine(t.row),e=!0,s=n.charAt(t.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=n.charAt(t.column),t={row:t.row,column:t.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),e=!1),!o)return null;if(o[1]){if(!(h=this.$findClosingBracket(o[1],t)))return null;i=r.fromPoints(t,h),e||(i.end.column++,i.start.column--),i.cursor=i.end}else{var h;if(!(h=this.$findOpeningBracket(o[2],t)))return null;i=r.fromPoints(h,t),e||(i.start.column++,i.end.column--),i.cursor=i.start}return i},this.getMatchingBracketRanges=function(t,i){var n=this.getLine(t.row),e=/([\(\[\{])|([\)\]\}])/,s=!i&&n.charAt(t.column-1),o=s&&s.match(e);if(o||(s=(void 0===i||i)&&n.charAt(t.column),t={row:t.row,column:t.column+1},o=s&&s.match(e)),!o)return null;var h=new r(t.row,t.column-1,t.row,t.column),u=o[1]?this.$findClosingBracket(o[1],t):this.$findOpeningBracket(o[2],t);return u?[h,new r(u.row,u.column,u.row,u.column+1)]:[h]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(t,i,n){var r=this.$brackets[t],s=1,o=new e(this,i.row,i.column),h=o.getCurrentToken();if(h||(h=o.stepForward()),h){n||(n=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var u=i.column-o.getCurrentTokenColumn()-2,a=h.value;;){for(;u>=0;){var c=a.charAt(u);if(c==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:u+o.getCurrentTokenColumn()}}else c==t&&(s+=1);u-=1}do{h=o.stepBackward()}while(h&&!n.test(h.type));if(null==h)break;u=(a=h.value).length-1}return null}},this.$findClosingBracket=function(t,i,n){var r=this.$brackets[t],s=1,o=new e(this,i.row,i.column),h=o.getCurrentToken();if(h||(h=o.stepForward()),h){n||(n=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var u=i.column-o.getCurrentTokenColumn();;){for(var a=h.value,c=a.length;u<c;){var f=a.charAt(u);if(f==r){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:u+o.getCurrentTokenColumn()}}else f==t&&(s+=1);u+=1}do{h=o.stepForward()}while(h&&!n.test(h.type));if(null==h)break;u=0}return null}},this.getMatchingTags=function(t){var i=new e(this,t.row,t.column),n=this.$findTagName(i);if(n)return"<"===i.stepBackward().value?this.$findClosingTag(i,n):this.$findOpeningTag(i,n)},this.$findTagName=function(t){var i=t.getCurrentToken(),n=!1,e=!1;if(i&&-1===i.type.indexOf("tag-name"))do{(i=e?t.stepBackward():t.stepForward())&&("/>"===i.value?e=!0:-1!==i.type.indexOf("tag-name")&&(n=!0))}while(i&&!n);return i},this.$findClosingTag=function(t,i){var n,e=i.value,s=i.value,o=0,h=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+1);i=t.stepForward();var u=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+i.value.length),a=!1;do{if(-1!==(n=i).type.indexOf("tag-close")&&!a){var c=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+1);a=!0}if(i=t.stepForward()){if(">"===i.value&&!a){c=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+1);a=!0}if(-1!==i.type.indexOf("tag-name")){if(s===(e=i.value))if("<"===n.value)o++;else if("</"===n.value&&--o<0){t.stepBackward();var f=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+2);i=t.stepForward();var l=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+i.value.length);if(-1===i.type.indexOf("tag-close")&&(i=t.stepForward()),!i||">"!==i.value)return;var d=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+1)}}else if(s===e&&"/>"===i.value&&--o<0)d=l=f=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+2),c=new r(u.end.row,u.end.column,u.end.row,u.end.column+1)}}while(i&&o>=0);if(h&&c&&f&&d&&u&&l)return{openTag:new r(h.start.row,h.start.column,c.end.row,c.end.column),closeTag:new r(f.start.row,f.start.column,d.end.row,d.end.column),openTagName:u,closeTagName:l}},this.$findOpeningTag=function(t,i){var n=t.getCurrentToken(),e=i.value,s=0,o=t.getCurrentTokenRow(),h=t.getCurrentTokenColumn(),u=h+2,a=new r(o,h,o,u);t.stepForward();var c=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+i.value.length);if(-1===i.type.indexOf("tag-close")&&(i=t.stepForward()),i&&">"===i.value){var f=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+1);t.stepBackward(),t.stepBackward();do{if(i=n,o=t.getCurrentTokenRow(),u=(h=t.getCurrentTokenColumn())+i.value.length,n=t.stepBackward(),i)if(-1!==i.type.indexOf("tag-name")){if(e===i.value)if("<"===n.value){if(++s>0){var l=new r(o,h,o,u),d=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+1);do{i=t.stepForward()}while(i&&">"!==i.value);var v=new r(t.getCurrentTokenRow(),t.getCurrentTokenColumn(),t.getCurrentTokenRow(),t.getCurrentTokenColumn()+1)}}else"</"===n.value&&s--}else if("/>"===i.value){for(var p=0,m=n;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===e){s--;break}if("<"===m.value)break;m=t.stepBackward(),p++}for(var w=0;w<p;w++)t.stepForward()}}while(n&&s<=0);return d&&v&&a&&f&&l&&c?{openTag:new r(d.start.row,d.start.column,v.end.row,v.end.column),closeTag:new r(a.start.row,a.start.column,f.end.row,f.end.column),openTagName:l,closeTagName:c}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(t,i,n){var e=t("./lib/oop"),r=t("./lib/lang"),s=t("./bidihandler").BidiHandler,o=t("./config"),h=t("./lib/event_emitter").EventEmitter,u=t("./selection").Selection,a=t("./mode/text").Mode,c=t("./range").Range,f=t("./document").Document,l=t("./background_tokenizer").BackgroundTokenizer,d=t("./search_highlight").SearchHighlight,v=t("./undomanager").UndoManager,p=function(){function t(i,n){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++t.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new l((new a).getTokenizer(),this);var e=this;this.bgTokenizer.on("update",(function(t){e._signal("tokenizerUpdate",t)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof i&&i.getLine||(i=new f(i)),this.setDocument(i),this.selection=new u(this),this.$bidiHandler=new s(this),o.resetOptions(this),this.setMode(n),o._signal("session",this),this.destroyed=!1}return t.prototype.setDocument=function(t){this.doc&&this.doc.off("change",this.$onChange),this.doc=t,t.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},t.prototype.getDocument=function(){return this.doc},t.prototype.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var i=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;i>n&&(this.$docRowCache.splice(n,i),this.$screenRowCache.splice(n,i))},t.prototype.$getRowCacheIndex=function(t,i){for(var n=0,e=t.length-1;n<=e;){var r=n+e>>1,s=t[r];if(i>s)n=r+1;else{if(!(i<s))return r;e=r-1}}return n-1},t.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},t.prototype.onChangeFold=function(t){var i=t.data;this.$resetRowCache(i.start.row)},t.prototype.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var i=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&(i&&i.length&&(this.$undoManager.add({action:"removeFolds",folds:i},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(t,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},t.prototype.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},t.fromJSON=function(i){"string"==typeof i&&(i=JSON.parse(i));var n=new v;n.$undoStack=i.history.undo,n.$redoStack=i.history.redo,n.mark=i.history.mark,n.$rev=i.history.rev;var e=new t(i.value);return i.folds.forEach((function(t){e.addFold("...",c.fromPoints(t.start,t.end))})),e.setAnnotations(i.annotations),e.setBreakpoints(i.breakpoints),e.setMode(i.mode),e.setScrollLeft(i.scrollLeft),e.setScrollTop(i.scrollTop),e.setUndoManager(n),e.selection.fromJSON(i.selection),e},t.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(t){return t.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},t.prototype.toString=function(){return this.doc.getValue()},t.prototype.getSelection=function(){return this.selection},t.prototype.getState=function(t){return this.bgTokenizer.getState(t)},t.prototype.getTokens=function(t){return this.bgTokenizer.getTokens(t)},t.prototype.getTokenAt=function(t,i){var n,e=this.bgTokenizer.getTokens(t),r=0;if(null==i){var s=e.length-1;r=this.getLine(t).length}else for(s=0;s<e.length&&!((r+=e[s].value.length)>=i);s++);return(n=e[s])?(n.index=s,n.start=r-n.value.length,n):null},t.prototype.setUndoManager=function(t){if(this.$undoManager=t,this.$informUndoManager&&this.$informUndoManager.cancel(),t){var i=this;t.addSession(this),this.$syncInformUndoManager=function(){i.$informUndoManager.cancel(),i.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},t.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},t.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},t.prototype.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},t.prototype.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},t.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},t.prototype.setTabSize=function(t){this.setOption("tabSize",t)},t.prototype.getTabSize=function(){return this.$tabSize},t.prototype.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},t.prototype.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},t.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},t.prototype.setOverwrite=function(t){this.setOption("overwrite",t)},t.prototype.getOverwrite=function(){return this.$overwrite},t.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},t.prototype.addGutterDecoration=function(t,i){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+i,this._signal("changeBreakpoint",{})},t.prototype.removeGutterDecoration=function(t,i){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+i,""),this._signal("changeBreakpoint",{})},t.prototype.getBreakpoints=function(){return this.$breakpoints},t.prototype.setBreakpoints=function(t){this.$breakpoints=[];for(var i=0;i<t.length;i++)this.$breakpoints[t[i]]="ace_breakpoint";this._signal("changeBreakpoint",{})},t.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},t.prototype.setBreakpoint=function(t,i){void 0===i&&(i="ace_breakpoint"),i?this.$breakpoints[t]=i:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},t.prototype.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},t.prototype.addMarker=function(t,i,n,e){var r=this.$markerId++,s={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:i,inFront:!!e,id:r};return e?(this.$frontMarkers[r]=s,this._signal("changeFrontMarker")):(this.$backMarkers[r]=s,this._signal("changeBackMarker")),r},t.prototype.addDynamicMarker=function(t,i){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!i,i?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},t.prototype.removeMarker=function(t){var i=this.$frontMarkers[t]||this.$backMarkers[t];i&&(delete(i.inFront?this.$frontMarkers:this.$backMarkers)[t],this._signal(i.inFront?"changeFrontMarker":"changeBackMarker"))},t.prototype.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},t.prototype.highlight=function(t){if(!this.$searchHighlight){var i=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(i)}this.$searchHighlight.setRegexp(t)},t.prototype.highlightLines=function(t,i,n,e){"number"!=typeof i&&(n=i,i=t),n||(n="ace_step");var r=new c(t,0,i,1/0);return r.id=this.addMarker(r,n,"fullLine",e),r},t.prototype.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},t.prototype.getAnnotations=function(){return this.$annotations||[]},t.prototype.clearAnnotations=function(){this.setAnnotations([])},t.prototype.$detectNewLine=function(t){var i=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=i?i[1]:"\n"},t.prototype.getWordRange=function(t,i){var n=this.getLine(t),e=!1;if(i>0&&(e=!!n.charAt(i-1).match(this.tokenRe)),e||(e=!!n.charAt(i).match(this.tokenRe)),e)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(i-1,i+1)))r=/\s/;else r=this.nonTokenRe;var s=i;if(s>0){do{s--}while(s>=0&&n.charAt(s).match(r));s++}for(var o=i;o<n.length&&n.charAt(o).match(r);)o++;return new c(t,s,t,o)},t.prototype.getAWordRange=function(t,i){for(var n=this.getWordRange(t,i),e=this.getLine(n.end.row);e.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},t.prototype.setNewLineMode=function(t){this.doc.setNewLineMode(t)},t.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},t.prototype.setUseWorker=function(t){this.setOption("useWorker",t)},t.prototype.getUseWorker=function(){return this.$useWorker},t.prototype.onReloadTokenizer=function(t){var i=t.data;this.bgTokenizer.start(i.first),this._signal("tokenizerUpdate",t)},t.prototype.setMode=function(t,i){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,e=n.path}else e=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[e]&&!n)return this.$onChangeMode(this.$modes[e]),void(i&&i());this.$modeId=e,o.loadModule(["mode",e],function(t){if(this.$modeId!==e)return i&&i();this.$modes[e]&&!n?this.$onChangeMode(this.$modes[e]):t&&t.Mode&&(t=new t.Mode(n),n||(this.$modes[e]=t,t.$id=e),this.$onChangeMode(t)),i&&i()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},t.prototype.$onChangeMode=function(t,i){if(i||(this.$modeId=t.$id),this.$mode!==t){var n=this.$mode;this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var e=t.getTokenizer();if(void 0!==e.on){var r=this.onReloadTokenizer.bind(this);e.on("update",r)}this.bgTokenizer.setTokenizer(e),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,i||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:t}))}},t.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},t.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(t){o.warn("Could not load worker",t),this.$worker=null}},t.prototype.getMode=function(){return this.$mode},t.prototype.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},t.prototype.getScrollTop=function(){return this.$scrollTop},t.prototype.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},t.prototype.getScrollLeft=function(){return this.$scrollLeft},t.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},t.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach((function(i){i&&i.screenWidth>t&&(t=i.screenWidth)})),this.lineWidgetWidth=t},t.prototype.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var i=this.doc.getAllLines(),n=this.$rowLengthCache,e=0,r=0,s=this.$foldData[r],o=s?s.start.row:1/0,h=i.length,u=0;u<h;u++){if(u>o){if((u=s.end.row+1)>=h)break;o=(s=this.$foldData[r++])?s.start.row:1/0}null==n[u]&&(n[u]=this.$getStringScreenWidth(i[u])[0]),n[u]>e&&(e=n[u])}this.screenWidth=e}},t.prototype.getLine=function(t){return this.doc.getLine(t)},t.prototype.getLines=function(t,i){return this.doc.getLines(t,i)},t.prototype.getLength=function(){return this.doc.getLength()},t.prototype.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},t.prototype.insert=function(t,i){return this.doc.insert(t,i)},t.prototype.remove=function(t){return this.doc.remove(t)},t.prototype.removeFullLines=function(t,i){return this.doc.removeFullLines(t,i)},t.prototype.undoChanges=function(t,i){if(t.length){this.$fromUndo=!0;for(var n=t.length-1;-1!=n;n--){var e=t[n];"insert"==e.action||"remove"==e.action?this.doc.revertDelta(e):e.folds&&this.addFolds(e.folds)}!i&&this.$undoSelect&&(t.selectionBefore?this.selection.fromJSON(t.selectionBefore):this.selection.setRange(this.$getUndoSelection(t,!0))),this.$fromUndo=!1}},t.prototype.redoChanges=function(t,i){if(t.length){this.$fromUndo=!0;for(var n=0;n<t.length;n++){var e=t[n];"insert"!=e.action&&"remove"!=e.action||this.doc.$safeApplyDelta(e)}!i&&this.$undoSelect&&(t.selectionAfter?this.selection.fromJSON(t.selectionAfter):this.selection.setRange(this.$getUndoSelection(t,!1))),this.$fromUndo=!1}},t.prototype.setUndoSelect=function(t){this.$undoSelect=t},t.prototype.$getUndoSelection=function(t,i){function n(t){return i?"insert"!==t.action:"insert"===t.action}for(var e,r,s=0;s<t.length;s++){var o=t[s];o.start&&(e?n(o)?(r=o.start,-1==e.compare(r.row,r.column)&&e.setStart(r),r=o.end,1==e.compare(r.row,r.column)&&e.setEnd(r)):(r=o.start,-1==e.compare(r.row,r.column)&&(e=c.fromPoints(o.start,o.start))):e=n(o)?c.fromPoints(o.start,o.end):c.fromPoints(o.start,o.start))}return e},t.prototype.replace=function(t,i){return this.doc.replace(t,i)},t.prototype.moveText=function(t,i,n){var e=this.getTextRange(t),r=this.getFoldsInRange(t),s=c.fromPoints(i,i);if(!n){this.remove(t);var o=t.start.row-t.end.row;(a=o?-t.end.column:t.start.column-t.end.column)&&(s.start.row==t.end.row&&s.start.column>t.end.column&&(s.start.column+=a),s.end.row==t.end.row&&s.end.column>t.end.column&&(s.end.column+=a)),o&&s.start.row>=t.end.row&&(s.start.row+=o,s.end.row+=o)}if(s.end=this.insert(s.start,e),r.length){var h=t.start,u=s.start,a=(o=u.row-h.row,u.column-h.column);this.addFolds(r.map((function(t){return(t=t.clone()).start.row==h.row&&(t.start.column+=a),t.end.row==h.row&&(t.end.column+=a),t.start.row+=o,t.end.row+=o,t})))}return s},t.prototype.indentRows=function(t,i,n){n=n.replace(/\t/g,this.getTabString());for(var e=t;e<=i;e++)this.doc.insertInLine({row:e,column:0},n)},t.prototype.outdentRows=function(t){for(var i=t.collapseRows(),n=new c(0,0,0,0),e=this.getTabSize(),r=i.start.row;r<=i.end.row;++r){var s=this.getLine(r);n.start.row=r,n.end.row=r;for(var o=0;o<e&&" "==s.charAt(o);++o);o<e&&"\t"==s.charAt(o)?(n.start.column=o,n.end.column=o+1):(n.start.column=0,n.end.column=o),this.remove(n)}},t.prototype.$moveLines=function(t,i,n){if(t=this.getRowFoldStart(t),i=this.getRowFoldEnd(i),n<0){if((r=this.getRowFoldStart(t+n))<0)return 0;var e=r-t}else if(n>0){var r;if((r=this.getRowFoldEnd(i+n))>this.doc.getLength()-1)return 0;e=r-i}else{t=this.$clipRowToDocument(t);e=(i=this.$clipRowToDocument(i))-t+1}var s=new c(t,0,i,Number.MAX_VALUE),o=this.getFoldsInRange(s).map((function(t){return(t=t.clone()).start.row+=e,t.end.row+=e,t})),h=0==n?this.doc.getLines(t,i):this.doc.removeFullLines(t,i);return this.doc.insertFullLines(t+e,h),o.length&&this.addFolds(o),e},t.prototype.moveLinesUp=function(t,i){return this.$moveLines(t,i,-1)},t.prototype.moveLinesDown=function(t,i){return this.$moveLines(t,i,1)},t.prototype.duplicateLines=function(t,i){return this.$moveLines(t,i,0)},t.prototype.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},t.prototype.$clipColumnToRow=function(t,i){return i<0?0:Math.min(this.doc.getLine(t).length,i)},t.prototype.$clipPositionToDocument=function(t,i){if(i=Math.max(0,i),t<0)t=0,i=0;else{var n=this.doc.getLength();t>=n?(t=n-1,i=this.doc.getLine(n-1).length):i=Math.min(this.doc.getLine(t).length,i)}return{row:t,column:i}},t.prototype.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var i=this.doc.getLength()-1;return t.end.row>i?(t.end.row=i,t.end.column=this.doc.getLine(i).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},t.prototype.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var i=this.getLength();this.$wrapData=Array(i),this.$updateWrapData(0,i-1)}this._signal("changeWrapMode")}},t.prototype.getUseWrapMode=function(){return this.$useWrapMode},t.prototype.setWrapLimitRange=function(t,i){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===i||(this.$wrapLimitRange={min:t,max:i},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},t.prototype.adjustWrapLimit=function(t,i){var n=this.$wrapLimitRange;n.max<0&&(n={min:i,max:i});var e=this.$constrainWrapLimit(t,n.min,n.max);return e!=this.$wrapLimit&&e>1&&(this.$wrapLimit=e,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},t.prototype.$constrainWrapLimit=function(t,i,n){return i&&(t=Math.max(i,t)),n&&(t=Math.min(n,t)),t},t.prototype.getWrapLimit=function(){return this.$wrapLimit},t.prototype.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},t.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},t.prototype.$updateInternalDataOnChange=function(t){var i=this.$useWrapMode,n=t.action,e=t.start,r=t.end,s=e.row,o=r.row,h=o-s,u=null;if(this.$updating=!0,0!=h)if("remove"===n){this[i?"$wrapData":"$rowLengthCache"].splice(s,h);var a=this.$foldData;u=this.getFoldsInRange(t),this.removeFolds(u);var c=0;if(p=this.getFoldLine(r.row)){p.addRemoveChars(r.row,r.column,e.column-r.column),p.shiftRow(-h);var f=this.getFoldLine(s);f&&f!==p&&(f.merge(p),p=f),c=a.indexOf(p)+1}for(;c<a.length;c++){(p=a[c]).start.row>=r.row&&p.shiftRow(-h)}o=s}else{var l=Array(h);l.unshift(s,0);var d=i?this.$wrapData:this.$rowLengthCache;d.splice.apply(d,l);a=this.$foldData,c=0;if(p=this.getFoldLine(s)){var v=p.range.compareInside(e.row,e.column);0==v?(p=p.split(e.row,e.column))&&(p.shiftRow(h),p.addRemoveChars(o,0,r.column-e.column)):-1==v&&(p.addRemoveChars(s,0,r.column-e.column),p.shiftRow(h)),c=a.indexOf(p)+1}for(;c<a.length;c++){var p;(p=a[c]).start.row>=s&&p.shiftRow(h)}}else h=Math.abs(t.start.column-t.end.column),"remove"===n&&(u=this.getFoldsInRange(t),this.removeFolds(u),h=-h),(p=this.getFoldLine(s))&&p.addRemoveChars(s,e.column,h);return i&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,i?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),u},t.prototype.$updateRowLengthCache=function(t,i){this.$rowLengthCache[t]=null,this.$rowLengthCache[i]=null},t.prototype.$updateWrapData=function(t,i){var n,e,r=this.doc.getAllLines(),s=this.getTabSize(),o=this.$wrapData,h=this.$wrapLimit,u=t;for(i=Math.min(i,r.length-1);u<=i;)(e=this.getFoldLine(u,e))?(n=[],e.walk(function(t,i,e,s){var o;if(null!=t){(o=this.$getDisplayTokens(t,n.length))[0]=g;for(var h=1;h<o.length;h++)o[h]=b}else o=this.$getDisplayTokens(r[i].substring(s,e),n.length);n=n.concat(o)}.bind(this),e.end.row,r[e.end.row].length+1),o[e.start.row]=this.$computeWrapSplits(n,h,s),u=e.end.row+1):(n=this.$getDisplayTokens(r[u]),o[u]=this.$computeWrapSplits(n,h,s),u++)},t.prototype.$computeWrapSplits=function(t,i,n){if(0==t.length)return[];var e=[],r=t.length,s=0,o=0,h=this.$wrapAsCode,u=this.$indentedSoftWrap,a=i<=Math.max(2*n,8)||!1===u?0:Math.floor(i/2);function c(i){for(var r=i-s,c=s;c<i;c++){var l=t[c];12!==l&&2!==l||(r-=1)}e.length||(f=function(){var i=0;if(0===a)return i;if(u)for(var e=0;e<t.length;e++){var r=t[e];if(r==A)i+=1;else{if(r!=x){if(r==_)continue;break}i+=n}}return h&&!1!==u&&(i+=n),Math.min(i,a)}(),e.indent=f),o+=r,e.push(o),s=i}for(var f=0;r-s>i-f;){var l=s+i-f;if(t[l-1]>=A&&t[l]>=A)c(l);else if(t[l]!=g&&t[l]!=b){for(var d=Math.max(l-(i-(i>>2)),s-1);l>d&&t[l]<g;)l--;if(h){for(;l>d&&t[l]<g;)l--;for(;l>d&&t[l]==y;)l--}else for(;l>d&&t[l]<A;)l--;l>d?c(++l):(t[l=s+i]==w&&l--,c(l-f))}else{for(;l!=s-1&&t[l]!=g;l--);if(l>s){c(l);continue}for(l=s+i;l<t.length&&t[l]==b;l++);if(l==t.length)break;c(l)}}return e},t.prototype.$getDisplayTokens=function(t,i){var n,e=[];i=i||0;for(var r=0;r<t.length;r++){var s=t.charCodeAt(r);if(9==s){n=this.getScreenTabSize(e.length+i),e.push(x);for(var o=1;o<n;o++)e.push(_)}else 32==s?e.push(A):s>39&&s<48||s>57&&s<64?e.push(y):s>=4352&&k(s)?e.push(m,w):e.push(m)}return e},t.prototype.$getStringScreenWidth=function(t,i,n){if(0==i)return[0,0];var e,r;for(null==i&&(i=1/0),n=n||0,r=0;r<t.length&&(9==(e=t.charCodeAt(r))?n+=this.getScreenTabSize(n):e>=4352&&k(e)?n+=2:n+=1,!(n>i));r++);return[n,r]},t.prototype.getRowLength=function(t){var i=1;return this.lineWidgets&&(i+=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0),this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+i:i},t.prototype.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},t.prototype.getRowWrapIndent=function(t){if(this.$useWrapMode){var i=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[i.row];return n.length&&n[0]<i.column?n.indent:0}return 0},t.prototype.getScreenLastRowColumn=function(t){var i=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(i.row,i.column)},t.prototype.getDocumentLastRowColumn=function(t,i){var n=this.documentToScreenRow(t,i);return this.getScreenLastRowColumn(n)},t.prototype.getDocumentLastRowColumnPosition=function(t,i){var n=this.documentToScreenRow(t,i);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},t.prototype.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:void 0},t.prototype.getScreenTabSize=function(t){return this.$tabSize-(t%this.$tabSize|0)},t.prototype.screenToDocumentRow=function(t,i){return this.screenToDocumentPosition(t,i).row},t.prototype.screenToDocumentColumn=function(t,i){return this.screenToDocumentPosition(t,i).column},t.prototype.screenToDocumentPosition=function(t,i,n){if(t<0)return{row:0,column:0};var e,r,s=0,o=0,h=0,u=0,a=this.$screenRowCache,c=this.$getRowCacheIndex(a,t),f=a.length;if(f&&c>=0){h=a[c],s=this.$docRowCache[c];var l=t>a[f-1]}else l=!f;for(var d=this.getLength()-1,v=this.getNextFoldLine(s),p=v?v.start.row:1/0;h<=t&&!(h+(u=this.getRowLength(s))>t||s>=d);)h+=u,++s>p&&(s=v.end.row+1,p=(v=this.getNextFoldLine(s,v))?v.start.row:1/0),l&&(this.$docRowCache.push(s),this.$screenRowCache.push(h));if(v&&v.start.row<=s)e=this.getFoldDisplayLine(v),s=v.start.row;else{if(h+u<=t||s>d)return{row:d,column:this.getLine(d).length};e=this.getLine(s),v=null}var m=0,w=Math.floor(t-h);if(this.$useWrapMode){var g=this.$wrapData[s];g&&(r=g[w],w>0&&g.length&&(m=g.indent,o=g[w-1]||g[g.length-1],e=e.substring(o)))}return void 0!==n&&this.$bidiHandler.isBidiRow(h+w,s,w)&&(i=this.$bidiHandler.offsetToCol(n)),o+=this.$getStringScreenWidth(e,i-m)[1],this.$useWrapMode&&o>=r&&(o=r-1),v?v.idxToPosition(o):{row:s,column:o}},t.prototype.documentToScreenPosition=function(t,i){if(void 0===i)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,i);t=n.row,i=n.column;var e,r=0,s=null;(e=this.getFoldAt(t,i,1))&&(t=e.start.row,i=e.start.column);var o,h=0,u=this.$docRowCache,a=this.$getRowCacheIndex(u,t),c=u.length;if(c&&a>=0){h=u[a],r=this.$screenRowCache[a];var f=t>u[c-1]}else f=!c;for(var l=this.getNextFoldLine(h),d=l?l.start.row:1/0;h<t;){if(h>=d){if((o=l.end.row+1)>t)break;d=(l=this.getNextFoldLine(o,l))?l.start.row:1/0}else o=h+1;r+=this.getRowLength(h),h=o,f&&(this.$docRowCache.push(h),this.$screenRowCache.push(r))}var v="";l&&h>=d?(v=this.getFoldDisplayLine(l,t,i),s=l.start.row):(v=this.getLine(t).substring(0,i),s=t);var p=0;if(this.$useWrapMode){var m=this.$wrapData[s];if(m){for(var w=0;v.length>=m[w];)r++,w++;v=v.substring(m[w-1]||0,v.length),p=w>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[h]&&this.lineWidgets[h].rowsAbove&&(r+=this.lineWidgets[h].rowsAbove),{row:r,column:p+this.$getStringScreenWidth(v)[0]}},t.prototype.documentToScreenColumn=function(t,i){return this.documentToScreenPosition(t,i).column},t.prototype.documentToScreenRow=function(t,i){return this.documentToScreenPosition(t,i).row},t.prototype.getScreenLength=function(){var t=0,i=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,e=0,r=(h=0,(i=this.$foldData[h++])?i.start.row:1/0);e<n;){var s=this.$wrapData[e];t+=s?s.length+1:1,++e>r&&(e=i.end.row+1,r=(i=this.$foldData[h++])?i.start.row:1/0)}else{t=this.getLength();for(var o=this.$foldData,h=0;h<o.length;h++)t-=(i=o[h]).end.row-i.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},t.prototype.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(i,n,e){if(0===n)return[0,0];var r,s;for(n||(n=1/0),e=e||0,s=0;s<i.length&&!((e+="\t"===(r=i.charAt(s))?this.getScreenTabSize(e):t.getCharacterWidth(r))>n);s++);return[e,s]})},t.prototype.getPrecedingCharacter=function(){var t=this.selection.getCursor();return 0===t.column?0===t.row?"":this.doc.getNewLineCharacter():this.getLine(t.row)[t.column-1]},t.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},t}();p.$uid=0,p.prototype.$modes=o.$modes,p.prototype.getValue=p.prototype.toString,p.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},p.prototype.$overwrite=!1,p.prototype.$mode=null,p.prototype.$modeId=null,p.prototype.$scrollTop=0,p.prototype.$scrollLeft=0,p.prototype.$wrapLimit=80,p.prototype.$useWrapMode=!1,p.prototype.$wrapLimitRange={min:null,max:null},p.prototype.lineWidgets=null,p.prototype.isFullWidth=k,e.implement(p.prototype,h);var m=1,w=2,g=3,b=4,y=9,A=10,x=11,_=12;function k(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}t("./edit_session/folding").Folding.call(p.prototype),t("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var i="number"==typeof t?t:null;this.setWrapLimitRange(i,i),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){(t=parseInt(t))>0&&this.$tabSize!==t&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(t){this.setFoldStyle(t)},handlesSet:!0},overwrite:{set:function(t){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId},handlesSet:!0}}),i.EditSession=p})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(t,i,n){var e=t("./lib/lang"),r=t("./lib/oop"),s=t("./range").Range,o=function(){function t(){this.$options={}}return t.prototype.set=function(t){return r.mixin(this.$options,t),this},t.prototype.getOptions=function(){return e.copyObject(this.$options)},t.prototype.setOptions=function(t){this.$options=t},t.prototype.find=function(t){var i=this.$options,n=this.$matchIterator(t,i);if(!n)return!1;var e=null;return n.forEach((function(t,n,r,o){return e=new s(t,n,r,o),!(n==o&&i.start&&i.start.start&&0!=i.skipCurrent&&e.isEqual(i.start))||(e=null,!1)})),e},t.prototype.findAll=function(t){var i=this.$options;if(!i.needle)return[];this.$assembleRegExp(i);var n=i.range,r=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),o=[],h=i.re;if(i.$isMultiLine){var u,a=h.length,c=r.length-a;t:for(var f=h.offset||0;f<=c;f++){for(var l=0;l<a;l++)if(-1==r[f+l].search(h[l]))continue t;var d=r[f],v=r[f+a-1],p=d.length-d.match(h[0])[0].length,m=v.match(h[a-1])[0].length;u&&u.end.row===f&&u.end.column>p||(o.push(u=new s(f,p,f+a-1,m)),a>2&&(f=f+a-2))}}else for(var w=0;w<r.length;w++){var g=e.getMatchOffsets(r[w],h);for(l=0;l<g.length;l++){var b=g[l];o.push(new s(w,b.offset,w,b.offset+b.length))}}if(n){var y=n.start.column,A=n.end.column;for(w=0,l=o.length-1;w<l&&o[w].start.column<y&&0==o[w].start.row;)w++;for(var x=n.end.row-n.start.row;w<l&&o[l].end.column>A&&o[l].end.row==x;)l--;for(o=o.slice(w,l+1),w=0,l=o.length;w<l;w++)o[w].start.row+=n.start.row,o[w].end.row+=n.start.row}return o},t.prototype.replace=function(t,i){var n=this.$options,e=this.$assembleRegExp(n);if(n.$isMultiLine)return i;if(e){var r=e.exec(t);if(!r||r[0].length!=t.length)return null;if(n.regExp||(i=i.replace(/\$/g,"$$$$")),i=t.replace(e,i),n.preserveCase){i=i.split("");for(var s=Math.min(t.length,t.length);s--;){var o=t[s];o&&o.toLowerCase()!=o?i[s]=i[s].toUpperCase():i[s]=i[s].toLowerCase()}i=i.join("")}return i}},t.prototype.$assembleRegExp=function(t,i){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=e.escapeRegExp(n));var r=t.caseSensitive?"gm":"gmi";try{new RegExp(n,"u"),t.$supportsUnicodeFlag=!0,r+="u"}catch(i){t.$supportsUnicodeFlag=!1}if(t.wholeWord&&(n=function(t,i){var n=e.supportsLookbehind();function r(t,e){return void 0===e&&(e=!0),(n&&i.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(t)||i.regExp?n&&i.$supportsUnicodeFlag?e?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var s=Array.from(t),o=s[0],h=s[s.length-1];return r(o)+t+r(h,!1)}(n,t)),t.$isMultiLine=!i&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,r);try{var s=new RegExp(n,r)}catch(t){s=!1}return t.re=s},t.prototype.$assembleMultilineRegExp=function(t,i){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),e=[],r=0;r<n.length;r++)try{e.push(new RegExp(n[r],i))}catch(t){return!1}return e},t.prototype.$matchIterator=function(t,i){var n=this.$assembleRegExp(i);if(!n)return!1;var r=1==i.backwards,s=0!=i.skipCurrent,o=n.unicode,h=i.range,u=i.start;u||(u=h?h[r?"end":"start"]:t.selection.getRange()),u.start&&(u=u[s!=r?"end":"start"]);var a=h?h.start.row:0,c=h?h.end.row:t.getLength()-1;if(r)var f=function(t){var n=u.row;if(!d(n,u.column,t)){for(n--;n>=a;n--)if(d(n,Number.MAX_VALUE,t))return;if(0!=i.wrap)for(n=c,a=u.row;n>=a;n--)if(d(n,Number.MAX_VALUE,t))return}};else f=function(t){var n=u.row;if(!d(n,u.column,t)){for(n+=1;n<=c;n++)if(d(n,0,t))return;if(0!=i.wrap)for(n=a,c=u.row;n<=c;n++)if(d(n,0,t))return}};if(i.$isMultiLine)var l=n.length,d=function(i,e,s){var o=r?i-l+1:i;if(!(o<0||o+l>t.getLength())){var h=t.getLine(o),u=h.search(n[0]);if(!(!r&&u<e||-1===u)){for(var a=1;a<l;a++)if(-1==(h=t.getLine(o+a)).search(n[a]))return;var c=h.match(n[l-1])[0].length;if(!(r&&c>e))return!!s(o,u,o+l-1,c)||void 0}}};else if(r)d=function(i,r,s){var h,u=t.getLine(i),a=[],c=0;for(n.lastIndex=0;h=n.exec(u);){var f=h[0].length;if(c=h.index,!f){if(c>=u.length)break;n.lastIndex=c+=e.skipEmptyMatch(u,c,o)}if(h.index+f>r)break;a.push(h.index,f)}for(var l=a.length-1;l>=0;l-=2){var d=a[l-1];if(s(i,d,i,d+(f=a[l])))return!0}};else d=function(i,r,s){var h,u,a=t.getLine(i);for(n.lastIndex=r;u=n.exec(a);){var c=u[0].length;if(s(i,h=u.index,i,h+c))return!0;if(!c&&(n.lastIndex=h+=e.skipEmptyMatch(a,h,o),h>=a.length))return!1}};return{forEach:f}},t}();i.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(t,i,n){var e,r=this&&this.P||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),s=t("../lib/keys"),o=t("../lib/useragent"),h=s.KEY_MODS,u=function(){function t(t,i){this.$init(t,i,!1)}return t.prototype.$init=function(t,i,n){this.platform=i||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=n},t.prototype.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},t.prototype.removeCommand=function(t,i){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],i||delete this.commands[n];var e=this.commandKeyBinding;for(var r in e){var s=e[r];if(s==t)delete e[r];else if(Array.isArray(s)){var o=s.indexOf(t);-1!=o&&(s.splice(o,1),1==s.length&&(e[r]=s[0]))}}},t.prototype.bindKey=function(t,i,n){if("object"==typeof t&&t&&(null==n&&(n=t.position),t=t[this.platform]),t)return"function"==typeof i?this.addCommand({exec:i,bindKey:t,name:i.name||t}):void t.split("|").forEach((function(t){var e="";if(-1!=t.indexOf(" ")){var r=t.split(/\s+/);t=r.pop(),r.forEach((function(t){var i=this.parseKeys(t),n=h[i.hashId]+i.key;e+=(e?" ":"")+n,this._addCommandToBinding(e,"chainKeys")}),this),e+=" "}var s=this.parseKeys(t),o=h[s.hashId]+s.key;this._addCommandToBinding(e+o,i,n)}),this)},t.prototype._addCommandToBinding=function(t,i,n){var e,r=this.commandKeyBinding;if(i)if(!r[t]||this.$singleCommand)r[t]=i;else{Array.isArray(r[t])?-1!=(e=r[t].indexOf(i))&&r[t].splice(e,1):r[t]=[r[t]],"number"!=typeof n&&(n=a(i));var s=r[t];for(e=0;e<s.length;e++){if(a(s[e])>n)break}s.splice(e,0,i)}else delete r[t]},t.prototype.addCommands=function(t){t&&Object.keys(t).forEach((function(i){var n=t[i];if(n){if("string"==typeof n)return this.bindKey(n,i);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=i),this.addCommand(n))}}),this)},t.prototype.removeCommands=function(t){Object.keys(t).forEach((function(i){this.removeCommand(t[i])}),this)},t.prototype.bindKeys=function(t){Object.keys(t).forEach((function(i){this.bindKey(i,t[i])}),this)},t.prototype._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},t.prototype.parseKeys=function(t){var i=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(t){return t})),n=i.pop(),e=s[n];if(s.FUNCTION_KEYS[e])n=s.FUNCTION_KEYS[e].toLowerCase();else{if(!i.length)return{key:n,hashId:-1};if(1==i.length&&"shift"==i[0])return{key:n.toUpperCase(),hashId:-1}}for(var r=0,o=i.length;o--;){var h=s.KEY_MODS[i[o]];if(null==h)return"undefined"!=typeof console&&console.error("invalid modifier "+i[o]+" in "+t),!1;r|=h}return{key:n,hashId:r}},t.prototype.findKeyCommand=function(t,i){var n=h[t]+i;return this.commandKeyBinding[n]},t.prototype.handleKeyboard=function(t,i,n,e){if(!(e<0)){var r=h[i]+n,s=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,s=this.commandKeyBinding[t.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(t.$keyChain&&(i&&4!=i||1!=n.length?(-1==i||e>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:s}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},t.prototype.getStatusText=function(t,i){return i.$keyChain||""},t}();function a(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}var c=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.$singleCommand=!0,e}return r(i,t),i}(u);c.call=function(t,i,n){u.prototype.$init.call(t,i,n,!0)},u.call=function(t,i,n){u.prototype.$init.call(t,i,n,!1)},i.HashHandler=c,i.MultiHashHandler=u})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(t,i,n){var e,r=this&&this.P||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),s=t("../lib/oop"),o=t("../keyboard/hash_handler").MultiHashHandler,h=t("../lib/event_emitter").EventEmitter,u=function(t){function i(i,n){var e=t.call(this,n,i)||this;return e.byName=e.commands,e.setDefaultHandler("exec",(function(t){return t.args?t.command.exec(t.editor,t.args,t.event,!1):t.command.exec(t.editor,{},t.event,!0)})),e}return r(i,t),i.prototype.exec=function(t,i,n){if(Array.isArray(t)){for(var e=t.length;e--;)if(this.exec(t[e],i,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!this.canExecute(t,i))return!1;var r={editor:i,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},i.prototype.canExecute=function(t,i){return"string"==typeof t&&(t=this.commands[t]),!!t&&(!(i&&i.$readOnly&&!t.readOnly)&&!(0!=this.$checkCommandState&&t.isAvailable&&!t.isAvailable(i)))},i.prototype.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},i.prototype.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach((function(i){"string"==typeof i?this.exec(i,t):this.exec(i[0],t,i[1])}),this)}finally{this.$inReplay=!1}}},i.prototype.trimMacro=function(t){return t.map((function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t}))},i}(o);s.implement(u.prototype,h),i.CommandManager=u})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(t,i,n){var e=t("../lib/lang"),r=t("../config"),s=t("../range").Range;function o(t,i){return{win:t,mac:i}}i.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(t){r.loadModule("ace/ext/settings_menu",(function(i){i.init(t),t.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(t){r.loadModule("ace/ext/error_marker",(function(i){i.showErrorMarker(t,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(t){r.loadModule("ace/ext/error_marker",(function(i){i.showErrorMarker(t,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(t,i){"number"!=typeof i||isNaN(i)||t.gotoLine(i),t.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(t){r.loadModule("ace/ext/searchbox",(function(i){i.Search(t)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(t,i){t.navigateUp(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(t,i){t.navigateDown(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(t,i){t.navigateLeft(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(t,i){t.navigateRight(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(t){},readOnly:!0},{name:"cut",description:"Cut",exec:function(t){var i=t.$copyWithEmptySelection&&t.selection.isEmpty()?t.selection.getLineRange():t.selection.getRange();t._emit("cut",i),i.isEmpty()||t.session.remove(i),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(t,i){t.$handlePaste(i)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(t){r.loadModule("ace/ext/searchbox",(function(i){i.Search(t,!0)}))}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(t){var i=t.selection.getRange();i.start.column=0,t.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(t){var i=t.selection.getRange();i.end.column=Number.MAX_VALUE,t.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(t,i){t.insert(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(t,i){t.insert(e.stringRepeat(i.text||"",i.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(t){t.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var i=t.selection.getRange();i.start.column=i.end.column=0,i.end.row++,t.selection.setRange(i,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(t){t.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(t){for(var i=t.selection.isBackwards(),n=i?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),r=i?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),o=t.session.doc.getLine(n.row).length,h=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,u=t.session.doc.getLine(n.row),a=n.row+1;a<=r.row+1;a++){var c=e.stringTrimLeft(e.stringTrimRight(t.session.doc.getLine(a)));0!==c.length&&(c=" "+c),u+=c}r.row+1<t.session.doc.getLength()-1&&(u+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new s(n.row,0,r.row+2,0),u),h>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+h)):(o=t.session.doc.getLine(n.row).length>o?o+1:o,t.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(t){var i=t.session.doc.getLength()-1,n=t.session.doc.getLine(i).length,e=t.selection.rangeList.ranges,r=[];e.length<1&&(e=[t.selection.getRange()]);for(var o=0;o<e.length;o++)o==e.length-1&&(e[o].end.row===i&&e[o].end.column===n||r.push(new s(e[o].end.row,e[o].end.column,i,n))),0===o?0===e[o].start.row&&0===e[o].start.column||r.push(new s(0,0,e[o].start.row,e[o].start.column)):r.push(new s(e[o-1].end.row,e[o-1].end.column,e[o].start.row,e[o].start.column));t.exitMultiSelectMode(),t.clearSelection();for(o=0;o<r.length;o++)t.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(t){t.selection.clearSelection(),t.navigateLineEnd(),t.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(t){t.selection.clearSelection();var i=t.getCursorPosition();t.selection.moveTo(i.row-1,Number.MAX_VALUE),t.insert("\n"),0===i.row&&t.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(t){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),t.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:o("F1","F1"),exec:function(t){t.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(t){t.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)i.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(t){t.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(t,i,n){var e=t("./lib/dom"),r=function(){function t(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return t.prototype.getRowLength=function(t){var i;return i=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+i:1+i},t.prototype.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach((function(i){i&&i.rowCount&&!i.hidden&&(t+=i.rowCount)})),t},t.prototype.$onChangeEditor=function(t){this.attach(t.editor)},t.prototype.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},t.prototype.detach=function(t){var i=this.editor;if(i){this.editor=null,i.widgetManager=null,i.renderer.off("beforeRender",this.measureWidgets),i.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))}))}},t.prototype.updateOnFold=function(t,i){var n=i.lineWidgets;if(n&&t.action){for(var e=t.data,r=e.start.row,s=e.end.row,o="add"==t.action,h=r+1;h<s;h++)n[h]&&(n[h].hidden=o);n[s]&&(o?n[r]?n[s].hidden=o:n[r]=n[s]:(n[r]==n[s]&&(n[r]=void 0),n[s].hidden=o))}},t.prototype.updateOnChange=function(t){var i=this.session.lineWidgets;if(i){var n=t.start.row,e=t.end.row-n;if(0===e);else if("remove"==t.action){var r=i.splice(n+1,e);!i[n]&&r[r.length-1]&&(i[n]=r.pop()),r.forEach((function(t){t&&this.removeLineWidget(t)}),this),this.$updateRows()}else{var s=new Array(e);i[n]&&null!=i[n].column&&t.start.column>i[n].column&&n++,s.unshift(n,0),i.splice.apply(i,s),this.$updateRows()}}},t.prototype.$updateRows=function(){var t=this.session.lineWidgets;if(t){var i=!0;t.forEach((function(t,n){if(t)for(i=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget})),i&&(this.session.lineWidgets=null)}},t.prototype.$registerLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var i=this.session.lineWidgets[t.row];return i&&(t.$oldWidget=i,i.el&&i.el.parentNode&&(i.el.parentNode.removeChild(i.el),i._inDocument=!1)),this.session.lineWidgets[t.row]=t,t},t.prototype.addLineWidget=function(t){if(this.$registerLineWidget(t),t.session=this.session,!this.editor)return t;var i=this.editor.renderer;t.html&&!t.el&&(t.el=e.createElement("div"),t.el.innerHTML=t.html),t.text&&!t.el&&(t.el=e.createElement("div"),t.el.textContent=t.text),t.el&&(e.addCssClass(t.el,"ace_lineWidgetContainer"),t.className&&e.addCssClass(t.el,t.className),t.el.style.position="absolute",t.el.style.zIndex="5",i.container.appendChild(t.el),t._inDocument=!0,t.coverGutter||(t.el.style.zIndex="3"),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight)),null==t.rowCount&&(t.rowCount=t.pixelHeight/i.layerConfig.lineHeight);var n=this.session.getFoldAt(t.row,0);if(t.$fold=n,n){var r=this.session.lineWidgets;t.row!=n.end.row||r[n.start.row]?t.hidden=!0:r[n.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(t),t},t.prototype.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(t){}if(this.session.lineWidgets){var i=this.session.lineWidgets[t.row];if(i==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;i;){if(i.$oldWidget==t){i.$oldWidget=t.$oldWidget;break}i=i.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},t.prototype.getWidgetsAtRow=function(t){for(var i=this.session.lineWidgets,n=i&&i[t],e=[];n;)e.push(n),n=n.$oldWidget;return e},t.prototype.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},t.prototype.measureWidgets=function(t,i){var n=this.session._changedWidgets,e=i.layerConfig;if(n&&n.length){for(var r=1/0,s=0;s<n.length;s++){var o=n[s];if(o&&o.el&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,i.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/e.characterWidth));var h=o.h/e.lineHeight;o.coverLine&&(h-=this.session.getRowLineCount(o.row))<0&&(h=0),o.rowCount!=h&&(o.rowCount=h,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},t.prototype.renderWidgets=function(t,i){var n=i.layerConfig,e=this.session.lineWidgets;if(e){for(var r=Math.min(this.firstRow,n.firstRow),s=Math.max(this.lastRow,n.lastRow,e.length);r>0&&!e[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,i.$cursorLayer.config=n;for(var o=r;o<=s;o++){var h=e[o];if(h&&h.el)if(h.hidden)h.el.style.top=-100-(h.pixelHeight||0)+"px";else{h._inDocument||(h._inDocument=!0,i.container.appendChild(h.el));var u=i.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;h.coverLine||(u+=n.lineHeight*this.session.getRowLineCount(h.row)),h.el.style.top=u-n.offset+"px";var a=h.coverGutter?0:i.gutterWidth;h.fixedWidth||(a-=i.scrollLeft),h.el.style.left=a+"px",h.fullWidth&&h.screenWidth&&(h.el.style.minWidth=n.width+2*n.padding+"px"),h.fixedWidth?h.el.style.right=i.scrollBar.getWidth()+"px":h.el.style.right=""}}}},t}();i.LineWidgets=r})),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(t,i,n){var e=t("../lib/keys"),r=t("../mouse/default_gutter_handler").GutterTooltip,s=function(){function t(t){this.editor=t,this.gutterLayer=t.renderer.$gutterLayer,this.element=t.renderer.$gutter,this.lines=t.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new r(this.editor)}return t.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},t.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},t.prototype.$onGutterKeyDown=function(t){if(this.annotationTooltip.isOpen)return t.preventDefault(),void(t.keyCode===e.escape&&this.annotationTooltip.hideTooltip());if(t.target===this.element){if(t.keyCode!=e.enter)return;t.preventDefault();var i=this.editor.getCursorPosition().row;return this.editor.isRowVisible(i)||this.editor.scrollToLine(i,!0,!0),void setTimeout(function(){var t=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),i=this.$findNearestFoldWidget(t),n=this.$findNearestAnnotation(t);if(null!==i||null!==n)return null===i&&null!==n?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):null!==i&&null===n?(this.activeRowIndex=i,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex)):Math.abs(n-t)<Math.abs(i-t)?(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex)):(this.activeRowIndex=i,this.activeLane="fold",void this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(t),setTimeout(function(){this.editor._signal("gutterkeydown",new o(t,this))}.bind(this),10)},t.prototype.$handleGutterKeyboardInteraction=function(t){if(t.keyCode!==e.tab){if(t.keyCode===e.escape)return t.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(t.keyCode!==e.up)if(t.keyCode!==e.down){if(t.keyCode===e.left)return t.preventDefault(),void this.$switchLane("annotation");if(t.keyCode===e.right)return t.preventDefault(),void this.$switchLane("fold");if(t.keyCode!==e.enter&&t.keyCode!==e.space);else switch(t.preventDefault(),this.activeLane){case"fold":if("start"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]){var i=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),t),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==i&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(i),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break;return;case"annotation":var n=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),r=this.annotationTooltip.getElement().style;r.left=n.right+"px",r.top=n.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(t.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(t.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else t.preventDefault()},t.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},t.prototype.$isFoldWidgetVisible=function(t){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(t)),n="none"!==this.$getFoldWidget(t).style.display;return i&&n},t.prototype.$isAnnotationVisible=function(t){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(t)),n="none"!==this.$getAnnotation(t).style.display;return i&&n},t.prototype.$getFoldWidget=function(t){return this.lines.get(t).element.childNodes[1]},t.prototype.$getAnnotation=function(t){return this.lines.get(t).element.childNodes[2]},t.prototype.$findNearestFoldWidget=function(t){if(this.$isFoldWidgetVisible(t))return t;for(var i=0;t-i>0||t+i<this.lines.getLength()-1;){if(t-++i>=0&&this.$isFoldWidgetVisible(t-i))return t-i;if(t+i<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(t+i))return t+i}return null},t.prototype.$findNearestAnnotation=function(t){if(this.$isAnnotationVisible(t))return t;for(var i=0;t-i>0||t+i<this.lines.getLength()-1;){if(t-++i>=0&&this.$isAnnotationVisible(t-i))return t-i;if(t+i<=this.lines.getLength()-1&&this.$isAnnotationVisible(t+i))return t+i}return null},t.prototype.$focusFoldWidget=function(t){if(null!=t){var i=this.$getFoldWidget(t);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},t.prototype.$focusAnnotation=function(t){if(null!=t){var i=this.$getAnnotation(t);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},t.prototype.$blurFoldWidget=function(t){var i=this.$getFoldWidget(t);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},t.prototype.$blurAnnotation=function(t){var i=this.$getAnnotation(t);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},t.prototype.$moveFoldWidgetUp=function(){for(var t=this.activeRowIndex;t>0;)if(t--,this.$isFoldWidgetVisible(t))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,void this.$focusFoldWidget(this.activeRowIndex)},t.prototype.$moveFoldWidgetDown=function(){for(var t=this.activeRowIndex;t<this.lines.getLength()-1;)if(t++,this.$isFoldWidgetVisible(t))return this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,void this.$focusFoldWidget(this.activeRowIndex)},t.prototype.$moveAnnotationUp=function(){for(var t=this.activeRowIndex;t>0;)if(t--,this.$isAnnotationVisible(t))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=t,void this.$focusAnnotation(this.activeRowIndex)},t.prototype.$moveAnnotationDown=function(){for(var t=this.activeRowIndex;t<this.lines.getLength()-1;)if(t++,this.$isAnnotationVisible(t))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=t,void this.$focusAnnotation(this.activeRowIndex)},t.prototype.$switchLane=function(t){switch(t){case"annotation":if("annotation"===this.activeLane)break;var i=this.$findNearestAnnotation(this.activeRowIndex);if(null==i)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=i,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var n=this.$findNearestFoldWidget(this.activeRowIndex);if(null==n)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusFoldWidget(this.activeRowIndex)}},t.prototype.$rowIndexToRow=function(t){var i=this.lines.get(t);return i?i.row:null},t.prototype.$rowToRowIndex=function(t){for(var i=0;i<this.lines.getLength();i++){if(this.lines.get(i).row==t)return i}return null},t}();i.GutterKeyboardHandler=s;var o=function(){function t(t,i){this.gutterKeyboardHandler=i,this.domEvent=t}return t.prototype.getKey=function(){return e.keyCodeToString(this.domEvent.keyCode)},t.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},t.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},t.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},t}();i.GutterKeyboardEvent=o})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],(function(t,i,n){var e=this&&this.V||function(t){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&t[i],e=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},r=t("./lib/oop"),s=t("./lib/dom"),o=t("./lib/lang"),h=t("./lib/useragent"),u=t("./keyboard/textinput").TextInput,a=t("./mouse/mouse_handler").MouseHandler,c=t("./mouse/fold_handler").FoldHandler,f=t("./keyboard/keybinding").KeyBinding,l=t("./edit_session").EditSession,d=t("./search").Search,v=t("./range").Range,p=t("./lib/event_emitter").EventEmitter,m=t("./commands/command_manager").CommandManager,w=t("./commands/default_commands").commands,g=t("./config"),b=t("./token_iterator").TokenIterator,y=t("./line_widgets").LineWidgets,A=t("./keyboard/gutter_handler").GutterKeyboardHandler,x=t("./config").nls,_=t("./clipboard"),k=t("./lib/keys"),S=function(){function t(i,n,e){this.session,this.$toDestroy=[];var r=i.getContainerElement();this.container=r,this.renderer=i,this.id="editor"+ ++t.$uid,this.commands=new m(h.isMac?"mac":"win",w),"object"==typeof document&&(this.textInput=new u(i.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new c(this)),this.keyBinding=new f(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(t,i){i._$emitInputEvent.schedule(31)})),this.setSession(n||e&&e.session||new l("")),g.resetOptions(this),e&&this.setOptions(e),g._signal("editor",this)}return t.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},t.prototype.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},t.prototype.endOperation=function(t){if(this.curOp&&this.session){if(t&&!1===t.returnValue||!this.session)return this.curOp=null;if(1==t&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var i=this.curOp.command,n=i&&i.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var e=this.selection.getRange(),r=this.renderer.layerConfig;(e.start.row>=r.lastRow||e.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var s=this.selection.toJSON();this.curOp.selectionAfter=s,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(s),this.prevOp=this.curOp,this.curOp=null}},t.prototype.$historyTracker=function(t){if(this.$mergeUndoDeltas){var i=this.prevOp,n=this.$mergeableCommands,e=i.command&&t.command.name==i.command.name;if("insertstring"==t.command.name){var r=t.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),e=e&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(i.args)),this.mergeNextCommand=!0}else e=e&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(e=!1),e?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},t.prototype.setKeyboardHandler=function(t,i){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var n=this;g.loadModule(["keybinding",t],(function(e){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(e&&e.handler),i&&i()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),i&&i()},t.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},t.prototype.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var i=this.session;if(i){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:i}),this.curOp=null,i&&i._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&!t.destroyed&&t.bgTokenizer.scheduleStart()}},t.prototype.getSession=function(){return this.session},t.prototype.setValue=function(t,i){return this.session.doc.setValue(t),i?1==i?this.navigateFileEnd():-1==i&&this.navigateFileStart():this.selectAll(),t},t.prototype.getValue=function(){return this.session.getValue()},t.prototype.getSelection=function(){return this.selection},t.prototype.resize=function(t){this.renderer.onResize(t)},t.prototype.setTheme=function(t,i){this.renderer.setTheme(t,i)},t.prototype.getTheme=function(){return this.renderer.getTheme()},t.prototype.setStyle=function(t){this.renderer.setStyle(t)},t.prototype.unsetStyle=function(t){this.renderer.unsetStyle(t)},t.prototype.getFontSize=function(){return this.getOption("fontSize")||s.computedStyle(this.container).fontSize},t.prototype.setFontSize=function(t){this.setOption("fontSize",t)},t.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout((function(){t.$highlightPending=!1;var i=t.session;if(i&&!i.destroyed){i.$bracketHighlight&&(i.$bracketHighlight.markerIds.forEach((function(t){i.removeMarker(t)})),i.$bracketHighlight=null);var n=t.getCursorPosition(),e=t.getKeyboardHandler(),r=e&&e.$getDirectionForHighlight&&e.$getDirectionForHighlight(t),s=i.getMatchingBracketRanges(n,r);if(!s){var o=new b(i,n.row,n.column).getCurrentToken();if(o&&/\b(?:tag-open|tag-name)/.test(o.type)){var h=i.getMatchingTags(n);h&&(s=[h.openTagName.isEmpty()?h.openTag:h.openTagName,h.closeTagName.isEmpty()?h.closeTag:h.closeTagName])}}if(!s&&i.$mode.getMatching&&(s=i.$mode.getMatching(t.session)),s){var u="ace_bracket";Array.isArray(s)?1==s.length&&(u="ace_error_bracket"):s=[s],2==s.length&&(0==v.comparePoints(s[0].end,s[1].start)?s=[v.fromPoints(s[0].start,s[1].end)]:0==v.comparePoints(s[0].start,s[1].end)&&(s=[v.fromPoints(s[1].start,s[0].end)])),i.$bracketHighlight={ranges:s,markerIds:s.map((function(t){return i.addMarker(t,u,"text")}))},t.getHighlightIndentGuides()&&t.renderer.$textLayer.$highlightIndentGuide()}else t.getHighlightIndentGuides()&&t.renderer.$textLayer.$highlightIndentGuide()}}),50)}},t.prototype.focus=function(){this.textInput.focus()},t.prototype.isFocused=function(){return this.textInput.isFocused()},t.prototype.blur=function(){this.textInput.blur()},t.prototype.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},t.prototype.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},t.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},t.prototype.onDocumentChange=function(t){var i=this.session.$useWrapMode,n=t.start.row==t.end.row?t.end.row:1/0;this.renderer.updateLines(t.start.row,n,i),this._signal("change",t),this.$cursorChange()},t.prototype.onTokenizerUpdate=function(t){var i=t.data;this.renderer.updateLines(i.first,i.last)},t.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},t.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},t.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},t.prototype.$updateHighlightActiveLine=function(){var t,i=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(t=!1)),i.$highlightLineMarker&&!t)i.removeMarker(i.$highlightLineMarker.id),i.$highlightLineMarker=null;else if(!i.$highlightLineMarker&&t){var n=new v(t.row,t.column,t.row,1/0);n.id=i.addMarker(n,"ace_active-line","screenLine"),i.$highlightLineMarker=n}else t&&(i.$highlightLineMarker.start.row=t.row,i.$highlightLineMarker.end.row=t.row,i.$highlightLineMarker.start.column=t.column,i._signal("changeBackMarker"))},t.prototype.onSelectionChange=function(t){var i=this.session;if(i.$selectionMarker&&i.removeMarker(i.$selectionMarker),i.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),e=this.getSelectionStyle();i.$selectionMarker=i.addMarker(n,"ace_selection",e)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},t.prototype.$getSelectionHighLightRegexp=function(){var t=this.session,i=this.getSelectionRange();if(!i.isEmpty()&&!i.isMultiLine()){var n=i.start.column,e=i.end.column,r=t.getLine(i.start.row),s=r.substring(n,e);if(!(s.length>5e3)&&/[\w\d]/.test(s)){var o=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s}),h=r.substring(n-1,e+1);if(o.test(h))return o}}},t.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},t.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},t.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},t.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},t.prototype.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},t.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},t.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},t.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},t.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},t.prototype.getCopyText=function(){var t=this.getSelectedText(),i=this.session.doc.getNewLineCharacter(),n=!1;if(!t&&this.$copyWithEmptySelection){n=!0;for(var e=this.selection.getAllRanges(),r=0;r<e.length;r++){var s=e[r];r&&e[r-1].start.row==s.start.row||(t+=this.session.getLine(s.start.row)+i)}}var o={text:t};return this._signal("copy",o),_.lineMode=!!n&&o.text,o.text},t.prototype.onCopy=function(){this.commands.exec("copy",this)},t.prototype.onCut=function(){this.commands.exec("cut",this)},t.prototype.onPaste=function(t,i){var n={text:t,event:i};this.commands.exec("paste",this,n)},t.prototype.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var i=t.text,n=i===_.lineMode,e=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?e.insert({row:this.selection.lead.row,column:0},i):this.insert(i);else if(n)this.selection.rangeList.ranges.forEach((function(t){e.insert({row:t.start.row,column:0},i)}));else{var r=i.split(/\r\n|\r|\n/),s=this.selection.rangeList.ranges,o=!(2!=r.length||r[0]&&r[1]);if(r.length!=s.length||o)return this.commands.exec("insertstring",this,i);for(var h=s.length;h--;){var u=s[h];u.isEmpty()||e.remove(u),e.insert(u.start,r[h])}}},t.prototype.execCommand=function(t,i){return this.commands.exec(t,this,i)},t.prototype.insert=function(t,i){var n=this.session,e=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!i){var s=e.transformAction(n.getState(r.row),"insertion",this,n,t);s&&(t!==s.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),t=s.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==t.indexOf("\n")){(o=v.fromPoints(r,r)).end.column+=t.length,this.session.remove(o)}}else{var o=this.getSelectionRange();r=this.session.remove(o),this.clearSelection()}if("\n"==t||"\r\n"==t){var h=n.getLine(r.row);if(r.column>h.search(/\S|$/)){var u=h.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+u)}}this.clearSelection();var a=r.column,c=n.getState(r.row),f=(h=n.getLine(r.row),e.checkOutdent(c,h,t));if(n.insert(r,t),s&&s.selection&&(2==s.selection.length?this.selection.setSelectionRange(new v(r.row,a+s.selection[0],r.row,a+s.selection[1])):this.selection.setSelectionRange(new v(r.row+s.selection[0],s.selection[1],r.row+s.selection[2],s.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(t)){var l=e.getNextLineIndent(c,h.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},l)}f&&e.autoOutdent(c,n,r.row)}},t.prototype.autoIndent=function(){for(var t=this.session,i=t.getMode(),n=this.selection.isEmpty()?[new v(0,0,t.doc.getLength()-1,0)]:this.selection.getAllRanges(),e="",r="",s="",o=t.getTabString(),h=0;h<n.length;h++)for(var u=n[h].start.row,a=n[h].end.row,c=u;c<=a;c++){c>0&&(e=t.getState(c-1),r=t.getLine(c-1),s=i.getNextLineIndent(e,r,o));var f=t.getLine(c),l=i.$getIndent(f);if(s!==l){if(l.length>0){var d=new v(c,0,c,l.length);t.remove(d)}s.length>0&&t.insert({row:c,column:0},s)}i.autoOutdent(e,t,c)}},t.prototype.onTextInput=function(t,i){if(!i)return this.keyBinding.onTextInput(t);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,t,i);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},t.prototype.applyComposition=function(t,i){var n;(i.extendLeft||i.extendRight)&&((n=this.selection.getRange()).start.column-=i.extendLeft,n.end.column+=i.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),t||n.isEmpty()||this.remove());(!t&&this.selection.isEmpty()||this.insert(t,!0),i.restoreStart||i.restoreEnd)&&((n=this.selection.getRange()).start.column-=i.restoreStart,n.end.column-=i.restoreEnd,this.selection.setRange(n))},t.prototype.onCommandKey=function(t,i,n){return this.keyBinding.onCommandKey(t,i,n)},t.prototype.setOverwrite=function(t){this.session.setOverwrite(t)},t.prototype.getOverwrite=function(){return this.session.getOverwrite()},t.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},t.prototype.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},t.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},t.prototype.setDragDelay=function(t){this.setOption("dragDelay",t)},t.prototype.getDragDelay=function(){return this.getOption("dragDelay")},t.prototype.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},t.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},t.prototype.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},t.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},t.prototype.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},t.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},t.prototype.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},t.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},t.prototype.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},t.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},t.prototype.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},t.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},t.prototype.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},t.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},t.prototype.setHighlightIndentGuides=function(t){this.renderer.setHighlightIndentGuides(t)},t.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},t.prototype.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},t.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},t.prototype.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},t.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},t.prototype.setReadOnly=function(t){this.setOption("readOnly",t)},t.prototype.getReadOnly=function(){return this.getOption("readOnly")},t.prototype.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},t.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},t.prototype.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},t.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},t.prototype.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},t.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},t.prototype.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},t.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},t.prototype.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var i=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,e=n.getState(i.start.row),r=n.getMode().transformAction(e,"deletion",this,n,i);if(0===i.end.column){var s=n.getTextRange(i);if("\n"==s[s.length-1]){var o=n.getLine(i.end.row);/^\s+$/.test(o)&&(i.end.column=o.length)}}r&&(i=r)}this.session.remove(i),this.clearSelection()},t.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},t.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},t.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},t.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},t.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},t.prototype.setGhostText=function(t,i){this.session.widgetManager||(this.session.widgetManager=new y(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(t,i)},t.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},t.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),i=t.column;if(0!==i){var n,e,r=this.session.getLine(t.row);i<r.length?(n=r.charAt(i)+r.charAt(i-1),e=new v(t.row,i-1,t.row,i+1)):(n=r.charAt(i-1)+r.charAt(i-2),e=new v(t.row,i-2,t.row,i)),this.session.replace(e,n),this.session.selection.moveToPosition(e.end)}}},t.prototype.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var i=this.getSelectionRange(),n=this.session.getTextRange(i);this.session.replace(i,n.toLowerCase()),this.selection.setSelectionRange(t)},t.prototype.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var i=this.getSelectionRange(),n=this.session.getTextRange(i);this.session.replace(i,n.toUpperCase()),this.selection.setSelectionRange(t)},t.prototype.indent=function(){var t=this.session,i=this.getSelectionRange();if(!(i.start.row<i.end.row)){if(i.start.column<i.end.column){var n=t.getTextRange(i);if(!/^\s+$/.test(n)){c=this.$getSelectedRows();return void t.indentRows(c.first,c.last,"\t")}}var e=t.getLine(i.start.row),r=i.start,s=t.getTabSize(),h=t.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var u=s-h%s,a=o.stringRepeat(" ",u);else{for(u=h%s;" "==e[i.start.column-1]&&u;)i.start.column--,u--;this.selection.setSelectionRange(i),a="\t"}return this.insert(a)}var c=this.$getSelectedRows();t.indentRows(c.first,c.last,"\t")},t.prototype.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},t.prototype.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},t.prototype.sortLines=function(){for(var t=this.$getSelectedRows(),i=this.session,n=[],e=t.first;e<=t.last;e++)n.push(i.getLine(e));n.sort((function(t,i){return t.toLowerCase()<i.toLowerCase()?-1:t.toLowerCase()>i.toLowerCase()?1:0}));var r=new v(0,0,0,0);for(e=t.first;e<=t.last;e++){var s=i.getLine(e);r.start.row=e,r.end.row=e,r.end.column=s.length,i.replace(r,n[e-t.first])}},t.prototype.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),i=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,i.first,i.last)},t.prototype.toggleBlockComment=function(){var t=this.getCursorPosition(),i=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(i,this.session,n,t)},t.prototype.getNumberAt=function(t,i){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var e=this.session.getLine(t);n.lastIndex<i;){var r=n.exec(e);if(r.index<=i&&r.index+r[0].length>=i)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},t.prototype.modifyNumber=function(t){var i=this.selection.getCursor().row,n=this.selection.getCursor().column,e=new v(i,n-1,i,n),r=this.session.getTextRange(e);if(!isNaN(parseFloat(r))&&isFinite(r)){var s=this.getNumberAt(i,n);if(s){var o=s.value.indexOf(".")>=0?s.start+s.value.indexOf(".")+1:s.end,h=s.start+s.value.length-o,u=parseFloat(s.value);u*=Math.pow(10,h),o!==s.end&&n<o?t*=Math.pow(10,s.end-n-1):t*=Math.pow(10,s.end-n),u+=t;var a=(u/=Math.pow(10,h)).toFixed(h),c=new v(i,s.start,i,s.end);this.session.replace(c,a),this.moveCursorTo(i,Math.max(s.start+1,n+a.length-s.value.length))}}else this.toggleWord()},t.prototype.toggleWord=function(){var t=this.selection.getCursor().row,i=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),e=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=i-e-1;s<0&&(s=0);var h=0,u=0,a=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(i,r){u=h+i.length,s>=h&&s<=u&&(n=i,a.selection.clearSelection(),a.moveCursorTo(t,h+e),a.selection.selectTo(t,u+e)),h=u}));for(var c,f=this.$toggleWordPairs,l=0;l<f.length;l++)for(var d=f[l],v=0;v<=1;v++){var p=+!v,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(d[v])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(c=n.replace(new RegExp(o.escapeRegExp(d[v]),"i"),(function(t){var i=d[p];return t.toUpperCase()==t?i=i.toUpperCase():t.charAt(0).toUpperCase()==t.charAt(0)&&(i=i.substr(0,0)+d[p].charAt(0).toUpperCase()+i.substr(1)),i})),this.insert(c),c="")}},t.prototype.findLinkAt=function(t,i){var n,r,s=this.session.getLine(t).split(/((?:https?|ftp):\/\/[\S]+)/),o=i;o<0&&(o=0);var h,u=0,a=0;try{for(var c=e(s),f=c.next();!f.done;f=c.next()){var l=f.value;if(a=u+l.length,o>=u&&o<=a&&l.match(/((?:https?|ftp):\/\/[\S]+)/)){h=l.replace(/[\s:.,'";}\]]+$/,"");break}u=a}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return h},t.prototype.openLink=function(){var t=this.selection.getCursor(),i=this.findLinkAt(t.row,t.column);return i&&window.open(i,"_blank"),null!=i},t.prototype.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},t.prototype.duplicateSelection=function(){var t=this.selection,i=this.session,n=t.getRange(),e=t.isBackwards();if(n.isEmpty()){var r=n.start.row;i.duplicateLines(r,r)}else{var s=e?n.start:n.end,o=i.insert(s,i.getTextRange(n));n.start=s,n.end=o,t.setSelectionRange(n,e)}},t.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},t.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},t.prototype.moveText=function(t,i,n){return this.session.moveText(t,i,n)},t.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},t.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},t.prototype.$moveLines=function(t,i){var n,e,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var s=r.toOrientedRange();n=this.$getSelectedRows(s),e=this.session.$moveLines(n.first,n.last,i?0:t),i&&-1==t&&(e=0),s.moveBy(e,0),r.fromOrientedRange(s)}else{var o=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var h=0,u=0,a=o.length,c=0;c<a;c++){var f=c;o[c].moveBy(h,0);for(var l=(n=this.$getSelectedRows(o[c])).first,d=n.last;++c<a;){u&&o[c].moveBy(u,0);var v=this.$getSelectedRows(o[c]);if(i&&v.first!=d)break;if(!i&&v.first>d+1)break;d=v.last}for(c--,h=this.session.$moveLines(l,d,i?0:t),i&&-1==t&&(f=c+1);f<=c;)o[f].moveBy(h,0),f++;i||(h=0),u+=h}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},t.prototype.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},t.prototype.onCompositionStart=function(t){this.renderer.showComposition(t)},t.prototype.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},t.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},t.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},t.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},t.prototype.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},t.prototype.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},t.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},t.prototype.$moveByPage=function(t,i){var n=this.renderer,e=this.renderer.layerConfig,r=t*Math.floor(e.height/e.lineHeight);!0===i?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===i&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var s=n.scrollTop;n.scrollBy(0,r*e.lineHeight),null!=i&&n.scrollCursorIntoView(null,.5),n.animateScrolling(s)},t.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},t.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},t.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},t.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},t.prototype.scrollPageDown=function(){this.$moveByPage(1)},t.prototype.scrollPageUp=function(){this.$moveByPage(-1)},t.prototype.scrollToRow=function(t){this.renderer.scrollToRow(t)},t.prototype.scrollToLine=function(t,i,n,e){this.renderer.scrollToLine(t,i,n,e)},t.prototype.centerSelection=function(){var t=this.getSelectionRange(),i={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(i,.5)},t.prototype.getCursorPosition=function(){return this.selection.getCursor()},t.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},t.prototype.getSelectionRange=function(){return this.selection.getRange()},t.prototype.selectAll=function(){this.selection.selectAll()},t.prototype.clearSelection=function(){this.selection.clearSelection()},t.prototype.moveCursorTo=function(t,i){this.selection.moveCursorTo(t,i)},t.prototype.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},t.prototype.jumpToMatching=function(t,i){var n=this.getCursorPosition(),e=new b(this.session,n.row,n.column),r=e.getCurrentToken(),s=0;r&&-1!==r.type.indexOf("tag-name")&&(r=e.stepBackward());var o=r||e.stepForward();if(o){var h,u,a=!1,c={},f=n.column-o.start,l={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;f<o.value.length&&!a;f++)if(l[o.value[f]])switch(u=l[o.value[f]]+"."+o.type.replace("rparen","lparen"),isNaN(c[u])&&(c[u]=0),o.value[f]){case"(":case"[":case"{":c[u]++;break;case")":case"]":case"}":c[u]--,-1===c[u]&&(h="bracket",a=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value&&s>1?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(h="tag",a=!0));a||(r=o,s++,o=e.stepForward(),f=0)}while(o&&!a);if(h){var d,p;if("bracket"===h)(d=this.session.getBracketRange(n))||(p=(d=new v(e.getCurrentTokenRow(),e.getCurrentTokenColumn()+f-1,e.getCurrentTokenRow(),e.getCurrentTokenColumn()+f-1)).start,(i||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===h){if(!o||-1===o.type.indexOf("tag-name"))return;if(0===(d=new v(e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2,e.getCurrentTokenRow(),e.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?p=(d=m.closeTag).start:(d=m.openTag,p=m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?d.end:d.start))}p=p||d.start}(p=d&&d.cursor||p)&&(t?d&&i?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},t.prototype.gotoLine=function(t,i,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:i||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,i||0),this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},t.prototype.navigateTo=function(t,i){this.selection.moveTo(t,i)},t.prototype.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var i=this.selection.anchor.getPosition();return this.moveCursorToPosition(i)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},t.prototype.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var i=this.selection.anchor.getPosition();return this.moveCursorToPosition(i)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},t.prototype.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var i=this.getSelectionRange().start;this.moveCursorToPosition(i)}this.clearSelection()},t.prototype.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var i=this.getSelectionRange().end;this.moveCursorToPosition(i)}this.clearSelection()},t.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},t.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},t.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},t.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},t.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},t.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},t.prototype.replace=function(t,i){i&&this.$search.set(i);var n=this.$search.find(this.session),e=0;return n?(this.$tryReplace(n,t)&&(e=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),e):e},t.prototype.replaceAll=function(t,i){i&&this.$search.set(i);var n=this.$search.findAll(this.session),e=0;if(!n.length)return e;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var s=n.length-1;s>=0;--s)this.$tryReplace(n[s],t)&&e++;return this.selection.setSelectionRange(r),e},t.prototype.$tryReplace=function(t,i){var n=this.session.getTextRange(t);return null!==(i=this.$search.replace(n,i))?(t.end=this.session.replace(t,i),t):null},t.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},t.prototype.find=function(t,i,n){i||(i={}),"string"==typeof t||t instanceof RegExp?i.needle=t:"object"==typeof t&&r.mixin(i,t);var e=this.selection.getRange();null==i.needle&&((t=this.session.getTextRange(e)||this.$search.$options.needle)||(e=this.session.getWordRange(e.start.row,e.start.column),t=this.session.getTextRange(e)),this.$search.set({needle:t})),this.$search.set(i),i.start||this.$search.set({start:e});var s=this.$search.find(this.session);return i.preventScroll?s:s?(this.revealRange(s,n),s):(i.backwards?e.start=e.end:e.end=e.start,void this.selection.setRange(e))},t.prototype.findNext=function(t,i){this.find({skipCurrent:!0,backwards:!1},t,i)},t.prototype.findPrevious=function(t,i){this.find(t,{skipCurrent:!0,backwards:!0},i)},t.prototype.revealRange=function(t,i){this.session.unfold(t),this.selection.setSelectionRange(t);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==i&&this.renderer.animateScrolling(n)},t.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},t.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},t.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(t){t.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},t.prototype.setAutoScrollEditorIntoView=function(t){if(t){var i,n=this,e=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var s=this.on("changeSelection",(function(){e=!0})),o=this.renderer.on("beforeRender",(function(){e&&(i=n.renderer.container.getBoundingClientRect())})),h=this.renderer.on("afterRender",(function(){if(e&&i&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var t=n.renderer,s=t.$cursorLayer.$pixelPos,o=t.layerConfig,h=s.top-o.offset;null!=(e=s.top>=0&&h+i.top<0||!(s.top<o.height&&s.top+i.top+o.lineHeight>window.innerHeight)&&null)&&(r.style.top=h+"px",r.style.left=s.left+"px",r.style.height=o.lineHeight+"px",r.scrollIntoView(e)),e=i=null}}));this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",s),this.renderer.off("afterRender",h),this.renderer.off("beforeRender",o))}}},t.prototype.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",i=this.renderer.$cursorLayer;i&&(i.setSmoothBlinking(/smooth/.test(t)),i.isBlinking=!this.$readOnly&&"wide"!=t,s.setCssClass(i.element,"ace_slim-cursors",/slim/.test(t)))},t.prototype.prompt=function(t,i,n){var e=this;g.loadModule("ace/ext/prompt",(function(r){r.prompt(e,t,i,n)}))},t}();S.$uid=0,S.prototype.curOp=null,S.prototype.prevOp={},S.prototype.$mergeableCommands=["backspace","del","insertstring"],S.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],r.implement(S.prototype,p),g.defineOptions(S.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(t){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.textInput.setReadOnly(t),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(t){this.textInput.setCopyWithEmptySelection(t)},initialValue:!1},cursorStyle:{set:function(t){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(t){this.session.setValue(t)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(t){this.setSession(t)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(t){this.renderer.$gutterLayer.setShowLineNumbers(t),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),t&&this.$relativeLineNumbers?M.attach(this):M.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(t){this.$showLineNumbers&&t?M.attach(this):M.detach(this)}},placeholder:{set:function(t){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var t=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(t&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),s.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(t||this.renderer.placeholderNode)!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),s.addCssClass(this.container,"ace_hasPlaceholder");var i=s.createElement("div");i.className="ace_placeholder",i.textContent=this.$placeholder||"",this.renderer.placeholderNode=i,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(t){var i,n={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(t){t.blur(),t.renderer.scroller.focus()},readOnly:!0},e=function(t){if(t.target==this.renderer.scroller&&t.keyCode===k.enter){t.preventDefault();var i=this.getCursorPosition().row;this.isRowVisible(i)||this.scrollToLine(i,!0,!0),this.focus()}};t?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(h.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",x("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",x("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",e.bind(this)),this.commands.addCommand(n),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",x("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",x("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),i||(i=new A(this)),i.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",e.bind(this)),this.commands.removeCommand(n),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),i&&i.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(t){this.$textInputAriaLabel=t},initialValue:""},enableMobileMenu:{set:function(t){this.$enableMobileMenu=t},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var M={getText:function(t,i){return(Math.abs(t.selection.lead.row-i)||i+1+(i<9?"":""))+""},getWidth:function(t,i,n){return Math.max(i.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(t,i){i.renderer.$loop.schedule(i.renderer.CHANGE_GUTTER)},attach:function(t){t.renderer.$gutterLayer.$renderer=this,t.on("changeSelection",this.update),this.update(null,t)},detach:function(t){t.renderer.$gutterLayer.$renderer==this&&(t.renderer.$gutterLayer.$renderer=null),t.off("changeSelection",this.update),this.update(null,t)}};i.Editor=S})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(t,i,n){var e=t("../lib/dom"),r=function(){function t(t,i){this.element=t,this.canvasHeight=i||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return t.prototype.moveContainer=function(t){e.translate(this.element,0,-t.firstRowScreen*t.lineHeight%this.canvasHeight-t.offset*this.$offsetCoefficient)},t.prototype.pageChanged=function(t,i){return Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)!==Math.floor(i.firstRowScreen*i.lineHeight/this.canvasHeight)},t.prototype.computeLineTop=function(t,i,n){var e=i.firstRowScreen*i.lineHeight,r=Math.floor(e/this.canvasHeight);return n.documentToScreenRow(t,0)*i.lineHeight-r*this.canvasHeight},t.prototype.computeLineHeight=function(t,i,n){return i.lineHeight*n.getRowLineCount(t)},t.prototype.getLength=function(){return this.cells.length},t.prototype.get=function(t){return this.cells[t]},t.prototype.shift=function(){this.$cacheCell(this.cells.shift())},t.prototype.pop=function(){this.$cacheCell(this.cells.pop())},t.prototype.push=function(t){if(Array.isArray(t)){this.cells.push.apply(this.cells,t);for(var i=e.createFragment(this.element),n=0;n<t.length;n++)i.appendChild(t[n].element);this.element.appendChild(i)}else this.cells.push(t),this.element.appendChild(t.element)},t.prototype.unshift=function(t){if(Array.isArray(t)){this.cells.unshift.apply(this.cells,t);for(var i=e.createFragment(this.element),n=0;n<t.length;n++)i.appendChild(t[n].element);this.element.firstChild?this.element.insertBefore(i,this.element.firstChild):this.element.appendChild(i)}else this.cells.unshift(t),this.element.insertAdjacentElement("afterbegin",t.element)},t.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},t.prototype.$cacheCell=function(t){t&&(t.element.remove(),this.cellCache.push(t))},t.prototype.createCell=function(t,i,n,r){var s=this.cellCache.pop();if(!s){var o=e.createElement("div");r&&r(o),this.element.appendChild(o),s={element:o,text:"",row:t}}return s.row=t,s},t}();i.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(t,i,n){var e=t("../lib/dom"),r=t("../lib/oop"),s=t("../lib/lang"),o=t("../lib/event_emitter").EventEmitter,h=t("./lines").Lines,u=t("../config").nls,a=function(){function t(t){this.element=e.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new h(this.element),this.$lines.$offsetCoefficient=1}return t.prototype.setSession=function(t){this.session&&this.session.off("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},t.prototype.addGutterDecoration=function(t,i){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,i)},t.prototype.removeGutterDecoration=function(t,i){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,i)},t.prototype.setAnnotations=function(t){this.$annotations=[];for(var i=0;i<t.length;i++){var n=t[i],e=n.row,r=this.$annotations[e];r||(r=this.$annotations[e]={text:[],type:[],displayText:[]});var o=n.text,h=n.text,u=n.type;o=o?s.escapeHTML(o):n.html||"",h=h||(n.html||""),-1===r.text.indexOf(o)&&(r.text.push(o),r.type.push(u),r.displayText.push(h));var a=n.className;a?r.className=a:"error"==u?r.className=" ace_error":"warning"==u&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=u||r.className||(r.className=" ace_info")}},t.prototype.$updateAnnotations=function(t){if(this.$annotations.length){var i=t.start.row,n=t.end.row-i;if(0===n);else if("remove"==t.action)this.$annotations.splice(i,n+1,null);else{var e=new Array(n+1);e.unshift(i,1),this.$annotations.splice.apply(this.$annotations,e)}}},t.prototype.update=function(t){this.config=t;var i=this.session,n=t.firstRow,e=Math.min(t.lastRow+t.gutterOffset,i.getLength()-1);this.oldLastRow=e,this.config=t,this.$lines.moveContainer(t),this.$updateCursorRow();for(var r=i.getNextFoldLine(n),s=r?r.start.row:1/0,o=null,h=-1,u=n;;){if(u>s&&(u=r.end.row+1,s=(r=i.getNextFoldLine(u,r))?r.start.row:1/0),u>e){for(;this.$lines.getLength()>h+1;)this.$lines.pop();break}(o=this.$lines.get(++h))?o.row=u:(o=this.$lines.createCell(u,t,this.session,c),this.$lines.push(o)),this.$renderCell(o,t,r,u),u++}this._signal("afterRender"),this.$updateGutterWidth(t)},t.prototype.$updateGutterWidth=function(t){var i=this.session,n=i.gutterRenderer||this.$renderer,e=i.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||i.$useWrapMode)&&(r=i.getLength()+e-1);var s=n?n.getWidth(i,r,t):r.toString().length*t.characterWidth,o=this.$padding||this.$computePadding();(s+=o.left+o.right)===this.gutterWidth||isNaN(s)||(this.gutterWidth=s,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",s))},t.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var t=this.session.selection.getCursor();this.$cursorRow!==t.row&&(this.$cursorRow=t.row)}},t.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var t=this.session.selection.cursor.row;if(this.$cursorRow=t,!this.$cursorCell||this.$cursorCell.row!=t){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var i=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<i.length;n++){var e=i[n];if(e.row>=this.$cursorRow){if(e.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==i[n-1].row))break;e=i[n-1]}e.element.className="ace_gutter-active-line "+e.element.className,this.$cursorCell=e;break}}}}},t.prototype.scrollLines=function(t){var i=this.config;if(this.config=t,this.$updateCursorRow(),this.$lines.pageChanged(i,t))return this.update(t);this.$lines.moveContainer(t);var n=Math.min(t.lastRow+t.gutterOffset,this.session.getLength()-1),e=this.oldLastRow;if(this.oldLastRow=n,!i||e<t.firstRow)return this.update(t);if(n<i.firstRow)return this.update(t);if(i.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(i.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(e>n)for(r=this.session.getFoldedRowCount(n+1,e);r>0;r--)this.$lines.pop();t.firstRow<i.firstRow&&this.$lines.unshift(this.$renderLines(t,t.firstRow,i.firstRow-1)),n>e&&this.$lines.push(this.$renderLines(t,e+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(t)},t.prototype.$renderLines=function(t,i,n){for(var e=[],r=i,s=this.session.getNextFoldLine(r),o=s?s.start.row:1/0;r>o&&(r=s.end.row+1,o=(s=this.session.getNextFoldLine(r,s))?s.start.row:1/0),!(r>n);){var h=this.$lines.createCell(r,t,this.session,c);this.$renderCell(h,t,s,r),e.push(h),r++}return e},t.prototype.$renderCell=function(t,i,n,r){var s=t.element,o=this.session,h=s.childNodes[0],a=s.childNodes[1],c=s.childNodes[2],f=c.firstChild,l=o.$firstLineNumber,d=o.$breakpoints,v=o.$decorations,p=o.gutterRenderer||this.$renderer,m=this.$showFoldWidgets&&o.foldWidgets,w=n?n.start.row:Number.MAX_VALUE,g=i.lineHeight+"px",b=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",y=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",A=(p?p.getText(o,r):r+l).toString();if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=w&&this.$cursorRow<=n.end.row)&&(b+="ace_gutter-active-line ",this.$cursorCell!=t&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=t)),d[r]&&(b+=d[r]),v[r]&&(b+=v[r]),this.$annotations[r]&&r!==w&&(b+=this.$annotations[r].className),m){var x=m[r];null==x&&(x=m[r]=o.getFoldWidget(r))}if(x){var _="ace_fold-widget ace_"+x,k="start"==x&&r==w&&r<n.end.row;if(k){_+=" ace_closed";for(var S="",M=!1,I=r+1;I<=n.end.row;I++)if(this.$annotations[I]){if(" ace_error"===this.$annotations[I].className){M=!0,S=" ace_error_fold";break}" ace_warning"!==this.$annotations[I].className||(M=!0,S=" ace_warning_fold")}b+=S}else _+=" ace_open";a.className!=_&&(a.className=_),e.setStyle(a.style,"height",g),e.setStyle(a.style,"display","inline-block"),a.setAttribute("role","button"),a.setAttribute("tabindex","-1");var E=o.getFoldWidgetRange(r);E?a.setAttribute("aria-label",u("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[E.start.row+1,E.end.row+1])):n?a.setAttribute("aria-label",u("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[n.start.row+1,n.end.row+1])):a.setAttribute("aria-label",u("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[r+1])),k?(a.setAttribute("aria-expanded","false"),a.setAttribute("title",u("gutter.code-folding.closed.title","Unfold code"))):(a.setAttribute("aria-expanded","true"),a.setAttribute("title",u("gutter.code-folding.open.title","Fold code")))}else a&&(e.setStyle(a.style,"display","none"),a.setAttribute("tabindex","0"),a.removeAttribute("role"),a.removeAttribute("aria-label"));if(M&&this.$showFoldedAnnotations){switch(c.className="ace_gutter_annotation",f.className=y,f.className+=S,e.setStyle(f.style,"height",g),e.setStyle(c.style,"display","block"),e.setStyle(c.style,"height",g),S){case" ace_error_fold":T=u("gutter.annotation.aria-label.error","Read annotations row $0",[A]);break;case" ace_warning_fold":T=u("gutter.annotation.aria-label.warning","Read annotations row $0",[A])}c.setAttribute("aria-label",T),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")}else if(this.$annotations[r]){var T;switch(c.className="ace_gutter_annotation",f.className=y,this.$useSvgGutterIcons?f.className+=this.$annotations[r].className:s.classList.add(this.$annotations[r].className.replace(" ","")),e.setStyle(f.style,"height",g),e.setStyle(c.style,"display","block"),e.setStyle(c.style,"height",g),this.$annotations[r].className){case" ace_error":T=u("gutter.annotation.aria-label.error","Read annotations row $0",[A]);break;case" ace_warning":T=u("gutter.annotation.aria-label.warning","Read annotations row $0",[A]);break;case" ace_info":T=u("gutter.annotation.aria-label.info","Read annotations row $0",[A])}c.setAttribute("aria-label",T),c.setAttribute("tabindex","-1"),c.setAttribute("role","button")}else e.setStyle(c.style,"display","none"),c.removeAttribute("aria-label"),c.removeAttribute("role"),c.setAttribute("tabindex","0");return A!==h.data&&(h.data=A),s.className!=b&&(s.className=b),e.setStyle(t.element.style,"height",this.$lines.computeLineHeight(r,i,o)+"px"),e.setStyle(t.element.style,"top",this.$lines.computeLineTop(r,i,o)+"px"),t.text=A,"none"===c.style.display&&"none"===a.style.display?t.element.setAttribute("aria-hidden",!0):t.element.setAttribute("aria-hidden",!1),t},t.prototype.setHighlightGutterLine=function(t){this.$highlightGutterLine=t},t.prototype.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return 0},getText:function(){return""}}},t.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},t.prototype.setShowFoldWidgets=function(t){t?e.addCssClass(this.element,"ace_folding-enabled"):e.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},t.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},t.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=e.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(t.borderLeftWidth)||0)+(parseInt(t.paddingLeft)||0)+1,this.$padding.right=(parseInt(t.borderRightWidth)||0)+(parseInt(t.paddingRight)||0),this.$padding},t.prototype.getRegion=function(t){var i=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<i.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-i.right?"foldWidgets":void 0},t}();function c(t){var i=document.createTextNode("");t.appendChild(i);var n=e.createElement("span");t.appendChild(n);var r=e.createElement("span");t.appendChild(r);var s=e.createElement("span");return r.appendChild(s),t}a.prototype.$fixedWidth=!1,a.prototype.$highlightGutterLine=!0,a.prototype.$renderer="",a.prototype.$showLineNumbers=!0,a.prototype.$showFoldWidgets=!0,r.implement(a.prototype,o),i.Gutter=a})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(t,i,n){var e=t("../range").Range,r=t("../lib/dom"),s=function(){function t(t){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)}return t.prototype.setPadding=function(t){this.$padding=t},t.prototype.setSession=function(t){this.session=t},t.prototype.setMarkers=function(t){this.markers=t},t.prototype.elt=function(t,i){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=i,n.className=t},t.prototype.update=function(t){if(t){var i;for(var n in this.config=t,this.i=0,this.markers){var e=this.markers[n];if(e.range){var r=e.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),e.renderer){var s=this.$getTop(r.start.row,t),o=this.$padding+r.start.column*t.characterWidth;e.renderer(i,r,o,s,t)}else"fullLine"==e.type?this.drawFullLineMarker(i,r,e.clazz,t):"screenLine"==e.type?this.drawScreenLineMarker(i,r,e.clazz,t):r.isMultiLine()?"text"==e.type?this.drawTextMarker(i,r,e.clazz,t):this.drawMultiLineMarker(i,r,e.clazz,t):this.drawSingleLineMarker(i,r,e.clazz+" ace_start ace_br15",t)}else e.update(i,this,this.session,t)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},t.prototype.$getTop=function(t,i){return(t-i.firstRowScreen)*i.lineHeight},t.prototype.drawTextMarker=function(t,i,n,r,s){for(var o=this.session,h=i.start.row,u=i.end.row,a=h,c=0,f=0,l=o.getScreenLastRowColumn(a),d=new e(a,i.start.column,a,f);a<=u;a++)d.start.row=d.end.row=a,d.start.column=a==h?i.start.column:o.getRowWrapIndent(a),d.end.column=l,c=f,f=l,l=a+1<u?o.getScreenLastRowColumn(a+1):a==u?0:i.end.column,this.drawSingleLineMarker(t,d,n+(a==h?" ace_start":"")+" ace_br"+((a==h||a==h+1&&i.start.column?1:0)|(c<f?2:0)|(f>l?4:0)|(a==u?8:0)),r,a==u?0:1,s)},t.prototype.drawMultiLineMarker=function(t,i,n,e,r){var s=this.$padding,o=e.lineHeight,h=this.$getTop(i.start.row,e),u=s+i.start.column*e.characterWidth;(r=r||"",this.session.$bidiHandler.isBidiRow(i.start.row))?((a=i.clone()).end.row=a.start.row,a.end.column=this.session.getLine(a.start.row).length,this.drawBidiSingleLineMarker(t,a,n+" ace_br1 ace_start",e,null,r)):this.elt(n+" ace_br1 ace_start","height:"+o+"px;right:0;top:"+h+"px;left:"+u+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(i.end.row)){var a;(a=i.clone()).start.row=a.end.row,a.start.column=0,this.drawBidiSingleLineMarker(t,a,n+" ace_br12",e,null,r)}else{h=this.$getTop(i.end.row,e);var c=i.end.column*e.characterWidth;this.elt(n+" ace_br12","height:"+o+"px;width:"+c+"px;top:"+h+"px;left:"+s+"px;"+(r||""))}if(!((o=(i.end.row-i.start.row-1)*e.lineHeight)<=0)){h=this.$getTop(i.start.row+1,e);var f=(i.start.column?1:0)|(i.end.column?0:8);this.elt(n+(f?" ace_br"+f:""),"height:"+o+"px;right:0;top:"+h+"px;left:"+s+"px;"+(r||""))}},t.prototype.drawSingleLineMarker=function(t,i,n,e,r,s){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(t,i,n,e,r,s);var o=e.lineHeight,h=(i.end.column+(r||0)-i.start.column)*e.characterWidth,u=this.$getTop(i.start.row,e),a=this.$padding+i.start.column*e.characterWidth;this.elt(n,"height:"+o+"px;width:"+h+"px;top:"+u+"px;left:"+a+"px;"+(s||""))},t.prototype.drawBidiSingleLineMarker=function(t,i,n,e,r,s){var o=e.lineHeight,h=this.$getTop(i.start.row,e),u=this.$padding;this.session.$bidiHandler.getSelections(i.start.column,i.end.column).forEach((function(t){this.elt(n,"height:"+o+"px;width:"+(t.width+(r||0))+"px;top:"+h+"px;left:"+(u+t.left)+"px;"+(s||""))}),this)},t.prototype.drawFullLineMarker=function(t,i,n,e,r){var s=this.$getTop(i.start.row,e),o=e.lineHeight;i.start.row!=i.end.row&&(o+=this.$getTop(i.end.row,e)-s),this.elt(n,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))},t.prototype.drawScreenLineMarker=function(t,i,n,e,r){var s=this.$getTop(i.start.row,e),o=e.lineHeight;this.elt(n,"height:"+o+"px;top:"+s+"px;left:0;right:0;"+(r||""))},t}();s.prototype.$padding=0,i.Marker=s})),ace.define("ace/layer/text_util",["require","exports","module"],(function(t,i,n){var e=new Set(["text","rparen","lparen"]);i.isTextToken=function(t){return e.has(t)}})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],(function(t,i,n){var e=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("./lines").Lines,h=t("../lib/event_emitter").EventEmitter,u=t("../config").nls,a=t("./text_util").isTextToken,c=function(){function t(t){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)}return t.prototype.$updateEolChar=function(){var t=this.session.doc,i="\n"==t.getNewLineCharacter()&&"windows"!=t.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=i)return this.EOL_CHAR=i,!0},t.prototype.setPadding=function(t){this.$padding=t,this.element.style.margin="0 "+t+"px"},t.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},t.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},t.prototype.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},t.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},t.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},t.prototype.setSession=function(t){this.session=t,t&&this.$computeTabString()},t.prototype.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,"string"==typeof t?(this.showSpaces=/tab/i.test(t),this.showTabs=/space/i.test(t),this.showEOL=/eol/i.test(t)):this.showSpaces=this.showTabs=this.showEOL=t,this.$computeTabString(),!0)},t.prototype.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},t.prototype.setHighlightIndentGuides=function(t){return this.$highlightIndentGuides!==t&&(this.$highlightIndentGuides=t,t)},t.prototype.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var i=this.$tabStrings=[0],n=1;n<t+1;n++){if(this.showTabs)(e=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",e.textContent=s.stringRepeat(this.TAB_CHAR,n),i.push(e);else i.push(this.dom.createTextNode(s.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var e,r=this.showSpaces?" ace_invisible ace_invisible_space":"",o=this.showSpaces?s.stringRepeat(this.SPACE_CHAR,this.tabSize):s.stringRepeat(" ",this.tabSize),h=this.showTabs?" ace_invisible ace_invisible_tab":"",u=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):o;(e=this.dom.createElement("span")).className="ace_indent-guide"+r,e.textContent=o,this.$tabStrings[" "]=e,(e=this.dom.createElement("span")).className="ace_indent-guide"+h,e.textContent=u,this.$tabStrings["\t"]=e}},t.prototype.updateLines=function(t,i,n){if(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)return this.update(t);this.config=t;for(var e=Math.max(i,t.firstRow),r=Math.min(n,t.lastRow),s=this.element.childNodes,o=0,h=t.firstRow;h<e;h++){if(u=this.session.getFoldLine(h)){if(u.containsRow(e)){e=u.start.row;break}h=u.end.row}o++}for(var u,a=!1,c=(h=e,(u=this.session.getNextFoldLine(h))?u.start.row:1/0);h>c&&(h=u.end.row+1,c=(u=this.session.getNextFoldLine(h,u))?u.start.row:1/0),!(h>r);){var f=s[o++];if(f){this.dom.removeChildren(f),this.$renderLine(f,h,h==c&&u),a&&(f.style.top=this.$lines.computeLineTop(h,t,this.session)+"px");var l=t.lineHeight*this.session.getRowLength(h)+"px";f.style.height!=l&&(a=!0,f.style.height=l)}h++}if(a)for(;o<this.$lines.cells.length;){var d=this.$lines.cells[o++];d.element.style.top=this.$lines.computeLineTop(d.row,t,this.session)+"px"}},t.prototype.scrollLines=function(t){var i=this.config;if(this.config=t,this.$lines.pageChanged(i,t))return this.update(t);this.$lines.moveContainer(t);var n=t.lastRow,e=i?i.lastRow:-1;if(!i||e<t.firstRow)return this.update(t);if(n<i.firstRow)return this.update(t);if(!i||i.lastRow<t.firstRow)return this.update(t);if(t.lastRow<i.firstRow)return this.update(t);if(i.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(i.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(i.lastRow>t.lastRow)for(r=this.session.getFoldedRowCount(t.lastRow+1,i.lastRow);r>0;r--)this.$lines.pop();t.firstRow<i.firstRow&&this.$lines.unshift(this.$renderLinesFragment(t,t.firstRow,i.firstRow-1)),t.lastRow>i.lastRow&&this.$lines.push(this.$renderLinesFragment(t,i.lastRow+1,t.lastRow)),this.$highlightIndentGuide()},t.prototype.$renderLinesFragment=function(t,i,n){for(var e=[],s=i,o=this.session.getNextFoldLine(s),h=o?o.start.row:1/0;s>h&&(s=o.end.row+1,h=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>n);){var u=this.$lines.createCell(s,t,this.session),a=u.element;this.dom.removeChildren(a),r.setStyle(a.style,"height",this.$lines.computeLineHeight(s,t,this.session)+"px"),r.setStyle(a.style,"top",this.$lines.computeLineTop(s,t,this.session)+"px"),this.$renderLine(a,s,s==h&&o),this.$useLineGroups()?a.className="ace_line_group":a.className="ace_line",e.push(u),s++}return e},t.prototype.update=function(t){this.$lines.moveContainer(t),this.config=t;for(var i=t.firstRow,n=t.lastRow,e=this.$lines;e.getLength();)e.pop();e.push(this.$renderLinesFragment(t,i,n))},t.prototype.$renderToken=function(t,i,n,e){for(var r,o=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,h=this.dom.createFragment(this.element),c=0;r=o.exec(e);){var f=r[1],l=r[2],d=r[3],v=r[4],p=r[5];if(this.showSpaces||!l){var m=c!=r.index?e.slice(c,r.index):"";if(c=r.index+r[0].length,m&&h.appendChild(this.dom.createTextNode(m,this.element)),f){var w=this.session.getScreenTabSize(i+r.index);h.appendChild(this.$tabStrings[w].cloneNode(!0)),i+=w-1}else if(l){if(this.showSpaces)(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",b.textContent=s.stringRepeat(this.SPACE_CHAR,l.length),h.appendChild(b);else h.appendChild(this.dom.createTextNode(l,this.element))}else if(d){(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",b.textContent=s.stringRepeat(this.SPACE_CHAR,d.length),h.appendChild(b)}else if(v){i+=1,(b=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",b.className=this.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=this.showSpaces?this.SPACE_CHAR:v,h.appendChild(b)}else if(p){i+=1,(b=this.dom.createElement("span")).style.width=2*this.config.characterWidth+"px",b.className="ace_cjk",b.textContent=p,h.appendChild(b)}}}if(h.appendChild(this.dom.createTextNode(c?e.slice(c):e,this.element)),a(n.type))t.appendChild(h);else{var g="ace_"+n.type.replace(/\./g," ace_"),b=this.dom.createElement("span");"fold"==n.type&&(b.style.width=n.value.length*this.config.characterWidth+"px",b.setAttribute("title",u("inline-fold.closed.title","Unfold code"))),b.className=g,b.appendChild(h),t.appendChild(b)}return i+e.length},t.prototype.renderIndentGuide=function(t,i,n){var e=i.search(this.$indentGuideRe);if(e<=0||e>=n)return i;if(" "==i[0]){for(var r=(e-=e%this.tabSize)/this.tabSize,s=0;s<r;s++)t.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),i.substr(e)}if("\t"==i[0]){for(s=0;s<e;s++)t.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),i.substr(e)}return this.$highlightIndentGuide(),i},t.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var t=this.session.doc.$lines;if(t){var i=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(i.row))[0].length,e=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:e,start:i.row},this.session.$bracketHighlight)for(var r=this.session.$bracketHighlight.ranges,s=0;s<r.length;s++)if(i.row!==r[s].start.row){this.$highlightIndentGuideMarker.end=r[s].start.row,i.row>r[s].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==t[i.row]&&i.column===t[i.row].length){this.$highlightIndentGuideMarker.dir=1;for(s=i.row+1;s<t.length;s++){var o=t[s],h=/^\s*/.exec(o)[0].length;if(""!==o&&(this.$highlightIndentGuideMarker.end=s,h<=n))break}}this.$renderHighlightIndentGuide()}}},t.prototype.$clearActiveIndentGuide=function(){for(var t=this.$lines.cells,i=0;i<t.length;i++){var n=t[i].element.childNodes;if(n.length>0)for(var e=0;e<n.length;e++)if(n[e].classList&&n[e].classList.contains("ace_indent-guide-active")){n[e].classList.remove("ace_indent-guide-active");break}}},t.prototype.$setIndentGuideActive=function(t,i){if(""!==this.session.doc.getLine(t.row)){var n=t.element.childNodes;if(n){var e=n[i-1];e&&e.classList&&e.classList.contains("ace_indent-guide")&&e.classList.add("ace_indent-guide-active")}}},t.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var t=this.$lines.cells;this.$clearActiveIndentGuide();var i=this.$highlightIndentGuideMarker.indentLevel;if(0!==i)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<t.length;n++){var e=t[n];if(this.$highlightIndentGuideMarker.end&&e.row>=this.$highlightIndentGuideMarker.start+1){if(e.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(e,i)}}else for(n=t.length-1;n>=0;n--){e=t[n];if(this.$highlightIndentGuideMarker.end&&e.row<this.$highlightIndentGuideMarker.start){if(e.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(e,i)}}}},t.prototype.$createLineElement=function(t){var i=this.dom.createElement("div");return i.className="ace_line",i.style.height=this.config.lineHeight+"px",i},t.prototype.$renderWrappedLine=function(t,i,n){var e=0,r=0,o=n[0],h=0,u=this.$createLineElement();t.appendChild(u);for(var a=0;a<i.length;a++){var c=i[a],f=c.value;if(0==a&&this.displayIndentGuides){if(e=f.length,!(f=this.renderIndentGuide(u,f,o)))continue;e-=f.length}if(e+f.length<o)h=this.$renderToken(u,h,c,f),e+=f.length;else{for(;e+f.length>=o;)h=this.$renderToken(u,h,c,f.substring(0,o-e)),f=f.substring(o-e),e=o,u=this.$createLineElement(),t.appendChild(u),u.appendChild(this.dom.createTextNode(s.stringRepeat("",n.indent),this.element)),h=0,o=n[++r]||Number.MAX_VALUE;0!=f.length&&(e+=f.length,h=this.$renderToken(u,h,c,f))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(u,h,null,"",!0)},t.prototype.$renderSimpleLine=function(t,i){for(var n=0,e=0;e<i.length;e++){var r=i[e],s=r.value;if(0!=e||!this.displayIndentGuides||(s=this.renderIndentGuide(t,s))){if(n+s.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(t,n,r,s);n=this.$renderToken(t,n,r,s)}}},t.prototype.$renderOverflowMessage=function(t,i,n,e,r){n&&this.$renderToken(t,i,n,e.slice(0,this.MAX_LINE_LENGTH-i));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.textContent=r?"<hide>":"<click to see more...>",t.appendChild(s)},t.prototype.$renderLine=function(t,i,n){if(n||0==n||(n=this.session.getFoldLine(i)),n)var e=this.$getFoldLineTokens(i,n);else e=this.session.getTokens(i);var r=t;if(e.length){var s=this.session.getRowSplitData(i);if(s&&s.length){this.$renderWrappedLine(t,e,s);r=t.lastChild}else{r=t;this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r)),this.$renderSimpleLine(r,e)}}else this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r));if(this.showEOL&&r){n&&(i=n.end.row);var o=this.dom.createElement("span");o.className="ace_invisible ace_invisible_eol",o.textContent=i==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(o)}},t.prototype.$getFoldLineTokens=function(t,i){var n=this.session,e=[];var r=n.getTokens(t);return i.walk((function(t,i,s,o,h){null!=t?e.push({type:"fold",value:t}):(h&&(r=n.getTokens(i)),r.length&&function(t,i,n){for(var r=0,s=0;s+t[r].value.length<i;)if(s+=t[r].value.length,++r==t.length)return;for(s!=i&&((o=t[r].value.substring(i-s)).length>n-i&&(o=o.substring(0,n-i)),e.push({type:t[r].type,value:o}),s=i+o.length,r+=1);s<n&&r<t.length;){var o;(o=t[r].value).length+s>n?e.push({type:t[r].type,value:o.substring(0,n-s)}):e.push(t[r]),s+=o.length,r+=1}}(r,o,s))}),i.end.row,this.session.getLine(i.end.row).length),e},t.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},t}();c.prototype.EOF_CHAR="",c.prototype.EOL_CHAR_LF="",c.prototype.EOL_CHAR_CRLF="",c.prototype.EOL_CHAR=c.prototype.EOL_CHAR_LF,c.prototype.TAB_CHAR="",c.prototype.SPACE_CHAR="",c.prototype.$padding=0,c.prototype.MAX_LINE_LENGTH=1e4,c.prototype.showInvisibles=!1,c.prototype.showSpaces=!1,c.prototype.showTabs=!1,c.prototype.showEOL=!1,c.prototype.displayIndentGuides=!0,c.prototype.$highlightIndentGuides=!0,c.prototype.$tabStrings=[],c.prototype.destroy={},c.prototype.onChangeTabSize=c.prototype.$computeTabString,e.implement(c.prototype,h),i.Text=c})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(t,i,n){var e=t("../lib/dom"),r=function(){function t(t){this.element=e.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),e.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return t.prototype.$updateOpacity=function(t){for(var i=this.cursors,n=i.length;n--;)e.setStyle(i[n].style,"opacity",t?"":"0")},t.prototype.$startCssAnimation=function(){for(var t=this.cursors,i=t.length;i--;)t[i].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&e.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},t.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,e.removeCssClass(this.element,"ace_animate-blinking")},t.prototype.setPadding=function(t){this.$padding=t},t.prototype.setSession=function(t){this.session=t},t.prototype.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},t.prototype.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},t.prototype.setSmoothBlinking=function(t){t!=this.smoothBlinking&&(this.smoothBlinking=t,e.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.restartTimer())},t.prototype.addCursor=function(){var t=e.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},t.prototype.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},t.prototype.hideCursor=function(){this.isVisible=!1,e.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},t.prototype.showCursor=function(){this.isVisible=!0,e.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},t.prototype.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,e.removeCssClass(this.element,"ace_smooth-blinking")),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&e.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),e.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var i=function(){this.timeoutId=setTimeout((function(){t(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){t(!0),i()}),this.blinkInterval),i()}else this.$stopCssAnimation()},t.prototype.getPixelPosition=function(t,i){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(i?this.config.firstRowScreen:0))*this.config.lineHeight}},t.prototype.isCursorInView=function(t,i){return t.top>=0&&t.top<i.maxHeight},t.prototype.update=function(t){this.config=t;var i=this.session.$selectionMarkers,n=0,r=0;void 0!==i&&0!==i.length||(i=[{cursor:null}]);n=0;for(var s=i.length;n<s;n++){var o=this.getPixelPosition(i[n].cursor,!0);if(!((o.top>t.height+t.offset||o.top<0)&&n>1)){var h=this.cursors[r++]||this.addCursor(),u=h.style;this.drawCursor?this.drawCursor(h,o,t,i[n],this.session):this.isCursorInView(o,t)?(e.setStyle(u,"display","block"),e.translate(h,o.left,o.top),e.setStyle(u,"width",Math.round(t.characterWidth)+"px"),e.setStyle(u,"height",t.lineHeight+"px")):e.setStyle(u,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},t.prototype.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?e.addCssClass(this.element,"ace_overwrite-cursors"):e.removeCssClass(this.element,"ace_overwrite-cursors"))},t.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},t}();r.prototype.$padding=0,r.prototype.drawCursor=null,i.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(t,i,n){var e,r=this&&this.P||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),s=t("./lib/oop"),o=t("./lib/dom"),h=t("./lib/event"),u=t("./lib/event_emitter").EventEmitter,a=function(){function t(t,i){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+i,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addListener(this.element,"scroll",this.onScroll.bind(this)),h.addListener(this.element,"mousedown",h.preventDefault)}return t.prototype.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1},t}();s.implement(a.prototype,u);var c=function(t){function i(i,n){var e=t.call(this,i,"-v")||this;return e.scrollTop=0,e.scrollHeight=0,n.$scrollbarWidth=e.width=o.scrollbarWidth(i.ownerDocument),e.inner.style.width=e.element.style.width=(e.width||15)+5+"px",e.$minWidth=0,e}return r(i,t),i.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},i.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},i.prototype.setHeight=function(t){this.element.style.height=t+"px"},i.prototype.setScrollHeight=function(t){this.scrollHeight=t,t>32768?(this.coeff=32768/t,t=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},i.prototype.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)},i}(a);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var f=function(t){function i(i,n){var e=t.call(this,i,"-h")||this;return e.scrollLeft=0,e.height=n.$scrollbarWidth,e.inner.style.height=e.element.style.height=(e.height||15)+5+"px",e}return r(i,t),i.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},i.prototype.getHeight=function(){return this.isVisible?this.height:0},i.prototype.setWidth=function(t){this.element.style.width=t+"px"},i.prototype.setInnerWidth=function(t){this.inner.style.width=t+"px"},i.prototype.setScrollWidth=function(t){this.inner.style.width=t+"px"},i.prototype.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)},i}(a);i.ScrollBar=c,i.ScrollBarV=c,i.ScrollBarH=f,i.VScrollBar=c,i.HScrollBar=f})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(t,i,n){var e,r=this&&this.P||(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])})(t,i)},function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),s=t("./lib/oop"),o=t("./lib/dom"),h=t("./lib/event"),u=t("./lib/event_emitter").EventEmitter;o.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var a=function(){function t(t,i){this.element=o.createElement("div"),this.element.className="ace_sb"+i,this.inner=o.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return t.prototype.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1},t}();s.implement(a.prototype,u);var c=function(t){function i(i,n){var e=t.call(this,i,"-v")||this;return e.scrollTop=0,e.scrollHeight=0,e.parent=i,e.width=e.VScrollWidth,e.renderer=n,e.inner.style.width=e.element.style.width=(e.width||15)+"px",e.$minWidth=0,e}return r(i,t),i.prototype.onMouseDown=function(t,i){if("mousedown"===t&&0===h.getButton(i)&&2!==i.detail){if(i.target===this.inner){var n=this,e=i.clientY,r=i.clientY,s=this.thumbTop;h.capture(this.inner,(function(t){e=t.clientY}),(function(){clearInterval(o)}));var o=setInterval((function(){if(void 0!==e){var t=n.scrollTopFromThumbTop(s+e-r);t!==n.scrollTop&&n._emit("scroll",{data:t})}}),20);return h.preventDefault(i)}var u=i.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(u)}),h.preventDefault(i)}},i.prototype.getHeight=function(){return this.height},i.prototype.scrollTopFromThumbTop=function(t){var i=t*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(i>>=0)<0?i=0:i>this.pageHeight-this.viewHeight&&(i=this.pageHeight-this.viewHeight),i},i.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},i.prototype.setHeight=function(t){this.height=Math.max(0,t),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},i.prototype.setScrollHeight=function(t,i){(this.pageHeight!==t||i)&&(this.pageHeight=t,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},i.prototype.setScrollTop=function(t){this.scrollTop=t,t<0&&(t=0),this.thumbTop=t*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},i}(a);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var f=function(t){function i(i,n){var e=t.call(this,i,"-h")||this;return e.scrollLeft=0,e.scrollWidth=0,e.height=e.HScrollHeight,e.inner.style.height=e.element.style.height=(e.height||12)+"px",e.renderer=n,e}return r(i,t),i.prototype.onMouseDown=function(t,i){if("mousedown"===t&&0===h.getButton(i)&&2!==i.detail){if(i.target===this.inner){var n=this,e=i.clientX,r=i.clientX,s=this.thumbLeft;h.capture(this.inner,(function(t){e=t.clientX}),(function(){clearInterval(o)}));var o=setInterval((function(){if(void 0!==e){var t=n.scrollLeftFromThumbLeft(s+e-r);t!==n.scrollLeft&&n._emit("scroll",{data:t})}}),20);return h.preventDefault(i)}var u=i.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(u)}),h.preventDefault(i)}},i.prototype.getHeight=function(){return this.isVisible?this.height:0},i.prototype.scrollLeftFromThumbLeft=function(t){var i=t*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(i>>=0)<0?i=0:i>this.pageWidth-this.viewWidth&&(i=this.pageWidth-this.viewWidth),i},i.prototype.setWidth=function(t){this.width=Math.max(0,t),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},i.prototype.setScrollWidth=function(t,i){(this.pageWidth!==t||i)&&(this.pageWidth=t,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},i.prototype.setScrollLeft=function(t){this.scrollLeft=t,t<0&&(t=0),this.thumbLeft=t*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},i}(a);f.prototype.setInnerWidth=f.prototype.setScrollWidth,i.ScrollBar=c,i.ScrollBarV=c,i.ScrollBarH=f,i.VScrollBar=c,i.HScrollBar=f})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(t,i,n){var e=t("./lib/event"),r=function(){function t(t,i){this.onRender=t,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=i||window;var n=this;this._flush=function(t){n.pending=!1;var i=n.changes;if(i&&(e.blockIdle(100),n.changes=0,n.onRender(i)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}}return t.prototype.schedule=function(t){this.changes=this.changes|t,this.changes&&!this.pending&&(e.nextFrame(this._flush),this.pending=!0)},t.prototype.clear=function(t){var i=this.changes;return this.changes=0,i},t}();i.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(t,i,n){var e=t("../lib/oop"),r=t("../lib/dom"),s=t("../lib/lang"),o=t("../lib/event"),h=t("../lib/useragent"),u=t("../lib/event_emitter").EventEmitter,a="function"==typeof ResizeObserver,c=200,f=function(){function t(t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),this.$measureNode.textContent=s.stringRepeat("X",512),this.$characterSize={width:0,height:0},a?this.$addObserver():this.checkForSizeChanges()}return t.prototype.$setMeasureNodeStyles=function(t,i){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",h.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=i?"hidden":"visible"},t.prototype.checkForSizeChanges=function(t){if(void 0===t&&(t=this.$measureSizes()),t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var i=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=i&&i.width===t.width&&i.height===t.height,this._emit("changeCharacterSize",{data:t})}},t.prototype.$addObserver=function(){var t=this;this.$observer=new window.ResizeObserver((function(i){t.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},t.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=o.onIdle((function i(){t.checkForSizeChanges(),o.onIdle(i,500)}),500)},t.prototype.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},t.prototype.$measureSizes=function(t){var i={height:(t||this.$measureNode).clientHeight,width:(t||this.$measureNode).clientWidth/512};return 0===i.width||0===i.height?null:i},t.prototype.$measureCharWidth=function(t){return this.$main.textContent=s.stringRepeat(t,512),this.$main.getBoundingClientRect().width/512},t.prototype.getCharacterWidth=function(t){var i=this.charSizes[t];return void 0===i&&(i=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),i},t.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t.prototype.$getZoom=function(t){return t&&t.parentElement?(Number(window.getComputedStyle(t).zoom)||1)*this.$getZoom(t.parentElement):1},t.prototype.$initTransformMeasureNodes=function(){var t=function(t,i){return["div",{style:"position: absolute;top:"+t+"px;left:"+i+"px;"}]};this.els=r.buildDom([t(0,0),t(c,0),t(0,c),t(c,c)],this.el)},t.prototype.transformCoordinates=function(t,i){t&&(t=s(1/this.$getZoom(this.el),t));function n(t,i,n){var e=t[1]*i[0]-t[0]*i[1];return[(-i[1]*n[0]+i[0]*n[1])/e,(+t[1]*n[0]-t[0]*n[1])/e]}function e(t,i){return[t[0]-i[0],t[1]-i[1]]}function r(t,i){return[t[0]+i[0],t[1]+i[1]]}function s(t,i){return[t*i[0],t*i[1]]}function o(t){var i=t.getBoundingClientRect();return[i.left,i.top]}this.els||this.$initTransformMeasureNodes();var h=o(this.els[0]),u=o(this.els[1]),a=o(this.els[2]),f=o(this.els[3]),l=n(e(f,u),e(f,a),e(r(u,a),r(f,h))),d=s(1+l[0],e(u,h)),v=s(1+l[1],e(a,h));if(i){var p=i,m=l[0]*p[0]/c+l[1]*p[1]/c+1,w=r(s(p[0],d),s(p[1],v));return r(s(1/m/c,w),h)}var g=e(t,h),b=n(e(d,s(l[0],g)),e(v,s(l[1],g)),g);return s(c,b)},t}();f.prototype.$characterSize={width:0,height:0},e.implement(f.prototype,u),i.FontMetrics=f})),ace.define("ace/css/editor-css",["require","exports","module"],(function(t,i,n){n.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    position: relative;\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n    z-index: 1;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}\n\n.ace_ghost_text > div {\n    white-space: pre;\n}\n\n.ghost_text_line_wrapped::after {\n    content: "";\n    position: absolute;\n}\n\n.ace_lineWidgetContainer.ace_ghost_text {\n    margin: 0px 4px\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(t,i,n){var e=t("../lib/dom"),r=t("../lib/oop"),s=t("../lib/event_emitter").EventEmitter,o=function(){function t(t,i){this.canvas=e.createElement("canvas"),this.renderer=i,this.pixelRatio=1,this.maxHeight=i.layerConfig.maxHeight,this.lineHeight=i.layerConfig.lineHeight,this.canvasHeight=t.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=t.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},t.element.appendChild(this.canvas)}return t.prototype.$updateDecorators=function(t){var i=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;t&&(this.maxHeight=t.maxHeight,this.lineHeight=t.lineHeight,this.canvasHeight=t.height,(t.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d");var e=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),e){var r={info:1,warning:2,error:3};e.forEach((function(t){t.priority=r[t.type]||null})),e=e.sort((function(t,i){return t.priority<i.priority?-1:t.priority>i.priority?1:0}));for(var s=this.renderer.session.$foldData,o=0;o<e.length;o++){var h=e[o].row,u=this.compensateFoldRows(h,s),a=Math.round((h-u)*this.lineHeight*this.heightRatio),c=Math.round((h-u)*this.lineHeight*this.heightRatio),f=Math.round(((h-u)*this.lineHeight+this.lineHeight)*this.heightRatio);if(f-c<this.minDecorationHeight){var l=(c+f)/2|0;l<this.halfMinDecorationHeight?l=this.halfMinDecorationHeight:l+this.halfMinDecorationHeight>this.canvasHeight&&(l=this.canvasHeight-this.halfMinDecorationHeight),c=Math.round(l-this.halfMinDecorationHeight),f=Math.round(l+this.halfMinDecorationHeight)}n.fillStyle=i[e[o].type]||null,n.fillRect(0,a,this.canvasWidth,f-c)}}var d=this.renderer.session.selection.getCursor();if(d){u=this.compensateFoldRows(d.row,s),a=Math.round((d.row-u)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,a,this.canvasWidth,2)}},t.prototype.compensateFoldRows=function(t,i){var n=0;if(i&&i.length>0)for(var e=0;e<i.length;e++)t>i[e].start.row&&t<i[e].end.row?n+=t-i[e].start.row:t>=i[e].end.row&&(n+=i[e].end.row-i[e].start.row);return n},t}();r.implement(o.prototype,s),i.Decorator=o})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],(function(t,i,n){var e=t("./lib/oop"),r=t("./lib/dom"),s=t("./lib/lang"),o=t("./config"),h=t("./layer/gutter").Gutter,u=t("./layer/marker").Marker,a=t("./layer/text").Text,c=t("./layer/cursor").Cursor,f=t("./scrollbar").HScrollBar,l=t("./scrollbar").VScrollBar,d=t("./scrollbar_custom").HScrollBar,v=t("./scrollbar_custom").VScrollBar,p=t("./renderloop").RenderLoop,m=t("./layer/font_metrics").FontMetrics,w=t("./lib/event_emitter").EventEmitter,g=t("./css/editor-css"),b=t("./layer/decorators").Decorator,y=t("./lib/useragent");r.importCssString(g,"ace_editor.css",!1);var A=function(){function t(t,i){var n=this;this.container=t||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(i),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new u(this.content);var e=this.$textLayer=new a(this.content);this.canvas=e.element,this.$markerFront=new u(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new l(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.on("scroll",(function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new m(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!y.isIOS,this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),o.resetOptions(this),o._signal("renderer",this)}return t.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},t.prototype.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},t.prototype.updateLines=function(t,i,n){if(void 0===i&&(i=1/0),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<i&&(this.$changedLines.lastRow=i)):this.$changedLines={firstRow:t,lastRow:i},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},t.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},t.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},t.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},t.prototype.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},t.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},t.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},t.prototype.onResize=function(t,i,n,e){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;e||(e=r.clientHeight||r.scrollHeight),!e&&this.$maxLines&&this.lineHeight>1&&(r.style.height&&"0px"!=r.style.height||(r.style.height="1px",e=r.clientHeight||r.scrollHeight)),n||(n=r.clientWidth||r.scrollWidth);var s=this.$updateCachedSize(t,i,n,e);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!n&&!e)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(s|this.$changes,!0):this.$loop.schedule(s|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},t.prototype.$updateCachedSize=function(t,i,n,e){e-=this.$extraHeight||0;var s=0,o=this.$size,h={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if(e&&(t||o.height!=e)&&(o.height=e,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(o.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),n&&(t||o.width!=n)){s|=this.CHANGE_SIZE,o.width=n,null==i&&(i=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=i,r.setStyle(this.scrollBarH.element.style,"left",i+"px"),r.setStyle(this.scroller.style,"left",i+this.margin.left+"px"),o.scrollerWidth=Math.max(0,n-i-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var u=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",u),r.setStyle(this.scroller.style,"right",u),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(o.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(s|=this.CHANGE_FULL)}return o.$dirty=!n||!e,s&&this._signal("resize",h),s},t.prototype.onGutterResize=function(t){var i=this.$showGutter?t:0;i!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,i,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},t.prototype.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,i=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(i,this.$showPrintMargin&&this.$printMarginColumn)},t.prototype.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},t.prototype.getAnimatedScroll=function(){return this.$animatedScroll},t.prototype.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},t.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},t.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},t.prototype.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},t.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},t.prototype.setHighlightIndentGuides=function(t){this.setOption("highlightIndentGuides",t)},t.prototype.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},t.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},t.prototype.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},t.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},t.prototype.getShowGutter=function(){return this.getOption("showGutter")},t.prototype.setShowGutter=function(t){return this.setOption("showGutter",t)},t.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},t.prototype.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},t.prototype.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},t.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},t.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=r.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var i=this.$printMarginEl.style;i.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",i.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},t.prototype.getContainerElement=function(){return this.container},t.prototype.getMouseEventTarget=function(){return this.scroller},t.prototype.getTextAreaContainer=function(){return this.container},t.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var t=this.textarea.style,i=this.$composition;if(this.$keepTextAreaAtCursor||i){var n=this.$cursorLayer.$pixelPos;if(n){i&&i.markerRange&&(n=this.$cursorLayer.getPixelPosition(i.markerRange.start,!0));var e=this.layerConfig,s=n.top,o=n.left;s-=e.offset;var h=i&&i.useTextareaForIME||y.isMobile?this.lineHeight:1;if(s<0||s>e.height-h)r.translate(this.textarea,0,0);else{var u=1,a=this.$size.height-h;if(i)if(i.useTextareaForIME){var c=this.textarea.value;u=this.characterWidth*this.session.$getStringScreenWidth(c)[0]}else s+=this.lineHeight+2;else s+=this.lineHeight;(o-=this.scrollLeft)>this.$size.scrollerWidth-u&&(o=this.$size.scrollerWidth-u),o+=this.gutterWidth+this.margin.left,r.setStyle(t,"height",h+"px"),r.setStyle(t,"width",u+"px"),r.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-u),Math.min(s,a))}}}else r.translate(this.textarea,-100,0)}},t.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},t.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},t.prototype.getLastFullyVisibleRow=function(){var t=this.layerConfig,i=t.lastRow;return this.session.documentToScreenRow(i,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?i-1:i},t.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},t.prototype.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},t.prototype.setScrollMargin=function(t,i,n,e){var r=this.scrollMargin;r.top=0|t,r.bottom=0|i,r.right=0|e,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},t.prototype.setMargin=function(t,i,n,e){var r=this.margin;r.top=0|t,r.bottom=0|i,r.right=0|e,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},t.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},t.prototype.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},t.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},t.prototype.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},t.prototype.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,i=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(i-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-i&&(t=this.scrollTop+i,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},t.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},t.prototype.freeze=function(){this.$frozen=!0},t.prototype.unfreeze=function(){this.$frozen=!1},t.prototype.$renderChanges=function(t,i){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||i)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",t),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var e=this.scrollTop+(n.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;e>0&&(this.scrollTop=e,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var s=n.width+2*this.$padding+"px",o=n.minHeight+"px";r.setStyle(this.content.style,"width",s),r.setStyle(this.content.style,"height",o)}if(t&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),t&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);if(t&this.CHANGE_SCROLL)return this.$changedLines=null,t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(t&this.CHANGE_GUTTER||t&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",t);t&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):t&this.CHANGE_LINES?((this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):t&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",t)}else this.$changes|=t},t.prototype.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,i=this.$maxLines*this.lineHeight,n=Math.min(i,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var e=!(n<=2*this.lineHeight)&&t>i;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||e!=this.$vScroll){e!=this.$vScroll&&(this.$vScroll=e,this.scrollBarV.setVisible(e));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},t.prototype.$computeLayerConfig=function(){var t=this.session,i=this.$size,n=i.height<=2*this.lineHeight,e=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),s=!n&&(this.$hScrollBarAlwaysVisible||i.scrollerWidth-r-2*this.$padding<0),o=this.$horizScroll!==s;o&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var h=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var u=i.scrollerHeight+this.lineHeight,a=!this.$maxLines&&this.$scrollPastEnd?(i.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=a;var c=this.scrollMargin;this.session.setScrollTop(Math.max(-c.top,Math.min(this.scrollTop,e-i.scrollerHeight+c.bottom))),this.session.setScrollLeft(Math.max(-c.left,Math.min(this.scrollLeft,r+2*this.$padding-i.scrollerWidth+c.right)));var f=!n&&(this.$vScrollBarAlwaysVisible||i.scrollerHeight-e+a<0||this.scrollTop>c.top),l=h!==f;l&&(this.$vScroll=f,this.scrollBarV.setVisible(f));var d,v,p=this.scrollTop%this.lineHeight,m=Math.ceil(u/this.lineHeight)-1,w=Math.max(0,Math.round((this.scrollTop-p)/this.lineHeight)),g=w+m,b=this.lineHeight;w=t.screenToDocumentRow(w,0);var y=t.getFoldLine(w);y&&(w=y.start.row),d=t.documentToScreenRow(w,0),v=t.getRowLength(w)*b,g=Math.min(t.screenToDocumentRow(g,0),t.getLength()-1),u=i.scrollerHeight+t.getRowLength(g)*b+v,p=this.scrollTop-d*b;var A=0;return(this.layerConfig.width!=r||o)&&(A=this.CHANGE_H_SCROLL),(o||l)&&(A|=this.$updateCachedSize(!0,this.gutterWidth,i.width,i.height),this._signal("scrollbarVisibilityChanged"),l&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:w,firstRowScreen:d,lastRow:g,lineHeight:b,characterWidth:this.characterWidth,minHeight:u,maxHeight:e,offset:p,gutterOffset:b?Math.max(0,Math.ceil((p+i.height-i.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),A},t.prototype.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,i=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(t>n.lastRow+1||i<n.firstRow))return i===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,i),!0)}},t.prototype.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),this.$textLayer&&t>this.$textLayer.MAX_LINE_LENGTH&&(t=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},t.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},t.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},t.prototype.addGutterDecoration=function(t,i){this.$gutterLayer.addGutterDecoration(t,i)},t.prototype.removeGutterDecoration=function(t,i){this.$gutterLayer.removeGutterDecoration(t,i)},t.prototype.updateBreakpoints=function(t){this._rows=t,this.$loop.schedule(this.CHANGE_GUTTER)},t.prototype.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},t.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},t.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},t.prototype.showCursor=function(){this.$cursorLayer.showCursor()},t.prototype.scrollSelectionIntoView=function(t,i,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(i,n)},t.prototype.scrollCursorIntoView=function(t,i,n){if(0!==this.$size.scrollerHeight){var e=this.$cursorLayer.getPixelPosition(t),r=e.left,s=e.top,o=n&&n.top||0,h=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var u=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;u+o>s?(i&&u+o>s+this.lineHeight&&(s-=i*this.$size.scrollerHeight),0===s&&(s=-this.scrollMargin.top),this.session.setScrollTop(s)):u+this.$size.scrollerHeight-h<s+this.lineHeight&&(i&&u+this.$size.scrollerHeight-h<s-this.lineHeight&&(s+=i*this.$size.scrollerHeight),this.session.setScrollTop(s+this.lineHeight+h-this.$size.scrollerHeight));var a=this.scrollLeft,c=2*this.layerConfig.characterWidth;r-c<a?((r-=c)<this.$padding+c&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):(r+=c,a+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):a<=this.$padding&&r-a<this.characterWidth&&this.session.setScrollLeft(0))}},t.prototype.getScrollTop=function(){return this.session.getScrollTop()},t.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},t.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},t.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},t.prototype.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},t.prototype.alignCursor=function(t,i){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),e=this.$size.scrollerHeight-this.lineHeight,r=n.top-e*(i||0);return this.session.setScrollTop(r),r},t.prototype.$calcSteps=function(t,i){var n,e,r=0,s=this.STEPS,o=[];for(r=0;r<s;++r)o.push((n=r/this.STEPS,e=t,(i-t)*(Math.pow(n-1,3)+1)+e));return o},t.prototype.scrollToLine=function(t,i,n,e){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;i&&(r-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(s,e)},t.prototype.animateScrolling=function(t,i){var n=this.scrollTop;if(this.$animatedScroll){var e=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==n)return}var s=e.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:s},clearInterval(this.$timer),e.session.setScrollTop(s.shift()),e.session.$scrollTop=n,this.$timer=setInterval((function(){if(!e.$stopAnimation)return e.session?void(s.length?(e.session.setScrollTop(s.shift()),e.session.$scrollTop=n):null!=n?(e.session.$scrollTop=-1,e.session.setScrollTop(n),n=null):o()):clearInterval(e.$timer);o()}),10)}}function o(){e.$timer=clearInterval(e.$timer),e.$scrollAnimation=null,e.$stopAnimation=!1,i&&i()}},t.prototype.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},t.prototype.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},t.prototype.scrollTo=function(t,i){this.session.setScrollTop(i),this.session.setScrollLeft(t)},t.prototype.scrollBy=function(t,i){i&&this.session.setScrollTop(this.session.getScrollTop()+i),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},t.prototype.isScrollableBy=function(t,i){return i<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(i>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},t.prototype.pixelToScreenCoordinates=function(t,i){var n;if(this.$hasCssTransforms){n={top:0,left:0};var e=this.$fontMetrics.transformCoordinates([t,i]);t=e[1]-this.gutterWidth-this.margin.left,i=e[0]}else n=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-n.left-this.$padding,s=r/this.characterWidth,o=Math.floor((i+this.scrollTop-n.top)/this.lineHeight),h=this.$blockCursor?Math.floor(s):Math.round(s);return{row:o,column:h,side:s-h>0?1:-1,offsetX:r}},t.prototype.screenToTextCoordinates=function(t,i){var n;if(this.$hasCssTransforms){n={top:0,left:0};var e=this.$fontMetrics.transformCoordinates([t,i]);t=e[1]-this.gutterWidth-this.margin.left,i=e[0]}else n=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-n.left-this.$padding,s=r/this.characterWidth,o=this.$blockCursor?Math.floor(s):Math.round(s),h=Math.floor((i+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(h,Math.max(o,0),r)},t.prototype.textToScreenCoordinates=function(t,i){var n=this.scroller.getBoundingClientRect(),e=this.session.documentToScreenPosition(t,i),r=this.$padding+(this.session.$bidiHandler.isBidiRow(e.row,t)?this.session.$bidiHandler.getPosLeft(e.column):Math.round(e.column*this.characterWidth)),s=e.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+s-this.scrollTop}},t.prototype.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},t.prototype.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},t.prototype.showComposition=function(t){this.$composition=t,t.cssText||(t.cssText=this.textarea.style.cssText),null==t.useTextareaForIME&&(t.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):t.markerId=this.session.addMarker(t.markerRange,"ace_composition_marker","text")},t.prototype.setCompositionText=function(t){var i=this.session.selection.cursor;this.addToken(t,"composition_placeholder",i.row,i.column),this.$moveTextAreaToCursor()},t.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var t=this.session.selection.cursor;this.removeExtraToken(t.row,t.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},t.prototype.setGhostText=function(t,i){var n=this.session.selection.cursor,e=i||{row:n.row,column:n.column};this.removeGhostText();var s=this.$calculateWrappedTextChunks(t,e);this.addToken(s[0].text,"ghost_text",e.row,e.column),this.$ghostText={text:t,position:{row:e.row,column:e.column}};var o=r.createElement("div");if(s.length>1){s.slice(1).forEach((function(t){var i=r.createElement("div");t.wrapped&&(i.className="ghost_text_line_wrapped"),0===t.text.length&&(t.text=" "),i.appendChild(r.createTextNode(t.text)),o.appendChild(i)})),this.$ghostTextWidget={el:o,row:e.row,column:e.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var h=this.$cursorLayer.getPixelPosition(e,!0),u=this.container.getBoundingClientRect().height,a=s.length*this.lineHeight;if(a<u-h.top)return;a<u?this.scrollBy(0,(s.length-1)*this.lineHeight):this.scrollToRow(e.row)}},t.prototype.$calculateWrappedTextChunks=function(t,i){var n=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(n/this.characterWidth)-2;e=e<=0?60:e;for(var r=t.split(/\r?\n/),s=[],o=0;o<r.length;o++){var h=this.session.$getDisplayTokens(r[o],i.column),u=this.session.$computeWrapSplits(h,e,this.session.$tabSize);if(u.length>0){var a=0;u.push(r[o].length);for(var c=0;c<u.length;c++){var f=r[o].slice(a,u[c]);s.push({text:f,wrapped:!0}),a=u[c]}}else s.push({text:r[o],wrapped:!1})}return s},t.prototype.removeGhostText=function(){if(this.$ghostText){var t=this.$ghostText.position;this.removeExtraToken(t.row,t.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},t.prototype.addToken=function(t,i,n,e){var r=this.session;r.bgTokenizer.lines[n]=null;var s={type:i,value:t},o=r.getTokens(n);if(null!=e&&o.length)for(var h=0,u=0;u<o.length;u++){var a=o[u];if(e<=(h+=a.value.length)){var c=a.value.length-(h-e),f=a.value.slice(0,c),l=a.value.slice(c);o.splice(u,1,{type:a.type,value:f},s,{type:a.type,value:l});break}}else o.push(s);this.updateLines(n,n)},t.prototype.removeExtraToken=function(t,i){this.session.bgTokenizer.lines[t]=null,this.updateLines(t,t)},t.prototype.setTheme=function(t,i){var n=this;if(this.$themeId=t,n._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)s(t);else{var e=t||this.$options.theme.initialValue;o.loadModule(["theme",e],s)}function s(e){if(n.$themeId!=t)return i&&i();if(!e||!e.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");e.$id&&(n.$themeId=e.$id),r.importCssString(e.cssText,e.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var s="padding"in e?e.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&s!=n.$padding&&n.setPadding(s),n.$theme=e.cssClass,n.theme=e,r.addCssClass(n.container,e.cssClass),r.setCssClass(n.container,"ace_dark",e.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:e}),i&&i(),y.isSafari&&n.scroller&&(n.scroller.style.background="red",n.scroller.style.background="")}},t.prototype.getTheme=function(){return this.$themeId},t.prototype.setStyle=function(t,i){r.setCssClass(this.container,t,!1!==i)},t.prototype.unsetStyle=function(t){r.removeCssClass(this.container,t)},t.prototype.setCursorStyle=function(t){r.setStyle(this.scroller.style,"cursor",t)},t.prototype.setMouseCursor=function(t){r.setStyle(this.scroller.style,"cursor",t)},t.prototype.attachToShadowRoot=function(){r.importCssString(g,"ace_editor.css",this.container)},t.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},t.prototype.$updateCustomScrollbar=function(t){var i=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===t?(this.scrollBarV=new v(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(t){i.$scrollAnimation||i.session.setScrollTop(t.data-i.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(t){i.$scrollAnimation||i.session.setScrollLeft(t.data-i.scrollMargin.left)})),this.$scrollDecorator=new b(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new l(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.addEventListener("scroll",(function(t){i.$scrollAnimation||i.session.setScrollTop(t.data-i.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(t){i.$scrollAnimation||i.session.setScrollLeft(t.data-i.scrollMargin.left)})))},t.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var t=this;this.$resizeTimer=s.delayedCall((function(){t.destroyed||t.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(i){var n=i[0].contentRect.width,e=i[0].contentRect.height;Math.abs(t.$size.width-n)>1||Math.abs(t.$size.height-e)>1?t.$resizeTimer.delay():t.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}},t}();A.prototype.CHANGE_CURSOR=1,A.prototype.CHANGE_MARKER=2,A.prototype.CHANGE_GUTTER=4,A.prototype.CHANGE_SCROLL=8,A.prototype.CHANGE_LINES=16,A.prototype.CHANGE_TEXT=32,A.prototype.CHANGE_SIZE=64,A.prototype.CHANGE_MARKER_BACK=128,A.prototype.CHANGE_MARKER_FRONT=256,A.prototype.CHANGE_FULL=512,A.prototype.CHANGE_H_SCROLL=1024,A.prototype.$changes=0,A.prototype.$padding=null,A.prototype.$frozen=!1,A.prototype.STEPS=8,e.implement(A.prototype,w),o.defineOptions(A.prototype,"renderer",{useResizeObserver:{set:function(t){!t&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):t&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(t){this.$gutterLayer.$useSvgGutterIcons=t},initialValue:!1},showFoldedAnnotations:{set:function(t){this.$gutterLayer.$showFoldedAnnotations=t},initialValue:!1},fadeFoldWidgets:{set:function(t){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(t){1==this.$textLayer.setHighlightIndentGuides(t)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(t){this.$gutterLayer.setHighlightGutterLine(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(t){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(t){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(t){this.updateFull()}},minLines:{set:function(t){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(t){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(t){this.$updateCustomScrollbar(t)},initialValue:!1},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!y.isMobile&&!y.isIE}}),i.VirtualRenderer=A})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(t,i,n){var e=t("../lib/oop"),r=t("../lib/net"),s=t("../lib/event_emitter").EventEmitter,o=t("../config");function h(t){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(o.get("loadWorkerFromBlob")){var i=function(t){var i="importScripts('"+r.qualifyURL(t)+"');";try{return new Blob([i],{type:"application/javascript"})}catch(t){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(i),n.getBlob("application/javascript")}}(t),n=(window.URL||window.webkitURL).createObjectURL(i);return new Worker(n)}return new Worker(t)}var u=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){e.implement(this,s),this.$createWorkerFromOldConfig=function(i,n,e,r,s){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),o.get("packaged")||!t.toUrl)r=r||o.moduleUrl(n,"worker");else{var u=this.$normalizePath;r=r||u(t.toUrl("ace/worker/worker.js",null,"_"));var a={};i.forEach((function(i){a[i]=u(t.toUrl(i,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=h(r),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:a,module:n,classname:e}),this.$worker},this.onMessage=function(t){var i=t.data;switch(i.type){case"event":this._signal(i.name,{data:i.data});break;case"call":var n=this.callbacks[i.id];n&&(n(i.data),delete this.callbacks[i.id]);break;case"error":this.reportError(i.data);break;case"log":window.console&&console.log&&console.log.apply(console,i.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return r.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(t){t.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,i){this.$worker.postMessage({command:t,args:i})},this.call=function(t,i,n){if(n){var e=this.callbackId++;this.callbacks[e]=n,i.push(e)}this.send(t,i)},this.emit=function(t,i){try{i.data&&i.data.err&&(i.data.err={message:i.data.err.message,stack:i.data.err.stack,code:i.data.err.code}),this.$worker&&this.$worker.postMessage({event:t,data:{data:i.data}})}catch(t){console.error(t.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener,!0)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(u.prototype);i.UIWorkerClient=function(t,i,n){var e=null,r=!1,h=Object.create(s),a=[],c=new u({messageBuffer:a,terminate:function(){},postMessage:function(t){a.push(t),e&&(r?setTimeout(f):f())}});c.setEmitSync=function(t){r=t};var f=function(){var t=a.shift();t.command?e[t.command].apply(e,t.args):t.event&&h._signal(t.event,t.data)};return h.postMessage=function(t){c.onMessage({data:t})},h.callback=function(t,i){this.postMessage({type:"call",id:i,data:t})},h.emit=function(t,i){this.postMessage({type:"event",name:t,data:i})},o.loadModule(["worker",i],(function(t){for(e=new t[n](h);a.length;)f()})),c},i.WorkerClient=u,i.createWorker=h})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(t,i,n){var e=t("./range").Range,r=t("./lib/event_emitter").EventEmitter,s=t("./lib/oop"),o=function(){function t(t,i,n,e,r,s){var o=this;this.length=i,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=s,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=e,this.$onCursorChange=function(){setTimeout((function(){o.onCursorChange()}))},this.$pos=n;var h=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=h.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)}return t.prototype.setup=function(){var t=this,i=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new e(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var e=i.createAnchor(n.row,n.column);e.$insertRight=!0,e.detach(),t.others.push(e)})),n.setUndoSelect(!1)},t.prototype.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,i=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=t.addMarker(new e(n.row,n.column,n.row,n.column+i.length),i.othersClass,null,!1)}))}},t.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},t.prototype.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var i=t;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var n="insert"===t.action?i.end.column-i.start.column:i.start.column-i.end.column,r=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,s=i.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===t.action)for(var o=this.others.length-1;o>=0;o--){var h={row:(u=this.others[o]).row,column:u.column+s};this.doc.insertMergedLines(h,t.lines)}else if("remove"===t.action)for(o=this.others.length-1;o>=0;o--){var u;h={row:(u=this.others[o]).row,column:u.column+s};this.doc.remove(new e(h.row,h.column,h.row,h.column-n))}this.$updating=!1,this.updateMarkers()}},t.prototype.updateAnchors=function(t){this.pos.onChange(t);for(var i=this.others.length;i--;)this.others[i].onChange(t);this.updateMarkers()},t.prototype.updateMarkers=function(){if(!this.$updating){var t=this,i=this.session,n=function(n,r){i.removeMarker(n.markerId),n.markerId=i.addMarker(new e(n.row,n.column,n.row,n.column+t.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},t.prototype.onCursorChange=function(t){if(!this.$updating&&this.session){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},t.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},t.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),i=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;n<i;n++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},t}();s.implement(o.prototype,r),i.PlaceHolder=o})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(t,i,n){var e=t("../lib/event"),r=t("../lib/useragent");function s(t,i){return t.row==i.row&&t.column==i.column}i.onMouseDown=function(t){var i=t.domEvent,n=i.altKey,o=i.shiftKey,h=i.ctrlKey,u=t.getAccelKey(),a=t.getButton();if(h&&r.isMac&&(a=i.button),t.editor.inMultiSelectMode&&2==a)t.editor.textInput.onContextMenu(t.domEvent);else if(h||n||u){if(0===a){var c,f=t.editor,l=f.selection,d=f.inMultiSelectMode,v=t.getDocumentPosition(),p=l.getCursor(),m=t.inSelection()||l.isEmpty()&&s(v,p),w=t.x,g=t.y,b=f.session,y=f.renderer.pixelToScreenCoordinates(w,g),A=y;if(f.$mouseHandler.$enableJumpToDef)h&&n||u&&n?c=o?"block":"add":n&&f.$blockSelectEnabled&&(c="block");else if(u&&!n){if(c="add",!d&&o)return}else n&&f.$blockSelectEnabled&&(c="block");if(c&&r.isMac&&i.ctrlKey&&f.$mouseHandler.cancelContextMenu(),"add"==c){if(!d&&m)return;if(!d){var x=l.toOrientedRange();f.addSelectionMarker(x)}var _=l.rangeList.rangeAtPoint(v);f.inVirtualSelectionMode=!0,o&&(_=null,x=l.ranges[0]||x,f.removeSelectionMarker(x)),f.once("mouseup",(function(){var t=l.toOrientedRange();_&&t.isEmpty()&&s(_.cursor,t.cursor)?l.substractPoint(t.cursor):(o?l.substractPoint(x.cursor):x&&(f.removeSelectionMarker(x),l.addRange(x)),l.addRange(t)),f.inVirtualSelectionMode=!1}))}else if("block"==c){var k;t.stop(),f.inVirtualSelectionMode=!0;var S=[],M=function(){var t=f.renderer.pixelToScreenCoordinates(w,g),i=b.screenToDocumentPosition(t.row,t.column,t.offsetX);s(A,t)&&s(i,l.lead)||(A=t,f.selection.moveToPosition(i),f.renderer.scrollCursorIntoView(),f.removeSelectionMarkers(S),S=l.rectangularRangeBlock(A,y),f.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=f.$mouseHandler.$clickSelection.clone()),S.forEach(f.addSelectionMarker,f),f.updateSelectionMarkers())};d&&!u?l.toSingleRange():!d&&u&&(k=l.toOrientedRange(),f.addSelectionMarker(k)),o?y=b.documentToScreenPosition(l.lead):l.moveToPosition(v),A={row:-1,column:-1};var I=M;e.capture(f.container,(function(t){w=t.clientX,g=t.clientY}),(function(t){M(),clearInterval(E),f.removeSelectionMarkers(S),S.length||(S=[l.toOrientedRange()]),k&&(f.removeSelectionMarker(k),l.toSingleRange(k));for(var i=0;i<S.length;i++)l.addRange(S[i]);f.inVirtualSelectionMode=!1,f.$mouseHandler.$clickSelection=null}));var E=setInterval((function(){I()}),20);return t.preventDefault()}}}else 0===a&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(t,i,n){i.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(t){t.multiSelect.rangeCount>1?t.multiSelect.joinSelections():t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(t){t.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],i.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var e=t("../keyboard/hash_handler").HashHandler;i.keyboardHandler=new e(i.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(t,i,n){var e=t("./range_list").RangeList,r=t("./range").Range,s=t("./selection").Selection,o=t("./mouse/multi_select_handler").onMouseDown,h=t("./lib/event"),u=t("./lib/lang"),a=t("./commands/multi_select_commands");i.commands=a.defaultCommands.concat(a.multiSelectCommands);var c=new(0,t("./search").Search);var f=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,i){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),i||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var e=this.rangeList.add(t);return this.$onAddRange(t),e.length&&this.$onRemoveRange(e),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),i||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var i=this.rangeList.removeAll();i.length&&this.$onRemoveRange(i),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var i=this.rangeList.substractPoint(t);if(i)return this.$onRemoveRange(i),i[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length&&this.$onRemoveRange(t)},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var i=this.rangeList.ranges.pop();t.push(i),this.rangeCount=0}for(var n=t.length;n--;){var e=this.ranges.indexOf(t[n]);this.ranges.splice(e,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(i=i||this.ranges[0])&&!i.isEqual(this.getRange())&&this.fromOrientedRange(i)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new e,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var t=this.ranges.length?this.ranges:[this.getRange()],i=[],n=0;n<t.length;n++){var e=t[n],s=e.start.row,o=e.end.row;if(s===o)i.push(e.clone());else{for(i.push(new r(s,e.start.column,s,this.session.getLine(s).length));++s<o;)i.push(this.getLineRange(s,!0));i.push(new r(o,0,o,e.end.column))}0!=n||this.isBackwards()||(i=i.reverse())}this.toSingleRange();for(n=i.length;n--;)this.addRange(i[n])},this.joinSelections=function(){var t=this.rangeList.ranges,i=t[t.length-1],n=r.fromPoints(t[0].start,i.end);this.toSingleRange(),this.setSelectionRange(n,i.cursor==i.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,i=t[t.length-1],n=r.fromPoints(t[0].start,i.end);this.toSingleRange(),this.setSelectionRange(n,i.cursor==i.start)}else{var e=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(e,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,i,n){var e=[],s=t.column<i.column;if(s)var o=t.column,h=i.column,u=t.offsetX,a=i.offsetX;else o=i.column,h=t.column,u=i.offsetX,a=t.offsetX;var c,f,l,d=t.row<i.row;if(d)var v=t.row,p=i.row;else v=i.row,p=t.row;o<0&&(o=0),v<0&&(v=0),v==p&&(n=!0);for(var m=v;m<=p;m++){var w=r.fromPoints(this.session.screenToDocumentPosition(m,o,u),this.session.screenToDocumentPosition(m,h,a));if(w.isEmpty()){if(c&&(f=w.end,l=c,f.row==l.row&&f.column==l.column))break;c=w.end}w.cursor=s?w.start:w.end,e.push(w)}if(d&&e.reverse(),!n){for(var g=e.length-1;e[g].isEmpty()&&g>0;)g--;if(g>0)for(var b=0;e[b].isEmpty();)b++;for(var y=g;y>=b;y--)e[y].isEmpty()&&e.splice(y,1)}return e}}.call(s.prototype);var l=t("./editor").Editor;function d(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=i.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",o),t.commands.addCommands(a.defaultCommands),function(t){if(!t.textInput)return;var i=t.textInput.getElement(),n=!1;function e(i){n&&(t.renderer.setMouseCursor(""),n=!1)}h.addListener(i,"keydown",(function(i){var r=18==i.keyCode&&!(i.ctrlKey||i.shiftKey||i.metaKey);t.$blockSelectEnabled&&r?n||(t.renderer.setMouseCursor("crosshair"),n=!0):n&&e()}),t),h.addListener(i,"keyup",e,t),h.addListener(i,"blur",e,t)}(t))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var i=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",i),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var i=this.session.$selectionMarkers.indexOf(t);-1!=i&&this.session.$selectionMarkers.splice(i,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var i=this.session.$selectionMarkers,n=t.length;n--;){var e=t[n];if(e.marker){this.session.removeMarker(e.marker);var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}this.session.selectionMarkerCount=i.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(t){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(t){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var i=t.command,n=t.editor;if(n.multiSelect){if(i.multiSelectAction)"forEach"==i.multiSelectAction?e=n.forEachSelection(i,t.args):"forEachLine"==i.multiSelectAction?e=n.forEachSelection(i,t.args,!0):"single"==i.multiSelectAction?(n.exitMultiSelectMode(),e=i.exec(n,t.args||{})):e=i.multiSelectAction(n,t.args||{});else{var e=i.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return e}},this.forEachSelection=function(t,i,n){if(!this.inVirtualSelectionMode){var e,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,h=this.session,u=this.selection,a=u.rangeList,c=(r?u:a).ranges;if(!c.length)return t.exec?t.exec(this,i||{}):t(this,i||{});var f=u._eventRegistry;u._eventRegistry={};var l=new s(h);this.inVirtualSelectionMode=!0;for(var d=c.length;d--;){if(o)for(;d>0&&c[d].start.row==c[d-1].end.row;)d--;l.fromOrientedRange(c[d]),l.index=d,this.selection=h.selection=l;var v=t.exec?t.exec(this,i||{}):t(this,i||{});e||void 0===v||(e=v),l.toOrientedRange(c[d])}l.detach(),this.selection=h.selection=u,this.inVirtualSelectionMode=!1,u._eventRegistry=f,u.mergeOverlappingRanges(),u.ranges[0]&&u.fromOrientedRange(u.ranges[0]);var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),e}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var i=this.multiSelect.rangeList.ranges,n=[],e=0;e<i.length;e++)n.push(this.session.getTextRange(i[e]));var r=this.session.getDocument().getNewLineCharacter();(t=n.join(r)).length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,i){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&i==this.multiSelect.anchor)return;var e=i==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;e.row!=i.row||this.session.$clipPositionToDocument(e.row,e.column).column!=i.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(t,i,n){if((i=i||{}).needle=t||i.needle,null==i.needle){var e=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();i.needle=this.session.getTextRange(e)}this.$search.set(i);var r=this.$search.findAll(this.session);if(!r.length)return 0;var s=this.multiSelect;n||s.toSingleRange(r[0]);for(var o=r.length;o--;)s.addRange(r[o],!0);return e&&s.rangeList.rangeAtPoint(e.start)&&s.addRange(e,!0),r.length},this.selectMoreLines=function(t,i){var n=this.selection.toOrientedRange(),e=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,h=this.session.screenToDocumentPosition(s.row+t,s.column);if(n.isEmpty())a=h;else var u=this.session.documentToScreenPosition(e?n.end:n.start),a=this.session.screenToDocumentPosition(u.row+t,u.column);e?(o=r.fromPoints(h,a)).cursor=o.start:(o=r.fromPoints(a,h)).cursor=o.end;if(o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(i)var c=n.cursor}else this.selection.addRange(n);this.selection.addRange(o),c&&this.selection.substractPoint(c)},this.transposeSelections=function(t){for(var i=this.session,n=i.multiSelect,e=n.ranges,r=e.length;r--;){if((h=e[r]).isEmpty()){var s=i.getWordRange(h.start.row,h.start.column);h.start.row=s.start.row,h.start.column=s.start.column,h.end.row=s.end.row,h.end.column=s.end.column}}n.mergeOverlappingRanges();var o=[];for(r=e.length;r--;){var h=e[r];o.unshift(i.getTextRange(h))}t<0?o.unshift(o.pop()):o.push(o.shift());for(r=e.length;r--;){var u=(h=e[r]).clone();i.replace(h,o[r]),h.start.row=u.start.row,h.start.column=u.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(t,i,n){var e=this.session,r=e.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=e.getWordRange(r.start.row,r.start.column)).cursor=-1==t?r.start:r.end,this.multiSelect.addRange(r),!n)){var s=e.getTextRange(r),o=function(t,i,n){return c.$options.wrap=!0,c.$options.needle=i,c.$options.backwards=-1==n,c.find(t)}(e,s,t);o&&(o.cursor=-1==t?o.start:o.end,this.session.unfold(o),this.multiSelect.addRange(o),this.renderer.scrollCursorIntoView(null,.5)),i&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var t=this.session,i=t.multiSelect,n=i.ranges,e=-1,s=n.filter((function(t){if(t.cursor.row==e)return!0;e=t.cursor.row}));if(n.length&&s.length!=n.length-1){s.forEach((function(t){i.substractPoint(t.cursor)}));var o=0,h=1/0,a=n.map((function(i){var n=i.cursor,e=t.getLine(n.row).substr(n.column).search(/\S/g);return-1==e&&(e=0),n.column>o&&(o=n.column),e<h&&(h=e),e}));n.forEach((function(i,n){var e=i.cursor,s=o-e.column,c=a[n]-h;s>c?t.insert(e,u.stringRepeat(" ",s-c)):t.remove(new r(e.row,e.column,e.row,e.column-s+c)),i.start.column=i.end.column=o,i.start.row=i.end.row=e.row,i.cursor=i.end})),i.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),f=c.start.row,l=c.end.row,d=f==l;if(d){var v,p=this.session.getLength();do{v=this.session.getLine(l)}while(/[=:]/.test(v)&&++l<p);do{v=this.session.getLine(f)}while(/[=:]/.test(v)&&--f>0);f<0&&(f=0),l>=p&&(l=p-1)}var m=this.session.removeFullLines(f,l);m=this.$reAlignText(m,d),this.session.insert({row:f,column:0},m.join("\n")+"\n"),d||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(t,i){var n,e,r,s=!0,o=!0;return t.map((function(t){var i=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return i?null==n?(n=i[1].length,e=i[2].length,r=i[3].length,i):(n+e+r!=i[1].length+i[2].length+i[3].length&&(o=!1),n!=i[1].length&&(s=!1),n>i[1].length&&(n=i[1].length),e<i[2].length&&(e=i[2].length),r>i[3].length&&(r=i[3].length),i):[t]})).map(i?a:s?o?function(t){return t[2]?h(n+e-t[2].length)+t[2]+h(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}:a:function(t){return t[2]?h(n)+t[2]+h(r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]});function h(t){return u.stringRepeat(" ",t)}function a(t){return t[2]?h(n)+t[2]+h(e-t[2].length+r)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}}}).call(l.prototype),i.onSessionChange=function(t){var i=t.session;i&&!i.multiSelect&&(i.$selectionMarkers=[],i.selection.$initRangeList(),i.multiSelect=i.selection),this.multiSelect=i&&i.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),i&&(i.multiSelect.on("addRange",this.$onAddRange),i.multiSelect.on("removeRange",this.$onRemoveRange),i.multiSelect.on("multiSelect",this.$onMultiSelect),i.multiSelect.on("singleSelect",this.$onSingleSelect),i.multiSelect.lead.on("change",this.$checkMultiselectChange),i.multiSelect.anchor.on("change",this.$checkMultiselectChange)),i&&this.inMultiSelectMode!=i.selection.inMultiSelectMode&&(i.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},i.MultiSelect=d,t("./config").defineOptions(l.prototype,"editor",{enableMultiselect:{set:function(t){d(this),t?this.on("mousedown",o):this.off("mousedown",o)},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(t,i,n){var e=t("../../range").Range,r=i.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,i,n){var e=t.getLine(n);return this.foldingStartMarker.test(e)?"start":"markbeginend"==i&&this.foldingStopMarker&&this.foldingStopMarker.test(e)?"end":""},this.getFoldWidgetRange=function(t,i,n){return null},this.indentationBlock=function(t,i,n){var r=/\S/,s=t.getLine(i),o=s.search(r);if(-1!=o){for(var h=n||s.length,u=t.getLength(),a=i,c=i;++i<u;){var f=t.getLine(i).search(r);if(-1!=f){if(f<=o){var l=t.getTokenAt(i,0);if(!l||"string"!==l.type)break}c=i}}if(c>a){var d=t.getLine(c).length;return new e(a,h,c,d)}}},this.openingBracketBlock=function(t,i,n,r,s){var o={row:n,column:r+1},h=t.$findClosingBracket(i,o,s);if(h){var u=t.foldWidgets[h.row];return null==u&&(u=t.getFoldWidget(h.row)),"start"==u&&h.row>o.row&&(h.row--,h.column=t.getLine(h.row).length),e.fromPoints(o,h)}},this.closingBracketBlock=function(t,i,n,r,s){var o={row:n,column:r},h=t.$findOpeningBracket(i,o);if(h)return h.column++,o.column--,e.fromPoints(h,o)}}).call(r.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],(function(t,i,n){var e=t("../line_widgets").LineWidgets,r=t("../lib/dom"),s=t("../range").Range,o=t("../config").nls;i.showErrorMarker=function(t,i){var n=t.session;n.widgetManager||(n.widgetManager=new e(n),n.widgetManager.attach(t));var h=t.getCursorPosition(),u=h.row,a=n.widgetManager.getWidgetsAtRow(u).filter((function(t){return"errorMarker"==t.type}))[0];a?a.destroy():u-=i;var c,f=function(t,i,n){var e=t.getAnnotations().sort(s.comparePoints);if(e.length){var r=function(t,i,n){for(var e=0,r=t.length-1;e<=r;){var s=e+r>>1,o=n(i,t[s]);if(o>0)e=s+1;else{if(!(o<0))return s;r=s-1}}return-(e+1)}(e,{row:i,column:-1},s.comparePoints);r<0&&(r=-r-1),r>=e.length?r=n>0?0:e.length-1:0===r&&n<0&&(r=e.length-1);var o=e[r];if(o&&n){if(o.row===i){do{o=e[r+=n]}while(o&&o.row===i);if(!o)return e.slice()}var h=[];i=o.row;do{h[n<0?"unshift":"push"](o),o=e[r+=n]}while(o&&o.row==i);return h.length&&h}}}(n,u,i);if(f){var l=f[0];h.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,h.row=l.row,c=t.renderer.$gutterLayer.$annotations[h.row]}else{if(a)return;c={displayText:[o("error-marker.good-state","Looks good!")],className:"ace_ok"}}t.session.unfold(h.row),t.selection.moveToPosition(h);var d={row:h.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},v=d.el.appendChild(r.createElement("div")),p=d.el.appendChild(r.createElement("div"));p.className="error_widget_arrow "+c.className;var m=t.renderer.$cursorLayer.getPixelPosition(h).left;p.style.left=m+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",v.className="error_widget "+c.className,c.displayText.forEach((function(t,i){v.appendChild(r.createTextNode(t)),i<c.displayText.length-1&&v.appendChild(r.createElement("br"))})),v.appendChild(r.createElement("div"));var w=function(t,i,n){if(0===i&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(w),n.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(w),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(t,i,n){t("./loader_build")(i);var e=t("./lib/dom"),r=t("./range").Range,s=t("./editor").Editor,o=t("./edit_session").EditSession,h=t("./undomanager").UndoManager,u=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),i.config=t("./config"),i.edit=function(t,n){if("string"==typeof t){var r=t;if(!(t=document.getElementById(r)))throw new Error("ace.edit can't find div #"+r)}if(t&&t.env&&t.env.editor instanceof s)return t.env.editor;var o="";if(t&&/input|textarea/i.test(t.tagName)){var h=t;o=h.value,t=e.createElement("pre"),h.parentNode.replaceChild(t,h)}else t&&(o=t.textContent,t.innerHTML="");var a=i.createEditSession(o),c=new s(new u(t),a,n),f={document:a,editor:c,onResize:c.resize.bind(c,null)};return h&&(f.textarea=h),c.on("destroy",(function(){f.editor.container.env=null})),c.container.env=c.env=f,c},i.createEditSession=function(t,i){var n=new o(t,i);return n.setUndoManager(new h),n},i.Range=r,i.Editor=s,i.EditSession=o,i.UndoManager=h,i.VirtualRenderer=u,i.version=i.config.version})),ace.require(["ace/ace"],(function(t){t&&(t.config.init(!0),t.define=ace.define);var i=function(){return this}();for(var n in i||"undefined"==typeof window||(i=window),i||"undefined"==typeof self||(i=self),i.ace||(i.ace=t),t)t.hasOwnProperty(n)&&(i.ace[n]=t[n]);i.ace.default=i.ace,"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=i.ace)})),ace.define("ace/ext/modelist",["require","exports","module"],(function(t,i,n){var e=[];var r=function(){function t(t,i,n){var e;this.name=t,this.caption=i,this.mode="ace/mode/"+t,this.extensions=n,e=/\^/.test(n)?n.replace(/\|(\^)?/g,(function(t,i){return"$|"+(i?"^":"^.*\\.")}))+"$":"^.*\\.("+n+")$",this.extRe=new RegExp(e,"gi")}return t.prototype.supportsFile=function(t){return t.match(this.extRe)},t}(),s={ABAP:["abap"],ABC:["abc"],ActionScript:["as"],ADA:["ada|adb"],Alda:["alda"],Apache_Conf:["^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd"],Apex:["apex|cls|trigger|tgr"],AQL:["aql"],AsciiDoc:["asciidoc|adoc"],ASL:["dsl|asl|asl.json"],Assembly_ARM32:["s"],Assembly_x86:["asm|a"],Astro:["astro"],AutoHotKey:["ahk"],BatchFile:["bat|cmd"],BibTeX:["bib"],C_Cpp:["cpp|c|cc|cxx|h|hh|hpp|ino"],C9Search:["c9search_results"],Cirru:["cirru|cr"],Clojure:["clj|cljs"],Cobol:["CBL|COB"],coffee:["coffee|cf|cson|^Cakefile"],ColdFusion:["cfm|cfc"],Crystal:["cr"],CSharp:["cs"],Csound_Document:["csd"],Csound_Orchestra:["orc"],Csound_Score:["sco"],CSS:["css"],Curly:["curly"],Cuttlefish:["conf"],D:["d|di"],Dart:["dart"],Diff:["diff|patch"],Django:["djt|html.djt|dj.html|djhtml"],Dockerfile:["^Dockerfile"],Dot:["dot"],Drools:["drl"],Edifact:["edi"],Eiffel:["e|ge"],EJS:["ejs"],Elixir:["ex|exs"],Elm:["elm"],Erlang:["erl|hrl"],Flix:["flix"],Forth:["frt|fs|ldr|fth|4th"],Fortran:["f|f90"],FSharp:["fsi|fs|ml|mli|fsx|fsscript"],FSL:["fsl"],FTL:["ftl"],Gcode:["gcode"],Gherkin:["feature"],Gitignore:["^.gitignore"],Glsl:["glsl|frag|vert"],Gobstones:["gbs"],golang:["go"],GraphQLSchema:["gql"],Groovy:["groovy"],HAML:["haml"],Handlebars:["hbs|handlebars|tpl|mustache"],Haskell:["hs"],Haskell_Cabal:["cabal"],haXe:["hx"],Hjson:["hjson"],HTML:["html|htm|xhtml|we|wpy"],HTML_Elixir:["eex|html.eex"],HTML_Ruby:["erb|rhtml|html.erb"],INI:["ini|conf|cfg|prefs"],Io:["io"],Ion:["ion"],Jack:["jack"],Jade:["jade|pug"],Java:["java"],JavaScript:["js|jsm|cjs|mjs"],JEXL:["jexl"],JSON:["json"],JSON5:["json5"],JSONiq:["jq"],JSP:["jsp"],JSSM:["jssm|jssm_state"],JSX:["jsx"],Julia:["jl"],Kotlin:["kt|kts"],LaTeX:["tex|latex|ltx|bib"],Latte:["latte"],LESS:["less"],Liquid:["liquid"],Lisp:["lisp"],LiveScript:["ls"],Log:["log"],LogiQL:["logic|lql"],Logtalk:["lgt"],LSL:["lsl"],Lua:["lua"],LuaPage:["lp"],Lucene:["lucene"],Makefile:["^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make"],Markdown:["md|markdown"],Mask:["mask"],MATLAB:["matlab"],Maze:["mz"],MediaWiki:["wiki|mediawiki"],MEL:["mel"],MIPS:["s|asm"],MIXAL:["mixal"],MUSHCode:["mc|mush"],MySQL:["mysql"],Nasal:["nas"],Nginx:["nginx|conf"],Nim:["nim"],Nix:["nix"],NSIS:["nsi|nsh"],Nunjucks:["nunjucks|nunjs|nj|njk"],ObjectiveC:["m|mm"],OCaml:["ml|mli"],Odin:["odin"],PartiQL:["partiql|pql"],Pascal:["pas|p"],Perl:["pl|pm"],pgSQL:["pgsql"],PHP:["php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module"],PHP_Laravel_blade:["blade.php"],Pig:["pig"],PLSQL:["plsql"],Powershell:["ps1"],Praat:["praat|praatscript|psc|proc"],Prisma:["prisma"],Prolog:["plg|prolog"],Properties:["properties"],Protobuf:["proto"],PRQL:["prql"],Puppet:["epp|pp"],Python:["py"],QML:["qml"],R:["r"],Raku:["raku|rakumod|rakutest|p6|pl6|pm6"],Razor:["cshtml|asp"],RDoc:["Rd"],Red:["red|reds"],RHTML:["Rhtml"],Robot:["robot|resource"],RST:["rst"],Ruby:["rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile"],Rust:["rs"],SaC:["sac"],SASS:["sass"],SCAD:["scad"],Scala:["scala|sbt"],Scheme:["scm|sm|rkt|oak|scheme"],Scrypt:["scrypt"],SCSS:["scss"],SH:["sh|bash|^.bashrc"],SJS:["sjs"],Slim:["slim|skim"],Smarty:["smarty|tpl"],Smithy:["smithy"],snippets:["snippets"],Soy_Template:["soy"],Space:["space"],SPARQL:["rq"],SQL:["sql"],SQLServer:["sqlserver"],Stylus:["styl|stylus"],SVG:["svg"],Swift:["swift"],Tcl:["tcl"],Terraform:["tf","tfvars","terragrunt"],Tex:["tex"],Text:["txt"],Textile:["textile"],Toml:["toml"],TSX:["tsx"],Turtle:["ttl"],Twig:["twig|swig"],Typescript:["ts|mts|cts|typescript|str"],Vala:["vala"],VBScript:["vbs|vb"],Velocity:["vm"],Verilog:["v|vh|sv|svh"],VHDL:["vhd|vhdl"],Visualforce:["vfp|component|page"],Vue:["vue"],Wollok:["wlk|wpgm|wtest"],XML:["xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml"],XQuery:["xq"],YAML:["yaml|yml"],Zeek:["zeek|bro"],Zig:["zig"]},o={ObjectiveC:"Objective-C",CSharp:"C#",golang:"Go",C_Cpp:"C and C++",Csound_Document:"Csound Document",Csound_Orchestra:"Csound",Csound_Score:"Csound Score",coffee:"CoffeeScript",HTML_Ruby:"HTML (Ruby)",HTML_Elixir:"HTML (Elixir)",FTL:"FreeMarker",PHP_Laravel_blade:"PHP (Blade Template)",Perl6:"Perl 6",AutoHotKey:"AutoHotkey / AutoIt"},h={};for(var u in s){var a=s[u],c=(o[u]||u).replace(/_/g," "),f=u.toLowerCase(),l=new r(f,c,a[0]);h[f]=l,e.push(l)}n.exports={getModeForPath:function(t){for(var i=h.text,n=t.split(/[\/\\]/).pop(),r=0;r<e.length;r++)if(e[r].supportsFile(n)){i=e[r];break}return i},modes:e,modesByName:h}})),ace.require(["ace/ext/modelist"],(function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)})),ace.define("ace/snippets/snippets.snippets",["require","exports","module"],(function(t,i,n){n.exports="# snippets for making snippets :)\nsnippet snip\n\tsnippet ${1:trigger}\n\t\t${2}\nsnippet msnip\n\tsnippet ${1:trigger} ${2:description}\n\t\t${3}\nsnippet v\n\t{VISUAL}\n"})),ace.define("ace/snippets/snippets",["require","exports","module","ace/snippets/snippets.snippets"],(function(t,i,n){i.snippetText=t("./snippets.snippets"),i.scope="snippets"})),ace.require(["ace/snippets/snippets"],(function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)}));var Xe=Je("DateTimeException",(function(t,i){void 0===i&&(i=null);var n=t||this.name;null!==i&&i instanceof Error&&(n+="\n-------\nCaused by: "+i.stack+"\n-------\n");this.message=n})),tr=Je("DateTimeParseException",(function(t,i,n,e){void 0===i&&(i="");void 0===n&&(n=0);void 0===e&&(e=null);var r=t||this.name;r+=": "+i+", at index: "+n,null!==e&&e instanceof Error&&(r+="\n-------\nCaused by: "+e.stack+"\n-------\n");this.message=r,this.parsedString=function(){return i},this.errorIndex=function(){return n}})),ir=Je("UnsupportedTemporalTypeException",null,Xe),nr=Je("ArithmeticException"),er=Je("IllegalArgumentException"),rr=Je("IllegalStateException"),sr=Je("NullPointerException");function or(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i}function hr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function ur(t,i,n){if(!t)throw n?new n(i):new Error(i)}function ar(t,i){if(null==t)throw new sr(i+" must not be null");return t}function cr(t,i,n){if(!(t instanceof i))throw new er(n+" must be an instance of "+(i.name?i.name:i)+(t&&t.constructor&&t.constructor.name?", but is "+t.constructor.name:""));return t}function fr(t){throw new TypeError('abstract method "'+t+'" is not implemented')}
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var lr=function(){function t(){}return t.intDiv=function(i,n){var e=i/n;return e=t.roundDown(e),t.safeZero(e)},t.intMod=function(i,n){var e=i-t.intDiv(i,n)*n;return e=t.roundDown(e),t.safeZero(e)},t.roundDown=function(t){return t<0?Math.ceil(t):Math.floor(t)},t.floorDiv=function(i,n){var e=Math.floor(i/n);return t.safeZero(e)},t.floorMod=function(i,n){var e=i-t.floorDiv(i,n)*n;return t.safeZero(e)},t.safeAdd=function(i,n){if(t.verifyInt(i),t.verifyInt(n),0===i)return t.safeZero(n);if(0===n)return t.safeZero(i);var e=t.safeToInt(i+n);if(e===i||e===n)throw new nr("Invalid addition beyond MAX_SAFE_INTEGER!");return e},t.safeSubtract=function(i,n){return t.verifyInt(i),t.verifyInt(n),0===i&&0===n?0:0===i?t.safeZero(-1*n):0===n?t.safeZero(i):t.safeToInt(i-n)},t.safeMultiply=function(i,n){if(t.verifyInt(i),t.verifyInt(n),1===i)return t.safeZero(n);if(1===n)return t.safeZero(i);if(0===i||0===n)return 0;var e=t.safeToInt(i*n);if(e/n!==i||-9007199254740991===i&&-1===n||-9007199254740991===n&&-1===i)throw new nr("Multiplication overflows: "+i+" * "+n);return e},t.parseInt=function(t){function i(i){return t.apply(this,arguments)}return i.toString=function(){return t.toString()},i}((function(i){var n=parseInt(i);return t.safeToInt(n)})),t.safeToInt=function(i){return t.verifyInt(i),t.safeZero(i)},t.verifyInt=function(t){if(null==t)throw new nr("Invalid value: '"+t+"', using null or undefined as argument");if(isNaN(t))throw new nr("Invalid int value, using NaN as argument");if(t%1!=0)throw new nr("Invalid value: '"+t+"' is a float");if(t>9007199254740991||t<-9007199254740991)throw new nr("Calculation overflows an int: "+t)},t.safeZero=function(t){return 0===t?0:+t},t.compareNumbers=function(t,i){return t<i?-1:t>i?1:0},t.smi=function(t){return t>>>1&1073741824|3221225471&t},t.hash=function(i){if(i!=i||i===1/0)return 0;for(var n=i;i>4294967295;)n^=i/=4294967295;return t.smi(n)},t.hashCode=function(){for(var i=17,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];for(var s=0,o=e;s<o.length;s++){var h=o[s];i=(i<<5)-i+t.hash(h)}return t.hash(i)},t}();lr.MAX_SAFE_INTEGER=9007199254740991,lr.MIN_SAFE_INTEGER=-9007199254740991;
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var dr=function(){function t(t){this._name=t}var i=t.prototype;return i.equals=function(t){return this===t},i.toString=function(){return this._name},i.toJSON=function(){return this.toString()},t}(),vr=function(){function t(){}var i=t.prototype;return i.get=function(t){fr("get")},i.units=function(){fr("units")},i.addTo=function(t){fr("addTo")},i.subtractFrom=function(t){fr("subtractFrom")},t}(),pr=function(){function t(){}var i=t.prototype;return i.duration=function(){fr("duration")},i.isDurationEstimated=function(){fr("isDurationEstimated")},i.isDateBased=function(){fr("isDateBased")},i.isTimeBased=function(){fr("isTimeBased")},i.isSupportedBy=function(t){fr("isSupportedBy")},i.addTo=function(t,i){fr("addTo")},i.between=function(t,i){fr("between")},t}(),mr=function(t){function i(i,n){var e;return(e=t.call(this)||this)._seconds=lr.safeToInt(i),e._nanos=lr.safeToInt(n),e}or(i,t),i.ofDays=function(t){return i._create(lr.safeMultiply(t,qs.SECONDS_PER_DAY),0)},i.ofHours=function(t){return i._create(lr.safeMultiply(t,qs.SECONDS_PER_HOUR),0)},i.ofMinutes=function(t){return i._create(lr.safeMultiply(t,qs.SECONDS_PER_MINUTE),0)},i.ofSeconds=function(t,n){void 0===n&&(n=0);var e=lr.safeAdd(t,lr.floorDiv(n,qs.NANOS_PER_SECOND)),r=lr.floorMod(n,qs.NANOS_PER_SECOND);return i._create(e,r)},i.ofMillis=function(t){var n=lr.intDiv(t,1e3),e=lr.intMod(t,1e3);return e<0&&(e+=1e3,n--),i._create(n,1e6*e)},i.ofNanos=function(t){var i=lr.intDiv(t,qs.NANOS_PER_SECOND),n=lr.intMod(t,qs.NANOS_PER_SECOND);return n<0&&(n+=qs.NANOS_PER_SECOND,i--),this._create(i,n)},i.of=function(t,n){return i.ZERO.plus(t,n)},i.from=function(t){ar(t,"amount"),cr(t,vr);var n=i.ZERO;return t.units().forEach((function(i){n=n.plus(t.get(i),i)})),n},i.between=function(t,i){ar(t,"startInclusive"),ar(i,"endExclusive");var n=t.until(i,gr.SECONDS),e=0;if(t.isSupported(Ar.NANO_OF_SECOND)&&i.isSupported(Ar.NANO_OF_SECOND))try{var r=t.getLong(Ar.NANO_OF_SECOND);if(e=i.getLong(Ar.NANO_OF_SECOND)-r,n>0&&e<0)e+=qs.NANOS_PER_SECOND;else if(n<0&&e>0)e-=qs.NANOS_PER_SECOND;else if(0===n&&0!==e){var s=i.with(Ar.NANO_OF_SECOND,r);n=t.until(s,gr.SECONDS)}}catch(t){}return this.ofSeconds(n,e)},i.parse=function(t){ar(t,"text");var n=new RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i").exec(t);if(null!==n&&"T"===n[3]==!1){var e="-"===n[1],r=n[2],s=n[4],o=n[5],h=n[6],u=n[7];if(null!=r||null!=s||null!=o||null!=h){var a=i._parseNumber(t,r,qs.SECONDS_PER_DAY,"days"),c=i._parseNumber(t,s,qs.SECONDS_PER_HOUR,"hours"),f=i._parseNumber(t,o,qs.SECONDS_PER_MINUTE,"minutes"),l=i._parseNumber(t,h,1,"seconds"),d=null!=h&&"-"===h.charAt(0),v=i._parseFraction(t,u,d?-1:1);try{return i._create(e,a,c,f,l,v)}catch(i){throw new tr("Text cannot be parsed to a Duration: overflow",t,0,i)}}}throw new tr("Text cannot be parsed to a Duration",t,0)},i._parseNumber=function(t,i,n,e){if(null==i)return 0;try{return"+"===i[0]&&(i=i.substring(1)),lr.safeMultiply(parseFloat(i),n)}catch(i){throw new tr("Text cannot be parsed to a Duration: "+e,t,0,i)}},i._parseFraction=function(t,i,n){return null==i||0===i.length?0:(i=(i+"000000000").substring(0,9),parseFloat(i)*n)},i._create=function(){return arguments.length<=2?i._createSecondsNanos(arguments[0],arguments[1]):i._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},i._createNegateDaysHoursMinutesSecondsNanos=function(t,n,e,r,s,o){var h=lr.safeAdd(n,lr.safeAdd(e,lr.safeAdd(r,s)));return t?i.ofSeconds(h,o).negated():i.ofSeconds(h,o)},i._createSecondsNanos=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=0),0===t&&0===n?i.ZERO:new i(t,n)};var n=i.prototype;return n.get=function(t){if(t===gr.SECONDS)return this._seconds;if(t===gr.NANOS)return this._nanos;throw new ir("Unsupported unit: "+t)},n.units=function(){return[gr.SECONDS,gr.NANOS]},n.isZero=function(){return 0===this._seconds&&0===this._nanos},n.isNegative=function(){return this._seconds<0},n.seconds=function(){return this._seconds},n.nano=function(){return this._nanos},n.withSeconds=function(t){return i._create(t,this._nanos)},n.withNanos=function(t){return Ar.NANO_OF_SECOND.checkValidIntValue(t),i._create(this._seconds,t)},n.plusDuration=function(t){return ar(t,"duration"),this.plus(t.seconds(),t.nano())},n.plus=function(t,i){return 1===arguments.length?this.plusDuration(t):2===arguments.length&&i instanceof pr?this.plusAmountUnit(t,i):this.plusSecondsNanos(t,i)},n.plusAmountUnit=function(t,i){if(ar(t,"amountToAdd"),ar(i,"unit"),i===gr.DAYS)return this.plusSecondsNanos(lr.safeMultiply(t,qs.SECONDS_PER_DAY),0);if(i.isDurationEstimated())throw new ir("Unit must not have an estimated duration");if(0===t)return this;if(i instanceof gr){switch(i){case gr.NANOS:return this.plusNanos(t);case gr.MICROS:return this.plusSecondsNanos(1e3*lr.intDiv(t,1e9),1e3*lr.intMod(t,1e9));case gr.MILLIS:return this.plusMillis(t);case gr.SECONDS:return this.plusSeconds(t)}return this.plusSecondsNanos(lr.safeMultiply(i.duration().seconds(),t),0)}var n=i.duration().multipliedBy(t);return this.plusSecondsNanos(n.seconds(),n.nano())},n.plusDays=function(t){return this.plusSecondsNanos(lr.safeMultiply(t,qs.SECONDS_PER_DAY),0)},n.plusHours=function(t){return this.plusSecondsNanos(lr.safeMultiply(t,qs.SECONDS_PER_HOUR),0)},n.plusMinutes=function(t){return this.plusSecondsNanos(lr.safeMultiply(t,qs.SECONDS_PER_MINUTE),0)},n.plusSeconds=function(t){return this.plusSecondsNanos(t,0)},n.plusMillis=function(t){return this.plusSecondsNanos(lr.intDiv(t,1e3),1e6*lr.intMod(t,1e3))},n.plusNanos=function(t){return this.plusSecondsNanos(0,t)},n.plusSecondsNanos=function(t,n){if(ar(t,"secondsToAdd"),ar(n,"nanosToAdd"),0===t&&0===n)return this;var e=lr.safeAdd(this._seconds,t);e=lr.safeAdd(e,lr.intDiv(n,qs.NANOS_PER_SECOND)),n=lr.intMod(n,qs.NANOS_PER_SECOND);var r=lr.safeAdd(this._nanos,n);return i.ofSeconds(e,r)},n.minus=function(t,i){return 1===arguments.length?this.minusDuration(t):this.minusAmountUnit(t,i)},n.minusDuration=function(t){ar(t,"duration");var i=t.seconds(),n=t.nano();return-9007199254740991===i?this.plus(9007199254740991,-n):this.plus(-i,-n)},n.minusAmountUnit=function(t,i){return ar(t,"amountToSubtract"),ar(i,"unit"),-9007199254740991===t?this.plusAmountUnit(9007199254740991,i):this.plusAmountUnit(-t,i)},n.minusDays=function(t){return-9007199254740991===t?this.plusDays(9007199254740991):this.plusDays(-t)},n.minusHours=function(t){return-9007199254740991===t?this.plusHours(9007199254740991):this.plusHours(-t)},n.minusMinutes=function(t){return-9007199254740991===t?this.plusMinutes(9007199254740991):this.plusMinutes(-t)},n.minusSeconds=function(t){return-9007199254740991===t?this.plusSeconds(9007199254740991):this.plusSeconds(-t)},n.minusMillis=function(t){return-9007199254740991===t?this.plusMillis(9007199254740991):this.plusMillis(-t)},n.minusNanos=function(t){return-9007199254740991===t?this.plusNanos(9007199254740991):this.plusNanos(-t)},n.multipliedBy=function(t){if(0===t)return i.ZERO;if(1===t)return this;var n=lr.safeMultiply(this._seconds,t),e=lr.safeMultiply(this._nanos,t);return n+=lr.intDiv(e,qs.NANOS_PER_SECOND),e=lr.intMod(e,qs.NANOS_PER_SECOND),i.ofSeconds(n,e)},n.dividedBy=function(t){if(0===t)throw new nr("Cannot divide by zero");if(1===t)return this;var n=lr.intDiv(this._seconds,t),e=lr.roundDown((this._seconds/t-n)*qs.NANOS_PER_SECOND),r=lr.intDiv(this._nanos,t);return r=e+r,i.ofSeconds(n,r)},n.negated=function(){return this.multipliedBy(-1)},n.abs=function(){return this.isNegative()?this.negated():this},n.addTo=function(t){return ar(t,"temporal"),0!==this._seconds&&(t=t.plus(this._seconds,gr.SECONDS)),0!==this._nanos&&(t=t.plus(this._nanos,gr.NANOS)),t},n.subtractFrom=function(t){return ar(t,"temporal"),0!==this._seconds&&(t=t.minus(this._seconds,gr.SECONDS)),0!==this._nanos&&(t=t.minus(this._nanos,gr.NANOS)),t},n.toDays=function(){return lr.intDiv(this._seconds,qs.SECONDS_PER_DAY)},n.toHours=function(){return lr.intDiv(this._seconds,qs.SECONDS_PER_HOUR)},n.toMinutes=function(){return lr.intDiv(this._seconds,qs.SECONDS_PER_MINUTE)},n.toMillis=function(){var t=Math.round(lr.safeMultiply(this._seconds,1e3));return t=lr.safeAdd(t,lr.intDiv(this._nanos,1e6))},n.toNanos=function(){var t=lr.safeMultiply(this._seconds,qs.NANOS_PER_SECOND);return t=lr.safeAdd(t,this._nanos)},n.compareTo=function(t){ar(t,"otherDuration"),cr(t,i,"otherDuration");var n=lr.compareNumbers(this._seconds,t.seconds());return 0!==n?n:this._nanos-t.nano()},n.equals=function(t){return this===t||t instanceof i&&(this.seconds()===t.seconds()&&this.nano()===t.nano())},n.toString=function(){if(this===i.ZERO)return"PT0S";var t,n=lr.intDiv(this._seconds,qs.SECONDS_PER_HOUR),e=lr.intDiv(lr.intMod(this._seconds,qs.SECONDS_PER_HOUR),qs.SECONDS_PER_MINUTE),r=lr.intMod(this._seconds,qs.SECONDS_PER_MINUTE),s="PT";if(0!==n&&(s+=n+"H"),0!==e&&(s+=e+"M"),0===r&&0===this._nanos&&s.length>2)return s;if(r<0&&this._nanos>0?s+=-1===r?"-0":r+1:s+=r,this._nanos>0)for(s+=".",s+=t=(t=r<0?""+(2*qs.NANOS_PER_SECOND-this._nanos):""+(qs.NANOS_PER_SECOND+this._nanos)).slice(1,t.length);"0"===s.charAt(s.length-1);)s=s.slice(0,s.length-1);return s+="S"},n.toJSON=function(){return this.toString()},i}(vr);
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)
 */
var wr=function(){};var gr=function(t){function i(i,n){var e;return(e=t.call(this)||this)._name=i,e._duration=n,e}or(i,t);var n=i.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return this.isDateBased()||this===i.FOREVER},n.isDateBased=function(){return this.compareTo(i.DAYS)>=0&&this!==i.FOREVER},n.isTimeBased=function(){return this.compareTo(i.DAYS)<0},n.isSupportedBy=function(t){if(this===i.FOREVER)return!1;try{return t.plus(1,this),!0}catch(i){try{return t.plus(-1,this),!0}catch(t){return!1}}},n.addTo=function(t,i){return t.plus(i,this)},n.between=function(t,i){return t.until(i,this)},n.toString=function(){return this._name},n.compareTo=function(t){return this.duration().compareTo(t.duration())},i}(pr);
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var br=function(){function t(){}var i=t.prototype;return i.isDateBased=function(){fr("isDateBased")},i.isTimeBased=function(){fr("isTimeBased")},i.baseUnit=function(){fr("baseUnit")},i.rangeUnit=function(){fr("rangeUnit")},i.range=function(){fr("range")},i.rangeRefinedBy=function(t){fr("rangeRefinedBy")},i.getFrom=function(t){fr("getFrom")},i.adjustInto=function(t,i){fr("adjustInto")},i.isSupportedBy=function(t){fr("isSupportedBy")},i.displayName=function(){fr("displayName")},i.equals=function(t){fr("equals")},i.name=function(){fr("name")},t}(),yr=function(){function t(t,i,n,e){ur(!(t>i),"Smallest minimum value '"+t+"' must be less than largest minimum value '"+i+"'",er),ur(!(n>e),"Smallest maximum value '"+n+"' must be less than largest maximum value '"+e+"'",er),ur(!(i>e),"Minimum value '"+i+"' must be less than maximum value '"+e+"'",er),this._minSmallest=t,this._minLargest=i,this._maxLargest=e,this._maxSmallest=n}var i=t.prototype;return i.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},i.minimum=function(){return this._minSmallest},i.largestMinimum=function(){return this._minLargest},i.maximum=function(){return this._maxLargest},i.smallestMaximum=function(){return this._maxSmallest},i.isValidValue=function(t){return this.minimum()<=t&&t<=this.maximum()},i.checkValidValue=function(t,i){return this.isValidValue(t)?t:ur(!1,null!=i?"Invalid value for "+i+" (valid values "+this.toString()+"): "+t:"Invalid value (valid values "+this.toString()+"): "+t,Xe)},i.checkValidIntValue=function(t,i){if(!1===this.isValidIntValue(t))throw new Xe("Invalid int value for "+i+": "+t);return t},i.isValidIntValue=function(t){return this.isIntValue()&&this.isValidValue(t)},i.isIntValue=function(){return this.minimum()>=lr.MIN_SAFE_INTEGER&&this.maximum()<=lr.MAX_SAFE_INTEGER},i.equals=function(i){return i===this||i instanceof t&&(this._minSmallest===i._minSmallest&&this._minLargest===i._minLargest&&this._maxSmallest===i._maxSmallest&&this._maxLargest===i._maxLargest)},i.hashCode=function(){return lr.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},i.toString=function(){var t=this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"");return t+=" - ",t+=this.smallestMaximum()+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():"")},t.of=function(){return 2===arguments.length?new t(arguments[0],arguments[0],arguments[1],arguments[1]):3===arguments.length?new t(arguments[0],arguments[0],arguments[1],arguments[2]):4===arguments.length?new t(arguments[0],arguments[1],arguments[2],arguments[3]):ur(!1,"Invalid number of arguments "+arguments.length,er)},t}(),Ar=function(t){function i(i,n,e,r){var s;return(s=t.call(this)||this)._name=i,s._baseUnit=n,s._rangeUnit=e,s._range=r,s}or(i,t),i.byName=function(t){for(var n in i)if(i[n]&&i[n]instanceof i&&i[n].name()===t)return i[n]};var n=i.prototype;return n.name=function(){return this._name},n.baseUnit=function(){return this._baseUnit},n.rangeUnit=function(){return this._rangeUnit},n.range=function(){return this._range},n.displayName=function(){return this.toString()},n.checkValidValue=function(t){return this.range().checkValidValue(t,this)},n.checkValidIntValue=function(t){return this.range().checkValidIntValue(t,this)},n.isDateBased=function(){return this===i.DAY_OF_WEEK||this===i.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===i.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===i.DAY_OF_MONTH||this===i.DAY_OF_YEAR||this===i.EPOCH_DAY||this===i.ALIGNED_WEEK_OF_MONTH||this===i.ALIGNED_WEEK_OF_YEAR||this===i.MONTH_OF_YEAR||this===i.YEAR_OF_ERA||this===i.YEAR||this===i.ERA},n.isTimeBased=function(){return this===i.NANO_OF_SECOND||this===i.NANO_OF_DAY||this===i.MICRO_OF_SECOND||this===i.MICRO_OF_DAY||this===i.MILLI_OF_SECOND||this===i.MILLI_OF_DAY||this===i.SECOND_OF_MINUTE||this===i.SECOND_OF_DAY||this===i.MINUTE_OF_HOUR||this===i.MINUTE_OF_DAY||this===i.HOUR_OF_AMPM||this===i.CLOCK_HOUR_OF_AMPM||this===i.HOUR_OF_DAY||this===i.CLOCK_HOUR_OF_DAY||this===i.AMPM_OF_DAY},n.rangeRefinedBy=function(t){return t.range(this)},n.getFrom=function(t){return t.getLong(this)},n.toString=function(){return this.name()},n.equals=function(t){return this===t},n.adjustInto=function(t,i){return t.with(this,i)},n.isSupportedBy=function(t){return t.isSupported(this)},i}(br);
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var xr=function(){function t(){}return t.zoneId=function(){return t.ZONE_ID},t.chronology=function(){return t.CHRONO},t.precision=function(){return t.PRECISION},t.zone=function(){return t.ZONE},t.offset=function(){return t.OFFSET},t.localDate=function(){return t.LOCAL_DATE},t.localTime=function(){return t.LOCAL_TIME},t}(),_r=function(){function t(){}var i=t.prototype;return i.query=function(t){return t===xr.zoneId()||t===xr.chronology()||t===xr.precision()?null:t.queryFrom(this)},i.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},i.range=function(t){if(t instanceof Ar){if(this.isSupported(t))return t.range();throw new ir("Unsupported field: "+t)}return t.rangeRefinedBy(this)},t}(),kr=function(t){function i(){return t.apply(this,arguments)||this}return or(i,t),i.prototype.queryFrom=function(t){fr("queryFrom")},i}(dr);
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function Sr(t,i){var n=function(t){function i(){return t.apply(this,arguments)||this}return or(i,t),i}(kr);return n.prototype.queryFrom=i,new n(t)}var Mr,Ir=function(t){function i(i,n){var e;return(e=t.call(this)||this)._ordinal=i,e._name=n,e}or(i,t);var n=i.prototype;return n.ordinal=function(){return this._ordinal},n.name=function(){return this._name},i.values=function(){return Mr.slice()},i.valueOf=function(t){for(var n=0;n<Mr.length&&Mr[n].name()!==t;n++);return i.of(n+1)},i.of=function(t){if(t<1||t>7)throw new Xe("Invalid value for DayOfWeek: "+t);return Mr[t-1]},i.from=function(t){if(ur(null!=t,"temporal",sr),t instanceof i)return t;try{return i.of(t.get(Ar.DAY_OF_WEEK))}catch(i){throw i instanceof Xe?new Xe("Unable to obtain DayOfWeek from TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""),i):i}},n.value=function(){return this._ordinal+1},n.displayName=function(t,i){throw new er("Pattern using (localized) text not implemented yet!")},n.isSupported=function(t){return t instanceof Ar?t===Ar.DAY_OF_WEEK:null!=t&&t.isSupportedBy(this)},n.range=function(t){if(t===Ar.DAY_OF_WEEK)return t.range();if(t instanceof Ar)throw new ir("Unsupported field: "+t);return t.rangeRefinedBy(this)},n.get=function(t){return t===Ar.DAY_OF_WEEK?this.value():this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(t===Ar.DAY_OF_WEEK)return this.value();if(t instanceof Ar)throw new ir("Unsupported field: "+t);return t.getFrom(this)},n.plus=function(t){var i=lr.floorMod(t,7);return Mr[lr.floorMod(this._ordinal+(i+7),7)]},n.minus=function(t){return this.plus(-1*lr.floorMod(t,7))},n.query=function(t){return t===xr.precision()?gr.DAYS:t===xr.localDate()||t===xr.localTime()||t===xr.chronology()||t===xr.zone()||t===xr.zoneId()||t===xr.offset()?null:(ur(null!=t,"query",sr),t.queryFrom(this))},n.adjustInto=function(t){return ar(t,"temporal"),t.with(Ar.DAY_OF_WEEK,this.value())},n.equals=function(t){return this===t},n.toString=function(){return this._name},n.compareTo=function(t){return ar(t,"other"),cr(t,i,"other"),this._ordinal-t._ordinal},n.toJSON=function(){return this.toString()},i}(_r);var Er,Tr=function(t){function i(i,n){var e;return(e=t.call(this)||this)._value=lr.safeToInt(i),e._name=n,e}or(i,t);var n=i.prototype;return n.value=function(){return this._value},n.ordinal=function(){return this._value-1},n.name=function(){return this._name},n.displayName=function(t,i){throw new er("Pattern using (localized) text not implemented yet!")},n.isSupported=function(t){return null!==t&&(t instanceof Ar?t===Ar.MONTH_OF_YEAR:null!=t&&t.isSupportedBy(this))},n.get=function(t){return t===Ar.MONTH_OF_YEAR?this.value():this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(t===Ar.MONTH_OF_YEAR)return this.value();if(t instanceof Ar)throw new ir("Unsupported field: "+t);return t.getFrom(this)},n.plus=function(t){var n=lr.intMod(t,12)+12,e=lr.intMod(this.value()+n,12);return e=0===e?12:e,i.of(e)},n.minus=function(t){return this.plus(-1*lr.intMod(t,12))},n.length=function(t){switch(this){case i.FEBRUARY:return t?29:28;case i.APRIL:case i.JUNE:case i.SEPTEMBER:case i.NOVEMBER:return 30;default:return 31}},n.minLength=function(){switch(this){case i.FEBRUARY:return 28;case i.APRIL:case i.JUNE:case i.SEPTEMBER:case i.NOVEMBER:return 30;default:return 31}},n.maxLength=function(){switch(this){case i.FEBRUARY:return 29;case i.APRIL:case i.JUNE:case i.SEPTEMBER:case i.NOVEMBER:return 30;default:return 31}},n.firstDayOfYear=function(t){var n=t?1:0;switch(this){case i.JANUARY:return 1;case i.FEBRUARY:return 32;case i.MARCH:return 60+n;case i.APRIL:return 91+n;case i.MAY:return 121+n;case i.JUNE:return 152+n;case i.JULY:return 182+n;case i.AUGUST:return 213+n;case i.SEPTEMBER:return 244+n;case i.OCTOBER:return 274+n;case i.NOVEMBER:return 305+n;case i.DECEMBER:default:return 335+n}},n.firstMonthOfQuarter=function(){switch(this){case i.JANUARY:case i.FEBRUARY:case i.MARCH:return i.JANUARY;case i.APRIL:case i.MAY:case i.JUNE:return i.APRIL;case i.JULY:case i.AUGUST:case i.SEPTEMBER:return i.JULY;case i.OCTOBER:case i.NOVEMBER:case i.DECEMBER:default:return i.OCTOBER}},n.query=function(i){return ur(null!=i,"query() parameter must not be null",Xe),i===xr.chronology()?Hs.INSTANCE:i===xr.precision()?gr.MONTHS:t.prototype.query.call(this,i)},n.toString=function(){switch(this){case i.JANUARY:return"JANUARY";case i.FEBRUARY:return"FEBRUARY";case i.MARCH:return"MARCH";case i.APRIL:return"APRIL";case i.MAY:return"MAY";case i.JUNE:return"JUNE";case i.JULY:return"JULY";case i.AUGUST:return"AUGUST";case i.SEPTEMBER:return"SEPTEMBER";case i.OCTOBER:return"OCTOBER";case i.NOVEMBER:return"NOVEMBER";case i.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},n.toJSON=function(){return this.toString()},n.adjustInto=function(t){return t.with(Ar.MONTH_OF_YEAR,this.value())},n.compareTo=function(t){return ar(t,"other"),cr(t,i,"other"),this._value-t._value},n.equals=function(t){return this===t},i.valueOf=function(t){for(var n=0;n<Er.length&&Er[n].name()!==t;n++);return i.of(n+1)},i.values=function(){return Er.slice()},i.of=function(t){return(t<1||t>12)&&ur(!1,"Invalid value for MonthOfYear: "+t,Xe),Er[t-1]},i.from=function(t){if(t instanceof i)return t;try{return i.of(t.get(Ar.MONTH_OF_YEAR))}catch(i){throw new Xe("Unable to obtain Month from TemporalAccessor: "+t+" of type "+(t&&null!=t.constructor?t.constructor.name:""),i)}},i}(_r);var Cr=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,Or=function(t){function i(n,e,r){var s;s=t.call(this)||this;var o=lr.safeToInt(n),h=lr.safeToInt(e),u=lr.safeToInt(r);return 0===o&&0===h&&0===u?(i.ZERO||(s._years=o,s._months=h,s._days=u,i.ZERO=hr(s)),i.ZERO||hr(s)):(s._years=o,s._months=h,s._days=u,s)}or(i,t),i.ofYears=function(t){return i.create(t,0,0)},i.ofMonths=function(t){return i.create(0,t,0)},i.ofWeeks=function(t){return i.create(0,0,lr.safeMultiply(t,7))},i.ofDays=function(t){return i.create(0,0,t)},i.of=function(t,n,e){return i.create(t,n,e)},i.from=function(t){if(t instanceof i)return t;ar(t,"amount");for(var n=0,e=0,r=0,s=t.units(),o=0;o<s.length;o++){var h=s[o],u=t.get(h);if(h===gr.YEARS)n=lr.safeToInt(u);else if(h===gr.MONTHS)e=lr.safeToInt(u);else{if(h!==gr.DAYS)throw new Xe("Unit must be Years, Months or Days, but was "+h);r=lr.safeToInt(u)}}return i.create(n,e,r)},i.between=function(t,i){return ar(t,"startDate"),ar(i,"endDate"),cr(t,Zs,"startDate"),cr(i,Zs,"endDate"),t.until(i)},i.parse=function(t){ar(t,"text");try{return i._parse(t)}catch(i){throw i instanceof nr?new tr("Text cannot be parsed to a Period",t,0,i):i}},i._parse=function(t){var n=Cr.exec(t);if(null!=n){var e="-"===n[1]?-1:1,r=n[2],s=n[3],o=n[4],h=n[5];if(null!=r||null!=s||null!=o||null!=h){var u=i._parseNumber(t,r,e),a=i._parseNumber(t,s,e),c=i._parseNumber(t,o,e),f=i._parseNumber(t,h,e);return f=lr.safeAdd(f,lr.safeMultiply(c,7)),i.create(u,a,f)}}throw new tr("Text cannot be parsed to a Period",t,0)},i._parseNumber=function(t,i,n){if(null==i)return 0;var e=lr.parseInt(i);return lr.safeMultiply(e,n)},i.create=function(t,n,e){return new i(t,n,e)};var n=i.prototype;return n.units=function(){return[gr.YEARS,gr.MONTHS,gr.DAYS]},n.chronology=function(){return Hs.INSTANCE},n.get=function(t){if(t===gr.YEARS)return this._years;if(t===gr.MONTHS)return this._months;if(t===gr.DAYS)return this._days;throw new ir("Unsupported unit: "+t)},n.isZero=function(){return this===i.ZERO},n.isNegative=function(){return this._years<0||this._months<0||this._days<0},n.years=function(){return this._years},n.months=function(){return this._months},n.days=function(){return this._days},n.withYears=function(t){return t===this._years?this:i.create(t,this._months,this._days)},n.withMonths=function(t){return t===this._months?this:i.create(this._years,t,this._days)},n.withDays=function(t){return t===this._days?this:i.create(this._years,this._months,t)},n.plus=function(t){var n=i.from(t);return i.create(lr.safeAdd(this._years,n._years),lr.safeAdd(this._months,n._months),lr.safeAdd(this._days,n._days))},n.plusYears=function(t){return 0===t?this:i.create(lr.safeToInt(lr.safeAdd(this._years,t)),this._months,this._days)},n.plusMonths=function(t){return 0===t?this:i.create(this._years,lr.safeToInt(lr.safeAdd(this._months,t)),this._days)},n.plusDays=function(t){return 0===t?this:i.create(this._years,this._months,lr.safeToInt(lr.safeAdd(this._days,t)))},n.minus=function(t){var n=i.from(t);return i.create(lr.safeSubtract(this._years,n._years),lr.safeSubtract(this._months,n._months),lr.safeSubtract(this._days,n._days))},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.multipliedBy=function(t){return this===i.ZERO||1===t?this:i.create(lr.safeMultiply(this._years,t),lr.safeMultiply(this._months,t),lr.safeMultiply(this._days,t))},n.negated=function(){return this.multipliedBy(-1)},n.normalized=function(){var t=this.toTotalMonths(),n=lr.intDiv(t,12),e=lr.intMod(t,12);return n===this._years&&e===this._months?this:i.create(lr.safeToInt(n),e,this._days)},n.toTotalMonths=function(){return 12*this._years+this._months},n.addTo=function(t){return ar(t,"temporal"),0!==this._years?t=0!==this._months?t.plus(this.toTotalMonths(),gr.MONTHS):t.plus(this._years,gr.YEARS):0!==this._months&&(t=t.plus(this._months,gr.MONTHS)),0!==this._days&&(t=t.plus(this._days,gr.DAYS)),t},n.subtractFrom=function(t){return ar(t,"temporal"),0!==this._years?t=0!==this._months?t.minus(this.toTotalMonths(),gr.MONTHS):t.minus(this._years,gr.YEARS):0!==this._months&&(t=t.minus(this._months,gr.MONTHS)),0!==this._days&&(t=t.minus(this._days,gr.DAYS)),t},n.equals=function(t){if(this===t)return!0;if(t instanceof i){var n=t;return this._years===n._years&&this._months===n._months&&this._days===n._days}return!1},n.hashCode=function(){return lr.hashCode(this._years,this._months,this._days)},n.toString=function(){if(this===i.ZERO)return"P0D";var t="P";return 0!==this._years&&(t+=this._years+"Y"),0!==this._months&&(t+=this._months+"M"),0!==this._days&&(t+=this._days+"D"),t},n.toJSON=function(){return this.toString()},i}(vr);
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var Dr=function(){function t(t){this._index=t,this._errorIndex=-1}var i=t.prototype;return i.getIndex=function(){return this._index},i.setIndex=function(t){this._index=t},i.getErrorIndex=function(){return this._errorIndex},i.setErrorIndex=function(t){this._errorIndex=t},t}(),Nr=function(){function t(){this._map={}}var i=t.prototype;return i.putAll=function(t){for(var i in t._map)this._map[i]=t._map[i];return this},i.containsKey=function(t){return this._map.hasOwnProperty(t.name())&&void 0!==this.get(t)},i.get=function(t){return this._map[t.name()]},i.put=function(t,i){return this.set(t,i)},i.set=function(t,i){return this._map[t.name()]=i,this},i.retainAll=function(t){for(var i={},n=0;n<t.length;n++){var e=t[n].name();i[e]=this._map[e]}return this._map=i,this},i.remove=function(t){var i=t.name(),n=this._map[i];return this._map[i]=void 0,n},i.keySet=function(){return this._map},i.clear=function(){this._map={}},t}(),Lr=function(t){function i(){return t.apply(this,arguments)||this}return or(i,t),i}(dr);
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */Lr.STRICT=new Lr("STRICT"),Lr.SMART=new Lr("SMART"),Lr.LENIENT=new Lr("LENIENT");
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var Rr=function(){function t(){}return t.prototype.adjustInto=function(t){fr("adjustInto")},t}(),jr=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.isSupported=function(t){fr("isSupported")},n.minus=function(t,i){return arguments.length<2?this.minusAmount(t):this.minusAmountUnit(t,i)},n.minusAmount=function(t){fr("minusAmount")},n.minusAmountUnit=function(t,i){fr("minusAmountUnit")},n.plus=function(t,i){return arguments.length<2?this.plusAmount(t):this.plusAmountUnit(t,i)},n.plusAmount=function(t){fr("plusAmount")},n.plusAmountUnit=function(t,i){fr("plusAmountUnit")},n.until=function(t,i){fr("until")},n.with=function(t,i){return arguments.length<2?this.withAdjuster(t):this.withFieldValue(t,i)},n.withAdjuster=function(t){fr("withAdjuster")},n.withFieldValue=function(t,i){fr("withFieldValue")},i}(_r),Ur=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.withAdjuster=function(t){return ar(t,"adjuster"),cr(t,Rr,"adjuster"),t.adjustInto(this)},n.plusAmount=function(t){return ar(t,"amount"),cr(t,vr,"amount"),t.addTo(this)},n.minusAmount=function(t){return ar(t,"amount"),cr(t,vr,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return ar(t,"amountToSubtract"),ar(i,"unit"),cr(i,pr,"unit"),-9007199254740991===t?this.plusAmountUnit(9007199254740991,i).plusAmountUnit(1,i):this.plusAmount(-t,i)},i}(jr),Pr=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.isSupported=function(t){return t instanceof Ar||t instanceof gr?t.isDateBased():null!=t&&t.isSupportedBy(this)},n.query=function(i){return i===xr.chronology()?this.chronology():i===xr.precision()?gr.DAYS:i===xr.localDate()?Zs.ofEpochDay(this.toEpochDay()):i===xr.localTime()||i===xr.zone()||i===xr.zoneId()||i===xr.offset()?null:t.prototype.query.call(this,i)},n.adjustInto=function(t){return t.with(Ar.EPOCH_DAY,this.toEpochDay())},n.format=function(t){return ar(t,"formatter"),cr(t,Ns,"formatter"),t.format(this)},i}(Ur),Fr=function(){function t(){}return t.startsWith=function(t,i){return 0===t.indexOf(i)},t.hashCode=function(t){var i=t.length;if(0===i)return 0;for(var n=0,e=0;e<i;e++){n=(n<<5)-n+t.charCodeAt(e),n|=0}return lr.smi(n)},t}(),zr=function(){function t(){}t.systemDefault=function(){throw new Xe("not supported operation")},t.getAvailableZoneIds=function(){throw new Xe("not supported operation")},t.of=function(t){throw new Xe("not supported operation"+t)},t.ofOffset=function(t,i){throw new Xe("not supported operation"+t+i)},t.from=function(t){throw new Xe("not supported operation"+t)};var i=t.prototype;return i.id=function(){fr("ZoneId.id")},i.rules=function(){fr("ZoneId.rules")},i.normalized=function(){var t=this.rules();return t.isFixedOffset()?t.offset(Qs.EPOCH):this},i.equals=function(i){return this===i||i instanceof t&&this.id()===i.id()},i.hashCode=function(){return Fr.hashCode(this.id())},i.toString=function(){return this.id()},i.toJSON=function(){return this.toString()},t}(),Br=function(){function t(){}t.of=function(t){return ar(t,"offset"),new Vr(t)};var i=t.prototype;return i.isFixedOffset=function(){fr("ZoneRules.isFixedOffset")},i.offset=function(t){return t instanceof Qs?this.offsetOfInstant(t):this.offsetOfLocalDateTime(t)},i.offsetOfInstant=function(t){fr("ZoneRules.offsetInstant")},i.offsetOfEpochMilli=function(t){fr("ZoneRules.offsetOfEpochMilli")},i.offsetOfLocalDateTime=function(t){fr("ZoneRules.offsetLocalDateTime")},i.validOffsets=function(t){fr("ZoneRules.validOffsets")},i.transition=function(t){fr("ZoneRules.transition")},i.standardOffset=function(t){fr("ZoneRules.standardOffset")},i.daylightSavings=function(t){fr("ZoneRules.daylightSavings")},i.isDaylightSavings=function(t){fr("ZoneRules.isDaylightSavings")},i.isValidOffset=function(t,i){fr("ZoneRules.isValidOffset")},i.nextTransition=function(t){fr("ZoneRules.nextTransition")},i.previousTransition=function(t){fr("ZoneRules.previousTransition")},i.transitions=function(){fr("ZoneRules.transitions")},i.transitionRules=function(){fr("ZoneRules.transitionRules")},i.toString=function(){fr("ZoneRules.toString")},i.toJSON=function(){return this.toString()},t}(),Vr=function(t){function i(i){var n;return(n=t.call(this)||this)._offset=i,n}or(i,t);var n=i.prototype;return n.isFixedOffset=function(){return!0},n.offsetOfInstant=function(){return this._offset},n.offsetOfEpochMilli=function(){return this._offset},n.offsetOfLocalDateTime=function(){return this._offset},n.validOffsets=function(){return[this._offset]},n.transition=function(){return null},n.standardOffset=function(){return this._offset},n.daylightSavings=function(){return mr.ZERO},n.isDaylightSavings=function(){return!1},n.isValidOffset=function(t,i){return this._offset.equals(i)},n.nextTransition=function(){return null},n.previousTransition=function(){return null},n.transitions=function(){return[]},n.transitionRules=function(){return[]},n.equals=function(t){return this===t||t instanceof i&&this._offset.equals(t._offset)},n.toString=function(){return"FixedRules:"+this._offset.toString()},i}(Br),$r={},Hr={},Wr=function(t){function i(n){var e;return e=t.call(this)||this,i._validateTotalSeconds(n),e._totalSeconds=lr.safeToInt(n),e._rules=Br.of(hr(e)),e._id=i._buildId(n),e}or(i,t);var n=i.prototype;return n.totalSeconds=function(){return this._totalSeconds},n.id=function(){return this._id},i._buildId=function(t){if(0===t)return"Z";var i=Math.abs(t),n=lr.intDiv(i,qs.SECONDS_PER_HOUR),e=lr.intMod(lr.intDiv(i,qs.SECONDS_PER_MINUTE),qs.MINUTES_PER_HOUR),r=(t<0?"-":"+")+(n<10?"0":"")+n+(e<10?":0":":")+e,s=lr.intMod(i,qs.SECONDS_PER_MINUTE);return 0!==s&&(r+=(s<10?":0":":")+s),r},i._validateTotalSeconds=function(t){if(Math.abs(t)>i.MAX_SECONDS)throw new Xe("Zone offset not in valid range: -18:00 to +18:00")},i._validate=function(t,i,n){if(t<-18||t>18)throw new Xe("Zone offset hours not in valid range: value "+t+" is not in the range -18 to 18");if(t>0){if(i<0||n<0)throw new Xe("Zone offset minutes and seconds must be positive because hours is positive")}else if(t<0){if(i>0||n>0)throw new Xe("Zone offset minutes and seconds must be negative because hours is negative")}else if(i>0&&n<0||i<0&&n>0)throw new Xe("Zone offset minutes and seconds must have the same sign");if(Math.abs(i)>59)throw new Xe("Zone offset minutes not in valid range: abs(value) "+Math.abs(i)+" is not in the range 0 to 59");if(Math.abs(n)>59)throw new Xe("Zone offset seconds not in valid range: abs(value) "+Math.abs(n)+" is not in the range 0 to 59");if(18===Math.abs(t)&&(Math.abs(i)>0||Math.abs(n)>0))throw new Xe("Zone offset not in valid range: -18:00 to +18:00")},i.of=function(t){ar(t,"offsetId");var n,e,r,s=Hr[t];if(null!=s)return s;switch(t.length){case 2:t=t[0]+"0"+t[1];case 3:n=i._parseNumber(t,1,!1),e=0,r=0;break;case 5:n=i._parseNumber(t,1,!1),e=i._parseNumber(t,3,!1),r=0;break;case 6:n=i._parseNumber(t,1,!1),e=i._parseNumber(t,4,!0),r=0;break;case 7:n=i._parseNumber(t,1,!1),e=i._parseNumber(t,3,!1),r=i._parseNumber(t,5,!1);break;case 9:n=i._parseNumber(t,1,!1),e=i._parseNumber(t,4,!0),r=i._parseNumber(t,7,!0);break;default:throw new Xe("Invalid ID for ZoneOffset, invalid format: "+t)}var o=t[0];if("+"!==o&&"-"!==o)throw new Xe("Invalid ID for ZoneOffset, plus/minus not found when expected: "+t);return"-"===o?i.ofHoursMinutesSeconds(-n,-e,-r):i.ofHoursMinutesSeconds(n,e,r)},i._parseNumber=function(t,i,n){if(n&&":"!==t[i-1])throw new Xe("Invalid ID for ZoneOffset, colon not found when expected: "+t);var e=t[i],r=t[i+1];if(e<"0"||e>"9"||r<"0"||r>"9")throw new Xe("Invalid ID for ZoneOffset, non numeric characters found: "+t);return 10*(e.charCodeAt(0)-48)+(r.charCodeAt(0)-48)},i.ofHours=function(t){return i.ofHoursMinutesSeconds(t,0,0)},i.ofHoursMinutes=function(t,n){return i.ofHoursMinutesSeconds(t,n,0)},i.ofHoursMinutesSeconds=function(t,n,e){i._validate(t,n,e);var r=t*qs.SECONDS_PER_HOUR+n*qs.SECONDS_PER_MINUTE+e;return i.ofTotalSeconds(r)},i.ofTotalMinutes=function(t){var n=t*qs.SECONDS_PER_MINUTE;return i.ofTotalSeconds(n)},i.ofTotalSeconds=function(t){if(t%(15*qs.SECONDS_PER_MINUTE)==0){var n=t,e=$r[n];return null==e&&(e=new i(t),$r[n]=e,Hr[e.id()]=e),e}return new i(t)},n.rules=function(){return this._rules},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t===Ar.OFFSET_SECONDS)return this._totalSeconds;if(t instanceof Ar)throw new Xe("Unsupported field: "+t);return t.getFrom(this)},n.query=function(t){return ar(t,"query"),t===xr.offset()||t===xr.zone()?this:t===xr.localDate()||t===xr.localTime()||t===xr.precision()||t===xr.chronology()||t===xr.zoneId()?null:t.queryFrom(this)},n.adjustInto=function(t){return t.with(Ar.OFFSET_SECONDS,this._totalSeconds)},n.compareTo=function(t){return ar(t,"other"),t._totalSeconds-this._totalSeconds},n.equals=function(t){return this===t||t instanceof i&&this._totalSeconds===t._totalSeconds},n.hashCode=function(){return this._totalSeconds},n.toString=function(){return this._id},i}(zr);var Kr=function(t){function i(){var i;return(i=t.call(this)||this).fieldValues=new Nr,i.chrono=null,i.zone=null,i.date=null,i.time=null,i.leapSecond=!1,i.excessDays=null,i}or(i,t),i.create=function(t,n){var e=new i;return e._addFieldValue(t,n),e};var n=i.prototype;return n.getFieldValue0=function(t){return this.fieldValues.get(t)},n._addFieldValue=function(t,i){ar(t,"field");var n=this.getFieldValue0(t);if(null!=n&&n!==i)throw new Xe("Conflict found: "+t+" "+n+" differs from "+t+" "+i+": "+this);return this._putFieldValue0(t,i)},n._putFieldValue0=function(t,i){return this.fieldValues.put(t,i),this},n.resolve=function(t,i){return null!=i&&this.fieldValues.retainAll(i),this._mergeDate(t),this._mergeTime(t),this._resolveTimeInferZeroes(t),null!=this.excessDays&&!1===this.excessDays.isZero()&&null!=this.date&&null!=this.time&&(this.date=this.date.plus(this.excessDays),this.excessDays=Or.ZERO),this._resolveInstant(),this},n._mergeDate=function(t){this._checkDate(Hs.INSTANCE.resolveDate(this.fieldValues,t))},n._checkDate=function(t){if(null!=t)for(var i in this._addObject(t),this.fieldValues.keySet()){var n=Ar.byName(i);if(n&&void 0!==this.fieldValues.get(n)&&n.isDateBased()){var e=void 0;try{e=t.getLong(n)}catch(t){if(t instanceof Xe)continue;throw t}var r=this.fieldValues.get(n);if(e!==r)throw new Xe("Conflict found: Field "+n+" "+e+" differs from "+n+" "+r+" derived from "+t)}}},n._mergeTime=function(t){if(this.fieldValues.containsKey(Ar.CLOCK_HOUR_OF_DAY)){var i=this.fieldValues.remove(Ar.CLOCK_HOUR_OF_DAY);t!==Lr.LENIENT&&(t===Lr.SMART&&0===i||Ar.CLOCK_HOUR_OF_DAY.checkValidValue(i)),this._addFieldValue(Ar.HOUR_OF_DAY,24===i?0:i)}if(this.fieldValues.containsKey(Ar.CLOCK_HOUR_OF_AMPM)){var n=this.fieldValues.remove(Ar.CLOCK_HOUR_OF_AMPM);t!==Lr.LENIENT&&(t===Lr.SMART&&0===n||Ar.CLOCK_HOUR_OF_AMPM.checkValidValue(n)),this._addFieldValue(Ar.HOUR_OF_AMPM,12===n?0:n)}if(t!==Lr.LENIENT&&(this.fieldValues.containsKey(Ar.AMPM_OF_DAY)&&Ar.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(Ar.AMPM_OF_DAY)),this.fieldValues.containsKey(Ar.HOUR_OF_AMPM)&&Ar.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(Ar.HOUR_OF_AMPM))),this.fieldValues.containsKey(Ar.AMPM_OF_DAY)&&this.fieldValues.containsKey(Ar.HOUR_OF_AMPM)){var e=this.fieldValues.remove(Ar.AMPM_OF_DAY),r=this.fieldValues.remove(Ar.HOUR_OF_AMPM);this._addFieldValue(Ar.HOUR_OF_DAY,12*e+r)}if(this.fieldValues.containsKey(Ar.NANO_OF_DAY)){var s=this.fieldValues.remove(Ar.NANO_OF_DAY);t!==Lr.LENIENT&&Ar.NANO_OF_DAY.checkValidValue(s),this._addFieldValue(Ar.SECOND_OF_DAY,lr.intDiv(s,1e9)),this._addFieldValue(Ar.NANO_OF_SECOND,lr.intMod(s,1e9))}if(this.fieldValues.containsKey(Ar.MICRO_OF_DAY)){var o=this.fieldValues.remove(Ar.MICRO_OF_DAY);t!==Lr.LENIENT&&Ar.MICRO_OF_DAY.checkValidValue(o),this._addFieldValue(Ar.SECOND_OF_DAY,lr.intDiv(o,1e6)),this._addFieldValue(Ar.MICRO_OF_SECOND,lr.intMod(o,1e6))}if(this.fieldValues.containsKey(Ar.MILLI_OF_DAY)){var h=this.fieldValues.remove(Ar.MILLI_OF_DAY);t!==Lr.LENIENT&&Ar.MILLI_OF_DAY.checkValidValue(h),this._addFieldValue(Ar.SECOND_OF_DAY,lr.intDiv(h,1e3)),this._addFieldValue(Ar.MILLI_OF_SECOND,lr.intMod(h,1e3))}if(this.fieldValues.containsKey(Ar.SECOND_OF_DAY)){var u=this.fieldValues.remove(Ar.SECOND_OF_DAY);t!==Lr.LENIENT&&Ar.SECOND_OF_DAY.checkValidValue(u),this._addFieldValue(Ar.HOUR_OF_DAY,lr.intDiv(u,3600)),this._addFieldValue(Ar.MINUTE_OF_HOUR,lr.intMod(lr.intDiv(u,60),60)),this._addFieldValue(Ar.SECOND_OF_MINUTE,lr.intMod(u,60))}if(this.fieldValues.containsKey(Ar.MINUTE_OF_DAY)){var a=this.fieldValues.remove(Ar.MINUTE_OF_DAY);t!==Lr.LENIENT&&Ar.MINUTE_OF_DAY.checkValidValue(a),this._addFieldValue(Ar.HOUR_OF_DAY,lr.intDiv(a,60)),this._addFieldValue(Ar.MINUTE_OF_HOUR,lr.intMod(a,60))}if(t!==Lr.LENIENT&&(this.fieldValues.containsKey(Ar.MILLI_OF_SECOND)&&Ar.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(Ar.MILLI_OF_SECOND)),this.fieldValues.containsKey(Ar.MICRO_OF_SECOND)&&Ar.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(Ar.MICRO_OF_SECOND))),this.fieldValues.containsKey(Ar.MILLI_OF_SECOND)&&this.fieldValues.containsKey(Ar.MICRO_OF_SECOND)){var c=this.fieldValues.remove(Ar.MILLI_OF_SECOND),f=this.fieldValues.get(Ar.MICRO_OF_SECOND);this._putFieldValue0(Ar.MICRO_OF_SECOND,1e3*c+lr.intMod(f,1e3))}if(this.fieldValues.containsKey(Ar.MICRO_OF_SECOND)&&this.fieldValues.containsKey(Ar.NANO_OF_SECOND)){var l=this.fieldValues.get(Ar.NANO_OF_SECOND);this._putFieldValue0(Ar.MICRO_OF_SECOND,lr.intDiv(l,1e3)),this.fieldValues.remove(Ar.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(Ar.MILLI_OF_SECOND)&&this.fieldValues.containsKey(Ar.NANO_OF_SECOND)){var d=this.fieldValues.get(Ar.NANO_OF_SECOND);this._putFieldValue0(Ar.MILLI_OF_SECOND,lr.intDiv(d,1e6)),this.fieldValues.remove(Ar.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(Ar.MICRO_OF_SECOND)){var v=this.fieldValues.remove(Ar.MICRO_OF_SECOND);this._putFieldValue0(Ar.NANO_OF_SECOND,1e3*v)}else if(this.fieldValues.containsKey(Ar.MILLI_OF_SECOND)){var p=this.fieldValues.remove(Ar.MILLI_OF_SECOND);this._putFieldValue0(Ar.NANO_OF_SECOND,1e6*p)}},n._resolveTimeInferZeroes=function(t){var i=this.fieldValues.get(Ar.HOUR_OF_DAY),n=this.fieldValues.get(Ar.MINUTE_OF_HOUR),e=this.fieldValues.get(Ar.SECOND_OF_MINUTE),r=this.fieldValues.get(Ar.NANO_OF_SECOND);if(null!=i&&(null!=n||null==e&&null==r)&&(null==n||null!=e||null==r)){if(t!==Lr.LENIENT){if(null!=i){t!==Lr.SMART||24!==i||null!=n&&0!==n||null!=e&&0!==e||null!=r&&0!==r||(i=0,this.excessDays=Or.ofDays(1));var s=Ar.HOUR_OF_DAY.checkValidIntValue(i);if(null!=n){var o=Ar.MINUTE_OF_HOUR.checkValidIntValue(n);if(null!=e){var h=Ar.SECOND_OF_MINUTE.checkValidIntValue(e);if(null!=r){var u=Ar.NANO_OF_SECOND.checkValidIntValue(r);this._addObject(qs.of(s,o,h,u))}else this._addObject(qs.of(s,o,h))}else null==r&&this._addObject(qs.of(s,o))}else null==e&&null==r&&this._addObject(qs.of(s,0))}}else if(null!=i){var a=i;if(null!=n)if(null!=e){null==r&&(r=0);var c=lr.safeMultiply(a,36e11);c=lr.safeAdd(c,lr.safeMultiply(n,6e10)),c=lr.safeAdd(c,lr.safeMultiply(e,1e9)),c=lr.safeAdd(c,r);var f=lr.floorDiv(c,864e11),l=lr.floorMod(c,864e11);this._addObject(qs.ofNanoOfDay(l)),this.excessDays=Or.ofDays(f)}else{var d=lr.safeMultiply(a,3600);d=lr.safeAdd(d,lr.safeMultiply(n,60));var v=lr.floorDiv(d,86400),p=lr.floorMod(d,86400);this._addObject(qs.ofSecondOfDay(p)),this.excessDays=Or.ofDays(v)}else{var m=lr.safeToInt(lr.floorDiv(a,24));a=lr.floorMod(a,24),this._addObject(qs.of(a,0)),this.excessDays=Or.ofDays(m)}}this.fieldValues.remove(Ar.HOUR_OF_DAY),this.fieldValues.remove(Ar.MINUTE_OF_HOUR),this.fieldValues.remove(Ar.SECOND_OF_MINUTE),this.fieldValues.remove(Ar.NANO_OF_SECOND)}},n._addObject=function(t){t instanceof Pr?this.date=t:t instanceof qs&&(this.time=t)},n._resolveInstant=function(){if(null!=this.date&&null!=this.time){var t=this.fieldValues.get(Ar.OFFSET_SECONDS);if(null!=t){var i=Wr.ofTotalSeconds(t),n=this.date.atTime(this.time).atZone(i).getLong(Ar.INSTANT_SECONDS);this.fieldValues.put(Ar.INSTANT_SECONDS,n)}else if(null!=this.zone){var e=this.date.atTime(this.time).atZone(this.zone).getLong(Ar.INSTANT_SECONDS);this.fieldValues.put(Ar.INSTANT_SECONDS,e)}}},n.build=function(t){return t.queryFrom(this)},n.isSupported=function(t){return null!=t&&(this.fieldValues.containsKey(t)&&void 0!==this.fieldValues.get(t)||null!=this.date&&this.date.isSupported(t)||null!=this.time&&this.time.isSupported(t))},n.getLong=function(t){ar(t,"field");var i=this.getFieldValue0(t);if(null==i){if(null!=this.date&&this.date.isSupported(t))return this.date.getLong(t);if(null!=this.time&&this.time.isSupported(t))return this.time.getLong(t);throw new Xe("Field not found: "+t)}return i},n.query=function(t){return t===xr.zoneId()?this.zone:t===xr.chronology()?this.chrono:t===xr.localDate()?null!=this.date?Zs.from(this.date):null:t===xr.localTime()?this.time:t===xr.zone()||t===xr.offset()?t.queryFrom(this):t===xr.precision()?null:t.queryFrom(this)},i}(_r),Gr=function(){function t(){if(1===arguments.length){if(arguments[0]instanceof t)return void this._constructorSelf.apply(this,arguments);this._constructorFormatter.apply(this,arguments)}else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new Zr(this)]}var i=t.prototype;return i._constructorParam=function(t,i,n){this._locale=t,this._symbols=i,this._overrideChronology=n},i._constructorFormatter=function(t){this._locale=t.locale(),this._symbols=t.decimalStyle(),this._overrideChronology=t.chronology()},i._constructorSelf=function(t){this._locale=t._locale,this._symbols=t._symbols,this._overrideChronology=t._overrideChronology,this._overrideZone=t._overrideZone,this._caseSensitive=t._caseSensitive,this._strict=t._strict,this._parsed=[new Zr(this)]},i.copy=function(){return new t(this)},i.symbols=function(){return this._symbols},i.isStrict=function(){return this._strict},i.setStrict=function(t){this._strict=t},i.locale=function(){return this._locale},i.setLocale=function(t){this._locale=t},i.startOptional=function(){this._parsed.push(this.currentParsed().copy())},i.endOptional=function(t){t?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},i.isCaseSensitive=function(){return this._caseSensitive},i.setCaseSensitive=function(t){this._caseSensitive=t},i.subSequenceEquals=function(t,i,n,e,r){if(i+r>t.length||e+r>n.length)return!1;this.isCaseSensitive()||(t=t.toLowerCase(),n=n.toLowerCase());for(var s=0;s<r;s++){if(t[i+s]!==n[e+s])return!1}return!0},i.charEquals=function(t,i){return this.isCaseSensitive()?t===i:this.charEqualsIgnoreCase(t,i)},i.charEqualsIgnoreCase=function(t,i){return t===i||t.toLowerCase()===i.toLowerCase()},i.setParsedField=function(t,i,n,e){var r=this.currentParsed().fieldValues,s=r.get(t);return r.set(t,i),null!=s&&s!==i?~n:e},i.setParsedZone=function(t){ar(t,"zone"),this.currentParsed().zone=t},i.getParsed=function(t){return this.currentParsed().fieldValues.get(t)},i.toParsed=function(){return this.currentParsed()},i.currentParsed=function(){return this._parsed[this._parsed.length-1]},i.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},i.getEffectiveChronology=function(){var t=this.currentParsed().chrono;return null==t&&null==(t=this._overrideChronology)&&(t=Hs.INSTANCE),t},t}(),Zr=function(t){function i(i){var n;return(n=t.call(this)||this).chrono=null,n.zone=null,n.fieldValues=new Nr,n.leapSecond=!1,n.dateTimeParseContext=i,n}or(i,t);var n=i.prototype;return n.copy=function(){var t=new i;return t.chrono=this.chrono,t.zone=this.zone,t.fieldValues.putAll(this.fieldValues),t.leapSecond=this.leapSecond,t.dateTimeParseContext=this.dateTimeParseContext,t},n.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},n.isSupported=function(t){return this.fieldValues.containsKey(t)},n.get=function(t){var i=this.fieldValues.get(t);return ur(null!=i),i},n.query=function(i){return i===xr.chronology()?this.chrono:i===xr.zoneId()||i===xr.zone()?this.zone:t.prototype.query.call(this,i)},n.toBuilder=function(){var t=new Kr;return t.fieldValues.putAll(this.fieldValues),t.chrono=this.dateTimeParseContext.getEffectiveChronology(),null!=this.zone?t.zone=this.zone:t.zone=this.overrideZone,t.leapSecond=this.leapSecond,t.excessDays=this.excessDays,t},i}(jr),Yr=function(){function t(i,n,e){2===arguments.length&&arguments[1]instanceof Ns?(this._temporal=t.adjust(i,n),this._locale=n.locale(),this._symbols=n.decimalStyle()):(this._temporal=i,this._locale=n,this._symbols=e),this._optional=0}t.adjust=function(t,i){return t};var i=t.prototype;return i.symbols=function(){return this._symbols},i.startOptional=function(){this._optional++},i.endOptional=function(){this._optional--},i.getValueQuery=function(t){var i=this._temporal.query(t);if(null==i&&0===this._optional)throw new Xe("Unable to extract value: "+this._temporal);return i},i.getValue=function(t){try{return this._temporal.getLong(t)}catch(t){if(t instanceof Xe&&this._optional>0)return null;throw t}},i.temporal=function(){return this._temporal},i.locale=function(){return this._locale},i.setDateTime=function(t){this._temporal=t},i.setLocale=function(t){this._locale=t},t}(),qr={},Qr=[0,90,181,273,0,91,182,274],Jr=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n._isIso=function(){return!0},i._getWeekRangeByLocalDate=function(t){var n=i._getWeekBasedYear(t);return yr.of(1,i._getWeekRangeByYear(n))},i._getWeekRangeByYear=function(t){var i=Zs.of(t,1,1);return i.dayOfWeek()===Ir.THURSDAY||i.dayOfWeek()===Ir.WEDNESDAY&&i.isLeapYear()?53:52},i._getWeek=function(t){var n=t.dayOfWeek().ordinal(),e=t.dayOfYear()-1,r=e+(3-n),s=r-7*lr.intDiv(r,7)-3;if(s<-3&&(s+=7),e<s)return i._getWeekRangeByLocalDate(t.withDayOfYear(180).minusYears(1)).maximum();var o=lr.intDiv(e-s,7)+1;return 53===o&&!1===(-3===s||-2===s&&t.isLeapYear())&&(o=1),o},i._getWeekBasedYear=function(t){var i=t.year(),n=t.dayOfYear();if(n<=3)n-t.dayOfWeek().ordinal()<-2&&i--;else if(n>=363){var e=t.dayOfWeek().ordinal();(n=n-363-(t.isLeapYear()?1:0))-e>=0&&i++}return i},n.displayName=function(){return this.toString()},n.resolve=function(){return null},n.name=function(){return this.toString()},i}(br),Xr=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.toString=function(){return"DayOfQuarter"},n.baseUnit=function(){return gr.DAYS},n.rangeUnit=function(){return as},n.range=function(){return yr.of(1,90,92)},n.isSupportedBy=function(t){return t.isSupported(Ar.DAY_OF_YEAR)&&t.isSupported(Ar.MONTH_OF_YEAR)&&t.isSupported(Ar.YEAR)&&this._isIso(t)},n.rangeRefinedBy=function(t){if(!1===t.isSupported(this))throw new ir("Unsupported field: DayOfQuarter");var i=t.getLong(ss);if(1===i){var n=t.getLong(Ar.YEAR);return Hs.isLeapYear(n)?yr.of(1,91):yr.of(1,90)}return 2===i?yr.of(1,91):3===i||4===i?yr.of(1,92):this.range()},n.getFrom=function(t){if(!1===t.isSupported(this))throw new ir("Unsupported field: DayOfQuarter");var i=t.get(Ar.DAY_OF_YEAR),n=t.get(Ar.MONTH_OF_YEAR),e=t.getLong(Ar.YEAR);return i-Qr[lr.intDiv(n-1,3)+(Hs.isLeapYear(e)?4:0)]},n.adjustInto=function(t,i){var n=this.getFrom(t);return this.range().checkValidValue(i,this),t.with(Ar.DAY_OF_YEAR,t.getLong(Ar.DAY_OF_YEAR)+(i-n))},n.resolve=function(t,i,n){var e=t.get(Ar.YEAR),r=t.get(ss);if(null==e||null==r)return null;var s,o=Ar.YEAR.checkValidIntValue(e),h=t.get(rs);if(n===Lr.LENIENT){var u=r;s=(s=(s=Zs.of(o,1,1)).plusMonths(lr.safeMultiply(lr.safeSubtract(u,1),3))).plusDays(lr.safeSubtract(h,1))}else{var a=ss.range().checkValidIntValue(r,ss);if(n===Lr.STRICT){var c=92;1===a?c=Hs.isLeapYear(o)?91:90:2===a&&(c=91),yr.of(1,c).checkValidValue(h,this)}else this.range().checkValidValue(h,this);s=Zs.of(o,3*(a-1)+1,1).plusDays(h-1)}return t.remove(this),t.remove(Ar.YEAR),t.remove(ss),s},i}(Jr),ts=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.toString=function(){return"QuarterOfYear"},n.baseUnit=function(){return as},n.rangeUnit=function(){return gr.YEARS},n.range=function(){return yr.of(1,4)},n.isSupportedBy=function(t){return t.isSupported(Ar.MONTH_OF_YEAR)&&this._isIso(t)},n.rangeRefinedBy=function(t){return this.range()},n.getFrom=function(t){if(!1===t.isSupported(this))throw new ir("Unsupported field: QuarterOfYear");var i=t.getLong(Ar.MONTH_OF_YEAR);return lr.intDiv(i+2,3)},n.adjustInto=function(t,i){var n=this.getFrom(t);return this.range().checkValidValue(i,this),t.with(Ar.MONTH_OF_YEAR,t.getLong(Ar.MONTH_OF_YEAR)+3*(i-n))},i}(Jr),is=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.toString=function(){return"WeekOfWeekBasedYear"},n.baseUnit=function(){return gr.WEEKS},n.rangeUnit=function(){return us},n.range=function(){return yr.of(1,52,53)},n.isSupportedBy=function(t){return t.isSupported(Ar.EPOCH_DAY)&&this._isIso(t)},n.rangeRefinedBy=function(t){if(!1===t.isSupported(this))throw new ir("Unsupported field: WeekOfWeekBasedYear");return Jr._getWeekRangeByLocalDate(Zs.from(t))},n.getFrom=function(t){if(!1===t.isSupported(this))throw new ir("Unsupported field: WeekOfWeekBasedYear");return Jr._getWeek(Zs.from(t))},n.adjustInto=function(t,i){return this.range().checkValidValue(i,this),t.plus(lr.safeSubtract(i,this.getFrom(t)),gr.WEEKS)},n.resolve=function(t,i,n){var e=t.get(hs),r=t.get(Ar.DAY_OF_WEEK);if(null==e||null==r)return null;var s,o=hs.range().checkValidIntValue(e,hs),h=t.get(os);if(n===Lr.LENIENT){var u=r,a=0;u>7?(a=lr.intDiv(u-1,7),u=lr.intMod(u-1,7)+1):u<1&&(a=lr.intDiv(u,7)-1,u=lr.intMod(u,7)+7),s=Zs.of(o,1,4).plusWeeks(h-1).plusWeeks(a).with(Ar.DAY_OF_WEEK,u)}else{var c=Ar.DAY_OF_WEEK.checkValidIntValue(r);if(n===Lr.STRICT){var f=Zs.of(o,1,4);Jr._getWeekRangeByLocalDate(f).checkValidValue(h,this)}else this.range().checkValidValue(h,this);s=Zs.of(o,1,4).plusWeeks(h-1).with(Ar.DAY_OF_WEEK,c)}return t.remove(this),t.remove(hs),t.remove(Ar.DAY_OF_WEEK),s},n.displayName=function(){return"Week"},i}(Jr),ns=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.toString=function(){return"WeekBasedYear"},n.baseUnit=function(){return us},n.rangeUnit=function(){return gr.FOREVER},n.range=function(){return Ar.YEAR.range()},n.isSupportedBy=function(t){return t.isSupported(Ar.EPOCH_DAY)&&this._isIso(t)},n.rangeRefinedBy=function(t){return Ar.YEAR.range()},n.getFrom=function(t){if(!1===t.isSupported(this))throw new ir("Unsupported field: WeekBasedYear");return Jr._getWeekBasedYear(Zs.from(t))},n.adjustInto=function(t,i){if(!1===this.isSupportedBy(t))throw new ir("Unsupported field: WeekBasedYear");var n=this.range().checkValidIntValue(i,hs),e=Zs.from(t),r=e.get(Ar.DAY_OF_WEEK),s=Jr._getWeek(e);53===s&&52===Jr._getWeekRangeByYear(n)&&(s=52);var o=Zs.of(n,1,4),h=r-o.get(Ar.DAY_OF_WEEK)+7*(s-1);return o=o.plusDays(h),t.with(o)},i}(Jr),es=function(t){function i(i,n){var e;return(e=t.call(this)||this)._name=i,e._duration=n,e}or(i,t);var n=i.prototype;return n.duration=function(){return this._duration},n.isDurationEstimated=function(){return!0},n.isDateBased=function(){return!0},n.isTimeBased=function(){return!1},n.isSupportedBy=function(t){return t.isSupported(Ar.EPOCH_DAY)},n.addTo=function(t,i){switch(this){case us:var n=lr.safeAdd(t.get(hs),i);return t.with(hs,n);case as:return t.plus(lr.intDiv(i,256),gr.YEARS).plus(3*lr.intMod(i,256),gr.MONTHS);default:throw new rr("Unreachable")}},n.between=function(t,i){switch(this){case us:return lr.safeSubtract(i.getLong(hs),t.getLong(hs));case as:return lr.intDiv(t.until(i,gr.MONTHS),3);default:throw new rr("Unreachable")}},n.toString=function(){return name},i}(pr),rs=null,ss=null,os=null,hs=null,us=null,as=null;
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var cs=function(){function t(t,i,n,e){this._zeroDigit=t,this._zeroDigitCharCode=t.charCodeAt(0),this._positiveSign=i,this._negativeSign=n,this._decimalSeparator=e}var i=t.prototype;return i.positiveSign=function(){return this._positiveSign},i.withPositiveSign=function(i){return i===this._positiveSign?this:new t(this._zeroDigit,i,this._negativeSign,this._decimalSeparator)},i.negativeSign=function(){return this._negativeSign},i.withNegativeSign=function(i){return i===this._negativeSign?this:new t(this._zeroDigit,this._positiveSign,i,this._decimalSeparator)},i.zeroDigit=function(){return this._zeroDigit},i.withZeroDigit=function(i){return i===this._zeroDigit?this:new t(i,this._positiveSign,this._negativeSign,this._decimalSeparator)},i.decimalSeparator=function(){return this._decimalSeparator},i.withDecimalSeparator=function(i){return i===this._decimalSeparator?this:new t(this._zeroDigit,this._positiveSign,this._negativeSign,i)},i.convertToDigit=function(t){var i=t.charCodeAt(0)-this._zeroDigitCharCode;return i>=0&&i<=9?i:-1},i.convertNumberToI18N=function(t){if("0"===this._zeroDigit)return t;for(var i=this._zeroDigitCharCode-"0".charCodeAt(0),n="",e=0;e<t.length;e++)n+=String.fromCharCode(t.charCodeAt(e)+i);return n},i.equals=function(i){return this===i||i instanceof t&&(this._zeroDigit===i._zeroDigit&&this._positiveSign===i._positiveSign&&this._negativeSign===i._negativeSign&&this._decimalSeparator===i._decimalSeparator)},i.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},i.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},t.of=function(){throw new Error("not yet supported")},t.availableLocales=function(){throw new Error("not yet supported")},t}();cs.STANDARD=new cs("0","+","-",".");var fs=function(t){function i(){return t.apply(this,arguments)||this}return or(i,t),i.prototype.parse=function(t,n,e){switch(this){case i.NORMAL:return!t||!n;case i.ALWAYS:case i.EXCEEDS_PAD:return!0;default:return!n&&!e}},i}(dr);fs.NORMAL=new fs("NORMAL"),fs.NEVER=new fs("NEVER"),fs.ALWAYS=new fs("ALWAYS"),fs.EXCEEDS_PAD=new fs("EXCEEDS_PAD"),fs.NOT_NEGATIVE=new fs("NOT_NEGATIVE");var ls=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.isStandalone=function(){switch(this){case i.FULL_STANDALONE:case i.SHORT_STANDALONE:case i.NARROW_STANDALONE:return!0;default:return!1}},n.asStandalone=function(){switch(this){case i.FULL:return i.FULL_STANDALONE;case i.SHORT:return i.SHORT_STANDALONE;case i.NARROW:return i.NARROW_STANDALONE;default:return this}},n.asNormal=function(){switch(this){case i.FULL_STANDALONE:return i.FULL;case i.SHORT_STANDALONE:return i.SHORT;case i.NARROW_STANDALONE:return i.NARROW;default:return this}},i}(dr);ls.FULL=new ls("FULL"),ls.FULL_STANDALONE=new ls("FULL_STANDALONE"),ls.SHORT=new ls("SHORT"),ls.SHORT_STANDALONE=new ls("SHORT_STANDALONE"),ls.NARROW=new ls("NARROW"),ls.NARROW_STANDALONE=new ls("NARROW_STANDALONE");
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var ds=function(){function t(t){if(t.length>1)throw new er('invalid literal, too long: "'+t+'"');this._literal=t}var i=t.prototype;return i.print=function(t,i){return i.append(this._literal),!0},i.parse=function(t,i,n){if(n===i.length)return~n;var e=i.charAt(n);return!1===t.charEquals(this._literal,e)?~n:n+this._literal.length},i.toString=function(){return"'"===this._literal?"''":"'"+this._literal+"'"},t}(),vs=function(){function t(t,i){this._printerParsers=t,this._optional=i}var i=t.prototype;return i.withOptional=function(i){return i===this._optional?this:new t(this._printerParsers,i)},i.print=function(t,i){var n=i.length();this._optional&&t.startOptional();try{for(var e=0;e<this._printerParsers.length;e++){if(!1===this._printerParsers[e].print(t,i))return i.setLength(n),!0}}finally{this._optional&&t.endOptional()}return!0},i.parse=function(t,i,n){if(this._optional){t.startOptional();for(var e=n,r=0;r<this._printerParsers.length;r++){if((e=this._printerParsers[r].parse(t,i,e))<0)return t.endOptional(!1),n}return t.endOptional(!0),e}for(var s=0;s<this._printerParsers.length;s++){if((n=this._printerParsers[s].parse(t,i,n))<0)break}return n},i.toString=function(){var t="";if(null!=this._printerParsers){t+=this._optional?"[":"(";for(var i=0;i<this._printerParsers.length;i++){t+=this._printerParsers[i].toString()}t+=this._optional?"]":")"}return t},t}(),ps=function(){function t(t,i,n,e){if(ar(t,"field"),!1===t.range().isFixed())throw new er("Field must have a fixed set of values: "+t);if(i<0||i>9)throw new er("Minimum width must be from 0 to 9 inclusive but was "+i);if(n<1||n>9)throw new er("Maximum width must be from 1 to 9 inclusive but was "+n);if(n<i)throw new er("Maximum width must exceed or equal the minimum width but "+n+" < "+i);this.field=t,this.minWidth=i,this.maxWidth=n,this.decimalPoint=e}var i=t.prototype;return i.print=function(t,i){var n=t.getValue(this.field);if(null===n)return!1;var e=t.symbols();if(0===n){if(this.minWidth>0){this.decimalPoint&&i.append(e.decimalSeparator());for(var r=0;r<this.minWidth;r++)i.append(e.zeroDigit())}}else{var s=this.convertToFraction(n,e.zeroDigit()),o=Math.min(Math.max(s.length,this.minWidth),this.maxWidth);if(1*(s=s.substr(0,o))>0)for(;s.length>this.minWidth&&"0"===s[s.length-1];)s=s.substr(0,s.length-1);var h=s;h=e.convertNumberToI18N(h),this.decimalPoint&&i.append(e.decimalSeparator()),i.append(h)}return!0},i.parse=function(t,i,n){var e=t.isStrict()?this.minWidth:0,r=t.isStrict()?this.maxWidth:9,s=i.length;if(n===s)return e>0?~n:n;if(this.decimalPoint){if(i[n]!==t.symbols().decimalSeparator())return e>0?~n:n;n++}var o=n+e;if(o>s)return~n;for(var h=Math.min(n+r,s),u=0,a=n;a<h;){var c=i.charAt(a++),f=t.symbols().convertToDigit(c);if(f<0){if(a<o)return~n;a--;break}u=10*u+f}var l=a-n,d=Math.pow(10,l),v=this.convertFromFraction(u,d);return t.setParsedField(this.field,v,n,a)},i.convertToFraction=function(t,i){var n=this.field.range();n.checkValidValue(t,this.field);for(var e=n.minimum(),r=n.maximum()-e+1,s=t-e,o=""+lr.intDiv(1e9*s,r);o.length<9;)o=i+o;return o},i.convertFromFraction=function(t,i){var n=this.field.range(),e=n.minimum(),r=n.maximum()-e+1;return lr.intDiv(t*r,i)},i.toString=function(){var t=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+t+")"},t}(),ms=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],ws=function(){function t(t,i,n,e,r){void 0===r&&(r=0),this._field=t,this._minWidth=i,this._maxWidth=n,this._signStyle=e,this._subsequentWidth=r}var i=t.prototype;return i.field=function(){return this._field},i.minWidth=function(){return this._minWidth},i.maxWidth=function(){return this._maxWidth},i.signStyle=function(){return this._signStyle},i.withFixedWidth=function(){return-1===this._subsequentWidth?this:new t(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},i.withSubsequentWidth=function(i){return new t(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+i)},i._isFixedWidth=function(){return-1===this._subsequentWidth||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===fs.NOT_NEGATIVE},i.print=function(t,i){var n=t.getValue(this._field);if(null==n)return!1;var e=this._getValue(t,n),r=t.symbols(),s=""+Math.abs(e);if(s.length>this._maxWidth)throw new Xe("Field "+this._field+" cannot be printed as the value "+e+" exceeds the maximum print width of "+this._maxWidth);if(s=r.convertNumberToI18N(s),e>=0)switch(this._signStyle){case fs.EXCEEDS_PAD:this._minWidth<15&&e>=ms[this._minWidth]&&i.append(r.positiveSign());break;case fs.ALWAYS:i.append(r.positiveSign())}else switch(this._signStyle){case fs.NORMAL:case fs.EXCEEDS_PAD:case fs.ALWAYS:i.append(r.negativeSign());break;case fs.NOT_NEGATIVE:throw new Xe("Field "+this._field+" cannot be printed as the value "+e+" cannot be negative according to the SignStyle")}for(var o=0;o<this._minWidth-s.length;o++)i.append(r.zeroDigit());return i.append(s),!0},i.parse=function(t,i,n){var e=i.length;if(n===e)return~n;ur(n>=0&&n<e);var r=i.charAt(n),s=!1,o=!1;if(r===t.symbols().positiveSign()){if(!1===this._signStyle.parse(!0,t.isStrict(),this._minWidth===this._maxWidth))return~n;o=!0,n++}else if(r===t.symbols().negativeSign()){if(!1===this._signStyle.parse(!1,t.isStrict(),this._minWidth===this._maxWidth))return~n;s=!0,n++}else if(this._signStyle===fs.ALWAYS&&t.isStrict())return~n;var h=t.isStrict()||this._isFixedWidth()?this._minWidth:1,u=n+h;if(u>e)return~n;for(var a=(t.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),c=0,f=n,l=0;l<2;l++){for(var d=Math.min(f+a,e);f<d;){var v=i.charAt(f++),p=t.symbols().convertToDigit(v);if(p<0){if(--f<u)return~n;break}if(f-n>15)throw new nr("number text exceeds length");c=10*c+p}if(!(this._subsequentWidth>0&&0===l))break;var m=f-n;a=Math.max(h,m-this._subsequentWidth),f=n,c=0}if(s){if(0===c&&t.isStrict())return~(n-1);0!==c&&(c=-c)}else if(this._signStyle===fs.EXCEEDS_PAD&&t.isStrict()){var w=f-n;if(o){if(w<=this._minWidth)return~(n-1)}else if(w>this._minWidth)return~n}return this._setValue(t,c,n,f)},i._getValue=function(t,i){return i},i._setValue=function(t,i,n,e){return t.setParsedField(this._field,i,n,e)},i.toString=function(){return 1===this._minWidth&&15===this._maxWidth&&this._signStyle===fs.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===fs.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},t}(),gs=function(t){function i(i,n,e,r,s){var o;if(o=t.call(this,i,n,e,fs.NOT_NEGATIVE)||this,n<1||n>10)throw new er("The width must be from 1 to 10 inclusive but was "+n);if(e<1||e>10)throw new er("The maxWidth must be from 1 to 10 inclusive but was "+e);if(e<n)throw new er("The maxWidth must be greater than the width");if(null===s){if(!1===i.range().isValidValue(r))throw new er("The base value must be within the range of the field");if(r+ms[n]>lr.MAX_SAFE_INTEGER)throw new Xe("Unable to add printer-parser as the range exceeds the capacity of an int")}return o._baseValue=r,o._baseDate=s,o}or(i,t);var n=i.prototype;return n._getValue=function(t,i){var n=Math.abs(i),e=this._baseValue;null!==this._baseDate&&(t.temporal(),e=Hs.INSTANCE.date(this._baseDate).get(this._field));return i>=e&&i<e+ms[this._minWidth]?n%ms[this._minWidth]:n%ms[this._maxWidth]},n._setValue=function(t,i,n,e){var r=this._baseValue;null!=this._baseDate&&(r=t.getEffectiveChronology().date(this._baseDate).get(this._field));if(e-n===this._minWidth&&i>=0){var s=ms[this._minWidth],o=r-r%s;(i=r>0?o+i:o-i)<r&&(i+=s)}return t.setParsedField(this._field,i,n,e)},n.withFixedWidth=function(){return-1===this._subsequentWidth?this:new i(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,-1)},n.withSubsequentWidth=function(t){return new i(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+t)},n.isFixedWidth=function(i){return!1!==i.isStrict()&&t.prototype.isFixedWidth.call(this,i)},n.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(null!=this._baseDate?this._baseDate:this._baseValue)+")"},i}(ws),bs=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],ys=function(){function t(t,i){ar(t,"noOffsetText"),ar(i,"pattern"),this.noOffsetText=t,this.type=this._checkPattern(i)}var i=t.prototype;return i._checkPattern=function(t){for(var i=0;i<bs.length;i++)if(bs[i]===t)return i;throw new er("Invalid zone offset pattern: "+t)},i.print=function(t,i){var n=t.getValue(Ar.OFFSET_SECONDS);if(null==n)return!1;var e=lr.safeToInt(n);if(0===e)i.append(this.noOffsetText);else{var r=Math.abs(lr.intMod(lr.intDiv(e,3600),100)),s=Math.abs(lr.intMod(lr.intDiv(e,60),60)),o=Math.abs(lr.intMod(e,60)),h=i.length(),u=r;i.append(e<0?"-":"+").appendChar(lr.intDiv(r,10)+"0").appendChar(lr.intMod(r,10)+"0"),(this.type>=3||this.type>=1&&s>0)&&(i.append(this.type%2==0?":":"").appendChar(lr.intDiv(s,10)+"0").appendChar(s%10+"0"),u+=s,(this.type>=7||this.type>=5&&o>0)&&(i.append(this.type%2==0?":":"").appendChar(lr.intDiv(o,10)+"0").appendChar(o%10+"0"),u+=o)),0===u&&(i.setLength(h),i.append(this.noOffsetText))}return!0},i.parse=function(t,i,n){var e=i.length,r=this.noOffsetText.length;if(0===r){if(n===e)return t.setParsedField(Ar.OFFSET_SECONDS,0,n,n)}else{if(n===e)return~n;if(t.subSequenceEquals(i,n,this.noOffsetText,0,r))return t.setParsedField(Ar.OFFSET_SECONDS,0,n,n+r)}var s=i[n];if("+"===s||"-"===s){var o="-"===s?-1:1,h=[0,0,0,0];if(h[0]=n+1,!1===(this._parseNumber(h,1,i,!0)||this._parseNumber(h,2,i,this.type>=3)||this._parseNumber(h,3,i,!1))){var u=lr.safeZero(o*(3600*h[1]+60*h[2]+h[3]));return t.setParsedField(Ar.OFFSET_SECONDS,u,n,h[0])}}return 0===r?t.setParsedField(Ar.OFFSET_SECONDS,0,n,n+r):~n},i._parseNumber=function(t,i,n,e){if((this.type+3)/2<i)return!1;var r=t[0];if(this.type%2==0&&i>1){if(r+1>n.length||":"!==n[r])return e;r++}if(r+2>n.length)return e;var s=n[r++],o=n[r++];if(s<"0"||s>"9"||o<"0"||o>"9")return e;var h=10*(s.charCodeAt(0)-48)+(o.charCodeAt(0)-48);return h<0||h>59?e:(t[i]=h,t[0]=r,!1)},i.toString=function(){var t=this.noOffsetText.replace("'","''");return"Offset("+bs[this.type]+",'"+t+"')"},t}();
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */ys.INSTANCE_ID=new ys("Z","+HH:MM:ss"),ys.PATTERNS=bs;
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var As=function(){function t(t,i,n){this._printerParser=t,this._padWidth=i,this._padChar=n}var i=t.prototype;return i.print=function(t,i){var n=i.length();if(!1===this._printerParser.print(t,i))return!1;var e=i.length()-n;if(e>this._padWidth)throw new Xe("Cannot print as output of "+e+" characters exceeds pad width of "+this._padWidth);for(var r=0;r<this._padWidth-e;r++)i.insert(n,this._padChar);return!0},i.parse=function(t,i,n){var e=t.isStrict(),r=t.isCaseSensitive();if(ur(!(n>i.length)),ur(n>=0),n===i.length)return~n;var s=n+this._padWidth;if(s>i.length){if(e)return~n;s=i.length}for(var o=n;o<s&&(r?i[o]===this._padChar:t.charEquals(i[o],this._padChar));)o++;i=i.substring(0,s);var h=this._printerParser.parse(t,i,o);return h!==s&&e?~(n+o):h},i.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(" "===this._padChar?")":",'"+this._padChar+"')")},t}(),xs=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.print=function(){return!0},n.parse=function(t,n,e){switch(this){case i.SENSITIVE:t.setCaseSensitive(!0);break;case i.INSENSITIVE:t.setCaseSensitive(!1);break;case i.STRICT:t.setStrict(!0);break;case i.LENIENT:t.setStrict(!1)}return e},n.toString=function(){switch(this){case i.SENSITIVE:return"ParseCaseSensitive(true)";case i.INSENSITIVE:return"ParseCaseSensitive(false)";case i.STRICT:return"ParseStrict(true)";case i.LENIENT:return"ParseStrict(false)"}},i}(dr);xs.SENSITIVE=new xs("SENSITIVE"),xs.INSENSITIVE=new xs("INSENSITIVE"),xs.STRICT=new xs("STRICT"),xs.LENIENT=new xs("LENIENT");
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var _s=function(){function t(t){this._literal=t}var i=t.prototype;return i.print=function(t,i){return i.append(this._literal),!0},i.parse=function(t,i,n){return ur(!(n>i.length||n<0)),!1===t.subSequenceEquals(i,n,this._literal,0,this._literal.length)?~n:n+this._literal.length},i.toString=function(){return"'"+this._literal.replace("'","''")+"'"},t}(),ks=function(){function t(){}return t.getRules=function(t){throw new Xe("unsupported ZoneId:"+t)},t.getAvailableZoneIds=function(){return[]},t}(),Ss=function(t){function i(i,n){var e;return(e=t.call(this)||this)._id=i,e._rules=n,e}or(i,t),i.ofId=function(t){return new i(t,ks.getRules(t))};var n=i.prototype;return n.id=function(){return this._id},n.rules=function(){return this._rules},i}(zr),Ms=function(){function t(t,i){this.query=t,this.description=i}var i=t.prototype;return i.print=function(t,i){var n=t.getValueQuery(this.query);return null!=n&&(i.append(n.id()),!0)},i.parse=function(t,i,n){var e=i.length;if(n>e)return~n;if(n===e)return~n;var r=i.charAt(n);if("+"===r||"-"===r){var s=t.copy(),o=ys.INSTANCE_ID.parse(s,i,n);if(o<0)return o;var h=s.getParsed(Ar.OFFSET_SECONDS),u=Wr.ofTotalSeconds(h);return t.setParsedZone(u),o}if(e>=n+2){var a=i.charAt(n+1);if(t.charEquals(r,"U")&&t.charEquals(a,"T"))return e>=n+3&&t.charEquals(i.charAt(n+2),"C")?this._parsePrefixedOffset(t,i,n,n+3):this._parsePrefixedOffset(t,i,n,n+2);if(t.charEquals(r,"G")&&e>=n+3&&t.charEquals(a,"M")&&t.charEquals(i.charAt(n+2),"T"))return this._parsePrefixedOffset(t,i,n,n+3)}if("SYSTEM"===i.substr(n,6))return t.setParsedZone(zr.systemDefault()),n+6;if(t.charEquals(r,"Z"))return t.setParsedZone(Wr.UTC),n+1;var c=ks.getAvailableZoneIds();Ts.size!==c.length&&(Ts=Is.createTreeMap(c));for(var f=e-n,l=Ts.treeMap,d=null,v=0;null!=l;){var p=i.substr(n,Math.min(l.length,f));null!=(l=l.get(p))&&l.isLeaf&&(d=p,v=l.length)}return null!=d?(t.setParsedZone(Ss.ofId(d)),n+v):~n},i._parsePrefixedOffset=function(t,i,n,e){var r=i.substring(n,e).toUpperCase(),s=t.copy();if(e<i.length&&t.charEquals(i.charAt(e),"Z"))return t.setParsedZone(zr.ofOffset(r,Wr.UTC)),e;var o=ys.INSTANCE_ID.parse(s,i,e);if(o<0)return t.setParsedZone(zr.ofOffset(r,Wr.UTC)),e;var h=s.getParsed(Ar.OFFSET_SECONDS),u=Wr.ofTotalSeconds(h);return t.setParsedZone(zr.ofOffset(r,u)),o},i.toString=function(){return this.description},t}(),Is=function(){function t(t,i){this.size=t,this.treeMap=i}return t.createTreeMap=function(i){for(var n=i.sort((function(t,i){return t.length-i.length})),e=new Es(n[0].length,!1),r=0;r<n.length;r++)e.add(n[r]);return new t(n.length,e)},t}(),Es=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=!1),this.length=t,this.isLeaf=i,this._treeMap={}}var i=t.prototype;return i.add=function(i){var n=i.length;if(n===this.length)this._treeMap[i]=new t(n,!0);else if(n>this.length){var e=i.substr(0,this.length),r=this._treeMap[e];null==r&&(r=new t(n,!1),this._treeMap[e]=r),r.add(i)}},i.get=function(t){return this._treeMap[t]},t}(),Ts=new Is([]),Cs=function(){function t(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}t._of=function(i,n){ar(i,"parent"),ar(n,"optional");var e=new t;return e._parent=i,e._optional=n,e};var i=t.prototype;return i.parseCaseSensitive=function(){return this._appendInternalPrinterParser(xs.SENSITIVE),this},i.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(xs.INSENSITIVE),this},i.parseStrict=function(){return this._appendInternalPrinterParser(xs.STRICT),this},i.parseLenient=function(){return this._appendInternalPrinterParser(xs.LENIENT),this},i.appendValue=function(){return 1===arguments.length?this._appendValue1.apply(this,arguments):2===arguments.length?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},i._appendValue1=function(t){return ar(t),this._appendValuePrinterParser(new ws(t,1,15,fs.NORMAL)),this},i._appendValue2=function(t,i){if(ar(t),i<1||i>15)throw new er("The width must be from 1 to 15 inclusive but was "+i);var n=new ws(t,i,i,fs.NOT_NEGATIVE);return this._appendValuePrinterParser(n),this},i._appendValue4=function(t,i,n,e){if(ar(t),ar(e),i===n&&e===fs.NOT_NEGATIVE)return this._appendValue2(t,n);if(i<1||i>15)throw new er("The minimum width must be from 1 to 15 inclusive but was "+i);if(n<1||n>15)throw new er("The minimum width must be from 1 to 15 inclusive but was "+n);if(n<i)throw new er("The maximum width must exceed or equal the minimum width but "+n+" < "+i);var r=new ws(t,i,n,e);return this._appendValuePrinterParser(r),this},i.appendValueReduced=function(){return 4===arguments.length&&arguments[3]instanceof Pr?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},i._appendValueReducedFieldWidthMaxWidthBaseValue=function(t,i,n,e){ar(t,"field");var r=new gs(t,i,n,e,null);return this._appendValuePrinterParser(r),this},i._appendValueReducedFieldWidthMaxWidthBaseDate=function(t,i,n,e){ar(t,"field"),ar(e,"baseDate"),cr(e,Pr,"baseDate");var r=new gs(t,i,n,0,e);return this._appendValuePrinterParser(r),this},i._appendValuePrinterParser=function(t){if(ur(null!=t),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof ws){var i=this._active._valueParserIndex,n=this._active._printerParsers[i];t.minWidth()===t.maxWidth()&&t.signStyle()===fs.NOT_NEGATIVE?(n=n.withSubsequentWidth(t.maxWidth()),this._appendInternal(t.withFixedWidth()),this._active._valueParserIndex=i):(n=n.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(t)),this._active._printerParsers[i]=n}else this._active._valueParserIndex=this._appendInternal(t);return this},i.appendFraction=function(t,i,n,e){return this._appendInternal(new ps(t,i,n,e)),this},i.appendInstant=function(t){if(void 0===t&&(t=-2),t<-2||t>9)throw new er("Invalid fractional digits: "+t);return this._appendInternal(new Os(t)),this},i.appendOffsetId=function(){return this._appendInternal(ys.INSTANCE_ID),this},i.appendOffset=function(t,i){return this._appendInternalPrinterParser(new ys(i,t)),this},i.appendZoneId=function(){return this._appendInternal(new Ms(xr.zoneId(),"ZoneId()")),this},i.appendPattern=function(t){return ar(t,"pattern"),this._parsePattern(t),this},i.appendZoneText=function(){throw new er("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},i.appendText=function(){throw new er("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},i.appendLocalizedOffset=function(){throw new er("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},i.appendWeekField=function(){throw new er("Pattern using (localized) text not implemented, use js-joda-locale plugin!")},i._parsePattern=function(t){for(var i={G:Ar.ERA,y:Ar.YEAR_OF_ERA,u:Ar.YEAR,Q:qr.QUARTER_OF_YEAR,q:qr.QUARTER_OF_YEAR,M:Ar.MONTH_OF_YEAR,L:Ar.MONTH_OF_YEAR,D:Ar.DAY_OF_YEAR,d:Ar.DAY_OF_MONTH,F:Ar.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:Ar.DAY_OF_WEEK,c:Ar.DAY_OF_WEEK,e:Ar.DAY_OF_WEEK,a:Ar.AMPM_OF_DAY,H:Ar.HOUR_OF_DAY,k:Ar.CLOCK_HOUR_OF_DAY,K:Ar.HOUR_OF_AMPM,h:Ar.CLOCK_HOUR_OF_AMPM,m:Ar.MINUTE_OF_HOUR,s:Ar.SECOND_OF_MINUTE,S:Ar.NANO_OF_SECOND,A:Ar.MILLI_OF_DAY,n:Ar.NANO_OF_SECOND,N:Ar.NANO_OF_DAY},n=0;n<t.length;n++){var e=t.charAt(n);if(e>="A"&&e<="Z"||e>="a"&&e<="z"){for(var r=n++;n<t.length&&t.charAt(n)===e;n++);var s=n-r;if("p"===e){var o=0;if(n<t.length&&((e=t.charAt(n))>="A"&&e<="Z"||e>="a"&&e<="z")){for(o=s,r=n++;n<t.length&&t.charAt(n)===e;n++);s=n-r}if(0===o)throw new er("Pad letter 'p' must be followed by valid pad pattern: "+t);this.padNext(o)}var h=i[e];if(null!=h)this._parseField(e,s,h);else if("z"===e){if(s>4)throw new er("Too many pattern letters: "+e);4===s?this.appendZoneText(ls.FULL):this.appendZoneText(ls.SHORT)}else if("V"===e){if(2!==s)throw new er("Pattern letter count must be 2: "+e);this.appendZoneId()}else if("Z"===e)if(s<4)this.appendOffset("+HHMM","+0000");else if(4===s)this.appendLocalizedOffset(ls.FULL);else{if(5!==s)throw new er("Too many pattern letters: "+e);this.appendOffset("+HH:MM:ss","Z")}else if("O"===e)if(1===s)this.appendLocalizedOffset(ls.SHORT);else{if(4!==s)throw new er("Pattern letter count must be 1 or 4: "+e);this.appendLocalizedOffset(ls.FULL)}else if("X"===e){if(s>5)throw new er("Too many pattern letters: "+e);this.appendOffset(ys.PATTERNS[s+(1===s?0:1)],"Z")}else if("x"===e){if(s>5)throw new er("Too many pattern letters: "+e);var u=1===s?"+00":s%2==0?"+0000":"+00:00";this.appendOffset(ys.PATTERNS[s+(1===s?0:1)],u)}else if("W"===e){if(s>1)throw new er("Too many pattern letters: "+e);this.appendWeekField("W",s)}else if("w"===e){if(s>2)throw new er("Too many pattern letters: "+e);this.appendWeekField("w",s)}else{if("Y"!==e)throw new er("Unknown pattern letter: "+e);this.appendWeekField("Y",s)}n--}else if("'"===e){for(var a=n++;n<t.length;n++)if("'"===t.charAt(n)){if(!(n+1<t.length&&"'"===t.charAt(n+1)))break;n++}if(n>=t.length)throw new er("Pattern ends with an incomplete string literal: "+t);var c=t.substring(a+1,n);0===c.length?this.appendLiteral("'"):this.appendLiteral(c.replace("''","'"))}else if("["===e)this.optionalStart();else if("]"===e){if(null===this._active._parent)throw new er("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else{if("{"===e||"}"===e||"#"===e)throw new er("Pattern includes reserved character: '"+e+"'");this.appendLiteral(e)}}},i._parseField=function(t,i,n){switch(t){case"u":case"y":2===i?this.appendValueReduced(n,2,2,gs.BASE_DATE):i<4?this.appendValue(n,i,15,fs.NORMAL):this.appendValue(n,i,15,fs.EXCEEDS_PAD);break;case"M":case"Q":switch(i){case 1:this.appendValue(n);break;case 2:this.appendValue(n,2);break;case 3:this.appendText(n,ls.SHORT);break;case 4:this.appendText(n,ls.FULL);break;case 5:this.appendText(n,ls.NARROW);break;default:throw new er("Too many pattern letters: "+t)}break;case"L":case"q":switch(i){case 1:this.appendValue(n);break;case 2:this.appendValue(n,2);break;case 3:this.appendText(n,ls.SHORT_STANDALONE);break;case 4:this.appendText(n,ls.FULL_STANDALONE);break;case 5:this.appendText(n,ls.NARROW_STANDALONE);break;default:throw new er("Too many pattern letters: "+t)}break;case"e":switch(i){case 1:case 2:this.appendWeekField("e",i);break;case 3:this.appendText(n,ls.SHORT);break;case 4:this.appendText(n,ls.FULL);break;case 5:this.appendText(n,ls.NARROW);break;default:throw new er("Too many pattern letters: "+t)}break;case"c":switch(i){case 1:this.appendWeekField("c",i);break;case 2:throw new er("Invalid number of pattern letters: "+t);case 3:this.appendText(n,ls.SHORT_STANDALONE);break;case 4:this.appendText(n,ls.FULL_STANDALONE);break;case 5:this.appendText(n,ls.NARROW_STANDALONE);break;default:throw new er("Too many pattern letters: "+t)}break;case"a":if(1!==i)throw new er("Too many pattern letters: "+t);this.appendText(n,ls.SHORT);break;case"E":case"G":switch(i){case 1:case 2:case 3:this.appendText(n,ls.SHORT);break;case 4:this.appendText(n,ls.FULL);break;case 5:this.appendText(n,ls.NARROW);break;default:throw new er("Too many pattern letters: "+t)}break;case"S":this.appendFraction(Ar.NANO_OF_SECOND,i,i,!1);break;case"F":if(1!==i)throw new er("Too many pattern letters: "+t);this.appendValue(n);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(1===i)this.appendValue(n);else{if(2!==i)throw new er("Too many pattern letters: "+t);this.appendValue(n,i)}break;case"D":if(1===i)this.appendValue(n);else{if(!(i<=3))throw new er("Too many pattern letters: "+t);this.appendValue(n,i)}break;default:1===i?this.appendValue(n):this.appendValue(n,i)}},i.padNext=function(){return 1===arguments.length?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},i._padNext1=function(t){return this._padNext2(t," ")},i._padNext2=function(t,i){if(t<1)throw new er("The pad width must be at least one but was "+t);return this._active._padNextWidth=t,this._active._padNextChar=i,this._active._valueParserIndex=-1,this},i.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=t._of(this._active,!0),this},i.optionalEnd=function(){if(null==this._active._parent)throw new rr("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var t=new vs(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(t)}else this._active=this._active._parent;return this},i._appendInternal=function(t){return ur(null!=t),this._active._padNextWidth>0&&(null!=t&&(t=new As(t,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(t),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},i.appendLiteral=function(t){return ur(null!=t),t.length>0&&(1===t.length?this._appendInternalPrinterParser(new ds(t.charAt(0))):this._appendInternalPrinterParser(new _s(t))),this},i._appendInternalPrinterParser=function(t){return ur(null!=t),this._active._padNextWidth>0&&(null!=t&&(t=new As(t,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(t),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},i.append=function(t){return ar(t,"formatter"),this._appendInternal(t._toPrinterParser(!1)),this},i.toFormatter=function(t){for(void 0===t&&(t=Lr.SMART);null!=this._active._parent;)this.optionalEnd();var i=new vs(this._printerParsers,!1);return new Ns(i,null,cs.STANDARD,t,null,null,null)},t}(),Os=function(){function t(t){this.fractionalDigits=t}var i=t.prototype;return i.print=function(t,i){var n=t.getValue(Ar.INSTANT_SECONDS),e=0;if(t.temporal().isSupported(Ar.NANO_OF_SECOND)&&(e=t.temporal().getLong(Ar.NANO_OF_SECOND)),null==n)return!1;var r=n,s=Ar.NANO_OF_SECOND.checkValidIntValue(e);if(r>=-62167219200){var o=r-31556952e4+62167219200,h=lr.floorDiv(o,31556952e4)+1,u=lr.floorMod(o,31556952e4),a=Ys.ofEpochSecond(u-62167219200,0,Wr.UTC);h>0&&i.append("+").append(h),i.append(a),0===a.second()&&i.append(":00")}else{var c=r+62167219200,f=lr.intDiv(c,31556952e4),l=lr.intMod(c,31556952e4),d=Ys.ofEpochSecond(l-62167219200,0,Wr.UTC),v=i.length();i.append(d),0===d.second()&&i.append(":00"),f<0&&(-1e4===d.year()?i.replace(v,v+2,""+(f-1)):0===l?i.insert(v,f):i.insert(v+1,Math.abs(f)))}if(-2===this.fractionalDigits)0!==s&&(i.append("."),0===lr.intMod(s,1e6)?i.append((""+(lr.intDiv(s,1e6)+1e3)).substring(1)):0===lr.intMod(s,1e3)?i.append((""+(lr.intDiv(s,1e3)+1e6)).substring(1)):i.append((""+(s+1e9)).substring(1)));else if(this.fractionalDigits>0||-1===this.fractionalDigits&&s>0){i.append(".");for(var p=1e8,m=0;-1===this.fractionalDigits&&s>0||m<this.fractionalDigits;m++){var w=lr.intDiv(s,p);i.append(w),s-=w*p,p=lr.intDiv(p,10)}}return i.append("Z"),!0},i.parse=function(t,i,n){var e=t.copy(),r=this.fractionalDigits<0?0:this.fractionalDigits,s=this.fractionalDigits<0?9:this.fractionalDigits,o=(new Cs).append(Ns.ISO_LOCAL_DATE).appendLiteral("T").appendValue(Ar.HOUR_OF_DAY,2).appendLiteral(":").appendValue(Ar.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(Ar.SECOND_OF_MINUTE,2).appendFraction(Ar.NANO_OF_SECOND,r,s,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1).parse(e,i,n);if(o<0)return o;var h,u=e.getParsed(Ar.YEAR),a=e.getParsed(Ar.MONTH_OF_YEAR),c=e.getParsed(Ar.DAY_OF_MONTH),f=e.getParsed(Ar.HOUR_OF_DAY),l=e.getParsed(Ar.MINUTE_OF_HOUR),d=e.getParsed(Ar.SECOND_OF_MINUTE),v=e.getParsed(Ar.NANO_OF_SECOND),p=null!=d?d:0,m=null!=v?v:0,w=lr.intMod(u,1e4),g=0;24===f&&0===l&&0===p&&0===m?(f=0,g=1):23===f&&59===l&&60===p&&(t.setParsedLeapSecond(),p=59);try{h=Ys.of(w,a,c,f,l,p,0).plusDays(g).toEpochSecond(Wr.UTC),h+=lr.safeMultiply(lr.intDiv(u,1e4),31556952e4)}catch(t){return~n}var b=o;return b=t.setParsedField(Ar.INSTANT_SECONDS,h,n,b),t.setParsedField(Ar.NANO_OF_SECOND,m,n,b)},i.toString=function(){return"Instant()"},t}();
/*
 * @copyright (c) 2016, Philipp Thrwchter, Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var Ds=function(){function t(){this._str=""}var i=t.prototype;return i.append=function(t){return this._str+=t,this},i.appendChar=function(t){return this._str+=t[0],this},i.insert=function(t,i){return this._str=this._str.slice(0,t)+i+this._str.slice(t),this},i.replace=function(t,i,n){return this._str=this._str.slice(0,t)+n+this._str.slice(i),this},i.length=function(){return this._str.length},i.setLength=function(t){return this._str=this._str.slice(0,t),this},i.toString=function(){return this._str},t}(),Ns=function(){function t(t,i,n,e,r,s,o){void 0===s&&(s=Hs.INSTANCE),ur(null!=t),ur(null!=n),ur(null!=e),this._printerParser=t,this._locale=i,this._decimalStyle=n,this._resolverStyle=e,this._resolverFields=r,this._chrono=s,this._zone=o}t.parsedExcessDays=function(){return t.PARSED_EXCESS_DAYS},t.parsedLeapSecond=function(){return t.PARSED_LEAP_SECOND},t.ofPattern=function(t){return(new Cs).appendPattern(t).toFormatter()};var i=t.prototype;return i.locale=function(){return this._locale},i.decimalStyle=function(){return this._decimalStyle},i.chronology=function(){return this._chrono},i.withChronology=function(i){return null!=this._chrono&&this._chrono.equals(i)?this:new t(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,i,this._zone)},i.withLocale=function(){return this},i.withResolverStyle=function(i){return ar(i,"resolverStyle"),i.equals(this._resolverStyle)?this:new t(this._printerParser,this._locale,this._decimalStyle,i,this._resolverFields,this._chrono,this._zone)},i.format=function(t){var i=new Ds(32);return this._formatTo(t,i),i.toString()},i._formatTo=function(t,i){ar(t,"temporal"),ar(i,"appendable");var n=new Yr(t,this);this._printerParser.print(n,i)},i.parse=function(t,i){return 1===arguments.length?this.parse1(t):this.parse2(t,i)},i.parse1=function(t){ar(t,"text");try{return this._parseToBuilder(t,null).resolve(this._resolverStyle,this._resolverFields)}catch(i){throw i instanceof tr?i:this._createError(t,i)}},i.parse2=function(t,i){ar(t,"text"),ar(i,"type");try{return this._parseToBuilder(t,null).resolve(this._resolverStyle,this._resolverFields).build(i)}catch(i){throw i instanceof tr?i:this._createError(t,i)}},i._createError=function(t,i){var n="";return n=t.length>64?t.substring(0,64)+"...":t,new tr("Text '"+n+"' could not be parsed: "+i.message,t,0,i)},i._parseToBuilder=function(t,i){var n=null!=i?i:new Dr(0),e=this._parseUnresolved0(t,n);if(null==e||n.getErrorIndex()>=0||null==i&&n.getIndex()<t.length){var r="";throw r=t.length>64?t.substr(0,64).toString()+"...":t,n.getErrorIndex()>=0?new tr("Text '"+r+"' could not be parsed at index "+n.getErrorIndex(),t,n.getErrorIndex()):new tr("Text '"+r+"' could not be parsed, unparsed text found at index "+n.getIndex(),t,n.getIndex())}return e.toBuilder()},i.parseUnresolved=function(t,i){return this._parseUnresolved0(t,i)},i._parseUnresolved0=function(t,i){ur(null!=t,"text",sr),ur(null!=i,"position",sr);var n=new Gr(this),e=i.getIndex();return(e=this._printerParser.parse(n,t,e))<0?(i.setErrorIndex(~e),null):(i.setIndex(e),n.toParsed())},i._toPrinterParser=function(t){return this._printerParser.withOptional(t)},i.toString=function(){var t=this._printerParser.toString();return 0===t.indexOf("[")?t:t.substring(1,t.length-1)},t}();
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var Ls,Rs=function(t){function i(i,n){var e;return(e=t.call(this)||this)._month=lr.safeToInt(i),e._day=lr.safeToInt(n),e}or(i,t),i.now=function(t){return 0===arguments.length?i.now0():1===arguments.length&&t instanceof zr?i.nowZoneId(t):i.nowClock(t)},i.now0=function(){return this.nowClock(Js.systemDefaultZone())},i.nowZoneId=function(t){return ar(t,"zone"),this.nowClock(Js.system(t))},i.nowClock=function(t){ar(t,"clock");var n=Zs.now(t);return i.of(n.month(),n.dayOfMonth())},i.of=function(t,n){return 2===arguments.length&&t instanceof Tr?i.ofMonthNumber(t,n):i.ofNumberNumber(t,n)},i.ofMonthNumber=function(t,n){if(ar(t,"month"),Ar.DAY_OF_MONTH.checkValidValue(n),n>t.maxLength())throw new Xe("Illegal value for DayOfMonth field, value "+n+" is not valid for month "+t.toString());return new i(t.value(),n)},i.ofNumberNumber=function(t,n){return ar(t,"month"),ar(n,"dayOfMonth"),i.of(Tr.of(t),n)},i.from=function(t){if(ar(t,"temporal"),cr(t,_r,"temporal"),t instanceof i)return t;try{return i.of(t.get(Ar.MONTH_OF_YEAR),t.get(Ar.DAY_OF_MONTH))}catch(i){throw new Xe("Unable to obtain MonthDay from TemporalAccessor: "+t+", type "+(t&&null!=t.constructor?t.constructor.name:""))}},i.parse=function(t,n){return 1===arguments.length?i.parseString(t):i.parseStringFormatter(t,n)},i.parseString=function(t){return i.parseStringFormatter(t,Ls)},i.parseStringFormatter=function(t,n){return ar(t,"text"),ar(n,"formatter"),cr(n,Ns,"formatter"),n.parse(t,i.FROM)};var n=i.prototype;return n.monthValue=function(){return this._month},n.month=function(){return Tr.of(this._month)},n.dayOfMonth=function(){return this._day},n.isSupported=function(t){return t instanceof Ar?t===Ar.MONTH_OF_YEAR||t===Ar.DAY_OF_MONTH:null!=t&&t.isSupportedBy(this)},n.range=function(i){return i===Ar.MONTH_OF_YEAR?i.range():i===Ar.DAY_OF_MONTH?yr.of(1,this.month().minLength(),this.month().maxLength()):t.prototype.range.call(this,i)},n.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(ar(t,"field"),t instanceof Ar){switch(t){case Ar.DAY_OF_MONTH:return this._day;case Ar.MONTH_OF_YEAR:return this._month}throw new ir("Unsupported field: "+t)}return t.getFrom(this)},n.isValidYear=function(t){return!1==(29===this._day&&2===this._month&&!1===Fs.isLeap(t))},n.withMonth=function(t){return this.with(Tr.of(t))},n.with=function(t){if(ar(t,"month"),t.value()===this._month)return this;var n=Math.min(this._day,t.maxLength());return new i(t.value(),n)},n.withDayOfMonth=function(t){return t===this._day?this:i.of(this._month,t)},n.query=function(i){return ar(i,"query"),cr(i,kr,"query"),i===xr.chronology()?Hs.INSTANCE:t.prototype.query.call(this,i)},n.adjustInto=function(t){return ar(t,"temporal"),(t=t.with(Ar.MONTH_OF_YEAR,this._month)).with(Ar.DAY_OF_MONTH,Math.min(t.range(Ar.DAY_OF_MONTH).maximum(),this._day))},n.atYear=function(t){return Zs.of(t,this._month,this.isValidYear(t)?this._day:28)},n.compareTo=function(t){ar(t,"other"),cr(t,i,"other");var n=this._month-t.monthValue();return 0===n&&(n=this._day-t.dayOfMonth()),n},n.isAfter=function(t){return ar(t,"other"),cr(t,i,"other"),this.compareTo(t)>0},n.isBefore=function(t){return ar(t,"other"),cr(t,i,"other"),this.compareTo(t)<0},n.equals=function(t){if(this===t)return!0;if(t instanceof i){var n=t;return this.monthValue()===n.monthValue()&&this.dayOfMonth()===n.dayOfMonth()}return!1},n.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},n.toJSON=function(){return this.toString()},n.format=function(t){return ar(t,"formatter"),cr(t,Ns,"formatter"),t.format(this)},i}(_r);var js,Us=function(t){function i(i,n){var e;return(e=t.call(this)||this)._year=lr.safeToInt(i),e._month=lr.safeToInt(n),e}or(i,t),i.now=function(t){return 0===arguments.length?i.now0():1===arguments.length&&t instanceof zr?i.nowZoneId(t):i.nowClock(t)},i.now0=function(){return i.nowClock(Js.systemDefaultZone())},i.nowZoneId=function(t){return i.nowClock(Js.system(t))},i.nowClock=function(t){var n=Zs.now(t);return i.of(n.year(),n.month())},i.of=function(t,n){return 2===arguments.length&&n instanceof Tr?i.ofNumberMonth(t,n):i.ofNumberNumber(t,n)},i.ofNumberMonth=function(t,n){return ar(n,"month"),cr(n,Tr,"month"),i.ofNumberNumber(t,n.value())},i.ofNumberNumber=function(t,n){return ar(t,"year"),ar(n,"month"),Ar.YEAR.checkValidValue(t),Ar.MONTH_OF_YEAR.checkValidValue(n),new i(t,n)},i.from=function(t){if(ar(t,"temporal"),t instanceof i)return t;try{return i.of(t.get(Ar.YEAR),t.get(Ar.MONTH_OF_YEAR))}catch(i){throw new Xe("Unable to obtain YearMonth from TemporalAccessor: "+t+", type "+(t&&null!=t.constructor?t.constructor.name:""))}},i.parse=function(t,n){return 1===arguments.length?i.parseString(t):i.parseStringFormatter(t,n)},i.parseString=function(t){return i.parseStringFormatter(t,js)},i.parseStringFormatter=function(t,n){return ar(n,"formatter"),n.parse(t,i.FROM)};var n=i.prototype;return n.isSupported=function(t){return 1===arguments.length&&t instanceof br?this.isSupportedField(t):this.isSupportedUnit(t)},n.isSupportedField=function(t){return t instanceof Ar?t===Ar.YEAR||t===Ar.MONTH_OF_YEAR||t===Ar.PROLEPTIC_MONTH||t===Ar.YEAR_OF_ERA||t===Ar.ERA:null!=t&&t.isSupportedBy(this)},n.isSupportedUnit=function(t){return t instanceof gr?t===gr.MONTHS||t===gr.YEARS||t===gr.DECADES||t===gr.CENTURIES||t===gr.MILLENNIA||t===gr.ERAS:null!=t&&t.isSupportedBy(this)},n.range=function(i){return i===Ar.YEAR_OF_ERA?this.year()<=0?yr.of(1,Fs.MAX_VALUE+1):yr.of(1,Fs.MAX_VALUE):t.prototype.range.call(this,i)},n.get=function(t){return ar(t,"field"),cr(t,br,"field"),this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(ar(t,"field"),cr(t,br,"field"),t instanceof Ar){switch(t){case Ar.MONTH_OF_YEAR:return this._month;case Ar.PROLEPTIC_MONTH:return this._getProlepticMonth();case Ar.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case Ar.YEAR:return this._year;case Ar.ERA:return this._year<1?0:1}throw new ir("Unsupported field: "+t)}return t.getFrom(this)},n._getProlepticMonth=function(){return lr.safeAdd(lr.safeMultiply(this._year,12),this._month-1)},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return Tr.of(this._month)},n.isLeapYear=function(){return Hs.isLeapYear(this._year)},n.isValidDay=function(t){return t>=1&&t<=this.lengthOfMonth()},n.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n.with=function(t,i){return 1===arguments.length?this.withAdjuster(t):this.withFieldValue(t,i)},n.withAdjuster=function(t){return ar(t,"adjuster"),t.adjustInto(this)},n.withFieldValue=function(t,i){if(ar(t,"field"),cr(t,br,"field"),t instanceof Ar){var n=t;switch(n.checkValidValue(i),n){case Ar.MONTH_OF_YEAR:return this.withMonth(i);case Ar.PROLEPTIC_MONTH:return this.plusMonths(i-this.getLong(Ar.PROLEPTIC_MONTH));case Ar.YEAR_OF_ERA:return this.withYear(this._year<1?1-i:i);case Ar.YEAR:return this.withYear(i);case Ar.ERA:return this.getLong(Ar.ERA)===i?this:this.withYear(1-this._year)}throw new ir("Unsupported field: "+t)}return t.adjustInto(this,i)},n.withYear=function(t){return Ar.YEAR.checkValidValue(t),new i(t,this._month)},n.withMonth=function(t){return Ar.MONTH_OF_YEAR.checkValidValue(t),new i(this._year,t)},n.plusAmount=function(t){return ar(t,"amount"),cr(t,vr,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,i){if(ar(i,"unit"),cr(i,pr,"unit"),i instanceof gr){switch(i){case gr.MONTHS:return this.plusMonths(t);case gr.YEARS:return this.plusYears(t);case gr.DECADES:return this.plusYears(lr.safeMultiply(t,10));case gr.CENTURIES:return this.plusYears(lr.safeMultiply(t,100));case gr.MILLENNIA:return this.plusYears(lr.safeMultiply(t,1e3));case gr.ERAS:return this.with(Ar.ERA,lr.safeAdd(this.getLong(Ar.ERA),t))}throw new ir("Unsupported unit: "+i)}return i.addTo(this,t)},n.plusYears=function(t){if(0===t)return this;var i=Ar.YEAR.checkValidIntValue(this._year+t);return this.withYear(i)},n.plusMonths=function(t){if(0===t)return this;var n=12*this._year+(this._month-1)+t;return new i(Ar.YEAR.checkValidIntValue(lr.floorDiv(n,12)),lr.floorMod(n,12)+1)},n.minusAmount=function(t){return ar(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return t===lr.MIN_SAFE_INTEGER?this.plusAmountUnit(lr.MAX_SAFE_INTEGER,i).plusAmountUnit(1,i):this.plusAmountUnit(-t,i)},n.minusYears=function(t){return t===lr.MIN_SAFE_INTEGER?this.plusYears(lr.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-t)},n.minusMonths=function(t){return t===lr.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-t)},n.query=function(i){return ar(i,"query"),cr(i,kr,"query"),i===xr.chronology()?Hs.INSTANCE:i===xr.precision()?gr.MONTHS:i===xr.localDate()||i===xr.localTime()||i===xr.zone()||i===xr.zoneId()||i===xr.offset()?null:t.prototype.query.call(this,i)},n.adjustInto=function(t){return ar(t,"temporal"),cr(t,jr,"temporal"),t.with(Ar.PROLEPTIC_MONTH,this._getProlepticMonth())},n.until=function(t,n){ar(t,"endExclusive"),ar(n,"unit"),cr(t,jr,"endExclusive"),cr(n,pr,"unit");var e=i.from(t);if(n instanceof gr){var r=e._getProlepticMonth()-this._getProlepticMonth();switch(n){case gr.MONTHS:return r;case gr.YEARS:return r/12;case gr.DECADES:return r/120;case gr.CENTURIES:return r/1200;case gr.MILLENNIA:return r/12e3;case gr.ERAS:return e.getLong(Ar.ERA)-this.getLong(Ar.ERA)}throw new ir("Unsupported unit: "+n)}return n.between(this,e)},n.atDay=function(t){return Zs.of(this._year,this._month,t)},n.atEndOfMonth=function(){return Zs.of(this._year,this._month,this.lengthOfMonth())},n.compareTo=function(t){ar(t,"other"),cr(t,i,"other");var n=this._year-t.year();return 0===n&&(n=this._month-t.monthValue()),n},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){if(this===t)return!0;if(t instanceof i){var n=t;return this.year()===n.year()&&this.monthValue()===n.monthValue()}return!1},n.toString=function(){return js.format(this)},n.toJSON=function(){return this.toString()},n.format=function(t){return ar(t,"formatter"),t.format(this)},i}(jr);var Ps,Fs=function(t){function i(i){var n;return(n=t.call(this)||this)._year=lr.safeToInt(i),n}or(i,t);var n=i.prototype;return n.value=function(){return this._year},i.now=function(t){return void 0===t&&(t=void 0),void 0===t?i.now0():t instanceof zr?i.nowZoneId(t):i.nowClock(t)},i.now0=function(){return i.nowClock(Js.systemDefaultZone())},i.nowZoneId=function(t){return ar(t,"zone"),cr(t,zr,"zone"),i.nowClock(Js.system(t))},i.nowClock=function(t){ar(t,"clock"),cr(t,Js,"clock");var n=Zs.now(t);return i.of(n.year())},i.of=function(t){return ar(t,"isoYear"),Ar.YEAR.checkValidValue(t),new i(t)},i.from=function(t){if(ar(t,"temporal"),cr(t,_r,"temporal"),t instanceof i)return t;try{return i.of(t.get(Ar.YEAR))}catch(i){throw new Xe("Unable to obtain Year from TemporalAccessor: "+t+", type "+(t&&null!=t.constructor?t.constructor.name:""))}},i.parse=function(t,n){return arguments.length<=1?i.parseText(t):i.parseTextFormatter(t,n)},i.parseText=function(t){return ar(t,"text"),i.parse(t,Ps)},i.parseTextFormatter=function(t,n){return void 0===n&&(n=Ps),ar(t,"text"),ar(n,"formatter"),cr(n,Ns,"formatter"),n.parse(t,i.FROM)},i.isLeap=function(t){return 0===lr.intMod(t,4)&&(0!==lr.intMod(t,100)||0===lr.intMod(t,400))},n.isSupported=function(t){return 1===arguments.length&&t instanceof br?this.isSupportedField(t):this.isSupportedUnit(t)},n.isSupportedField=function(t){return t instanceof Ar?t===Ar.YEAR||t===Ar.YEAR_OF_ERA||t===Ar.ERA:null!=t&&t.isSupportedBy(this)},n.isSupportedUnit=function(t){return t instanceof gr?t===gr.YEARS||t===gr.DECADES||t===gr.CENTURIES||t===gr.MILLENNIA||t===gr.ERAS:null!=t&&t.isSupportedBy(this)},n.range=function(i){if(this.isSupported(i))return i.range();if(i instanceof Ar)throw new ir("Unsupported field: "+i);return t.prototype.range.call(this,i)},n.get=function(t){return this.range(t).checkValidIntValue(this.getLong(t),t)},n.getLong=function(t){if(ar(t,"field"),t instanceof Ar){switch(t){case Ar.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case Ar.YEAR:return this._year;case Ar.ERA:return this._year<1?0:1}throw new ir("Unsupported field: "+t)}return t.getFrom(this)},n.isLeap=function(){return i.isLeap(this._year)},n.withAdjuster=function(t){return ar(t,"adjuster"),t.adjustInto(this)},n.withFieldValue=function(t,n){if(ar(t,"field"),cr(t,br,"field"),t instanceof Ar){switch(t.checkValidValue(n),t){case Ar.YEAR_OF_ERA:return i.of(this._year<1?1-n:n);case Ar.YEAR:return i.of(n);case Ar.ERA:return this.getLong(Ar.ERA)===n?this:i.of(1-this._year)}throw new ir("Unsupported field: "+t)}return t.adjustInto(this,n)},n.plusAmount=function(t){return ar(t,"amount"),cr(t,vr,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,i){if(ar(t,"amountToAdd"),ar(i,"unit"),cr(i,pr,"unit"),i instanceof gr){switch(i){case gr.YEARS:return this.plusYears(t);case gr.DECADES:return this.plusYears(lr.safeMultiply(t,10));case gr.CENTURIES:return this.plusYears(lr.safeMultiply(t,100));case gr.MILLENNIA:return this.plusYears(lr.safeMultiply(t,1e3));case gr.ERAS:return this.with(Ar.ERA,lr.safeAdd(this.getLong(Ar.ERA),t))}throw new ir("Unsupported unit: "+i)}return i.addTo(this,t)},n.plusYears=function(t){return 0===t?this:i.of(Ar.YEAR.checkValidIntValue(lr.safeAdd(this._year,t)))},n.minusAmount=function(t){return ar(t,"amount"),cr(t,vr,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return ar(t,"amountToSubtract"),ar(i,"unit"),cr(i,pr,"unit"),t===lr.MIN_SAFE_INTEGER?this.plus(lr.MAX_SAFE_INTEGER,i).plus(1,i):this.plus(-t,i)},n.minusYears=function(t){return t===lr.MIN_SAFE_INTEGER?this.plusYears(lr.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-t)},n.adjustInto=function(t){return ar(t,"temporal"),t.with(Ar.YEAR,this._year)},n.isValidMonthDay=function(t){return null!=t&&t.isValidYear(this._year)},n.length=function(){return this.isLeap()?366:365},n.atDay=function(t){return Zs.ofYearDay(this._year,t)},n.atMonth=function(t){return 1===arguments.length&&t instanceof Tr?this.atMonthMonth(t):this.atMonthNumber(t)},n.atMonthMonth=function(t){return ar(t,"month"),cr(t,Tr,"month"),Us.of(this._year,t)},n.atMonthNumber=function(t){return ar(t,"month"),Us.of(this._year,t)},n.atMonthDay=function(t){return ar(t,"monthDay"),cr(t,Rs,"monthDay"),t.atYear(this._year)},n.query=function(i){return ar(i,"query()"),cr(i,kr,"query()"),i===xr.chronology()?Hs.INSTANCE:i===xr.precision()?gr.YEARS:i===xr.localDate()||i===xr.localTime()||i===xr.zone()||i===xr.zoneId()||i===xr.offset()?null:t.prototype.query.call(this,i)},n.compareTo=function(t){return ar(t,"other"),cr(t,i,"other"),this._year-t._year},n.isAfter=function(t){return ar(t,"other"),cr(t,i,"other"),this._year>t._year},n.isBefore=function(t){return ar(t,"other"),cr(t,i,"other"),this._year<t._year},n.format=function(t){return ar(t,"formatter"),cr(t,Ns,"formatter"),t.format(this)},n.equals=function(t){return this===t||t instanceof i&&this.value()===t.value()},n.toString=function(){return""+this._year},n.toJSON=function(){return this.toString()},n.until=function(t,n){var e=i.from(t);if(n instanceof gr){var r=e.value()-this.value();switch(n){case gr.YEARS:return r;case gr.DECADES:return lr.intDiv(r,10);case gr.CENTURIES:return lr.intDiv(r,100);case gr.MILLENNIA:return lr.intDiv(r,1e3);case gr.ERAS:return e.getLong(Ar.ERA)-this.getLong(Ar.ERA)}throw new ir("Unsupported unit: "+n)}return n.between(this,e)},i}(jr);var zs=function(){function t(){}return t.firstDayOfMonth=function(){return Bs.FIRST_DAY_OF_MONTH},t.lastDayOfMonth=function(){return Bs.LAST_DAY_OF_MONTH},t.firstDayOfNextMonth=function(){return Bs.FIRST_DAY_OF_NEXT_MONTH},t.firstDayOfYear=function(){return Bs.FIRST_DAY_OF_YEAR},t.lastDayOfYear=function(){return Bs.LAST_DAY_OF_YEAR},t.firstDayOfNextYear=function(){return Bs.FIRST_DAY_OF_NEXT_YEAR},t.firstInMonth=function(t){return ar(t,"dayOfWeek"),new Vs(1,t)},t.lastInMonth=function(t){return ar(t,"dayOfWeek"),new Vs(-1,t)},t.dayOfWeekInMonth=function(t,i){return ar(i,"dayOfWeek"),new Vs(t,i)},t.next=function(t){return new $s(2,t)},t.nextOrSame=function(t){return new $s(0,t)},t.previous=function(t){return new $s(3,t)},t.previousOrSame=function(t){return new $s(1,t)},t}(),Bs=function(t){function i(i){var n;return(n=t.call(this)||this)._ordinal=i,n}return or(i,t),i.prototype.adjustInto=function(t){switch(this._ordinal){case 0:return t.with(Ar.DAY_OF_MONTH,1);case 1:return t.with(Ar.DAY_OF_MONTH,t.range(Ar.DAY_OF_MONTH).maximum());case 2:return t.with(Ar.DAY_OF_MONTH,1).plus(1,gr.MONTHS);case 3:return t.with(Ar.DAY_OF_YEAR,1);case 4:return t.with(Ar.DAY_OF_YEAR,t.range(Ar.DAY_OF_YEAR).maximum());case 5:return t.with(Ar.DAY_OF_YEAR,1).plus(1,gr.YEARS)}throw new rr("Unreachable")},i}(Rr);Bs.FIRST_DAY_OF_MONTH=new Bs(0),Bs.LAST_DAY_OF_MONTH=new Bs(1),Bs.FIRST_DAY_OF_NEXT_MONTH=new Bs(2),Bs.FIRST_DAY_OF_YEAR=new Bs(3),Bs.LAST_DAY_OF_YEAR=new Bs(4),Bs.FIRST_DAY_OF_NEXT_YEAR=new Bs(5);var Vs=function(t){function i(i,n){var e;return(e=t.call(this)||this)._ordinal=i,e._dowValue=n.value(),e}return or(i,t),i.prototype.adjustInto=function(t){if(this._ordinal>=0){var i=t.with(Ar.DAY_OF_MONTH,1),n=i.get(Ar.DAY_OF_WEEK),e=lr.intMod(this._dowValue-n+7,7);return e+=7*(this._ordinal-1),i.plus(e,gr.DAYS)}var r=t.with(Ar.DAY_OF_MONTH,t.range(Ar.DAY_OF_MONTH).maximum()),s=r.get(Ar.DAY_OF_WEEK),o=this._dowValue-s;return o=0===o?0:o>0?o-7:o,o-=7*(-this._ordinal-1),r.plus(o,gr.DAYS)},i}(Rr),$s=function(t){function i(i,n){var e;return e=t.call(this)||this,ar(n,"dayOfWeek"),e._relative=i,e._dowValue=n.value(),e}return or(i,t),i.prototype.adjustInto=function(t){var i=t.get(Ar.DAY_OF_WEEK);if(this._relative<2&&i===this._dowValue)return t;if(0==(1&this._relative)){var n=i-this._dowValue;return t.plus(n>=0?7-n:-n,gr.DAYS)}var e=this._dowValue-i;return t.minus(e>=0?7-e:-e,gr.DAYS)},i}(Rr),Hs=function(t){function i(){return t.apply(this,arguments)||this}or(i,t),i.isLeapYear=function(t){return 0==(3&t)&&(t%100!=0||t%400==0)};var n=i.prototype;return n._updateResolveMap=function(t,i,n){ar(t,"fieldValues"),ar(i,"field");var e=t.get(i);if(null!=e&&e!==n)throw new Xe("Invalid state, field: "+i+" "+e+" conflicts with "+i+" "+n);t.put(i,n)},n.resolveDate=function(t,i){if(t.containsKey(Ar.EPOCH_DAY))return Zs.ofEpochDay(t.remove(Ar.EPOCH_DAY));var n=t.remove(Ar.PROLEPTIC_MONTH);null!=n&&(i!==Lr.LENIENT&&Ar.PROLEPTIC_MONTH.checkValidValue(n),this._updateResolveMap(t,Ar.MONTH_OF_YEAR,lr.floorMod(n,12)+1),this._updateResolveMap(t,Ar.YEAR,lr.floorDiv(n,12)));var e=t.remove(Ar.YEAR_OF_ERA);if(null!=e){i!==Lr.LENIENT&&Ar.YEAR_OF_ERA.checkValidValue(e);var r=t.remove(Ar.ERA);if(null==r){var s=t.get(Ar.YEAR);i===Lr.STRICT?null!=s?this._updateResolveMap(t,Ar.YEAR,s>0?e:lr.safeSubtract(1,e)):t.put(Ar.YEAR_OF_ERA,e):this._updateResolveMap(t,Ar.YEAR,null==s||s>0?e:lr.safeSubtract(1,e))}else if(1===r)this._updateResolveMap(t,Ar.YEAR,e);else{if(0!==r)throw new Xe("Invalid value for era: "+r);this._updateResolveMap(t,Ar.YEAR,lr.safeSubtract(1,e))}}else t.containsKey(Ar.ERA)&&Ar.ERA.checkValidValue(t.get(Ar.ERA));if(t.containsKey(Ar.YEAR)){if(t.containsKey(Ar.MONTH_OF_YEAR)&&t.containsKey(Ar.DAY_OF_MONTH)){var o=Ar.YEAR.checkValidIntValue(t.remove(Ar.YEAR)),h=t.remove(Ar.MONTH_OF_YEAR),u=t.remove(Ar.DAY_OF_MONTH);if(i===Lr.LENIENT){var a=h-1,c=u-1;return Zs.of(o,1,1).plusMonths(a).plusDays(c)}return i===Lr.SMART?(Ar.DAY_OF_MONTH.checkValidValue(u),4===h||6===h||9===h||11===h?u=Math.min(u,30):2===h&&(u=Math.min(u,Tr.FEBRUARY.length(Fs.isLeap(o)))),Zs.of(o,h,u)):Zs.of(o,h,u)}if(t.containsKey(Ar.DAY_OF_YEAR)){var f=Ar.YEAR.checkValidIntValue(t.remove(Ar.YEAR));if(i===Lr.LENIENT){var l=lr.safeSubtract(t.remove(Ar.DAY_OF_YEAR),1);return Zs.ofYearDay(f,1).plusDays(l)}var d=Ar.DAY_OF_YEAR.checkValidIntValue(t.remove(Ar.DAY_OF_YEAR));return Zs.ofYearDay(f,d)}if(t.containsKey(Ar.ALIGNED_WEEK_OF_YEAR)){if(t.containsKey(Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var v=Ar.YEAR.checkValidIntValue(t.remove(Ar.YEAR));if(i===Lr.LENIENT){var p=lr.safeSubtract(t.remove(Ar.ALIGNED_WEEK_OF_YEAR),1),m=lr.safeSubtract(t.remove(Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return Zs.of(v,1,1).plusWeeks(p).plusDays(m)}var w=Ar.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(t.remove(Ar.ALIGNED_WEEK_OF_YEAR)),g=Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(t.remove(Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR)),b=Zs.of(v,1,1).plusDays(7*(w-1)+(g-1));if(i===Lr.STRICT&&b.get(Ar.YEAR)!==v)throw new Xe("Strict mode rejected date parsed to a different year");return b}if(t.containsKey(Ar.DAY_OF_WEEK)){var y=Ar.YEAR.checkValidIntValue(t.remove(Ar.YEAR));if(i===Lr.LENIENT){var A=lr.safeSubtract(t.remove(Ar.ALIGNED_WEEK_OF_YEAR),1),x=lr.safeSubtract(t.remove(Ar.DAY_OF_WEEK),1);return Zs.of(y,1,1).plusWeeks(A).plusDays(x)}var _=Ar.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(t.remove(Ar.ALIGNED_WEEK_OF_YEAR)),k=Ar.DAY_OF_WEEK.checkValidIntValue(t.remove(Ar.DAY_OF_WEEK)),S=Zs.of(y,1,1).plusWeeks(_-1).with(zs.nextOrSame(Ir.of(k)));if(i===Lr.STRICT&&S.get(Ar.YEAR)!==y)throw new Xe("Strict mode rejected date parsed to a different month");return S}}}return null},n.date=function(t){return Zs.from(t)},i}(dr);var Ws=function(t){function i(i,n){var e;return e=t.call(this)||this,ar(i,"time"),cr(i,qs,"time"),ar(n,"offset"),cr(n,Wr,"offset"),e._time=i,e._offset=n,e}or(i,t),i.from=function(t){if(ar(t,"temporal"),t instanceof i)return t;if(t instanceof Gs)return t.toOffsetTime();try{return new i(qs.from(t),Wr.from(t))}catch(i){throw new Xe("Unable to obtain OffsetTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""))}},i.now=function(t){return 0===arguments.length?i._now(Js.systemDefaultZone()):t instanceof Js?i._now(t):i._now(Js.system(t))},i._now=function(t){ar(t,"clock");var n=t.instant();return i.ofInstant(n,t.zone().rules().offset(n))},i.of=function(){return arguments.length<=2?i.ofTimeAndOffset.apply(this,arguments):i.ofNumbers.apply(this,arguments)},i.ofNumbers=function(t,n,e,r,s){return new i(qs.of(t,n,e,r),s)},i.ofTimeAndOffset=function(t,n){return new i(t,n)},i.ofInstant=function(t,n){ar(t,"instant"),cr(t,Qs,"instant"),ar(n,"zone"),cr(n,zr,"zone");var e=n.rules().offset(t),r=t.epochSecond()%qs.SECONDS_PER_DAY;return(r=(r+e.totalSeconds())%qs.SECONDS_PER_DAY)<0&&(r+=qs.SECONDS_PER_DAY),new i(qs.ofSecondOfDay(r,t.nano()),e)},i.parse=function(t,n){return void 0===n&&(n=Ns.ISO_OFFSET_TIME),ar(n,"formatter"),n.parse(t,i.FROM)};var n=i.prototype;return n.adjustInto=function(t){return t.with(Ar.NANO_OF_DAY,this._time.toNanoOfDay()).with(Ar.OFFSET_SECONDS,this.offset().totalSeconds())},n.atDate=function(t){return Gs.of(t,this._time,this._offset)},n.format=function(t){return ar(t,"formatter"),t.format(this,i.FROM)},n.get=function(i){return t.prototype.get.call(this,i)},n.getLong=function(t){return t instanceof Ar?t===Ar.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(t):t.getFrom(this)},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n.offset=function(){return this._offset},n.isAfter=function(t){return ar(t,"other"),this._toEpochNano()>t._toEpochNano()},n.isBefore=function(t){return ar(t,"other"),this._toEpochNano()<t._toEpochNano()},n.isEqual=function(t){return ar(t,"other"),this._toEpochNano()===t._toEpochNano()},n.isSupported=function(t){return t instanceof Ar?t.isTimeBased()||t===Ar.OFFSET_SECONDS:t instanceof gr?t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.minusHours=function(t){return this._withLocalTimeOffset(this._time.minusHours(t),this._offset)},n.minusMinutes=function(t){return this._withLocalTimeOffset(this._time.minusMinutes(t),this._offset)},n.minusSeconds=function(t){return this._withLocalTimeOffset(this._time.minusSeconds(t),this._offset)},n.minusNanos=function(t){return this._withLocalTimeOffset(this._time.minusNanos(t),this._offset)},n.minusAmount=function(t){return ar(t),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return this.plus(-1*t,i)},n.plusAmount=function(t){return ar(t),t.addTo(this)},n.plusAmountUnit=function(t,i){return i instanceof gr?this._withLocalTimeOffset(this._time.plus(t,i),this._offset):i.addTo(this,t)},n.plusHours=function(t){return this._withLocalTimeOffset(this._time.plusHours(t),this._offset)},n.plusMinutes=function(t){return this._withLocalTimeOffset(this._time.plusMinutes(t),this._offset)},n.plusSeconds=function(t){return this._withLocalTimeOffset(this._time.plusSeconds(t),this._offset)},n.plusNanos=function(t){return this._withLocalTimeOffset(this._time.plusNanos(t),this._offset)},n.query=function(i){return ar(i,"query"),i===xr.precision()?gr.NANOS:i===xr.offset()||i===xr.zone()?this.offset():i===xr.localTime()?this._time:i===xr.chronology()||i===xr.localDate()||i===xr.zoneId()?null:t.prototype.query.call(this,i)},n.range=function(t){return t instanceof Ar?t===Ar.OFFSET_SECONDS?t.range():this._time.range(t):t.rangeRefinedBy(this)},n.toLocalTime=function(){return this._time},n.truncatedTo=function(t){return this._withLocalTimeOffset(this._time.truncatedTo(t),this._offset)},n.until=function(t,n){ar(t,"endExclusive"),ar(n,"unit");var e=i.from(t);if(n instanceof gr){var r=e._toEpochNano()-this._toEpochNano();switch(n){case gr.NANOS:return r;case gr.MICROS:return Math.floor(r/1e3);case gr.MILLIS:return Math.floor(r/1e6);case gr.SECONDS:return Math.floor(r/qs.NANOS_PER_SECOND);case gr.MINUTES:return Math.floor(r/qs.NANOS_PER_MINUTE);case gr.HOURS:return Math.floor(r/qs.NANOS_PER_HOUR);case gr.HALF_DAYS:return Math.floor(r/(12*qs.NANOS_PER_HOUR))}throw new ir("Unsupported unit: "+n)}return n.between(this,e)},n.withHour=function(t){return this._withLocalTimeOffset(this._time.withHour(t),this._offset)},n.withMinute=function(t){return this._withLocalTimeOffset(this._time.withMinute(t),this._offset)},n.withSecond=function(t){return this._withLocalTimeOffset(this._time.withSecond(t),this._offset)},n.withNano=function(t){return this._withLocalTimeOffset(this._time.withNano(t),this._offset)},n.withOffsetSameInstant=function(t){if(ar(t,"offset"),t.equals(this._offset))return this;var n=t.totalSeconds()-this._offset.totalSeconds();return new i(this._time.plusSeconds(n),t)},n.withOffsetSameLocal=function(t){return null!=t&&t.equals(this._offset)?this:new i(this._time,t)},n._toEpochNano=function(){return this._time.toNanoOfDay()-this._offset.totalSeconds()*qs.NANOS_PER_SECOND},n.withAdjuster=function(t){return ar(t,"adjuster"),t instanceof qs?this._withLocalTimeOffset(t,this._offset):t instanceof Wr?this._withLocalTimeOffset(this._time,t):t instanceof i?t:t.adjustInto(this)},n.withFieldValue=function(t,i){return ar(t,"field"),t instanceof Ar?t===Ar.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,Wr.ofTotalSeconds(t.checkValidIntValue(i))):this._withLocalTimeOffset(this._time.with(t,i),this._offset):t.adjustInto(this,i)},n._withLocalTimeOffset=function(t,n){return this._time===t&&this._offset.equals(n)?this:new i(t,n)},n.compareTo=function(t){if(ar(t,"other"),cr(t,i,"other"),this._offset.equals(t._offset))return this._time.compareTo(t._time);var n=lr.compareNumbers(this._toEpochNano(),t._toEpochNano());return 0===n?this._time.compareTo(t._time):n},n.equals=function(t){return this===t||t instanceof i&&(this._time.equals(t._time)&&this._offset.equals(t._offset))},n.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},n.toString=function(){return this._time.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},i}(Ur);var Ks=function(t){function i(i,n,e){var r;return ar(i,"dateTime"),ar(n,"offset"),ar(e,"zone"),(r=t.call(this)||this)._dateTime=i,r._offset=n,r._zone=e,r}or(i,t),i.now=function(t){var n;return n=t instanceof zr?Js.system(t):null==t?Js.systemDefaultZone():t,i.ofInstant(n.instant(),n.zone())},i.of=function(){return arguments.length<=2?i.of2.apply(this,arguments):3===arguments.length&&arguments[0]instanceof Zs?i.of3.apply(this,arguments):i.of8.apply(this,arguments)},i.of3=function(t,n,e){return i.of2(Ys.of(t,n),e)},i.of2=function(t,n){return i.ofLocal(t,n,null)},i.of8=function(t,n,e,r,s,o,h,u){var a=Ys.of(t,n,e,r,s,o,h);return i.ofLocal(a,u,null)},i.ofLocal=function(t,n,e){if(ar(t,"localDateTime"),ar(n,"zone"),n instanceof Wr)return new i(t,n,n);var r=null,s=n.rules(),o=s.validOffsets(t);if(1===o.length)r=o[0];else if(0===o.length){var h=s.transition(t);t=t.plusSeconds(h.duration().seconds()),r=h.offsetAfter()}else r=null!=e&&o.some((function(t){return t.equals(e)}))?e:ar(o[0],"offset");return new i(t,r,n)},i.ofInstant=function(){return 2===arguments.length?i.ofInstant2.apply(this,arguments):i.ofInstant3.apply(this,arguments)},i.ofInstant2=function(t,n){return ar(t,"instant"),ar(n,"zone"),i._create(t.epochSecond(),t.nano(),n)},i.ofInstant3=function(t,n,e){return ar(t,"localDateTime"),ar(n,"offset"),ar(e,"zone"),i._create(t.toEpochSecond(n),t.nano(),e)},i._create=function(t,n,e){var r=e.rules(),s=Qs.ofEpochSecond(t,n),o=r.offset(s);return new i(Ys.ofEpochSecond(t,n,o),o,e)},i.ofStrict=function(t,n,e){ar(t,"localDateTime"),ar(n,"offset"),ar(e,"zone");var r=e.rules();if(!1===r.isValidOffset(t,n)){var s=r.transition(t);if(null!=s&&s.isGap())throw new Xe("LocalDateTime "+t+" does not exist in zone "+e+" due to a gap in the local time-line, typically caused by daylight savings");throw new Xe('ZoneOffset "'+n+'" is not valid for LocalDateTime "'+t+'" in zone "'+e+'"')}return new i(t,n,e)},i.ofLenient=function(t,n,e){if(ar(t,"localDateTime"),ar(n,"offset"),ar(e,"zone"),e instanceof Wr&&!1===n.equals(e))throw new er("ZoneId must match ZoneOffset");return new i(t,n,e)},i.from=function(t){if(ar(t,"temporal"),t instanceof i)return t;var n=zr.from(t);if(t.isSupported(Ar.INSTANT_SECONDS)){var e=i._from(t,n);if(null!=e)return e}var r=Ys.from(t);return i.of2(r,n)},i._from=function(t,n){try{return i.$(t,n)}catch(t){if(!(t instanceof Xe))throw t}},i.$=function(t,n){var e=t.getLong(Ar.INSTANT_SECONDS),r=t.get(Ar.NANO_OF_SECOND);return i._create(e,r,n)},i.parse=function(t,n){return void 0===n&&(n=Ns.ISO_ZONED_DATE_TIME),ar(n,"formatter"),n.parse(t,i.FROM)};var n=i.prototype;return n._resolveLocal=function(t){return ar(t,"newDateTime"),i.ofLocal(t,this._zone,this._offset)},n._resolveInstant=function(t){return i.ofInstant3(t,this._offset,this._zone)},n._resolveOffset=function(t){return!1===t.equals(this._offset)&&this._zone.rules().isValidOffset(this._dateTime,t)?new i(this._dateTime,t,this._zone):this},n.isSupported=function(t){return t instanceof Ar||(t instanceof gr?t.isDateBased()||t.isTimeBased():null!=t&&t.isSupportedBy(this))},n.range=function(t){return t instanceof Ar?t===Ar.INSTANT_SECONDS||t===Ar.OFFSET_SECONDS?t.range():this._dateTime.range(t):t.rangeRefinedBy(this)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t instanceof Ar){switch(t){case Ar.INSTANT_SECONDS:return this.toEpochSecond();case Ar.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(t)}return ar(t,"field"),t.getFrom(this)},n.offset=function(){return this._offset},n.withEarlierOffsetAtOverlap=function(){var t=this._zone.rules().transition(this._dateTime);if(null!=t&&t.isOverlap()){var n=t.offsetBefore();if(!1===n.equals(this._offset))return new i(this._dateTime,n,this._zone)}return this},n.withLaterOffsetAtOverlap=function(){var t=this._zone.rules().transition(this.toLocalDateTime());if(null!=t){var n=t.offsetAfter();if(!1===n.equals(this._offset))return new i(this._dateTime,n,this._zone)}return this},n.zone=function(){return this._zone},n.withZoneSameLocal=function(t){return ar(t,"zone"),this._zone.equals(t)?this:i.ofLocal(this._dateTime,t,this._offset)},n.withZoneSameInstant=function(t){return ar(t,"zone"),this._zone.equals(t)?this:i._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),t)},n.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new i(this._dateTime,this._offset,this._offset)},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n.withAdjuster=function(t){if(t instanceof Zs)return this._resolveLocal(Ys.of(t,this._dateTime.toLocalTime()));if(t instanceof qs)return this._resolveLocal(Ys.of(this._dateTime.toLocalDate(),t));if(t instanceof Ys)return this._resolveLocal(t);if(t instanceof Qs){var n=t;return i._create(n.epochSecond(),n.nano(),this._zone)}return t instanceof Wr?this._resolveOffset(t):(ar(t,"adjuster"),t.adjustInto(this))},n.withFieldValue=function(t,n){if(t instanceof Ar){switch(t){case Ar.INSTANT_SECONDS:return i._create(n,this.nano(),this._zone);case Ar.OFFSET_SECONDS:var e=Wr.ofTotalSeconds(t.checkValidIntValue(n));return this._resolveOffset(e)}return this._resolveLocal(this._dateTime.with(t,n))}return t.adjustInto(this,n)},n.withYear=function(t){return this._resolveLocal(this._dateTime.withYear(t))},n.withMonth=function(t){return this._resolveLocal(this._dateTime.withMonth(t))},n.withDayOfMonth=function(t){return this._resolveLocal(this._dateTime.withDayOfMonth(t))},n.withDayOfYear=function(t){return this._resolveLocal(this._dateTime.withDayOfYear(t))},n.withHour=function(t){return this._resolveLocal(this._dateTime.withHour(t))},n.withMinute=function(t){return this._resolveLocal(this._dateTime.withMinute(t))},n.withSecond=function(t){return this._resolveLocal(this._dateTime.withSecond(t))},n.withNano=function(t){return this._resolveLocal(this._dateTime.withNano(t))},n.truncatedTo=function(t){return this._resolveLocal(this._dateTime.truncatedTo(t))},n.plusAmount=function(t){return ar(t),t.addTo(this)},n.plusAmountUnit=function(t,i){return i instanceof gr?i.isDateBased()?this._resolveLocal(this._dateTime.plus(t,i)):this._resolveInstant(this._dateTime.plus(t,i)):(ar(i,"unit"),i.addTo(this,t))},n.plusYears=function(t){return this._resolveLocal(this._dateTime.plusYears(t))},n.plusMonths=function(t){return this._resolveLocal(this._dateTime.plusMonths(t))},n.plusWeeks=function(t){return this._resolveLocal(this._dateTime.plusWeeks(t))},n.plusDays=function(t){return this._resolveLocal(this._dateTime.plusDays(t))},n.plusHours=function(t){return this._resolveInstant(this._dateTime.plusHours(t))},n.plusMinutes=function(t){return this._resolveInstant(this._dateTime.plusMinutes(t))},n.plusSeconds=function(t){return this._resolveInstant(this._dateTime.plusSeconds(t))},n.plusNanos=function(t){return this._resolveInstant(this._dateTime.plusNanos(t))},n.minusAmount=function(t){return ar(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return this.plusAmountUnit(-1*t,i)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.minusHours=function(t){return this.plusHours(-1*t)},n.minusMinutes=function(t){return this.plusMinutes(-1*t)},n.minusSeconds=function(t){return this.plusSeconds(-1*t)},n.minusNanos=function(t){return this.plusNanos(-1*t)},n.query=function(i){return i===xr.localDate()?this.toLocalDate():(ar(i,"query"),t.prototype.query.call(this,i))},n.until=function(t,n){var e=i.from(t);if(n instanceof gr){if(e=e.withZoneSameInstant(this._zone),n.isDateBased())return this._dateTime.until(e._dateTime,n);var r=this._offset.totalSeconds()-e._offset.totalSeconds(),s=e._dateTime.plusSeconds(r);return this._dateTime.until(s,n)}return n.between(this,e)},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetDateTime=function(){return Gs.of(this._dateTime,this._offset)},n.equals=function(t){return this===t||t instanceof i&&(this._dateTime.equals(t._dateTime)&&this._offset.equals(t._offset)&&this._zone.equals(t._zone))},n.hashCode=function(){return lr.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},n.toString=function(){var t=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(t+="["+this._zone.toString()+"]"),t},n.toJSON=function(){return this.toString()},n.format=function(i){return t.prototype.format.call(this,i)},i}(function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.query=function(i){return i===xr.zoneId()||i===xr.zone()?this.zone():i===xr.chronology()?this.toLocalDate().chronology():i===xr.precision()?gr.NANOS:i===xr.offset()?this.offset():i===xr.localDate()?Zs.ofEpochDay(this.toLocalDate().toEpochDay()):i===xr.localTime()?this.toLocalTime():t.prototype.query.call(this,i)},n.format=function(t){return ar(t,"formatter"),t.format(this)},n.toInstant=function(){return Qs.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},n.toEpochSecond=function(){var t=86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay();return t-=this.offset().totalSeconds()},n.compareTo=function(t){ar(t,"other");var i=lr.compareNumbers(this.toEpochSecond(),t.toEpochSecond());return 0===i&&0===(i=this.toLocalTime().nano()-t.toLocalTime().nano())&&0===(i=this.toLocalDateTime().compareTo(t.toLocalDateTime()))&&(i=function(t,i){if(t<i)return-1;if(t>i)return 1;return 0}(this.zone().id(),t.zone().id())),i},n.isAfter=function(t){ar(t,"other");var i=this.toEpochSecond(),n=t.toEpochSecond();return i>n||i===n&&this.toLocalTime().nano()>t.toLocalTime().nano()},n.isBefore=function(t){ar(t,"other");var i=this.toEpochSecond(),n=t.toEpochSecond();return i<n||i===n&&this.toLocalTime().nano()<t.toLocalTime().nano()},n.isEqual=function(t){return ar(t,"other"),this.toEpochSecond()===t.toEpochSecond()&&this.toLocalTime().nano()===t.toLocalTime().nano()},n.equals=function(t){return this===t||t instanceof i&&0===this.compareTo(t)},i}(Ur));var Gs=function(t){function i(i,n){var e;return e=t.call(this)||this,ar(i,"dateTime"),cr(i,Ys,"dateTime"),ar(n,"offset"),cr(n,Wr,"offset"),e._dateTime=i,e._offset=n,e}or(i,t),i.from=function(t){if(ar(t,"temporal"),t instanceof i)return t;try{var n=Wr.from(t);try{var e=Ys.from(t);return i.of(e,n)}catch(e){var r=Qs.from(t);return i.ofInstant(r,n)}}catch(i){throw new Xe("Unable to obtain OffsetDateTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""))}},i.now=function(t){if(0===arguments.length)return i.now(Js.systemDefaultZone());if(ar(t,"clockOrZone"),t instanceof zr)return i.now(Js.system(t));if(t instanceof Js){var n=t.instant();return i.ofInstant(n,t.zone().rules().offset(n))}throw new er("clockOrZone must be an instance of ZoneId or Clock")},i.of=function(){return arguments.length<=2?i.ofDateTime.apply(this,arguments):3===arguments.length?i.ofDateAndTime.apply(this,arguments):i.ofNumbers.apply(this,arguments)},i.ofDateTime=function(t,n){return new i(t,n)},i.ofDateAndTime=function(t,n,e){return new i(Ys.of(t,n),e)},i.ofNumbers=function(t,n,e,r,s,o,h,u){return void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===h&&(h=0),new i(Ys.of(t,n,e,r,s,o,h),u)},i.ofInstant=function(t,n){ar(t,"instant"),ar(n,"zone");var e=n.rules().offset(t);return new i(Ys.ofEpochSecond(t.epochSecond(),t.nano(),e),e)},i.parse=function(t,n){return void 0===n&&(n=Ns.ISO_OFFSET_DATE_TIME),ar(n,"formatter"),n.parse(t,i.FROM)};var n=i.prototype;return n.adjustInto=function(t){return t.with(Ar.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(Ar.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(Ar.OFFSET_SECONDS,this.offset().totalSeconds())},n.until=function(t,n){var e=i.from(t);return n instanceof gr?(e=e.withOffsetSameInstant(this._offset),this._dateTime.until(e._dateTime,n)):n.between(this,e)},n.atZoneSameInstant=function(t){return Ks.ofInstant(this._dateTime,this._offset,t)},n.atZoneSimilarLocal=function(t){return Ks.ofLocal(this._dateTime,t,this._offset)},n.query=function(i){return ar(i,"query"),i===xr.chronology()?Hs.INSTANCE:i===xr.precision()?gr.NANOS:i===xr.offset()||i===xr.zone()?this.offset():i===xr.localDate()?this.toLocalDate():i===xr.localTime()?this.toLocalTime():i===xr.zoneId()?null:t.prototype.query.call(this,i)},n.get=function(i){if(i instanceof Ar){switch(i){case Ar.INSTANT_SECONDS:throw new Xe("Field too large for an int: "+i);case Ar.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(i)}return t.prototype.get.call(this,i)},n.getLong=function(t){if(t instanceof Ar){switch(t){case Ar.INSTANT_SECONDS:return this.toEpochSecond();case Ar.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(t)}return t.getFrom(this)},n.offset=function(){return this._offset},n.year=function(){return this._dateTime.year()},n.monthValue=function(){return this._dateTime.monthValue()},n.month=function(){return this._dateTime.month()},n.dayOfMonth=function(){return this._dateTime.dayOfMonth()},n.dayOfYear=function(){return this._dateTime.dayOfYear()},n.dayOfWeek=function(){return this._dateTime.dayOfWeek()},n.hour=function(){return this._dateTime.hour()},n.minute=function(){return this._dateTime.minute()},n.second=function(){return this._dateTime.second()},n.nano=function(){return this._dateTime.nano()},n.toLocalDateTime=function(){return this._dateTime},n.toLocalDate=function(){return this._dateTime.toLocalDate()},n.toLocalTime=function(){return this._dateTime.toLocalTime()},n.toOffsetTime=function(){return Ws.of(this._dateTime.toLocalTime(),this._offset)},n.toZonedDateTime=function(){return Ks.of(this._dateTime,this._offset)},n.toInstant=function(){return this._dateTime.toInstant(this._offset)},n.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},n.isSupported=function(t){return t instanceof Ar||t instanceof gr?t.isDateBased()||t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.range=function(t){return t instanceof Ar?t===Ar.INSTANT_SECONDS||t===Ar.OFFSET_SECONDS?t.range():this._dateTime.range(t):t.rangeRefinedBy(this)},n.withAdjuster=function(t){return ar(t),t instanceof Zs||t instanceof qs||t instanceof Ys?this._withDateTimeOffset(this._dateTime.with(t),this._offset):t instanceof Qs?i.ofInstant(t,this._offset):t instanceof Wr?this._withDateTimeOffset(this._dateTime,t):t instanceof i?t:t.adjustInto(this)},n.withFieldValue=function(t,n){if(ar(t),t instanceof Ar){var e=t;switch(e){case Ar.INSTANT_SECONDS:return i.ofInstant(Qs.ofEpochSecond(n,this.nano()),this._offset);case Ar.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,Wr.ofTotalSeconds(e.checkValidIntValue(n)))}return this._withDateTimeOffset(this._dateTime.with(t,n),this._offset)}return t.adjustInto(this,n)},n._withDateTimeOffset=function(t,n){return this._dateTime===t&&this._offset.equals(n)?this:new i(t,n)},n.withYear=function(t){return this._withDateTimeOffset(this._dateTime.withYear(t),this._offset)},n.withMonth=function(t){return this._withDateTimeOffset(this._dateTime.withMonth(t),this._offset)},n.withDayOfMonth=function(t){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(t),this._offset)},n.withDayOfYear=function(t){return this._withDateTimeOffset(this._dateTime.withDayOfYear(t),this._offset)},n.withHour=function(t){return this._withDateTimeOffset(this._dateTime.withHour(t),this._offset)},n.withMinute=function(t){return this._withDateTimeOffset(this._dateTime.withMinute(t),this._offset)},n.withSecond=function(t){return this._withDateTimeOffset(this._dateTime.withSecond(t),this._offset)},n.withNano=function(t){return this._withDateTimeOffset(this._dateTime.withNano(t),this._offset)},n.withOffsetSameLocal=function(t){return ar(t,"offset"),this._withDateTimeOffset(this._dateTime,t)},n.withOffsetSameInstant=function(t){if(ar(t,"offset"),t.equals(this._offset))return this;var n=t.totalSeconds()-this._offset.totalSeconds();return new i(this._dateTime.plusSeconds(n),t)},n.truncatedTo=function(t){return this._withDateTimeOffset(this._dateTime.truncatedTo(t),this._offset)},n.plusAmount=function(t){return ar(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,i){return i instanceof gr?this._withDateTimeOffset(this._dateTime.plus(t,i),this._offset):i.addTo(this,t)},n.plusYears=function(t){return this._withDateTimeOffset(this._dateTime.plusYears(t),this._offset)},n.plusMonths=function(t){return this._withDateTimeOffset(this._dateTime.plusMonths(t),this._offset)},n.plusWeeks=function(t){return this._withDateTimeOffset(this._dateTime.plusWeeks(t),this._offset)},n.plusDays=function(t){return this._withDateTimeOffset(this._dateTime.plusDays(t),this._offset)},n.plusHours=function(t){return this._withDateTimeOffset(this._dateTime.plusHours(t),this._offset)},n.plusMinutes=function(t){return this._withDateTimeOffset(this._dateTime.plusMinutes(t),this._offset)},n.plusSeconds=function(t){return this._withDateTimeOffset(this._dateTime.plusSeconds(t),this._offset)},n.plusNanos=function(t){return this._withDateTimeOffset(this._dateTime.plusNanos(t),this._offset)},n.minusAmount=function(t){return ar(t),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return this.plus(-1*t,i)},n.minusYears=function(t){return this._withDateTimeOffset(this._dateTime.minusYears(t),this._offset)},n.minusMonths=function(t){return this._withDateTimeOffset(this._dateTime.minusMonths(t),this._offset)},n.minusWeeks=function(t){return this._withDateTimeOffset(this._dateTime.minusWeeks(t),this._offset)},n.minusDays=function(t){return this._withDateTimeOffset(this._dateTime.minusDays(t),this._offset)},n.minusHours=function(t){return this._withDateTimeOffset(this._dateTime.minusHours(t),this._offset)},n.minusMinutes=function(t){return this._withDateTimeOffset(this._dateTime.minusMinutes(t),this._offset)},n.minusSeconds=function(t){return this._withDateTimeOffset(this._dateTime.minusSeconds(t),this._offset)},n.minusNanos=function(t){return this._withDateTimeOffset(this._dateTime.minusNanos(t),this._offset)},n.compareTo=function(t){if(ar(t,"other"),cr(t,i,"other"),this.offset().equals(t.offset()))return this.toLocalDateTime().compareTo(t.toLocalDateTime());var n=lr.compareNumbers(this.toEpochSecond(),t.toEpochSecond());return 0===n&&0===(n=this.toLocalTime().nano()-t.toLocalTime().nano())&&(n=this.toLocalDateTime().compareTo(t.toLocalDateTime())),n},n.isAfter=function(t){ar(t,"other");var i=this.toEpochSecond(),n=t.toEpochSecond();return i>n||i===n&&this.toLocalTime().nano()>t.toLocalTime().nano()},n.isBefore=function(t){ar(t,"other");var i=this.toEpochSecond(),n=t.toEpochSecond();return i<n||i===n&&this.toLocalTime().nano()<t.toLocalTime().nano()},n.isEqual=function(t){return ar(t,"other"),this.toEpochSecond()===t.toEpochSecond()&&this.toLocalTime().nano()===t.toLocalTime().nano()},n.equals=function(t){return this===t||t instanceof i&&(this._dateTime.equals(t._dateTime)&&this._offset.equals(t._offset))},n.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},n.toString=function(){return this._dateTime.toString()+this._offset.toString()},n.toJSON=function(){return this.toString()},n.format=function(t){return ar(t,"formatter"),t.format(this)},i}(Ur);var Zs=function(t){function i(n,e,r){var s;return s=t.call(this)||this,ar(n,"year"),ar(e,"month"),ar(r,"dayOfMonth"),e instanceof Tr&&(e=e.value()),s._year=lr.safeToInt(n),s._month=lr.safeToInt(e),s._day=lr.safeToInt(r),i._validate(s._year,s._month,s._day),s}or(i,t),i.now=function(t){var n;return n=null==t?Js.systemDefaultZone():t instanceof zr?Js.system(t):t,i.ofInstant(n.instant(),n.zone())},i.ofInstant=function(t,n){void 0===n&&(n=zr.systemDefault()),ar(t,"instant");var e=n.rules().offset(t),r=t.epochSecond()+e.totalSeconds(),s=lr.floorDiv(r,qs.SECONDS_PER_DAY);return i.ofEpochDay(s)},i.of=function(t,n,e){return new i(t,n,e)},i.ofYearDay=function(t,n){Ar.YEAR.checkValidValue(t);var e=Hs.isLeapYear(t);366===n&&!1===e&&ur(!1,"Invalid date 'DayOfYear 366' as '"+t+"' is not a leap year",Xe);var r=Tr.of(Math.floor((n-1)/31+1));n>r.firstDayOfYear(e)+r.length(e)-1&&(r=r.plus(1));var s=n-r.firstDayOfYear(e)+1;return new i(t,r.value(),s)},i.ofEpochDay=function(t){var n,e,r,s,o;void 0===t&&(t=0),o=t+719528,n=0,(o-=60)<0&&(n=400*(e=lr.intDiv(o+1,146097)-1),o+=146097*-e),(r=o-(365*(s=lr.intDiv(400*o+591,146097))+lr.intDiv(s,4)-lr.intDiv(s,100)+lr.intDiv(s,400)))<0&&(r=o-(365*--s+lr.intDiv(s,4)-lr.intDiv(s,100)+lr.intDiv(s,400))),s+=n;var h=r,u=lr.intDiv(5*h+2,153),a=(u+2)%12+1,c=h-lr.intDiv(306*u+5,10)+1;return new i(s+=lr.intDiv(u,10),a,c)},i.from=function(t){ar(t,"temporal");var i=t.query(xr.localDate());if(null==i)throw new Xe("Unable to obtain LocalDate from TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""));return i},i.parse=function(t,n){return void 0===n&&(n=Ns.ISO_LOCAL_DATE),ur(null!=n,"formatter",sr),n.parse(t,i.FROM)},i._resolvePreviousValid=function(t,n,e){switch(n){case 2:e=Math.min(e,Hs.isLeapYear(t)?29:28);break;case 4:case 6:case 9:case 11:e=Math.min(e,30)}return i.of(t,n,e)},i._validate=function(t,i,n){var e;if(Ar.YEAR.checkValidValue(t),Ar.MONTH_OF_YEAR.checkValidValue(i),Ar.DAY_OF_MONTH.checkValidValue(n),n>28){switch(e=31,i){case 2:e=Hs.isLeapYear(t)?29:28;break;case 4:case 6:case 9:case 11:e=30}n>e&&ur(!1,29===n?"Invalid date 'February 29' as '"+t+"' is not a leap year":"Invalid date '"+t+"' '"+i+"' '"+n+"'",Xe)}};var n=i.prototype;return n.isSupported=function(i){return t.prototype.isSupported.call(this,i)},n.range=function(t){if(t instanceof Ar){if(t.isDateBased()){switch(t){case Ar.DAY_OF_MONTH:return yr.of(1,this.lengthOfMonth());case Ar.DAY_OF_YEAR:return yr.of(1,this.lengthOfYear());case Ar.ALIGNED_WEEK_OF_MONTH:return yr.of(1,this.month()===Tr.FEBRUARY&&!1===this.isLeapYear()?4:5);case Ar.YEAR_OF_ERA:return this._year<=0?yr.of(1,Fs.MAX_VALUE+1):yr.of(1,Fs.MAX_VALUE)}return t.range()}throw new ir("Unsupported field: "+t)}return t.rangeRefinedBy(this)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){return ur(null!=t,"",sr),t instanceof Ar?this._get0(t):t.getFrom(this)},n._get0=function(t){switch(t){case Ar.DAY_OF_WEEK:return this.dayOfWeek().value();case Ar.ALIGNED_DAY_OF_WEEK_IN_MONTH:return lr.intMod(this._day-1,7)+1;case Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR:return lr.intMod(this.dayOfYear()-1,7)+1;case Ar.DAY_OF_MONTH:return this._day;case Ar.DAY_OF_YEAR:return this.dayOfYear();case Ar.EPOCH_DAY:return this.toEpochDay();case Ar.ALIGNED_WEEK_OF_MONTH:return lr.intDiv(this._day-1,7)+1;case Ar.ALIGNED_WEEK_OF_YEAR:return lr.intDiv(this.dayOfYear()-1,7)+1;case Ar.MONTH_OF_YEAR:return this._month;case Ar.PROLEPTIC_MONTH:return this._prolepticMonth();case Ar.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case Ar.YEAR:return this._year;case Ar.ERA:return this._year>=1?1:0}throw new ir("Unsupported field: "+t)},n._prolepticMonth=function(){return 12*this._year+(this._month-1)},n.chronology=function(){return Hs.INSTANCE},n.year=function(){return this._year},n.monthValue=function(){return this._month},n.month=function(){return Tr.of(this._month)},n.dayOfMonth=function(){return this._day},n.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},n.dayOfWeek=function(){var t=lr.floorMod(this.toEpochDay()+3,7);return Ir.of(t+1)},n.isLeapYear=function(){return Hs.isLeapYear(this._year)},n.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},n.lengthOfYear=function(){return this.isLeapYear()?366:365},n.withAdjuster=function(t){return ar(t,"adjuster"),t instanceof i?t:(ur("function"==typeof t.adjustInto,"adjuster",er),t.adjustInto(this))},n.withFieldValue=function(t,n){if(ur(null!=t,"field",sr),t instanceof Ar){var e=t;switch(e.checkValidValue(n),e){case Ar.DAY_OF_WEEK:return this.plusDays(n-this.dayOfWeek().value());case Ar.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(n-this.getLong(Ar.ALIGNED_DAY_OF_WEEK_IN_MONTH));case Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(n-this.getLong(Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR));case Ar.DAY_OF_MONTH:return this.withDayOfMonth(n);case Ar.DAY_OF_YEAR:return this.withDayOfYear(n);case Ar.EPOCH_DAY:return i.ofEpochDay(n);case Ar.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(n-this.getLong(Ar.ALIGNED_WEEK_OF_MONTH));case Ar.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(n-this.getLong(Ar.ALIGNED_WEEK_OF_YEAR));case Ar.MONTH_OF_YEAR:return this.withMonth(n);case Ar.PROLEPTIC_MONTH:return this.plusMonths(n-this.getLong(Ar.PROLEPTIC_MONTH));case Ar.YEAR_OF_ERA:return this.withYear(this._year>=1?n:1-n);case Ar.YEAR:return this.withYear(n);case Ar.ERA:return this.getLong(Ar.ERA)===n?this:this.withYear(1-this._year)}throw new ir("Unsupported field: "+t)}return t.adjustInto(this,n)},n.withYear=function(t){return this._year===t?this:(Ar.YEAR.checkValidValue(t),i._resolvePreviousValid(t,this._month,this._day))},n.withMonth=function(t){var n=t instanceof Tr?t.value():t;return this._month===n?this:(Ar.MONTH_OF_YEAR.checkValidValue(n),i._resolvePreviousValid(this._year,n,this._day))},n.withDayOfMonth=function(t){return this._day===t?this:i.of(this._year,this._month,t)},n.withDayOfYear=function(t){return this.dayOfYear()===t?this:i.ofYearDay(this._year,t)},n.plusAmount=function(t){return ar(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,i){if(ar(t,"amountToAdd"),ar(i,"unit"),i instanceof gr){switch(i){case gr.DAYS:return this.plusDays(t);case gr.WEEKS:return this.plusWeeks(t);case gr.MONTHS:return this.plusMonths(t);case gr.YEARS:return this.plusYears(t);case gr.DECADES:return this.plusYears(lr.safeMultiply(t,10));case gr.CENTURIES:return this.plusYears(lr.safeMultiply(t,100));case gr.MILLENNIA:return this.plusYears(lr.safeMultiply(t,1e3));case gr.ERAS:return this.with(Ar.ERA,lr.safeAdd(this.getLong(Ar.ERA),t))}throw new ir("Unsupported unit: "+i)}return i.addTo(this,t)},n.plusYears=function(t){if(0===t)return this;var n=Ar.YEAR.checkValidIntValue(this._year+t);return i._resolvePreviousValid(n,this._month,this._day)},n.plusMonths=function(t){if(0===t)return this;var n=12*this._year+(this._month-1)+t,e=Ar.YEAR.checkValidIntValue(lr.floorDiv(n,12)),r=lr.floorMod(n,12)+1;return i._resolvePreviousValid(e,r,this._day)},n.plusWeeks=function(t){return this.plusDays(lr.safeMultiply(t,7))},n.plusDays=function(t){if(0===t)return this;var n=lr.safeAdd(this.toEpochDay(),t);return i.ofEpochDay(n)},n.minusAmount=function(t){return ar(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return ar(t,"amountToSubtract"),ar(i,"unit"),this.plusAmountUnit(-1*t,i)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.query=function(i){return ar(i,"query"),i===xr.localDate()?this:t.prototype.query.call(this,i)},n.adjustInto=function(i){return t.prototype.adjustInto.call(this,i)},n.until=function(t,i){return arguments.length<2?this.until1(t):this.until2(t,i)},n.until2=function(t,n){var e=i.from(t);if(n instanceof gr){switch(n){case gr.DAYS:return this.daysUntil(e);case gr.WEEKS:return lr.intDiv(this.daysUntil(e),7);case gr.MONTHS:return this._monthsUntil(e);case gr.YEARS:return lr.intDiv(this._monthsUntil(e),12);case gr.DECADES:return lr.intDiv(this._monthsUntil(e),120);case gr.CENTURIES:return lr.intDiv(this._monthsUntil(e),1200);case gr.MILLENNIA:return lr.intDiv(this._monthsUntil(e),12e3);case gr.ERAS:return e.getLong(Ar.ERA)-this.getLong(Ar.ERA)}throw new ir("Unsupported unit: "+n)}return n.between(this,e)},n.daysUntil=function(t){return t.toEpochDay()-this.toEpochDay()},n._monthsUntil=function(t){var i=32*this._prolepticMonth()+this.dayOfMonth(),n=32*t._prolepticMonth()+t.dayOfMonth();return lr.intDiv(n-i,32)},n.until1=function(t){var n=i.from(t),e=n._prolepticMonth()-this._prolepticMonth(),r=n._day-this._day;if(e>0&&r<0){e--;var s=this.plusMonths(e);r=n.toEpochDay()-s.toEpochDay()}else e<0&&r>0&&(e++,r-=n.lengthOfMonth());var o=lr.intDiv(e,12),h=lr.intMod(e,12);return Or.of(o,h,r)},n.atTime=function(){return 1===arguments.length?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},n.atTime1=function(t){if(ar(t,"time"),t instanceof qs)return Ys.of(this,t);if(t instanceof Ws)return this._atTimeOffsetTime(t);throw new er("time must be an instance of LocalTime or OffsetTime"+(t&&t.constructor&&t.constructor.name?", but is "+t.constructor.name:""))},n.atTime4=function(t,i,n,e){return void 0===n&&(n=0),void 0===e&&(e=0),this.atTime1(qs.of(t,i,n,e))},n._atTimeOffsetTime=function(t){return Gs.of(Ys.of(this,t.toLocalTime()),t.offset())},n.atStartOfDay=function(t){return null!=t?this.atStartOfDayWithZone(t):Ys.of(this,qs.MIDNIGHT)},n.atStartOfDayWithZone=function(t){ar(t,"zone");var i=this.atTime(qs.MIDNIGHT);if(t instanceof Wr==!1){var n=t.rules().transition(i);null!=n&&n.isGap()&&(i=n.dateTimeAfter())}return Ks.of(i,t)},n.toEpochDay=function(){var t=this._year,i=this._month,n=0;return n+=365*t,t>=0?n+=lr.intDiv(t+3,4)-lr.intDiv(t+99,100)+lr.intDiv(t+399,400):n-=lr.intDiv(t,-4)-lr.intDiv(t,-100)+lr.intDiv(t,-400),n+=lr.intDiv(367*i-362,12),n+=this.dayOfMonth()-1,i>2&&(n--,Hs.isLeapYear(t)||n--),n-719528},n.compareTo=function(t){return ar(t,"other"),cr(t,i,"other"),this._compareTo0(t)},n._compareTo0=function(t){var i=this._year-t._year;return 0===i&&0===(i=this._month-t._month)&&(i=this._day-t._day),i},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.isEqual=function(t){return 0===this.compareTo(t)},n.equals=function(t){return this===t||t instanceof i&&0===this._compareTo0(t)},n.hashCode=function(){var t=this._year,i=this._month,n=this._day;return lr.hash(4294965248&t^(t<<11)+(i<<6)+n)},n.toString=function(){var t=this._year,i=this._month,n=this._day;return(Math.abs(t)<1e3?t<0?"-"+(""+(t-1e4)).slice(-4):(""+(t+1e4)).slice(-4):t>9999?"+"+t:""+t)+(i<10?"-0"+i:"-"+i)+(n<10?"-0"+n:"-"+n)},n.toJSON=function(){return this.toString()},n.format=function(i){return ar(i,"formatter"),cr(i,Ns,"formatter"),t.prototype.format.call(this,i)},i}(Pr);var Ys=function(t){function i(i,n){var e;return e=t.call(this)||this,cr(i,Zs,"date"),cr(n,qs,"time"),e._date=i,e._time=n,e}or(i,t),i.now=function(t){return null==t?i._now(Js.systemDefaultZone()):t instanceof Js?i._now(t):i._now(Js.system(t))},i._now=function(t){return ar(t,"clock"),i.ofInstant(t.instant(),t.zone())},i._ofEpochMillis=function(t,n){var e=lr.floorDiv(t,1e3)+n.totalSeconds(),r=lr.floorDiv(e,qs.SECONDS_PER_DAY),s=lr.floorMod(e,qs.SECONDS_PER_DAY),o=1e6*lr.floorMod(t,1e3);return new i(Zs.ofEpochDay(r),qs.ofSecondOfDay(s,o))},i.of=function(){return arguments.length<=2?i.ofDateAndTime.apply(this,arguments):i.ofNumbers.apply(this,arguments)},i.ofNumbers=function(t,n,e,r,s,o,h){return void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===h&&(h=0),new i(Zs.of(t,n,e),qs.of(r,s,o,h))},i.ofDateAndTime=function(t,n){return ar(t,"date"),ar(n,"time"),new i(t,n)},i.ofInstant=function(t,n){void 0===n&&(n=zr.systemDefault()),ar(t,"instant"),cr(t,Qs,"instant"),ar(n,"zone");var e=n.rules().offset(t);return i.ofEpochSecond(t.epochSecond(),t.nano(),e)},i.ofEpochSecond=function(t,n,e){void 0===t&&(t=0),void 0===n&&(n=0),2===arguments.length&&n instanceof Wr&&(e=n,n=0),ar(e,"offset");var r=t+e.totalSeconds(),s=lr.floorDiv(r,qs.SECONDS_PER_DAY),o=lr.floorMod(r,qs.SECONDS_PER_DAY),h=Zs.ofEpochDay(s),u=qs.ofSecondOfDay(o,n);return new i(h,u)},i.from=function(t){if(ar(t,"temporal"),t instanceof i)return t;if(t instanceof Ks)return t.toLocalDateTime();try{return new i(Zs.from(t),qs.from(t))}catch(i){throw new Xe("Unable to obtain LocalDateTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""))}},i.parse=function(t,n){return void 0===n&&(n=Ns.ISO_LOCAL_DATE_TIME),ar(n,"formatter"),n.parse(t,i.FROM)};var n=i.prototype;return n._withDateTime=function(t,n){return this._date.equals(t)&&this._time.equals(n)?this:new i(t,n)},n.isSupported=function(t){return t instanceof Ar||t instanceof gr?t.isDateBased()||t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.range=function(t){return t instanceof Ar?t.isTimeBased()?this._time.range(t):this._date.range(t):t.rangeRefinedBy(this)},n.get=function(i){return i instanceof Ar?i.isTimeBased()?this._time.get(i):this._date.get(i):t.prototype.get.call(this,i)},n.getLong=function(t){return ar(t,"field"),t instanceof Ar?t.isTimeBased()?this._time.getLong(t):this._date.getLong(t):t.getFrom(this)},n.year=function(){return this._date.year()},n.monthValue=function(){return this._date.monthValue()},n.month=function(){return this._date.month()},n.dayOfMonth=function(){return this._date.dayOfMonth()},n.dayOfYear=function(){return this._date.dayOfYear()},n.dayOfWeek=function(){return this._date.dayOfWeek()},n.hour=function(){return this._time.hour()},n.minute=function(){return this._time.minute()},n.second=function(){return this._time.second()},n.nano=function(){return this._time.nano()},n.withAdjuster=function(t){return ar(t,"adjuster"),t instanceof Zs?this._withDateTime(t,this._time):t instanceof qs?this._withDateTime(this._date,t):t instanceof i?t:(ur("function"==typeof t.adjustInto,"adjuster",er),t.adjustInto(this))},n.withFieldValue=function(t,i){return ar(t,"field"),t instanceof Ar?t.isTimeBased()?this._withDateTime(this._date,this._time.with(t,i)):this._withDateTime(this._date.with(t,i),this._time):t.adjustInto(this,i)},n.withYear=function(t){return this._withDateTime(this._date.withYear(t),this._time)},n.withMonth=function(t){return this._withDateTime(this._date.withMonth(t),this._time)},n.withDayOfMonth=function(t){return this._withDateTime(this._date.withDayOfMonth(t),this._time)},n.withDayOfYear=function(t){return this._withDateTime(this._date.withDayOfYear(t),this._time)},n.withHour=function(t){var i=this._time.withHour(t);return this._withDateTime(this._date,i)},n.withMinute=function(t){var i=this._time.withMinute(t);return this._withDateTime(this._date,i)},n.withSecond=function(t){var i=this._time.withSecond(t);return this._withDateTime(this._date,i)},n.withNano=function(t){var i=this._time.withNano(t);return this._withDateTime(this._date,i)},n.truncatedTo=function(t){return this._withDateTime(this._date,this._time.truncatedTo(t))},n.plusAmount=function(t){return ar(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,i){if(ar(i,"unit"),i instanceof gr){switch(i){case gr.NANOS:return this.plusNanos(t);case gr.MICROS:return this.plusDays(lr.intDiv(t,qs.MICROS_PER_DAY)).plusNanos(1e3*lr.intMod(t,qs.MICROS_PER_DAY));case gr.MILLIS:return this.plusDays(lr.intDiv(t,qs.MILLIS_PER_DAY)).plusNanos(1e6*lr.intMod(t,qs.MILLIS_PER_DAY));case gr.SECONDS:return this.plusSeconds(t);case gr.MINUTES:return this.plusMinutes(t);case gr.HOURS:return this.plusHours(t);case gr.HALF_DAYS:return this.plusDays(lr.intDiv(t,256)).plusHours(12*lr.intMod(t,256))}return this._withDateTime(this._date.plus(t,i),this._time)}return i.addTo(this,t)},n.plusYears=function(t){var i=this._date.plusYears(t);return this._withDateTime(i,this._time)},n.plusMonths=function(t){var i=this._date.plusMonths(t);return this._withDateTime(i,this._time)},n.plusWeeks=function(t){var i=this._date.plusWeeks(t);return this._withDateTime(i,this._time)},n.plusDays=function(t){var i=this._date.plusDays(t);return this._withDateTime(i,this._time)},n.plusHours=function(t){return this._plusWithOverflow(this._date,t,0,0,0,1)},n.plusMinutes=function(t){return this._plusWithOverflow(this._date,0,t,0,0,1)},n.plusSeconds=function(t){return this._plusWithOverflow(this._date,0,0,t,0,1)},n.plusNanos=function(t){return this._plusWithOverflow(this._date,0,0,0,t,1)},n.minusAmount=function(t){return ar(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return ar(i,"unit"),this.plusAmountUnit(-1*t,i)},n.minusYears=function(t){return this.plusYears(-1*t)},n.minusMonths=function(t){return this.plusMonths(-1*t)},n.minusWeeks=function(t){return this.plusWeeks(-1*t)},n.minusDays=function(t){return this.plusDays(-1*t)},n.minusHours=function(t){return this._plusWithOverflow(this._date,t,0,0,0,-1)},n.minusMinutes=function(t){return this._plusWithOverflow(this._date,0,t,0,0,-1)},n.minusSeconds=function(t){return this._plusWithOverflow(this._date,0,0,t,0,-1)},n.minusNanos=function(t){return this._plusWithOverflow(this._date,0,0,0,t,-1)},n._plusWithOverflow=function(t,i,n,e,r,s){if(0===i&&0===n&&0===e&&0===r)return this._withDateTime(t,this._time);var o=lr.intDiv(r,qs.NANOS_PER_DAY)+lr.intDiv(e,qs.SECONDS_PER_DAY)+lr.intDiv(n,qs.MINUTES_PER_DAY)+lr.intDiv(i,qs.HOURS_PER_DAY);o*=s;var h=lr.intMod(r,qs.NANOS_PER_DAY)+lr.intMod(e,qs.SECONDS_PER_DAY)*qs.NANOS_PER_SECOND+lr.intMod(n,qs.MINUTES_PER_DAY)*qs.NANOS_PER_MINUTE+lr.intMod(i,qs.HOURS_PER_DAY)*qs.NANOS_PER_HOUR,u=this._time.toNanoOfDay();h=h*s+u,o+=lr.floorDiv(h,qs.NANOS_PER_DAY);var a=lr.floorMod(h,qs.NANOS_PER_DAY),c=a===u?this._time:qs.ofNanoOfDay(a);return this._withDateTime(t.plusDays(o),c)},n.query=function(i){return ar(i,"query"),i===xr.localDate()?this.toLocalDate():t.prototype.query.call(this,i)},n.adjustInto=function(i){return t.prototype.adjustInto.call(this,i)},n.until=function(t,n){ar(t,"endExclusive"),ar(n,"unit");var e=i.from(t);if(n instanceof gr){if(n.isTimeBased()){var r=this._date.daysUntil(e._date),s=e._time.toNanoOfDay()-this._time.toNanoOfDay();r>0&&s<0?(r--,s+=qs.NANOS_PER_DAY):r<0&&s>0&&(r++,s-=qs.NANOS_PER_DAY);var o=r;switch(n){case gr.NANOS:return o=lr.safeMultiply(o,qs.NANOS_PER_DAY),lr.safeAdd(o,s);case gr.MICROS:return o=lr.safeMultiply(o,qs.MICROS_PER_DAY),lr.safeAdd(o,lr.intDiv(s,1e3));case gr.MILLIS:return o=lr.safeMultiply(o,qs.MILLIS_PER_DAY),lr.safeAdd(o,lr.intDiv(s,1e6));case gr.SECONDS:return o=lr.safeMultiply(o,qs.SECONDS_PER_DAY),lr.safeAdd(o,lr.intDiv(s,qs.NANOS_PER_SECOND));case gr.MINUTES:return o=lr.safeMultiply(o,qs.MINUTES_PER_DAY),lr.safeAdd(o,lr.intDiv(s,qs.NANOS_PER_MINUTE));case gr.HOURS:return o=lr.safeMultiply(o,qs.HOURS_PER_DAY),lr.safeAdd(o,lr.intDiv(s,qs.NANOS_PER_HOUR));case gr.HALF_DAYS:return o=lr.safeMultiply(o,2),lr.safeAdd(o,lr.intDiv(s,12*qs.NANOS_PER_HOUR))}throw new ir("Unsupported unit: "+n)}var h=e._date,u=e._time;return h.isAfter(this._date)&&u.isBefore(this._time)?h=h.minusDays(1):h.isBefore(this._date)&&u.isAfter(this._time)&&(h=h.plusDays(1)),this._date.until(h,n)}return n.between(this,e)},n.atOffset=function(t){return Gs.of(this,t)},n.atZone=function(t){return Ks.of(this,t)},n.toLocalDate=function(){return this._date},n.toLocalTime=function(){return this._time},n.compareTo=function(t){return ar(t,"other"),cr(t,i,"other"),this._compareTo0(t)},n._compareTo0=function(t){var i=this._date.compareTo(t.toLocalDate());return 0===i&&(i=this._time.compareTo(t.toLocalTime())),i},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.isEqual=function(t){return 0===this.compareTo(t)},n.equals=function(t){return this===t||t instanceof i&&(this._date.equals(t._date)&&this._time.equals(t._time))},n.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},n.toString=function(){return this._date.toString()+"T"+this._time.toString()},n.toJSON=function(){return this.toString()},n.format=function(t){return ar(t,"formatter"),t.format(this)},i}(function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.chronology=function(){return this.toLocalDate().chronology()},n.query=function(i){return i===xr.chronology()?this.chronology():i===xr.precision()?gr.NANOS:i===xr.localDate()?Zs.ofEpochDay(this.toLocalDate().toEpochDay()):i===xr.localTime()?this.toLocalTime():i===xr.zone()||i===xr.zoneId()||i===xr.offset()?null:t.prototype.query.call(this,i)},n.adjustInto=function(t){return t.with(Ar.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(Ar.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},n.toInstant=function(t){return cr(t,Wr,"zoneId"),Qs.ofEpochSecond(this.toEpochSecond(t),this.toLocalTime().nano())},n.toEpochSecond=function(t){ar(t,"offset");var i=86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay();return i-=t.totalSeconds(),lr.safeToInt(i)},i}(Ur));var qs=function(t){function i(n,e,r,s){var o;void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===s&&(s=0),o=t.call(this)||this;var h=lr.safeToInt(n),u=lr.safeToInt(e),a=lr.safeToInt(r),c=lr.safeToInt(s);return i._validate(h,u,a,c),0===u&&0===a&&0===c?(i.HOURS[h]||(o._hour=h,o._minute=u,o._second=a,o._nano=c,i.HOURS[h]=hr(o)),i.HOURS[h]||hr(o)):(o._hour=h,o._minute=u,o._second=a,o._nano=c,o)}or(i,t),i.now=function(t){return null==t?i._now(Js.systemDefaultZone()):t instanceof Js?i._now(t):i._now(Js.system(t))},i._now=function(t){return void 0===t&&(t=Js.systemDefaultZone()),ar(t,"clock"),i.ofInstant(t.instant(),t.zone())},i.ofInstant=function(t,n){void 0===n&&(n=zr.systemDefault());var e=n.rules().offset(t),r=lr.intMod(t.epochSecond(),i.SECONDS_PER_DAY);return(r=lr.intMod(r+e.totalSeconds(),i.SECONDS_PER_DAY))<0&&(r+=i.SECONDS_PER_DAY),i.ofSecondOfDay(r,t.nano())},i.of=function(t,n,e,r){return new i(t,n,e,r)},i.ofSecondOfDay=function(t,n){void 0===t&&(t=0),void 0===n&&(n=0),Ar.SECOND_OF_DAY.checkValidValue(t),Ar.NANO_OF_SECOND.checkValidValue(n);var e=lr.intDiv(t,i.SECONDS_PER_HOUR);t-=e*i.SECONDS_PER_HOUR;var r=lr.intDiv(t,i.SECONDS_PER_MINUTE);return new i(e,r,t-=r*i.SECONDS_PER_MINUTE,n)},i.ofNanoOfDay=function(t){void 0===t&&(t=0),Ar.NANO_OF_DAY.checkValidValue(t);var n=lr.intDiv(t,i.NANOS_PER_HOUR);t-=n*i.NANOS_PER_HOUR;var e=lr.intDiv(t,i.NANOS_PER_MINUTE);t-=e*i.NANOS_PER_MINUTE;var r=lr.intDiv(t,i.NANOS_PER_SECOND);return new i(n,e,r,t-=r*i.NANOS_PER_SECOND)},i.from=function(t){ar(t,"temporal");var i=t.query(xr.localTime());if(null==i)throw new Xe("Unable to obtain LocalTime TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""));return i},i.parse=function(t,n){return void 0===n&&(n=Ns.ISO_LOCAL_TIME),ar(n,"formatter"),n.parse(t,i.FROM)},i._validate=function(t,i,n,e){Ar.HOUR_OF_DAY.checkValidValue(t),Ar.MINUTE_OF_HOUR.checkValidValue(i),Ar.SECOND_OF_MINUTE.checkValidValue(n),Ar.NANO_OF_SECOND.checkValidValue(e)};var n=i.prototype;return n.isSupported=function(t){return t instanceof Ar||t instanceof gr?t.isTimeBased():null!=t&&t.isSupportedBy(this)},n.range=function(i){return ar(i),t.prototype.range.call(this,i)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){return ar(t,"field"),t instanceof Ar?this._get0(t):t.getFrom(this)},n._get0=function(t){switch(t){case Ar.NANO_OF_SECOND:return this._nano;case Ar.NANO_OF_DAY:return this.toNanoOfDay();case Ar.MICRO_OF_SECOND:return lr.intDiv(this._nano,1e3);case Ar.MICRO_OF_DAY:return lr.intDiv(this.toNanoOfDay(),1e3);case Ar.MILLI_OF_SECOND:return lr.intDiv(this._nano,1e6);case Ar.MILLI_OF_DAY:return lr.intDiv(this.toNanoOfDay(),1e6);case Ar.SECOND_OF_MINUTE:return this._second;case Ar.SECOND_OF_DAY:return this.toSecondOfDay();case Ar.MINUTE_OF_HOUR:return this._minute;case Ar.MINUTE_OF_DAY:return 60*this._hour+this._minute;case Ar.HOUR_OF_AMPM:return lr.intMod(this._hour,12);case Ar.CLOCK_HOUR_OF_AMPM:var i=lr.intMod(this._hour,12);return i%12==0?12:i;case Ar.HOUR_OF_DAY:return this._hour;case Ar.CLOCK_HOUR_OF_DAY:return 0===this._hour?24:this._hour;case Ar.AMPM_OF_DAY:return lr.intDiv(this._hour,12)}throw new ir("Unsupported field: "+t)},n.hour=function(){return this._hour},n.minute=function(){return this._minute},n.second=function(){return this._second},n.nano=function(){return this._nano},n.withAdjuster=function(t){return ar(t,"adjuster"),t instanceof i?t:(ur("function"==typeof t.adjustInto,"adjuster",er),t.adjustInto(this))},n.withFieldValue=function(t,n){if(ar(t,"field"),cr(t,br,"field"),t instanceof Ar){switch(t.checkValidValue(n),t){case Ar.NANO_OF_SECOND:return this.withNano(n);case Ar.NANO_OF_DAY:return i.ofNanoOfDay(n);case Ar.MICRO_OF_SECOND:return this.withNano(1e3*n);case Ar.MICRO_OF_DAY:return i.ofNanoOfDay(1e3*n);case Ar.MILLI_OF_SECOND:return this.withNano(1e6*n);case Ar.MILLI_OF_DAY:return i.ofNanoOfDay(1e6*n);case Ar.SECOND_OF_MINUTE:return this.withSecond(n);case Ar.SECOND_OF_DAY:return this.plusSeconds(n-this.toSecondOfDay());case Ar.MINUTE_OF_HOUR:return this.withMinute(n);case Ar.MINUTE_OF_DAY:return this.plusMinutes(n-(60*this._hour+this._minute));case Ar.HOUR_OF_AMPM:return this.plusHours(n-lr.intMod(this._hour,12));case Ar.CLOCK_HOUR_OF_AMPM:return this.plusHours((12===n?0:n)-lr.intMod(this._hour,12));case Ar.HOUR_OF_DAY:return this.withHour(n);case Ar.CLOCK_HOUR_OF_DAY:return this.withHour(24===n?0:n);case Ar.AMPM_OF_DAY:return this.plusHours(12*(n-lr.intDiv(this._hour,12)))}throw new ir("Unsupported field: "+t)}return t.adjustInto(this,n)},n.withHour=function(t){return void 0===t&&(t=0),this._hour===t?this:new i(t,this._minute,this._second,this._nano)},n.withMinute=function(t){return void 0===t&&(t=0),this._minute===t?this:new i(this._hour,t,this._second,this._nano)},n.withSecond=function(t){return void 0===t&&(t=0),this._second===t?this:new i(this._hour,this._minute,t,this._nano)},n.withNano=function(t){return void 0===t&&(t=0),this._nano===t?this:new i(this._hour,this._minute,this._second,t)},n.truncatedTo=function(t){if(ar(t,"unit"),t===gr.NANOS)return this;var n=t.duration();if(n.seconds()>i.SECONDS_PER_DAY)throw new Xe("Unit is too large to be used for truncation");var e=n.toNanos();if(0!==lr.intMod(i.NANOS_PER_DAY,e))throw new Xe("Unit must divide into a standard day without remainder");var r=this.toNanoOfDay();return i.ofNanoOfDay(lr.intDiv(r,e)*e)},n.plusAmount=function(t){return ar(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,n){if(ar(n,"unit"),n instanceof gr){switch(n){case gr.NANOS:return this.plusNanos(t);case gr.MICROS:return this.plusNanos(1e3*lr.intMod(t,i.MICROS_PER_DAY));case gr.MILLIS:return this.plusNanos(1e6*lr.intMod(t,i.MILLIS_PER_DAY));case gr.SECONDS:return this.plusSeconds(t);case gr.MINUTES:return this.plusMinutes(t);case gr.HOURS:return this.plusHours(t);case gr.HALF_DAYS:return this.plusHours(12*lr.intMod(t,2))}throw new ir("Unsupported unit: "+n)}return n.addTo(this,t)},n.plusHours=function(t){return 0===t?this:new i(lr.intMod(lr.intMod(t,i.HOURS_PER_DAY)+this._hour+i.HOURS_PER_DAY,i.HOURS_PER_DAY),this._minute,this._second,this._nano)},n.plusMinutes=function(t){if(0===t)return this;var n=this._hour*i.MINUTES_PER_HOUR+this._minute,e=lr.intMod(lr.intMod(t,i.MINUTES_PER_DAY)+n+i.MINUTES_PER_DAY,i.MINUTES_PER_DAY);return n===e?this:new i(lr.intDiv(e,i.MINUTES_PER_HOUR),lr.intMod(e,i.MINUTES_PER_HOUR),this._second,this._nano)},n.plusSeconds=function(t){if(0===t)return this;var n=this._hour*i.SECONDS_PER_HOUR+this._minute*i.SECONDS_PER_MINUTE+this._second,e=lr.intMod(lr.intMod(t,i.SECONDS_PER_DAY)+n+i.SECONDS_PER_DAY,i.SECONDS_PER_DAY);return n===e?this:new i(lr.intDiv(e,i.SECONDS_PER_HOUR),lr.intMod(lr.intDiv(e,i.SECONDS_PER_MINUTE),i.MINUTES_PER_HOUR),lr.intMod(e,i.SECONDS_PER_MINUTE),this._nano)},n.plusNanos=function(t){if(0===t)return this;var n=this.toNanoOfDay(),e=lr.intMod(lr.intMod(t,i.NANOS_PER_DAY)+n+i.NANOS_PER_DAY,i.NANOS_PER_DAY);return n===e?this:new i(lr.intDiv(e,i.NANOS_PER_HOUR),lr.intMod(lr.intDiv(e,i.NANOS_PER_MINUTE),i.MINUTES_PER_HOUR),lr.intMod(lr.intDiv(e,i.NANOS_PER_SECOND),i.SECONDS_PER_MINUTE),lr.intMod(e,i.NANOS_PER_SECOND))},n.minusAmount=function(t){return ar(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return ar(i,"unit"),this.plusAmountUnit(-1*t,i)},n.minusHours=function(t){return this.plusHours(-1*lr.intMod(t,i.HOURS_PER_DAY))},n.minusMinutes=function(t){return this.plusMinutes(-1*lr.intMod(t,i.MINUTES_PER_DAY))},n.minusSeconds=function(t){return this.plusSeconds(-1*lr.intMod(t,i.SECONDS_PER_DAY))},n.minusNanos=function(t){return this.plusNanos(-1*lr.intMod(t,i.NANOS_PER_DAY))},n.query=function(t){return ar(t,"query"),t===xr.precision()?gr.NANOS:t===xr.localTime()?this:t===xr.chronology()||t===xr.zoneId()||t===xr.zone()||t===xr.offset()||t===xr.localDate()?null:t.queryFrom(this)},n.adjustInto=function(t){return t.with(i.NANO_OF_DAY,this.toNanoOfDay())},n.until=function(t,n){ar(t,"endExclusive"),ar(n,"unit");var e=i.from(t);if(n instanceof gr){var r=e.toNanoOfDay()-this.toNanoOfDay();switch(n){case gr.NANOS:return r;case gr.MICROS:return lr.intDiv(r,1e3);case gr.MILLIS:return lr.intDiv(r,1e6);case gr.SECONDS:return lr.intDiv(r,i.NANOS_PER_SECOND);case gr.MINUTES:return lr.intDiv(r,i.NANOS_PER_MINUTE);case gr.HOURS:return lr.intDiv(r,i.NANOS_PER_HOUR);case gr.HALF_DAYS:return lr.intDiv(r,12*i.NANOS_PER_HOUR)}throw new ir("Unsupported unit: "+n)}return n.between(this,e)},n.atDate=function(t){return Ys.of(t,this)},n.toSecondOfDay=function(){var t=this._hour*i.SECONDS_PER_HOUR;return t+=this._minute*i.SECONDS_PER_MINUTE,t+=this._second},n.toNanoOfDay=function(){var t=this._hour*i.NANOS_PER_HOUR;return t+=this._minute*i.NANOS_PER_MINUTE,t+=this._second*i.NANOS_PER_SECOND,t+=this._nano},n.compareTo=function(t){ar(t,"other"),cr(t,i,"other");var n=lr.compareNumbers(this._hour,t._hour);return 0===n&&0===(n=lr.compareNumbers(this._minute,t._minute))&&0===(n=lr.compareNumbers(this._second,t._second))&&(n=lr.compareNumbers(this._nano,t._nano)),n},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){return this===t||t instanceof i&&(this._hour===t._hour&&this._minute===t._minute&&this._second===t._second&&this._nano===t._nano)},n.hashCode=function(){var t=this.toNanoOfDay();return lr.hash(t)},n.toString=function(){var t="",i=this._hour,n=this._minute,e=this._second,r=this._nano;return t+=i<10?"0":"",t+=i,t+=n<10?":0":":",t+=n,(e>0||r>0)&&(t+=e<10?":0":":",t+=e,r>0&&(t+=".",0===lr.intMod(r,1e6)?t+=(""+(lr.intDiv(r,1e6)+1e3)).substring(1):0===lr.intMod(r,1e3)?t+=(""+(lr.intDiv(r,1e3)+1e6)).substring(1):t+=(""+(r+1e9)).substring(1))),t},n.toJSON=function(){return this.toString()},n.format=function(t){return ar(t,"formatter"),t.format(this)},i}(jr);qs.HOURS_PER_DAY=24,qs.MINUTES_PER_HOUR=60,qs.MINUTES_PER_DAY=qs.MINUTES_PER_HOUR*qs.HOURS_PER_DAY,qs.SECONDS_PER_MINUTE=60,qs.SECONDS_PER_HOUR=qs.SECONDS_PER_MINUTE*qs.MINUTES_PER_HOUR,qs.SECONDS_PER_DAY=qs.SECONDS_PER_HOUR*qs.HOURS_PER_DAY,qs.MILLIS_PER_DAY=1e3*qs.SECONDS_PER_DAY,qs.MICROS_PER_DAY=1e6*qs.SECONDS_PER_DAY,qs.NANOS_PER_SECOND=1e9,qs.NANOS_PER_MINUTE=qs.NANOS_PER_SECOND*qs.SECONDS_PER_MINUTE,qs.NANOS_PER_HOUR=qs.NANOS_PER_MINUTE*qs.MINUTES_PER_HOUR,qs.NANOS_PER_DAY=qs.NANOS_PER_HOUR*qs.HOURS_PER_DAY;var Qs=function(t){function i(n,e){var r;return r=t.call(this)||this,i._validate(n,e),r._seconds=lr.safeToInt(n),r._nanos=lr.safeToInt(e),r}or(i,t),i.now=function(t){return void 0===t&&(t=Js.systemUTC()),t.instant()},i.ofEpochSecond=function(t,n){void 0===n&&(n=0);var e=t+lr.floorDiv(n,qs.NANOS_PER_SECOND),r=lr.floorMod(n,qs.NANOS_PER_SECOND);return i._create(e,r)},i.ofEpochMilli=function(t){var n=lr.floorDiv(t,1e3),e=lr.floorMod(t,1e3);return i._create(n,1e6*e)},i.from=function(t){try{var n=t.getLong(Ar.INSTANT_SECONDS),e=t.get(Ar.NANO_OF_SECOND);return i.ofEpochSecond(n,e)}catch(i){throw new Xe("Unable to obtain Instant from TemporalAccessor: "+t+", type "+typeof t,i)}},i.parse=function(t){return Ns.ISO_INSTANT.parse(t,i.FROM)},i._create=function(t,n){return 0===t&&0===n?i.EPOCH:new i(t,n)},i._validate=function(t,n){if(t<i.MIN_SECONDS||t>i.MAX_SECONDS)throw new Xe("Instant exceeds minimum or maximum instant");if(n<0||n>qs.NANOS_PER_SECOND)throw new Xe("Instant exceeds minimum or maximum instant")};var n=i.prototype;return n.isSupported=function(t){return t instanceof Ar?t===Ar.INSTANT_SECONDS||t===Ar.NANO_OF_SECOND||t===Ar.MICRO_OF_SECOND||t===Ar.MILLI_OF_SECOND:t instanceof gr?t.isTimeBased()||t===gr.DAYS:null!=t&&t.isSupportedBy(this)},n.range=function(i){return t.prototype.range.call(this,i)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(t instanceof Ar){switch(t){case Ar.NANO_OF_SECOND:return this._nanos;case Ar.MICRO_OF_SECOND:return lr.intDiv(this._nanos,1e3);case Ar.MILLI_OF_SECOND:return lr.intDiv(this._nanos,1e6);case Ar.INSTANT_SECONDS:return this._seconds}throw new ir("Unsupported field: "+t)}return t.getFrom(this)},n.epochSecond=function(){return this._seconds},n.nano=function(){return this._nanos},n.withAdjuster=function(t){return ar(t,"adjuster"),t.adjustInto(this)},n.withFieldValue=function(t,n){if(ar(t,"field"),t instanceof Ar){switch(t.checkValidValue(n),t){case Ar.MILLI_OF_SECOND:var e=1e6*n;return e!==this._nanos?i._create(this._seconds,e):this;case Ar.MICRO_OF_SECOND:var r=1e3*n;return r!==this._nanos?i._create(this._seconds,r):this;case Ar.NANO_OF_SECOND:return n!==this._nanos?i._create(this._seconds,n):this;case Ar.INSTANT_SECONDS:return n!==this._seconds?i._create(n,this._nanos):this}throw new ir("Unsupported field: "+t)}return t.adjustInto(this,n)},n.truncatedTo=function(t){if(ar(t,"unit"),t===gr.NANOS)return this;var i=t.duration();if(i.seconds()>qs.SECONDS_PER_DAY)throw new Xe("Unit is too large to be used for truncation");var n=i.toNanos();if(0!==lr.intMod(qs.NANOS_PER_DAY,n))throw new Xe("Unit must divide into a standard day without remainder");var e=lr.intMod(this._seconds,qs.SECONDS_PER_DAY)*qs.NANOS_PER_SECOND+this._nanos,r=lr.intDiv(e,n)*n;return this.plusNanos(r-e)},n.plusAmount=function(t){return ar(t,"amount"),t.addTo(this)},n.plusAmountUnit=function(t,i){if(ar(t,"amountToAdd"),ar(i,"unit"),cr(i,pr),i instanceof gr){switch(i){case gr.NANOS:return this.plusNanos(t);case gr.MICROS:return this._plus(lr.intDiv(t,1e6),1e3*lr.intMod(t,1e6));case gr.MILLIS:return this.plusMillis(t);case gr.SECONDS:return this.plusSeconds(t);case gr.MINUTES:return this.plusSeconds(lr.safeMultiply(t,qs.SECONDS_PER_MINUTE));case gr.HOURS:return this.plusSeconds(lr.safeMultiply(t,qs.SECONDS_PER_HOUR));case gr.HALF_DAYS:return this.plusSeconds(lr.safeMultiply(t,qs.SECONDS_PER_DAY/2));case gr.DAYS:return this.plusSeconds(lr.safeMultiply(t,qs.SECONDS_PER_DAY))}throw new ir("Unsupported unit: "+i)}return i.addTo(this,t)},n.plusSeconds=function(t){return this._plus(t,0)},n.plusMillis=function(t){return this._plus(lr.intDiv(t,1e3),1e6*lr.intMod(t,1e3))},n.plusNanos=function(t){return this._plus(0,t)},n._plus=function(t,n){if(0===t&&0===n)return this;var e=this._seconds+t;e+=lr.intDiv(n,qs.NANOS_PER_SECOND);var r=this._nanos+n%qs.NANOS_PER_SECOND;return i.ofEpochSecond(e,r)},n.minusAmount=function(t){return ar(t,"amount"),t.subtractFrom(this)},n.minusAmountUnit=function(t,i){return this.plusAmountUnit(-1*t,i)},n.minusSeconds=function(t){return this.plusSeconds(-1*t)},n.minusMillis=function(t){return this.plusMillis(-1*t)},n.minusNanos=function(t){return this.plusNanos(-1*t)},n.query=function(t){return ar(t,"query"),t===xr.precision()?gr.NANOS:t===xr.localDate()||t===xr.localTime()||t===xr.chronology()||t===xr.zoneId()||t===xr.zone()||t===xr.offset()?null:t.queryFrom(this)},n.adjustInto=function(t){return ar(t,"temporal"),t.with(Ar.INSTANT_SECONDS,this._seconds).with(Ar.NANO_OF_SECOND,this._nanos)},n.until=function(t,n){ar(t,"endExclusive"),ar(n,"unit");var e=i.from(t);if(n instanceof gr){switch(n){case gr.NANOS:return this._nanosUntil(e);case gr.MICROS:return lr.intDiv(this._nanosUntil(e),1e3);case gr.MILLIS:return lr.safeSubtract(e.toEpochMilli(),this.toEpochMilli());case gr.SECONDS:return this._secondsUntil(e);case gr.MINUTES:return lr.intDiv(this._secondsUntil(e),qs.SECONDS_PER_MINUTE);case gr.HOURS:return lr.intDiv(this._secondsUntil(e),qs.SECONDS_PER_HOUR);case gr.HALF_DAYS:return lr.intDiv(this._secondsUntil(e),12*qs.SECONDS_PER_HOUR);case gr.DAYS:return lr.intDiv(this._secondsUntil(e),qs.SECONDS_PER_DAY)}throw new ir("Unsupported unit: "+n)}return n.between(this,e)},n._nanosUntil=function(t){var i=lr.safeSubtract(t.epochSecond(),this.epochSecond()),n=lr.safeMultiply(i,qs.NANOS_PER_SECOND);return lr.safeAdd(n,t.nano()-this.nano())},n._secondsUntil=function(t){var i=lr.safeSubtract(t.epochSecond(),this.epochSecond()),n=t.nano()-this.nano();return i>0&&n<0?i--:i<0&&n>0&&i++,i},n.atOffset=function(t){return Gs.ofInstant(this,t)},n.atZone=function(t){return Ks.ofInstant(this,t)},n.toEpochMilli=function(){return lr.safeMultiply(this._seconds,1e3)+lr.intDiv(this._nanos,1e6)},n.compareTo=function(t){ar(t,"otherInstant"),cr(t,i,"otherInstant");var n=lr.compareNumbers(this._seconds,t._seconds);return 0!==n?n:this._nanos-t._nanos},n.isAfter=function(t){return this.compareTo(t)>0},n.isBefore=function(t){return this.compareTo(t)<0},n.equals=function(t){return this===t||t instanceof i&&(this.epochSecond()===t.epochSecond()&&this.nano()===t.nano())},n.hashCode=function(){return lr.hashCode(this._seconds,this._nanos)},n.toString=function(){return Ns.ISO_INSTANT.format(this)},n.toJSON=function(){return this.toString()},i}(jr);var Js=function(){function t(){}t.systemUTC=function(){return new Xs(Wr.UTC)},t.systemDefaultZone=function(){return new Xs(zr.systemDefault())},t.system=function(t){return new Xs(t)},t.fixed=function(t,i){return new to(t,i)},t.offset=function(t,i){return new io(t,i)};var i=t.prototype;return i.millis=function(){fr("Clock.millis")},i.instant=function(){fr("Clock.instant")},i.zone=function(){fr("Clock.zone")},i.withZone=function(){fr("Clock.withZone")},t}(),Xs=function(t){function i(i){var n;return ar(i,"zone"),(n=t.call(this)||this)._zone=i,n}or(i,t);var n=i.prototype;return n.zone=function(){return this._zone},n.millis=function(){return(new Date).getTime()},n.instant=function(){return Qs.ofEpochMilli(this.millis())},n.equals=function(t){return t instanceof i&&this._zone.equals(t._zone)},n.withZone=function(t){return t.equals(this._zone)?this:new i(t)},n.toString=function(){return"SystemClock["+this._zone.toString()+"]"},i}(Js),to=function(t){function i(i,n){var e;return(e=t.call(this)||this)._instant=i,e._zoneId=n,e}or(i,t);var n=i.prototype;return n.instant=function(){return this._instant},n.millis=function(){return this._instant.toEpochMilli()},n.zone=function(){return this._zoneId},n.toString=function(){return"FixedClock[]"},n.equals=function(t){return t instanceof i&&(this._instant.equals(t._instant)&&this._zoneId.equals(t._zoneId))},n.withZone=function(t){return t.equals(this._zoneId)?this:new i(this._instant,t)},i}(Js),io=function(t){function i(i,n){var e;return(e=t.call(this)||this)._baseClock=i,e._offset=n,e}or(i,t);var n=i.prototype;return n.zone=function(){return this._baseClock.zone()},n.withZone=function(t){return t.equals(this._baseClock.zone())?this:new i(this._baseClock.withZone(t),this._offset)},n.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},n.instant=function(){return this._baseClock.instant().plus(this._offset)},n.equals=function(t){return t instanceof i&&(this._baseClock.equals(t._baseClock)&&this._offset.equals(t._offset))},n.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},i}(Js);!function(){function t(t,i,n){if(ar(t,"transition"),ar(i,"offsetBefore"),ar(n,"offsetAfter"),i.equals(n))throw new er("Offsets must not be equal");if(0!==t.nano())throw new er("Nano-of-second must be zero");this._transition=t instanceof Ys?t:Ys.ofEpochSecond(t,0,i),this._offsetBefore=i,this._offsetAfter=n}t.of=function(i,n,e){return new t(i,n,e)};var i=t.prototype;i.instant=function(){return this._transition.toInstant(this._offsetBefore)},i.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},i.dateTimeBefore=function(){return this._transition},i.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},i.offsetBefore=function(){return this._offsetBefore},i.offsetAfter=function(){return this._offsetAfter},i.duration=function(){return mr.ofSeconds(this.durationSeconds())},i.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},i.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},i.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},i.isValidOffset=function(t){return!this.isGap()&&(this._offsetBefore.equals(t)||this._offsetAfter.equals(t))},i.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},i.compareTo=function(t){return this.instant().compareTo(t.instant())},i.equals=function(i){if(i===this)return!0;if(i instanceof t){var n=i;return this._transition.equals(n._transition)&&this._offsetBefore.equals(n.offsetBefore())&&this._offsetAfter.equals(n.offsetAfter())}return!1},i.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},i.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"}}();var no=function(t){function i(){return t.apply(this,arguments)||this}or(i,t);var n=i.prototype;return n.isFixedOffset=function(){return!1},n.offsetOfInstant=function(t){var i=new Date(t.toEpochMilli()).getTimezoneOffset();return Wr.ofTotalMinutes(-1*i)},n.offsetOfEpochMilli=function(t){var i=new Date(t).getTimezoneOffset();return Wr.ofTotalMinutes(-1*i)},n.offsetOfLocalDateTime=function(t){var i=1e3*t.toEpochSecond(Wr.UTC),n=new Date(i).getTimezoneOffset(),e=new Date(i+6e4*n).getTimezoneOffset();return Wr.ofTotalMinutes(-1*e)},n.validOffsets=function(t){return[this.offsetOfLocalDateTime(t)]},n.transition=function(){return null},n.standardOffset=function(t){return this.offsetOfInstant(t)},n.daylightSavings=function(){this._throwNotSupported()},n.isDaylightSavings=function(){this._throwNotSupported()},n.isValidOffset=function(t,i){return this.offsetOfLocalDateTime(t).equals(i)},n.nextTransition=function(){this._throwNotSupported()},n.previousTransition=function(){this._throwNotSupported()},n.transitions=function(){this._throwNotSupported()},n.transitionRules=function(){this._throwNotSupported()},n._throwNotSupported=function(){throw new Xe("not supported operation")},n.equals=function(t){return this===t||t instanceof i},n.toString=function(){return"SYSTEM"},i}(Br),eo=function(t){function i(){var i;return(i=t.call(this)||this)._rules=new no,i}or(i,t);var n=i.prototype;return n.rules=function(){return this._rules},n.equals=function(t){return this===t},n.id=function(){return"SYSTEM"},i}(zr),ro=function(){function t(){}return t.systemDefault=function(){return so},t.getAvailableZoneIds=function(){return ks.getAvailableZoneIds()},t.of=function(t){if(ar(t,"zoneId"),"Z"===t)return Wr.UTC;if(1===t.length)throw new Xe("Invalid zone: "+t);if(Fr.startsWith(t,"+")||Fr.startsWith(t,"-"))return Wr.of(t);if("UTC"===t||"GMT"===t||"GMT0"===t||"UT"===t)return new Ss(t,Wr.UTC.rules());if(Fr.startsWith(t,"UTC+")||Fr.startsWith(t,"GMT+")||Fr.startsWith(t,"UTC-")||Fr.startsWith(t,"GMT-")){var i=Wr.of(t.substring(3));return 0===i.totalSeconds()?new Ss(t.substring(0,3),i.rules()):new Ss(t.substring(0,3)+i.id(),i.rules())}if(Fr.startsWith(t,"UT+")||Fr.startsWith(t,"UT-")){var n=Wr.of(t.substring(2));return 0===n.totalSeconds()?new Ss("UT",n.rules()):new Ss("UT"+n.id(),n.rules())}return"SYSTEM"===t?zr.systemDefault():Ss.ofId(t)},t.ofOffset=function(t,i){if(ar(t,"prefix"),ar(i,"offset"),0===t.length)return i;if("GMT"===t||"UTC"===t||"UT"===t)return 0===i.totalSeconds()?new Ss(t,i.rules()):new Ss(t+i.id(),i.rules());throw new er("Invalid prefix, must be GMT, UTC or UT: "+t)},t.from=function(t){ar(t,"temporal");var i=t.query(xr.zone());if(null==i)throw new Xe("Unable to obtain ZoneId from TemporalAccessor: "+t+", type "+(null!=t.constructor?t.constructor.name:""));return i},t}(),so=null;
/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */
var oo=!1;oo||(oo=!0,wr.MIN_VALUE=-999999,wr.MAX_VALUE=999999,mr.ZERO=new mr(0,0),gr.NANOS=new gr("Nanos",mr.ofNanos(1)),gr.MICROS=new gr("Micros",mr.ofNanos(1e3)),gr.MILLIS=new gr("Millis",mr.ofNanos(1e6)),gr.SECONDS=new gr("Seconds",mr.ofSeconds(1)),gr.MINUTES=new gr("Minutes",mr.ofSeconds(60)),gr.HOURS=new gr("Hours",mr.ofSeconds(3600)),gr.HALF_DAYS=new gr("HalfDays",mr.ofSeconds(43200)),gr.DAYS=new gr("Days",mr.ofSeconds(86400)),gr.WEEKS=new gr("Weeks",mr.ofSeconds(604800)),gr.MONTHS=new gr("Months",mr.ofSeconds(2629746)),gr.YEARS=new gr("Years",mr.ofSeconds(31556952)),gr.DECADES=new gr("Decades",mr.ofSeconds(315569520)),gr.CENTURIES=new gr("Centuries",mr.ofSeconds(3155695200)),gr.MILLENNIA=new gr("Millennia",mr.ofSeconds(31556952e3)),gr.ERAS=new gr("Eras",mr.ofSeconds(31556952*(wr.MAX_VALUE+1))),gr.FOREVER=new gr("Forever",mr.ofSeconds(lr.MAX_SAFE_INTEGER,999999999)),Ar.NANO_OF_SECOND=new Ar("NanoOfSecond",gr.NANOS,gr.SECONDS,yr.of(0,999999999)),Ar.NANO_OF_DAY=new Ar("NanoOfDay",gr.NANOS,gr.DAYS,yr.of(0,86399999999999)),Ar.MICRO_OF_SECOND=new Ar("MicroOfSecond",gr.MICROS,gr.SECONDS,yr.of(0,999999)),Ar.MICRO_OF_DAY=new Ar("MicroOfDay",gr.MICROS,gr.DAYS,yr.of(0,86399999999)),Ar.MILLI_OF_SECOND=new Ar("MilliOfSecond",gr.MILLIS,gr.SECONDS,yr.of(0,999)),Ar.MILLI_OF_DAY=new Ar("MilliOfDay",gr.MILLIS,gr.DAYS,yr.of(0,86399999)),Ar.SECOND_OF_MINUTE=new Ar("SecondOfMinute",gr.SECONDS,gr.MINUTES,yr.of(0,59)),Ar.SECOND_OF_DAY=new Ar("SecondOfDay",gr.SECONDS,gr.DAYS,yr.of(0,86399)),Ar.MINUTE_OF_HOUR=new Ar("MinuteOfHour",gr.MINUTES,gr.HOURS,yr.of(0,59)),Ar.MINUTE_OF_DAY=new Ar("MinuteOfDay",gr.MINUTES,gr.DAYS,yr.of(0,1439)),Ar.HOUR_OF_AMPM=new Ar("HourOfAmPm",gr.HOURS,gr.HALF_DAYS,yr.of(0,11)),Ar.CLOCK_HOUR_OF_AMPM=new Ar("ClockHourOfAmPm",gr.HOURS,gr.HALF_DAYS,yr.of(1,12)),Ar.HOUR_OF_DAY=new Ar("HourOfDay",gr.HOURS,gr.DAYS,yr.of(0,23)),Ar.CLOCK_HOUR_OF_DAY=new Ar("ClockHourOfDay",gr.HOURS,gr.DAYS,yr.of(1,24)),Ar.AMPM_OF_DAY=new Ar("AmPmOfDay",gr.HALF_DAYS,gr.DAYS,yr.of(0,1)),Ar.DAY_OF_WEEK=new Ar("DayOfWeek",gr.DAYS,gr.WEEKS,yr.of(1,7)),Ar.ALIGNED_DAY_OF_WEEK_IN_MONTH=new Ar("AlignedDayOfWeekInMonth",gr.DAYS,gr.WEEKS,yr.of(1,7)),Ar.ALIGNED_DAY_OF_WEEK_IN_YEAR=new Ar("AlignedDayOfWeekInYear",gr.DAYS,gr.WEEKS,yr.of(1,7)),Ar.DAY_OF_MONTH=new Ar("DayOfMonth",gr.DAYS,gr.MONTHS,yr.of(1,28,31),"day"),Ar.DAY_OF_YEAR=new Ar("DayOfYear",gr.DAYS,gr.YEARS,yr.of(1,365,366)),Ar.EPOCH_DAY=new Ar("EpochDay",gr.DAYS,gr.FOREVER,yr.of(Math.floor(365.25*wr.MIN_VALUE),Math.floor(365.25*wr.MAX_VALUE))),Ar.ALIGNED_WEEK_OF_MONTH=new Ar("AlignedWeekOfMonth",gr.WEEKS,gr.MONTHS,yr.of(1,4,5)),Ar.ALIGNED_WEEK_OF_YEAR=new Ar("AlignedWeekOfYear",gr.WEEKS,gr.YEARS,yr.of(1,53)),Ar.MONTH_OF_YEAR=new Ar("MonthOfYear",gr.MONTHS,gr.YEARS,yr.of(1,12),"month"),Ar.PROLEPTIC_MONTH=new Ar("ProlepticMonth",gr.MONTHS,gr.FOREVER,yr.of(12*wr.MIN_VALUE,12*wr.MAX_VALUE+11)),Ar.YEAR_OF_ERA=new Ar("YearOfEra",gr.YEARS,gr.FOREVER,yr.of(1,wr.MAX_VALUE,wr.MAX_VALUE+1)),Ar.YEAR=new Ar("Year",gr.YEARS,gr.FOREVER,yr.of(wr.MIN_VALUE,wr.MAX_VALUE),"year"),Ar.ERA=new Ar("Era",gr.ERAS,gr.FOREVER,yr.of(0,1)),Ar.INSTANT_SECONDS=new Ar("InstantSeconds",gr.SECONDS,gr.FOREVER,yr.of(-9007199254740991,9007199254740991)),Ar.OFFSET_SECONDS=new Ar("OffsetSeconds",gr.SECONDS,gr.FOREVER,yr.of(-64800,64800)),function(){qs.HOURS=[];for(var t=0;t<24;t++)qs.of(t,0,0,0);qs.MIN=qs.HOURS[0],qs.MAX=new qs(23,59,59,999999999),qs.MIDNIGHT=qs.HOURS[0],qs.NOON=qs.HOURS[12],qs.FROM=Sr("LocalTime.FROM",(function(t){return qs.from(t)}))}(),rs=new Xr,ss=new ts,os=new is,hs=new ns,us=new es("WeekBasedYears",mr.ofSeconds(31556952)),as=new es("QuarterYears",mr.ofSeconds(7889238)),qr.DAY_OF_QUARTER=rs,qr.QUARTER_OF_YEAR=ss,qr.WEEK_OF_WEEK_BASED_YEAR=os,qr.WEEK_BASED_YEAR=hs,qr.WEEK_BASED_YEARS=us,qr.QUARTER_YEARS=as,Zs.prototype.isoWeekOfWeekyear=function(){return this.get(qr.WEEK_OF_WEEK_BASED_YEAR)},Zs.prototype.isoWeekyear=function(){return this.get(qr.WEEK_BASED_YEAR)},xr.ZONE_ID=Sr("ZONE_ID",(function(t){return t.query(xr.ZONE_ID)})),xr.CHRONO=Sr("CHRONO",(function(t){return t.query(xr.CHRONO)})),xr.PRECISION=Sr("PRECISION",(function(t){return t.query(xr.PRECISION)})),xr.OFFSET=Sr("OFFSET",(function(t){return t.isSupported(Ar.OFFSET_SECONDS)?Wr.ofTotalSeconds(t.get(Ar.OFFSET_SECONDS)):null})),xr.ZONE=Sr("ZONE",(function(t){var i=t.query(xr.ZONE_ID);return null!=i?i:t.query(xr.OFFSET)})),xr.LOCAL_DATE=Sr("LOCAL_DATE",(function(t){return t.isSupported(Ar.EPOCH_DAY)?Zs.ofEpochDay(t.getLong(Ar.EPOCH_DAY)):null})),xr.LOCAL_TIME=Sr("LOCAL_TIME",(function(t){return t.isSupported(Ar.NANO_OF_DAY)?qs.ofNanoOfDay(t.getLong(Ar.NANO_OF_DAY)):null})),Ir.MONDAY=new Ir(0,"MONDAY"),Ir.TUESDAY=new Ir(1,"TUESDAY"),Ir.WEDNESDAY=new Ir(2,"WEDNESDAY"),Ir.THURSDAY=new Ir(3,"THURSDAY"),Ir.FRIDAY=new Ir(4,"FRIDAY"),Ir.SATURDAY=new Ir(5,"SATURDAY"),Ir.SUNDAY=new Ir(6,"SUNDAY"),Ir.FROM=Sr("DayOfWeek.FROM",(function(t){return Ir.from(t)})),Mr=[Ir.MONDAY,Ir.TUESDAY,Ir.WEDNESDAY,Ir.THURSDAY,Ir.FRIDAY,Ir.SATURDAY,Ir.SUNDAY],Qs.MIN_SECONDS=-31619119219200,Qs.MAX_SECONDS=31494816403199,Qs.EPOCH=new Qs(0,0),Qs.MIN=Qs.ofEpochSecond(Qs.MIN_SECONDS,0),Qs.MAX=Qs.ofEpochSecond(Qs.MAX_SECONDS,999999999),Qs.FROM=Sr("Instant.FROM",(function(t){return Qs.from(t)})),Zs.MIN=Zs.of(wr.MIN_VALUE,1,1),Zs.MAX=Zs.of(wr.MAX_VALUE,12,31),Zs.EPOCH_0=Zs.ofEpochDay(0),Zs.FROM=Sr("LocalDate.FROM",(function(t){return Zs.from(t)})),Ys.MIN=Ys.of(Zs.MIN,qs.MIN),Ys.MAX=Ys.of(Zs.MAX,qs.MAX),Ys.FROM=Sr("LocalDateTime.FROM",(function(t){return Ys.from(t)})),Fs.MIN_VALUE=wr.MIN_VALUE,Fs.MAX_VALUE=wr.MAX_VALUE,Ps=(new Cs).appendValue(Ar.YEAR,4,10,fs.EXCEEDS_PAD).toFormatter(),Fs.FROM=Sr("Year.FROM",(function(t){return Fs.from(t)})),Tr.JANUARY=new Tr(1,"JANUARY"),Tr.FEBRUARY=new Tr(2,"FEBRUARY"),Tr.MARCH=new Tr(3,"MARCH"),Tr.APRIL=new Tr(4,"APRIL"),Tr.MAY=new Tr(5,"MAY"),Tr.JUNE=new Tr(6,"JUNE"),Tr.JULY=new Tr(7,"JULY"),Tr.AUGUST=new Tr(8,"AUGUST"),Tr.SEPTEMBER=new Tr(9,"SEPTEMBER"),Tr.OCTOBER=new Tr(10,"OCTOBER"),Tr.NOVEMBER=new Tr(11,"NOVEMBER"),Tr.DECEMBER=new Tr(12,"DECEMBER"),Er=[Tr.JANUARY,Tr.FEBRUARY,Tr.MARCH,Tr.APRIL,Tr.MAY,Tr.JUNE,Tr.JULY,Tr.AUGUST,Tr.SEPTEMBER,Tr.OCTOBER,Tr.NOVEMBER,Tr.DECEMBER],js=(new Cs).appendValue(Ar.YEAR,4,10,fs.EXCEEDS_PAD).appendLiteral("-").appendValue(Ar.MONTH_OF_YEAR,2).toFormatter(),Us.FROM=Sr("YearMonth.FROM",(function(t){return Us.from(t)})),Ls=(new Cs).appendLiteral("--").appendValue(Ar.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(Ar.DAY_OF_MONTH,2).toFormatter(),Rs.FROM=Sr("MonthDay.FROM",(function(t){return Rs.from(t)})),Or.ofDays(0),Wr.MAX_SECONDS=18*qs.SECONDS_PER_HOUR,Wr.UTC=Wr.ofTotalSeconds(0),Wr.MIN=Wr.ofTotalSeconds(-Wr.MAX_SECONDS),Wr.MAX=Wr.ofTotalSeconds(Wr.MAX_SECONDS),Ks.FROM=Sr("ZonedDateTime.FROM",(function(t){return Ks.from(t)})),so=new eo,zr.systemDefault=ro.systemDefault,zr.getAvailableZoneIds=ro.getAvailableZoneIds,zr.of=ro.of,zr.ofOffset=ro.ofOffset,zr.from=ro.from,Wr.from=ro.from,zr.SYSTEM=so,zr.UTC=Wr.ofTotalSeconds(0),Hs.INSTANCE=new Hs("IsoChronology"),Ns.ISO_LOCAL_DATE=(new Cs).appendValue(Ar.YEAR,4,10,fs.EXCEEDS_PAD).appendLiteral("-").appendValue(Ar.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(Ar.DAY_OF_MONTH,2).toFormatter(Lr.STRICT).withChronology(Hs.INSTANCE),Ns.ISO_LOCAL_TIME=(new Cs).appendValue(Ar.HOUR_OF_DAY,2).appendLiteral(":").appendValue(Ar.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(Ar.SECOND_OF_MINUTE,2).optionalStart().appendFraction(Ar.NANO_OF_SECOND,0,9,!0).toFormatter(Lr.STRICT),Ns.ISO_LOCAL_DATE_TIME=(new Cs).parseCaseInsensitive().append(Ns.ISO_LOCAL_DATE).appendLiteral("T").append(Ns.ISO_LOCAL_TIME).toFormatter(Lr.STRICT).withChronology(Hs.INSTANCE),Ns.ISO_INSTANT=(new Cs).parseCaseInsensitive().appendInstant().toFormatter(Lr.STRICT),Ns.ISO_OFFSET_DATE_TIME=(new Cs).parseCaseInsensitive().append(Ns.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(Lr.STRICT).withChronology(Hs.INSTANCE),Ns.ISO_ZONED_DATE_TIME=(new Cs).append(Ns.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(Lr.STRICT).withChronology(Hs.INSTANCE),Ns.BASIC_ISO_DATE=(new Cs).appendValue(Ar.YEAR,4,10,fs.EXCEEDS_PAD).appendValue(Ar.MONTH_OF_YEAR,2).appendValue(Ar.DAY_OF_MONTH,2).toFormatter(Lr.STRICT).withChronology(Hs.INSTANCE),Ns.ISO_OFFSET_DATE=(new Cs).parseCaseInsensitive().append(Ns.ISO_LOCAL_DATE).appendOffsetId().toFormatter(Lr.STRICT).withChronology(Hs.INSTANCE),Ns.ISO_OFFSET_TIME=(new Cs).parseCaseInsensitive().append(Ns.ISO_LOCAL_TIME).appendOffsetId().toFormatter(Lr.STRICT).withChronology(Hs.INSTANCE),Ns.ISO_ORDINAL_DATE=(new Cs).appendValue(Ar.YEAR,4,10,fs.EXCEEDS_PAD).appendLiteral("-").appendValue(Ar.DAY_OF_YEAR).toFormatter(Lr.STRICT),Ns.ISO_WEEK_DATE=(new Cs).appendValue(Ar.YEAR,4,10,fs.EXCEEDS_PAD).appendLiteral("-W").appendValue(Ar.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(Ar.DAY_OF_WEEK).toFormatter(Lr.STRICT),Ns.PARSED_EXCESS_DAYS=Sr("PARSED_EXCESS_DAYS",(function(t){return t instanceof Kr?t.excessDays:Or.ZERO})),Ns.PARSED_LEAP_SECOND=Sr("PARSED_LEAP_SECOND",(function(t){return t instanceof Kr&&t.leapSecond})),gs.BASE_DATE=Zs.of(2e3,1,1),Cs.CompositePrinterParser=vs,Cs.PadPrinterParserDecorator=As,Cs.SettingsParser=xs,Cs.CharLiteralPrinterParser=_s,Cs.StringLiteralPrinterParser=_s,Cs.CharLiteralPrinterParser=ds,Cs.NumberPrinterParser=ws,Cs.ReducedPrinterParser=gs,Cs.FractionPrinterParser=ps,Cs.OffsetIdPrinterParser=ys,Cs.ZoneIdPrinterParser=Ms,Gs.MIN=Ys.MIN.atOffset(Wr.MAX),Gs.MAX=Ys.MAX.atOffset(Wr.MIN),Gs.FROM=Sr("OffsetDateTime.FROM",(function(t){return Gs.from(t)})),Ws.MIN=Ws.ofNumbers(0,0,0,0,Wr.MAX),Ws.MAX=Ws.ofNumbers(23,59,59,999999999,Wr.MIN),Ws.FROM=Sr("OffsetTime.FROM",(function(t){return Ws.from(t)})));!function(t){function i(i,n){var e;return void 0===n&&(n=zr.systemDefault()),(e=t.call(this)||this)._zone=n,i instanceof Date?(e._epochMilli=i.getTime(),hr(e)):"function"==typeof i.toDate&&i.toDate()instanceof Date?(e._epochMilli=i.toDate().getTime(),hr(e)):(ur(!1,"date must be either a javascript date or a moment"),e)}or(i,t);var n=i.prototype;n.query=function(i){return ar(i,"query"),i===xr.localDate()?Zs.ofInstant(Qs.ofEpochMilli(this._epochMilli),this._zone):i===xr.localTime()?qs.ofInstant(Qs.ofEpochMilli(this._epochMilli),this._zone):i===xr.zone()?this._zone:t.prototype.query.call(this,i)},n.get=function(t){return this.getLong(t)},n.getLong=function(t){if(ar(t,"field"),t instanceof Ar){switch(t){case Ar.NANO_OF_SECOND:return 1e6*lr.floorMod(this._epochMilli,1e3);case Ar.INSTANT_SECONDS:return lr.floorDiv(this._epochMilli,1e3)}throw new ir("Unsupported field: "+t)}return t.getFrom(this)},n.isSupported=function(t){return t===Ar.INSTANT_SECONDS||t===Ar.NANO_OF_SECOND}}(_r);let ho=null;class uo extends J{static get styles(){return q`
      :host {
        display: block;
      }
    `}static get properties(){return{restURL:{type:String,notify:!0},data:{type:Object,notify:!0},path:{type:String,notify:!0},filePrefix:{type:String,notify:!0},context:{type:String,notify:!0},user:{type:String,notify:!0}}}constructor(){super(),this.restURL="rest/",this.filePrefix="/dev",this.context="",this.data={},this.path=".",this.user;this.firebaseApp=li({apiKey:"AIzaSyCttqU-vwitkbeVA4-E4hFuNmV1WR32mKo",authDomain:"ccs-rest.firebaseapp.com",projectId:"ccs-rest",storageBucket:"ccs-rest.appspot.com",messagingSenderId:"393539384742",appId:"1:393539384742:web:700f0a54b0847572790b67"});const t=qe();!function(t,i,n,e){It(t).onAuthStateChanged(i,n,e)}(t,i=>{i?(this.user=i,i.getIdToken().then(t=>{ho=t}),async function(t,i){return await Nn(t)._initializationPromise,ke(t,i,!1)}(t).then(t=>{if(null!=t){Hn.credentialFromResult(t).accessToken,t.user}}).catch(t=>{console.log(t.code);t.code,t.message,t.email,Hn.credentialFromError(t)})):this.user=null})}render(){return j`
      ${this.user?j`Hello ${this.user.displayName} <a @click=${this._logout} href="#">Logout</a>`:j`<a @click=${this._login} href="#">Login</a>`}
      <path-browser @path-changed=${this._pathChanged} path=${this.path}></path-browser>
      ${this.data.versionedFile?this._renderVersionedFile(this.data):null!=this.data.children?this._renderFolder(this.data):this._renderFile(this.data)}
      `}_login(){console.log("Login");be(qe(),new Hn)}_logout(){(function(t){return It(t).signOut()})(qe()).then(()=>{this.user=null}).catch(t=>{})}_renderFolder(t){let i=new lo;return j`
      <table>
        <thead>
          <th>Size</th><th>Date</th><th>File</th>
        </thead>
        <tbody>
        ${ot(this.data.children,t=>t.name,(t,n)=>j`
          <tr class="file-list-element">
             <td class="size"></div>${i.humanFileSize(t.size,!0)}</td>
             <td class="date">${i.format(t.lastModified)}</td>
             <td class="name"><a href="#" @click=${this._gotoFile}>${t.name}</a></td>
            </tr>
        `)}
        </tbody>
      </table>
      <!-- <form><input id="upload" type="file"><button @click=${this._upload} ?disabled=${null==this.user}>Upload</button></form> -->
    `}_renderVersionedFile(t){return j`
      <file-versions restURL="${this.restURL}" path="${this.path}" name=${t.name} ?allowChanges=${null!=this.user}></file-versions>
    `}_renderFile(t){let i=new lo;return j`
      <p>Size: ${i.humanFileSize(t.size)} Date: ${i.format(t.lastModified)} Type: ${t.mimeType} (<a href="${this.restURL+"download/"+this.path}">download</a>)</p>
      ${t.mimeType&&t.mimeType.startsWith("text/")?this._renderEditor(this.restURL+"download/"+this.path,t.name):null}
      ${t.mimeType&&t.mimeType.startsWith("image/")?this._renderImage(this.restURL+"download/"+this.path):null}
    `}_renderEditor(t,i){return j`
      <ace-editor readonly name=${i} fileURL=${t}></ace-editor>
    `}_renderImage(t){return j`
      <img src=${t}>
    `}firstUpdated(t){ace.config.set("basePath",this.context+"/ace"),this.path=window.location.pathname.replace(this.filePrefix,"."),"./"==this.path&&(this.path="."),this._updateData(),window.onpopstate=t=>{this._goto(null==t.state?".":t.state)}}_updateData(){fetch(this.restURL+"list/"+this.path).then(t=>t.json()).then(t=>this.data=t)}_gotoFile(t){t.preventDefault();let i=t.path?t.path[0].textContent:t.currentTarget.textContent,n=this.path+"/"+i;this._goto(n),window.history.pushState(n,"Content",this.filePrefix+n.substring(1))}_pathChanged(t){let i=t.detail.path;this._goto(i),window.history.pushState(i,"Content",this.filePrefix+i.substring(1))}_goto(t){this.data={},this.path=t,this._updateData()}_upload(t){t.preventDefault();let i=this.shadowRoot.querySelector("#upload");fetch(this.restURL+"version/upload"+this.path+i.textContent),console.log(t)}}class ao extends J{static get styles(){return q`
      :host {
        display: inline;
      }
    `}static get properties(){return{path:{type:String,notify:!0}}}render(){let t=this.path.split("/");const i=[];return t.forEach((t,n,e)=>{n==e.length-1?i.push(j`${t}`):i.push(j`<a href='#' @click=${this._gotoPath} id=${n}>${t}</a>/`)}),j`
      <h2>Path: ${i}</h2>
      `}_gotoPath(t){let i=t.path?parseInt(t.path[0].id):parseInt(t.currentTarget.id),n=this.path.split("/").slice(0,i+1).join("/");t.preventDefault();let e=new CustomEvent("path-changed",{detail:{path:n}});this.dispatchEvent(e)}}class co extends J{static get styles(){return q`
        :host {
          display: block;
          width: 100%;
          height: 400px;
        }

        #editor {
          border: 1px solid #e3e3e3;
          border-radius: 4px;
          height: 400px;
          width: 100%;
        }
    `}static get properties(){return{fileURL:{type:String,notify:!0},readonly:{type:Boolean,notify:!0},name:{type:String,notify:!0}}}constructor(){super(),this.readonly=!1,this.fileChanged=!1,this.loading=!1}render(){return j`
      <div id="editor"></div>
    `}static get importMeta(){return import.meta}firstUpdated(t){let i=this.shadowRoot.getElementById("editor");this.editor=ace.edit(i,{readOnly:this.readonly});let n=ace.require("ace/ext/modelist").getModeForPath(this.name).mode;this.editor.session.setMode(n),this.editor.renderer.attachToShadowRoot(),this.editor.getSession().on("change",()=>this._changed()),this._load(this.fileURL)}_load(t){this.loading=!0,this.editor.setValue("Loading..."),fetch(this.fileURL).then(t=>t.text()).then(t=>{this.editor.setValue(t,-1),this.editor.session.getUndoManager().reset(),this.fileChanged=!1,this.loading=!1})}updated(t){t.get("fileURL")&&this._load(this.fileURL),null!=t.get("readonly")&&this.editor.setReadOnly(this.readonly)}postTo(t){let i=this.editor.getValue(),n={"Content-type":"application/octet-stream"};return ho&&(n.Authorization="Bearer "+ho),fetch(t,{method:"POST",body:i,headers:n}).then(t=>t.json())}_changed(){this.loading||(this.fileChanged=this.editor.session.getUndoManager().hasUndo(),this._sendFileChangedEvent(this.fileChanged))}_sendFileChangedEvent(t){let i=new CustomEvent("file-changed",{detail:{isChanged:t}});this.dispatchEvent(i)}reset(){this.fileChanged&&(this._load(this.fileURL),this._sendFileChangedEvent(!1))}focus(){this.editor.focus()}}class fo extends J{static get styles(){return q`
        :host {
          display: block;
        }
    `}static get properties(){return{restURL:{type:String,notify:!0},data:{type:Object,notify:!0},path:{type:String,notify:!0},name:{type:String,notify:!0},selectedVersion:{type:String,notify:!0},fileChanged:{type:Boolean,notify:!0},readOnly:{type:Boolean,notify:!0},allowChanges:{type:Boolean,notify:!0},showHidden:{type:Boolean,notify:!0}}}constructor(){super(),this.restURL="",this.data={versions:[]},this.path=".",this.selectedVersion="default",this.fileChanged=!1,this.readOnly=!0,this.allowChanges=!1,this.showHidden=!1}render(){let t=new lo;return j`
      <table>
        <thead>
          <tr><td colspan=3><input id="showHidden" type="checkbox" @click=${this._showHidden} ?checked=${this.showHidden}><label for="showHidden">Show Hidden</label></td></tr>
          <tr><th>Hidden</th><th>Default</th><th>Latest</th><th>Version</th><th>Size</th><th>Date</th><th>Download</th><th>Comment</th></tr>
        </thead>
        <tbody>
          ${ot(this.data.versions,t=>t.version,(i,n)=>i.hidden&&!this.showHidden?null:j`
            <tr>
              <td><input type="checkbox" id="h${i.version}" @click=${this._hide} ?checked=${i.hidden} ?disabled=${i.version==this.data.latest||i.version==this.data.default||!this.allowChanges}></td>
              <td><input type="radio" name="default" id="d${i.version}" @click=${this._makeDefault} ?checked=${i.version==this.data.default} ?disabled=${i.hidden||!this.allowChanges}></td>
              <td><input type="radio" name="latest" id="l${i.version}" ?checked=${i.version==this.data.latest} ?disabled=${i.version!=this.data.latest}></td>
              <td>${i.version}</td>
              <td>${t.humanFileSize(i.size)}</td>
              <td>${t.format(i.lastModified)}</td>
              <td>(<a href="${this.restURL+"version/download/"+this.path+"?version="+i.version}">download</a>)</td>
              <td><button id="b${i.version}" ?disabled=${!this.allowChanges} @click=${this._updateComment}>Update</button><input type="text" id="c${i.version}" value=${i.comment} ?disabled=${!this.allowChanges}></td>
            </tr>
          `)}
        </tbody>
      </table>
      Version: <select id="selectedVersion" @change=${this._selectionChanged} ?disabled=${!this.readOnly}>
        <option value="default" ?selected=${"default"==this.selectedVersion}>default</option>
        <option value="latest" ?selected=${"latest"==this.selectedVersion}>latest</option>
        ${ot(this.data.versions,t=>t.version,(t,i)=>j`
          <option value=${t.version} ?selected=${this.selectedVersion==t.version}>${t.version}</option>
        `)}
        </select>

        ${this.allowChanges?j`
          <button @click=${this._edit} ?disabled=${!this.readOnly}>Edit</button>
          <button @click=${this._cancel} ?disabled=${this.readOnly}>Cancel</button>
          <button @click=${this._save} ?disabled=${!this.fileChanged}>Save</button>
          <button>Diff Viewer (coming soon)</button>`:null}
        <ace-editor @file-changed=${this._fileChanged} ?readonly=${this.readOnly} name=${this.name} fileURL="${this.restURL+"version/download/"+this.path+"?version="+("default"==this.selectedVersion&&this.data.default?this.data.default:this.selectedVersion)}"></ace-editor>
    `}firstUpdated(t){this._updateData()}_updateData(){fetch(this.restURL+"version/info/"+this.path,{method:"GET",headers:{"x-protocol-version":"2"}}).then(t=>t.json()).then(t=>this.data=t)}_selectionChanged(){let t=this.shadowRoot.querySelector("#selectedVersion");this.selectedVersion=t.value}_getSelectedVersion(t){return(t.path?t.path[0].id:t.currentTarget.id).substring(1)}_makeDefault(t){let i={version:this._getSelectedVersion(t),default:!0};this._updateSettings(i)}_hide(t){let i=this._getSelectedVersion(t),n={version:i,hidden:!this.data.versions[i-1].hidden};this._updateSettings(n)}_updateComment(t){let i=this._getSelectedVersion(t),n={version:i,comment:this.shadowRoot.querySelector("#c"+i).value};this._updateSettings(n)}_updateSettings(t){let i={"Content-type":"application/json; charset=UTF-8","x-protocol-version":"2"};ho&&(i.Authorization="Bearer "+ho),fetch(this.restURL+"version/setOptions/"+this.path,{method:"PUT",body:JSON.stringify(t),headers:i}).then(t=>t.json()).then(t=>this.data=t)}_showHidden(t){this.showHidden=!this.showHidden}_edit(){this.readOnly=!1;let t=this.shadowRoot.querySelector("ace-editor");t.readonly=!1,t.focus()}_cancel(){let t=this.shadowRoot.querySelector("ace-editor");t.fileChanged&&t.reset(),t.readonly=!0,this.readOnly=!0}_fileChanged(t){this.fileChanged=t.detail.isChanged}_save(){let t=this.shadowRoot.querySelector("ace-editor");t.postTo(this.restURL+"version/upload/"+this.path).then(t=>this._updateData()),this.fileChanged=!1,t.readonly=!1,this.readOnly=!0,this.selectedVersion="latest"}}class lo{constructor(){this.referenceTime=Qs.now()}format(t){if(null==t)return"";let i=Qs.ofEpochMilli(t),n=Ns.ofPattern("yyyy-MM-dd HH:mm");return Ys.ofInstant(i).format(n)}humanFileSize(t,i=!1,n=1){const e=i?1e3:1024;if(Math.abs(t)<e)return t;const r=i?["k","M","G","T","P","E","Z","Y"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let s=-1;const o=10**n;do{t/=e,++s}while(Math.round(Math.abs(t)*o)/o>=e&&s<r.length-1);return t.toFixed(n)+r[s]}}window.customElements.define("file-browser",uo),window.customElements.define("path-browser",ao),window.customElements.define("ace-editor",co),window.customElements.define("file-versions",fo);export{co as AceEditor,uo as FileBrowser,fo as FileVersions,ao as PathBrowser};
//# sourceMappingURL=file-browser.bundled.js.map
