{"version":3,"file":"file-browser.bundled.js","sources":["../node_modules/lit-html/lib/dom.js","../node_modules/lit-html/lib/template.js","../node_modules/lit-html/lib/modify-template.js","../node_modules/lit-html/lib/directive.js","../node_modules/lit-html/lib/part.js","../node_modules/lit-html/lib/template-instance.js","../node_modules/lit-html/lib/template-result.js","../node_modules/lit-html/lib/parts.js","../node_modules/lit-html/lib/template-factory.js","../node_modules/lit-html/lib/render.js","../node_modules/lit-html/lib/default-template-processor.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-html/lib/shady-render.js","../node_modules/lit-element/lib/updating-element.js","../node_modules/lit-element/lib/css-tag.js","../node_modules/lit-element/lit-element.js","../node_modules/lit-html/directives/repeat.js","../node_modules/@firebase/component/node_modules/tslib/tslib.es6.js","../node_modules/@firebase/util/node_modules/tslib/tslib.es6.js","../node_modules/@firebase/util/dist/index.esm.js","../node_modules/@firebase/component/dist/index.esm.js","../node_modules/@firebase/logger/dist/index.esm.js","../node_modules/@firebase/app/dist/index.esm2017.js","../node_modules/@firebase/auth/node_modules/tslib/tslib.es6.js","../node_modules/firebase/app/dist/index.esm.js","../node_modules/@firebase/auth/dist/esm2017/index-558976c1.js","../node_modules/@js-joda/core/dist/js-joda.esm.js","../node_modules/ace-builds/src-noconflict/ace.js","../node_modules/ace-builds/src-noconflict/ext-modelist.js","../node_modules/ace-builds/src-noconflict/snippets/snippets.js","../file-browser.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    window.customElements.polyfillWrapFlushCallback !==\n        undefined;\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes = (container, start, end = null, before = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.insertBefore(start, before);\n        start = n;\n    }\n};\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes = (container, start, end = null) => {\n    while (start !== end) {\n        const n = start.nextSibling;\n        container.removeChild(start);\n        start = n;\n    }\n};\n//# sourceMappingURL=dom.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n    constructor(result, element) {\n        this.parts = [];\n        this.element = element;\n        const nodesToRemove = [];\n        const stack = [];\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(element.content, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        // Keeps track of the last index associated with a part. We try to delete\n        // unnecessary nodes, but we never want to associate two different parts\n        // to the same index. They must have a constant node between.\n        let lastPartIndex = 0;\n        let index = -1;\n        let partIndex = 0;\n        const { strings, values: { length } } = result;\n        while (partIndex < length) {\n            const node = walker.nextNode();\n            if (node === null) {\n                // We've exhausted the content inside a nested template element.\n                // Because we still have parts (the outer for-loop), we know:\n                // - There is a template in the stack\n                // - The walker will find a nextNode outside the template\n                walker.currentNode = stack.pop();\n                continue;\n            }\n            index++;\n            if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n                if (node.hasAttributes()) {\n                    const attributes = node.attributes;\n                    const { length } = attributes;\n                    // Per\n                    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n                    // attributes are not guaranteed to be returned in document order.\n                    // In particular, Edge/IE can return them out of order, so we cannot\n                    // assume a correspondence between part index and attribute index.\n                    let count = 0;\n                    for (let i = 0; i < length; i++) {\n                        if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n                            count++;\n                        }\n                    }\n                    while (count-- > 0) {\n                        // Get the template literal section leading up to the first\n                        // expression in this attribute\n                        const stringForPart = strings[partIndex];\n                        // Find the attribute name\n                        const name = lastAttributeNameRegex.exec(stringForPart)[2];\n                        // Find the corresponding attribute\n                        // All bound attributes have had a suffix added in\n                        // TemplateResult#getHTML to opt out of special attribute\n                        // handling. To look up the attribute value we also need to add\n                        // the suffix.\n                        const attributeLookupName = name.toLowerCase() + boundAttributeSuffix;\n                        const attributeValue = node.getAttribute(attributeLookupName);\n                        node.removeAttribute(attributeLookupName);\n                        const statics = attributeValue.split(markerRegex);\n                        this.parts.push({ type: 'attribute', index, name, strings: statics });\n                        partIndex += statics.length - 1;\n                    }\n                }\n                if (node.tagName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n            }\n            else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n                const data = node.data;\n                if (data.indexOf(marker) >= 0) {\n                    const parent = node.parentNode;\n                    const strings = data.split(markerRegex);\n                    const lastIndex = strings.length - 1;\n                    // Generate a new text node for each literal section\n                    // These nodes are also used as the markers for node parts\n                    for (let i = 0; i < lastIndex; i++) {\n                        let insert;\n                        let s = strings[i];\n                        if (s === '') {\n                            insert = createMarker();\n                        }\n                        else {\n                            const match = lastAttributeNameRegex.exec(s);\n                            if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                                s = s.slice(0, match.index) + match[1] +\n                                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n                            }\n                            insert = document.createTextNode(s);\n                        }\n                        parent.insertBefore(insert, node);\n                        this.parts.push({ type: 'node', index: ++index });\n                    }\n                    // If there's no text, we must insert a comment to mark our place.\n                    // Else, we can trust it will stick around after cloning.\n                    if (strings[lastIndex] === '') {\n                        parent.insertBefore(createMarker(), node);\n                        nodesToRemove.push(node);\n                    }\n                    else {\n                        node.data = strings[lastIndex];\n                    }\n                    // We have a part for each match found\n                    partIndex += lastIndex;\n                }\n            }\n            else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n                if (node.data === marker) {\n                    const parent = node.parentNode;\n                    // Add a new marker node to be the startNode of the Part if any of\n                    // the following are true:\n                    //  * We don't have a previousSibling\n                    //  * The previousSibling is already the start of a previous part\n                    if (node.previousSibling === null || index === lastPartIndex) {\n                        index++;\n                        parent.insertBefore(createMarker(), node);\n                    }\n                    lastPartIndex = index;\n                    this.parts.push({ type: 'node', index });\n                    // If we don't have a nextSibling, keep this node so we have an end.\n                    // Else, we can remove it to save future costs.\n                    if (node.nextSibling === null) {\n                        node.data = '';\n                    }\n                    else {\n                        nodesToRemove.push(node);\n                        index--;\n                    }\n                    partIndex++;\n                }\n                else {\n                    let i = -1;\n                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {\n                        // Comment node has a binding marker inside, make an inactive part\n                        // The binding won't work, but subsequent bindings will\n                        // TODO (justinfagnani): consider whether it's even worth it to\n                        // make bindings in comments work\n                        this.parts.push({ type: 'node', index: -1 });\n                        partIndex++;\n                    }\n                }\n            }\n        }\n        // Remove text binding nodes after the walk to not disturb the TreeWalker\n        for (const n of nodesToRemove) {\n            n.parentNode.removeChild(n);\n        }\n    }\n}\nconst endsWith = (str, suffix) => {\n    const index = str.length - suffix.length;\n    return index >= 0 && str.slice(index) === suffix;\n};\nexport const isTemplatePartActive = (part) => part.index !== -1;\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex = \n// eslint-disable-next-line no-control-regex\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n//# sourceMappingURL=template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isTemplatePartActive } from './template.js';\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(template, nodesToRemove) {\n    const { element: { content }, parts } = template;\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let part = parts[partIndex];\n    let nodeIndex = -1;\n    let removeCount = 0;\n    const nodesToRemoveInTemplate = [];\n    let currentRemovingNode = null;\n    while (walker.nextNode()) {\n        nodeIndex++;\n        const node = walker.currentNode;\n        // End removal if stepped past the removing node\n        if (node.previousSibling === currentRemovingNode) {\n            currentRemovingNode = null;\n        }\n        // A node to remove was found in the template\n        if (nodesToRemove.has(node)) {\n            nodesToRemoveInTemplate.push(node);\n            // Track node we're removing\n            if (currentRemovingNode === null) {\n                currentRemovingNode = node;\n            }\n        }\n        // When removing, increment count by which to adjust subsequent part indices\n        if (currentRemovingNode !== null) {\n            removeCount++;\n        }\n        while (part !== undefined && part.index === nodeIndex) {\n            // If part is in a removed node deactivate it by setting index to -1 or\n            // adjust the index as needed.\n            part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n            // go to the next active part.\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n            part = parts[partIndex];\n        }\n    }\n    nodesToRemoveInTemplate.forEach((n) => n.parentNode.removeChild(n));\n}\nconst countNodes = (node) => {\n    let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n    const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n    while (walker.nextNode()) {\n        count++;\n    }\n    return count;\n};\nconst nextActiveIndexInTemplateParts = (parts, startIndex = -1) => {\n    for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n            return i;\n        }\n    }\n    return -1;\n};\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(template, node, refNode = null) {\n    const { element: { content }, parts } = template;\n    // If there's no refNode, then put node at end of template.\n    // No part indices need to be shifted in this case.\n    if (refNode === null || refNode === undefined) {\n        content.appendChild(node);\n        return;\n    }\n    const walker = document.createTreeWalker(content, walkerNodeFilter, null, false);\n    let partIndex = nextActiveIndexInTemplateParts(parts);\n    let insertCount = 0;\n    let walkerIndex = -1;\n    while (walker.nextNode()) {\n        walkerIndex++;\n        const walkerNode = walker.currentNode;\n        if (walkerNode === refNode) {\n            insertCount = countNodes(node);\n            refNode.parentNode.insertBefore(node, refNode);\n        }\n        while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n            // If we've inserted the node, simply adjust all subsequent parts\n            if (insertCount > 0) {\n                while (partIndex !== -1) {\n                    parts[partIndex].index += insertCount;\n                    partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n                }\n                return;\n            }\n            partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n    }\n}\n//# sourceMappingURL=modify-template.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nconst directives = new WeakMap();\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = (f) => ((...args) => {\n    const d = f(...args);\n    directives.set(d, true);\n    return d;\n});\nexport const isDirective = (o) => {\n    return typeof o === 'function' && directives.has(o);\n};\n//# sourceMappingURL=directive.js.map","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n//# sourceMappingURL=part.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isCEPolyfill } from './dom.js';\nimport { isTemplatePartActive } from './template.js';\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n    constructor(template, processor, options) {\n        this.__parts = [];\n        this.template = template;\n        this.processor = processor;\n        this.options = options;\n    }\n    update(values) {\n        let i = 0;\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.setValue(values[i]);\n            }\n            i++;\n        }\n        for (const part of this.__parts) {\n            if (part !== undefined) {\n                part.commit();\n            }\n        }\n    }\n    _clone() {\n        // There are a number of steps in the lifecycle of a template instance's\n        // DOM fragment:\n        //  1. Clone - create the instance fragment\n        //  2. Adopt - adopt into the main document\n        //  3. Process - find part markers and create parts\n        //  4. Upgrade - upgrade custom elements\n        //  5. Update - set node, attribute, property, etc., values\n        //  6. Connect - connect to the document. Optional and outside of this\n        //     method.\n        //\n        // We have a few constraints on the ordering of these steps:\n        //  * We need to upgrade before updating, so that property values will pass\n        //    through any property setters.\n        //  * We would like to process before upgrading so that we're sure that the\n        //    cloned fragment is inert and not disturbed by self-modifying DOM.\n        //  * We want custom elements to upgrade even in disconnected fragments.\n        //\n        // Given these constraints, with full custom elements support we would\n        // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n        //\n        // But Safari does not implement CustomElementRegistry#upgrade, so we\n        // can not implement that order and still have upgrade-before-update and\n        // upgrade disconnected fragments. So we instead sacrifice the\n        // process-before-upgrade constraint, since in Custom Elements v1 elements\n        // must not modify their light DOM in the constructor. We still have issues\n        // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n        // that don't strictly adhere to the no-modification rule because shadow\n        // DOM, which may be created in the constructor, is emulated by being placed\n        // in the light DOM.\n        //\n        // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n        // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n        // in one step.\n        //\n        // The Custom Elements v1 polyfill supports upgrade(), so the order when\n        // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n        // Connect.\n        const fragment = isCEPolyfill ?\n            this.template.element.content.cloneNode(true) :\n            document.importNode(this.template.element.content, true);\n        const stack = [];\n        const parts = this.template.parts;\n        // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n        const walker = document.createTreeWalker(fragment, 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */, null, false);\n        let partIndex = 0;\n        let nodeIndex = 0;\n        let part;\n        let node = walker.nextNode();\n        // Loop through all the nodes and parts of a template\n        while (partIndex < parts.length) {\n            part = parts[partIndex];\n            if (!isTemplatePartActive(part)) {\n                this.__parts.push(undefined);\n                partIndex++;\n                continue;\n            }\n            // Progress the tree walker until we find our next part's node.\n            // Note that multiple parts may share the same node (attribute parts\n            // on a single element), so this loop may not run at all.\n            while (nodeIndex < part.index) {\n                nodeIndex++;\n                if (node.nodeName === 'TEMPLATE') {\n                    stack.push(node);\n                    walker.currentNode = node.content;\n                }\n                if ((node = walker.nextNode()) === null) {\n                    // We've exhausted the content inside a nested template element.\n                    // Because we still have parts (the outer for-loop), we know:\n                    // - There is a template in the stack\n                    // - The walker will find a nextNode outside the template\n                    walker.currentNode = stack.pop();\n                    node = walker.nextNode();\n                }\n            }\n            // We've arrived at our part's node.\n            if (part.type === 'node') {\n                const part = this.processor.handleTextExpression(this.options);\n                part.insertAfterNode(node.previousSibling);\n                this.__parts.push(part);\n            }\n            else {\n                this.__parts.push(...this.processor.handleAttributeExpressions(node, part.name, part.strings, this.options));\n            }\n            partIndex++;\n        }\n        if (isCEPolyfill) {\n            document.adoptNode(fragment);\n            customElements.upgrade(fragment);\n        }\n        return fragment;\n    }\n}\n//# sourceMappingURL=template-instance.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * @module lit-html\n */\nimport { reparentNodes } from './dom.js';\nimport { boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker } from './template.js';\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = window.trustedTypes &&\n    trustedTypes.createPolicy('lit-html', { createHTML: (s) => s });\nconst commentMarker = ` ${marker} `;\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n    constructor(strings, values, type, processor) {\n        this.strings = strings;\n        this.values = values;\n        this.type = type;\n        this.processor = processor;\n    }\n    /**\n     * Returns a string of HTML used to create a `<template>` element.\n     */\n    getHTML() {\n        const l = this.strings.length - 1;\n        let html = '';\n        let isCommentBinding = false;\n        for (let i = 0; i < l; i++) {\n            const s = this.strings[i];\n            // For each binding we want to determine the kind of marker to insert\n            // into the template source before it's parsed by the browser's HTML\n            // parser. The marker type is based on whether the expression is in an\n            // attribute, text, or comment position.\n            //   * For node-position bindings we insert a comment with the marker\n            //     sentinel as its text content, like <!--{{lit-guid}}-->.\n            //   * For attribute bindings we insert just the marker sentinel for the\n            //     first binding, so that we support unquoted attribute bindings.\n            //     Subsequent bindings can use a comment marker because multi-binding\n            //     attributes must be quoted.\n            //   * For comment bindings we insert just the marker sentinel so we don't\n            //     close the comment.\n            //\n            // The following code scans the template source, but is *not* an HTML\n            // parser. We don't need to track the tree structure of the HTML, only\n            // whether a binding is inside a comment, and if not, if it appears to be\n            // the first binding in an attribute.\n            const commentOpen = s.lastIndexOf('<!--');\n            // We're in comment position if we have a comment open with no following\n            // comment close. Because <-- can appear in an attribute value there can\n            // be false positives.\n            isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n                s.indexOf('-->', commentOpen + 1) === -1;\n            // Check to see if we have an attribute-like sequence preceding the\n            // expression. This can match \"name=value\" like structures in text,\n            // comments, and attribute values, so there can be false-positives.\n            const attributeMatch = lastAttributeNameRegex.exec(s);\n            if (attributeMatch === null) {\n                // We're only in this branch if we don't have a attribute-like\n                // preceding sequence. For comments, this guards against unusual\n                // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n                // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n                // below.\n                html += s + (isCommentBinding ? commentMarker : nodeMarker);\n            }\n            else {\n                // For attributes we use just a marker sentinel, and also append a\n                // $lit$ suffix to the name to opt-out of attribute-specific parsing\n                // that IE and Edge do for style and certain SVG attributes.\n                html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n                    attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n                    marker;\n            }\n        }\n        html += this.strings[l];\n        return html;\n    }\n    getTemplateElement() {\n        const template = document.createElement('template');\n        let value = this.getHTML();\n        if (policy !== undefined) {\n            // this is secure because `this.strings` is a TemplateStringsArray.\n            // TODO: validate this when\n            // https://github.com/tc39/proposal-array-is-template-object is\n            // implemented.\n            value = policy.createHTML(value);\n        }\n        template.innerHTML = value;\n        return template;\n    }\n}\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n    getHTML() {\n        return `<svg>${super.getHTML()}</svg>`;\n    }\n    getTemplateElement() {\n        const template = super.getTemplateElement();\n        const content = template.content;\n        const svgElement = content.firstChild;\n        content.removeChild(svgElement);\n        reparentNodes(content, svgElement.firstChild);\n        return template;\n    }\n}\n//# sourceMappingURL=template-result.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { isDirective } from './directive.js';\nimport { removeNodes } from './dom.js';\nimport { noChange, nothing } from './part.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { TemplateResult } from './template-result.js';\nimport { createMarker } from './template.js';\nexport const isPrimitive = (value) => {\n    return (value === null ||\n        !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value) => {\n    return Array.isArray(value) ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        !!(value && value[Symbol.iterator]);\n};\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n    constructor(element, name, strings) {\n        this.dirty = true;\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n        this.parts = [];\n        for (let i = 0; i < strings.length - 1; i++) {\n            this.parts[i] = this._createPart();\n        }\n    }\n    /**\n     * Creates a single part. Override this to create a differnt type of part.\n     */\n    _createPart() {\n        return new AttributePart(this);\n    }\n    _getValue() {\n        const strings = this.strings;\n        const l = strings.length - 1;\n        const parts = this.parts;\n        // If we're assigning an attribute via syntax like:\n        //    attr=\"${foo}\"  or  attr=${foo}\n        // but not\n        //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n        // then we don't want to coerce the attribute value into one long\n        // string. Instead we want to just return the value itself directly,\n        // so that sanitizeDOMValue can get the actual value rather than\n        // String(value)\n        // The exception is if v is an array, in which case we do want to smash\n        // it together into a string without calling String() on the array.\n        //\n        // This also allows trusted values (when using TrustedTypes) being\n        // assigned to DOM sinks without being stringified in the process.\n        if (l === 1 && strings[0] === '' && strings[1] === '') {\n            const v = parts[0].value;\n            if (typeof v === 'symbol') {\n                return String(v);\n            }\n            if (typeof v === 'string' || !isIterable(v)) {\n                return v;\n            }\n        }\n        let text = '';\n        for (let i = 0; i < l; i++) {\n            text += strings[i];\n            const part = parts[i];\n            if (part !== undefined) {\n                const v = part.value;\n                if (isPrimitive(v) || !isIterable(v)) {\n                    text += typeof v === 'string' ? v : String(v);\n                }\n                else {\n                    for (const t of v) {\n                        text += typeof t === 'string' ? t : String(t);\n                    }\n                }\n            }\n        }\n        text += strings[l];\n        return text;\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            this.element.setAttribute(this.name, this._getValue());\n        }\n    }\n}\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart {\n    constructor(committer) {\n        this.value = undefined;\n        this.committer = committer;\n    }\n    setValue(value) {\n        if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n            this.value = value;\n            // If the value is a not a directive, dirty the committer so that it'll\n            // call setAttribute. If the value is a directive, it'll dirty the\n            // committer if it calls setValue().\n            if (!isDirective(value)) {\n                this.committer.dirty = true;\n            }\n        }\n    }\n    commit() {\n        while (isDirective(this.value)) {\n            const directive = this.value;\n            this.value = noChange;\n            directive(this);\n        }\n        if (this.value === noChange) {\n            return;\n        }\n        this.committer.commit();\n    }\n}\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart {\n    constructor(options) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.options = options;\n    }\n    /**\n     * Appends this part into a container.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendInto(container) {\n        this.startNode = container.appendChild(createMarker());\n        this.endNode = container.appendChild(createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n     * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n     * such as those that appear in a literal section of a template.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterNode(ref) {\n        this.startNode = ref;\n        this.endNode = ref.nextSibling;\n    }\n    /**\n     * Appends this part into a parent part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    appendIntoPart(part) {\n        part.__insert(this.startNode = createMarker());\n        part.__insert(this.endNode = createMarker());\n    }\n    /**\n     * Inserts this part after the `ref` part.\n     *\n     * This part must be empty, as its contents are not automatically moved.\n     */\n    insertAfterPart(ref) {\n        ref.__insert(this.startNode = createMarker());\n        this.endNode = ref.endNode;\n        ref.endNode = this.startNode;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        if (this.startNode.parentNode === null) {\n            return;\n        }\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        const value = this.__pendingValue;\n        if (value === noChange) {\n            return;\n        }\n        if (isPrimitive(value)) {\n            if (value !== this.value) {\n                this.__commitText(value);\n            }\n        }\n        else if (value instanceof TemplateResult) {\n            this.__commitTemplateResult(value);\n        }\n        else if (value instanceof Node) {\n            this.__commitNode(value);\n        }\n        else if (isIterable(value)) {\n            this.__commitIterable(value);\n        }\n        else if (value === nothing) {\n            this.value = nothing;\n            this.clear();\n        }\n        else {\n            // Fallback, will render the string representation\n            this.__commitText(value);\n        }\n    }\n    __insert(node) {\n        this.endNode.parentNode.insertBefore(node, this.endNode);\n    }\n    __commitNode(value) {\n        if (this.value === value) {\n            return;\n        }\n        this.clear();\n        this.__insert(value);\n        this.value = value;\n    }\n    __commitText(value) {\n        const node = this.startNode.nextSibling;\n        value = value == null ? '' : value;\n        // If `value` isn't already a string, we explicitly convert it here in case\n        // it can't be implicitly converted - i.e. it's a symbol.\n        const valueAsString = typeof value === 'string' ? value : String(value);\n        if (node === this.endNode.previousSibling &&\n            node.nodeType === 3 /* Node.TEXT_NODE */) {\n            // If we only have a single text node between the markers, we can just\n            // set its value, rather than replacing it.\n            // TODO(justinfagnani): Can we just check if this.value is primitive?\n            node.data = valueAsString;\n        }\n        else {\n            this.__commitNode(document.createTextNode(valueAsString));\n        }\n        this.value = value;\n    }\n    __commitTemplateResult(value) {\n        const template = this.options.templateFactory(value);\n        if (this.value instanceof TemplateInstance &&\n            this.value.template === template) {\n            this.value.update(value.values);\n        }\n        else {\n            // Make sure we propagate the template processor from the TemplateResult\n            // so that we use its syntax extension, etc. The template factory comes\n            // from the render function options so that it can control template\n            // caching and preprocessing.\n            const instance = new TemplateInstance(template, value.processor, this.options);\n            const fragment = instance._clone();\n            instance.update(value.values);\n            this.__commitNode(fragment);\n            this.value = instance;\n        }\n    }\n    __commitIterable(value) {\n        // For an Iterable, we create a new InstancePart per item, then set its\n        // value to the item. This is a little bit of overhead for every item in\n        // an Iterable, but it lets us recurse easily and efficiently update Arrays\n        // of TemplateResults that will be commonly returned from expressions like:\n        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n        // If _value is an array, then the previous render was of an\n        // iterable and _value will contain the NodeParts from the previous\n        // render. If _value is not an array, clear this part and make a new\n        // array for NodeParts.\n        if (!Array.isArray(this.value)) {\n            this.value = [];\n            this.clear();\n        }\n        // Lets us keep track of how many items we stamped so we can clear leftover\n        // items from a previous render\n        const itemParts = this.value;\n        let partIndex = 0;\n        let itemPart;\n        for (const item of value) {\n            // Try to reuse an existing part\n            itemPart = itemParts[partIndex];\n            // If no existing part, create a new one\n            if (itemPart === undefined) {\n                itemPart = new NodePart(this.options);\n                itemParts.push(itemPart);\n                if (partIndex === 0) {\n                    itemPart.appendIntoPart(this);\n                }\n                else {\n                    itemPart.insertAfterPart(itemParts[partIndex - 1]);\n                }\n            }\n            itemPart.setValue(item);\n            itemPart.commit();\n            partIndex++;\n        }\n        if (partIndex < itemParts.length) {\n            // Truncate the parts array so _value reflects the current state\n            itemParts.length = partIndex;\n            this.clear(itemPart && itemPart.endNode);\n        }\n    }\n    clear(startNode = this.startNode) {\n        removeNodes(this.startNode.parentNode, startNode.nextSibling, this.endNode);\n    }\n}\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart {\n    constructor(element, name, strings) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n            throw new Error('Boolean attributes can only contain a single expression');\n        }\n        this.element = element;\n        this.name = name;\n        this.strings = strings;\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const value = !!this.__pendingValue;\n        if (this.value !== value) {\n            if (value) {\n                this.element.setAttribute(this.name, '');\n            }\n            else {\n                this.element.removeAttribute(this.name);\n            }\n            this.value = value;\n        }\n        this.__pendingValue = noChange;\n    }\n}\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n    constructor(element, name, strings) {\n        super(element, name, strings);\n        this.single =\n            (strings.length === 2 && strings[0] === '' && strings[1] === '');\n    }\n    _createPart() {\n        return new PropertyPart(this);\n    }\n    _getValue() {\n        if (this.single) {\n            return this.parts[0].value;\n        }\n        return super._getValue();\n    }\n    commit() {\n        if (this.dirty) {\n            this.dirty = false;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.element[this.name] = this._getValue();\n        }\n    }\n}\nexport class PropertyPart extends AttributePart {\n}\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n    try {\n        const options = {\n            get capture() {\n                eventOptionsSupported = true;\n                return false;\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.addEventListener('test', options, options);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        window.removeEventListener('test', options, options);\n    }\n    catch (_e) {\n        // event options not supported\n    }\n})();\nexport class EventPart {\n    constructor(element, eventName, eventContext) {\n        this.value = undefined;\n        this.__pendingValue = undefined;\n        this.element = element;\n        this.eventName = eventName;\n        this.eventContext = eventContext;\n        this.__boundHandleEvent = (e) => this.handleEvent(e);\n    }\n    setValue(value) {\n        this.__pendingValue = value;\n    }\n    commit() {\n        while (isDirective(this.__pendingValue)) {\n            const directive = this.__pendingValue;\n            this.__pendingValue = noChange;\n            directive(this);\n        }\n        if (this.__pendingValue === noChange) {\n            return;\n        }\n        const newListener = this.__pendingValue;\n        const oldListener = this.value;\n        const shouldRemoveListener = newListener == null ||\n            oldListener != null &&\n                (newListener.capture !== oldListener.capture ||\n                    newListener.once !== oldListener.once ||\n                    newListener.passive !== oldListener.passive);\n        const shouldAddListener = newListener != null && (oldListener == null || shouldRemoveListener);\n        if (shouldRemoveListener) {\n            this.element.removeEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        if (shouldAddListener) {\n            this.__options = getOptions(newListener);\n            this.element.addEventListener(this.eventName, this.__boundHandleEvent, this.__options);\n        }\n        this.value = newListener;\n        this.__pendingValue = noChange;\n    }\n    handleEvent(event) {\n        if (typeof this.value === 'function') {\n            this.value.call(this.eventContext || this.element, event);\n        }\n        else {\n            this.value.handleEvent(event);\n        }\n    }\n}\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o) => o &&\n    (eventOptionsSupported ?\n        { capture: o.capture, passive: o.passive, once: o.once } :\n        o.capture);\n//# sourceMappingURL=parts.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { marker, Template } from './template.js';\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result) {\n    let templateCache = templateCaches.get(result.type);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(result.type, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    // If the TemplateStringsArray is new, generate a key from the strings\n    // This key is shared between all templates with identical content\n    const key = result.strings.join(marker);\n    // Check if we already have a Template for this key\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        // If we have not seen this key before, create a new Template\n        template = new Template(result, result.getTemplateElement());\n        // Cache the Template for this key\n        templateCache.keyString.set(key, template);\n    }\n    // Cache all future queries for this TemplateStringsArray\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n}\nexport const templateCaches = new Map();\n//# sourceMappingURL=template-factory.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { removeNodes } from './dom.js';\nimport { NodePart } from './parts.js';\nimport { templateFactory } from './template-factory.js';\nexport const parts = new WeakMap();\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render = (result, container, options) => {\n    let part = parts.get(container);\n    if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart(Object.assign({ templateFactory }, options)));\n        part.appendInto(container);\n    }\n    part.setValue(result);\n    part.commit();\n};\n//# sourceMappingURL=render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter } from './parts.js';\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor {\n    /**\n     * Create parts for an attribute-position binding, given the event, attribute\n     * name, and string literals.\n     *\n     * @param element The element containing the binding\n     * @param name  The attribute name\n     * @param strings The string literals. There are always at least two strings,\n     *   event for fully-controlled bindings with a single expression.\n     */\n    handleAttributeExpressions(element, name, strings, options) {\n        const prefix = name[0];\n        if (prefix === '.') {\n            const committer = new PropertyCommitter(element, name.slice(1), strings);\n            return committer.parts;\n        }\n        if (prefix === '@') {\n            return [new EventPart(element, name.slice(1), options.eventContext)];\n        }\n        if (prefix === '?') {\n            return [new BooleanAttributePart(element, name.slice(1), strings)];\n        }\n        const committer = new AttributeCommitter(element, name, strings);\n        return committer.parts;\n    }\n    /**\n     * Create parts for a text-position binding.\n     * @param templateFactory\n     */\n    handleTextExpression(options) {\n        return new NodePart(options);\n    }\n}\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n//# sourceMappingURL=default-template-processor.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { defaultTemplateProcessor } from './lib/default-template-processor.js';\nimport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { DefaultTemplateProcessor, defaultTemplateProcessor } from './lib/default-template-processor.js';\nexport { directive, isDirective } from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport { removeNodes, reparentNodes } from './lib/dom.js';\nexport { noChange, nothing } from './lib/part.js';\nexport { AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart } from './lib/parts.js';\nexport { parts, render } from './lib/render.js';\nexport { templateCaches, templateFactory } from './lib/template-factory.js';\nexport { TemplateInstance } from './lib/template-instance.js';\nexport { SVGTemplateResult, TemplateResult } from './lib/template-result.js';\nexport { createMarker, isTemplatePartActive, Template } from './lib/template.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n    (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.3.0');\n}\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings, ...values) => new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings, ...values) => new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n//# sourceMappingURL=lit-html.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @packageDocumentation\n */\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport { removeNodes } from './dom.js';\nimport { insertNodeIntoTemplate, removeNodesFromTemplate } from './modify-template.js';\nimport { parts, render as litRender } from './render.js';\nimport { templateCaches } from './template-factory.js';\nimport { TemplateInstance } from './template-instance.js';\nimport { marker, Template } from './template.js';\nexport { html, svg, TemplateResult } from '../lit-html.js';\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type, scopeName) => `${type}--${scopeName}`;\nlet compatibleShadyCSSVersion = true;\nif (typeof window.ShadyCSS === 'undefined') {\n    compatibleShadyCSSVersion = false;\n}\nelse if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n    console.warn(`Incompatible ShadyCSS version detected. ` +\n        `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n        `@webcomponents/shadycss@1.3.1.`);\n    compatibleShadyCSSVersion = false;\n}\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nexport const shadyTemplateFactory = (scopeName) => (result) => {\n    const cacheKey = getTemplateCacheKey(result.type, scopeName);\n    let templateCache = templateCaches.get(cacheKey);\n    if (templateCache === undefined) {\n        templateCache = {\n            stringsArray: new WeakMap(),\n            keyString: new Map()\n        };\n        templateCaches.set(cacheKey, templateCache);\n    }\n    let template = templateCache.stringsArray.get(result.strings);\n    if (template !== undefined) {\n        return template;\n    }\n    const key = result.strings.join(marker);\n    template = templateCache.keyString.get(key);\n    if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n            window.ShadyCSS.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n    }\n    templateCache.stringsArray.set(result.strings, template);\n    return template;\n};\nconst TEMPLATE_TYPES = ['html', 'svg'];\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName) => {\n    TEMPLATE_TYPES.forEach((type) => {\n        const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n        if (templates !== undefined) {\n            templates.keyString.forEach((template) => {\n                const { element: { content } } = template;\n                // IE 11 doesn't support the iterable param Set constructor\n                const styles = new Set();\n                Array.from(content.querySelectorAll('style')).forEach((s) => {\n                    styles.add(s);\n                });\n                removeNodesFromTemplate(template, styles);\n            });\n        }\n    });\n};\nconst shadyRenderSet = new Set();\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles = (scopeName, renderedDOM, template) => {\n    shadyRenderSet.add(scopeName);\n    // If `renderedDOM` is stamped from a Template, then we need to edit that\n    // Template's underlying template element. Otherwise, we create one here\n    // to give to ShadyCSS, which still requires one while scoping.\n    const templateElement = !!template ? template.element : document.createElement('template');\n    // Move styles out of rendered DOM and store.\n    const styles = renderedDOM.querySelectorAll('style');\n    const { length } = styles;\n    // If there are no styles, skip unnecessary work\n    if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n        return;\n    }\n    const condensedStyle = document.createElement('style');\n    // Collect styles into a single style. This helps us make sure ShadyCSS\n    // manipulations will not prevent us from being able to fix up template\n    // part indices.\n    // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n    // currently does this anyway. When it does not, this should be changed.\n    for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode.removeChild(style);\n        condensedStyle.textContent += style.textContent;\n    }\n    // Remove styles from nested templates in this scope.\n    removeStylesFromLitTemplates(scopeName);\n    // And then put the condensed style into the \"root\" template passed in as\n    // `template`.\n    const content = templateElement.content;\n    if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n    }\n    else {\n        content.insertBefore(condensedStyle, content.firstChild);\n    }\n    // Note, it's important that ShadyCSS gets the template that `lit-html`\n    // will actually render so that it can update the style inside when\n    // needed (e.g. @apply native Shadow DOM case).\n    window.ShadyCSS.prepareTemplateStyles(templateElement, scopeName);\n    const style = content.querySelector('style');\n    if (window.ShadyCSS.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n    }\n    else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n    }\n};\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render = (result, container, options) => {\n    if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n    }\n    const scopeName = options.scopeName;\n    const hasRendered = parts.has(container);\n    const needsScoping = compatibleShadyCSSVersion &&\n        container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n        !!container.host;\n    // Handle first render to a scope specially...\n    const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n    // On first scope render, render into a fragment; this cannot be a single\n    // fragment that is reused since nested renders can occur synchronously.\n    const renderContainer = firstScopeRender ? document.createDocumentFragment() : container;\n    litRender(result, renderContainer, Object.assign({ templateFactory: shadyTemplateFactory(scopeName) }, options));\n    // When performing first scope render,\n    // (1) We've rendered into a fragment so that there's a chance to\n    // `prepareTemplateStyles` before sub-elements hit the DOM\n    // (which might cause them to render based on a common pattern of\n    // rendering in a custom element's `connectedCallback`);\n    // (2) Scope the template with ShadyCSS one time only for this scope.\n    // (3) Render the fragment into the container and make sure the\n    // container knows its `part` is the one we just rendered. This ensures\n    // DOM will be re-used on subsequent renders.\n    if (firstScopeRender) {\n        const part = parts.get(renderContainer);\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(scopeName, renderContainer, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n    }\n    // After elements have hit the DOM, update styling if this is the\n    // initial render to this container.\n    // This is needed whenever dynamic changes are made so it would be\n    // safest to do every render; however, this would regress performance\n    // so we leave it up to the user to call `ShadyCSS.styleElement`\n    // for dynamic changes.\n    if (!hasRendered && needsScoping) {\n        window.ShadyCSS.styleElement(container.host);\n    }\n};\n//# sourceMappingURL=shady-render.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nvar _a;\n/**\n * Use this module if you want to create your own base class extending\n * [[UpdatingElement]].\n * @packageDocumentation\n */\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    (prop, _obj) => prop;\nexport const defaultConverter = {\n    toAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value ? '' : null;\n            case Object:\n            case Array:\n                // if the value is `null` or `undefined` pass this through\n                // to allow removing/no change behavior.\n                return value == null ? value : JSON.stringify(value);\n        }\n        return value;\n    },\n    fromAttribute(value, type) {\n        switch (type) {\n            case Boolean:\n                return value !== null;\n            case Number:\n                return value === null ? null : Number(value);\n            case Object:\n            case Array:\n                return JSON.parse(value);\n        }\n        return value;\n    }\n};\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual = (value, old) => {\n    // This ensures (old==NaN, value==NaN) always returns false\n    return old !== value && (old === old || value === value);\n};\nconst defaultPropertyDeclaration = {\n    attribute: true,\n    type: String,\n    converter: defaultConverter,\n    reflect: false,\n    hasChanged: notEqual\n};\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nexport class UpdatingElement extends HTMLElement {\n    constructor() {\n        super();\n        this.initialize();\n    }\n    /**\n     * Returns a list of attributes corresponding to the registered properties.\n     * @nocollapse\n     */\n    static get observedAttributes() {\n        // note: piggy backing on this to ensure we're finalized.\n        this.finalize();\n        const attributes = [];\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this._classProperties.forEach((v, p) => {\n            const attr = this._attributeNameForProperty(p, v);\n            if (attr !== undefined) {\n                this._attributeToPropertyMap.set(attr, p);\n                attributes.push(attr);\n            }\n        });\n        return attributes;\n    }\n    /**\n     * Ensures the private `_classProperties` property metadata is created.\n     * In addition to `finalize` this is also called in `createProperty` to\n     * ensure the `@property` decorator can add property metadata.\n     */\n    /** @nocollapse */\n    static _ensureClassProperties() {\n        // ensure private storage for property declarations.\n        if (!this.hasOwnProperty(JSCompiler_renameProperty('_classProperties', this))) {\n            this._classProperties = new Map();\n            // NOTE: Workaround IE11 not supporting Map constructor argument.\n            const superProperties = Object.getPrototypeOf(this)._classProperties;\n            if (superProperties !== undefined) {\n                superProperties.forEach((v, k) => this._classProperties.set(k, v));\n            }\n        }\n    }\n    /**\n     * Creates a property accessor on the element prototype if one does not exist\n     * and stores a PropertyDeclaration for the property with the given options.\n     * The property setter calls the property's `hasChanged` property option\n     * or uses a strict identity check to determine whether or not to request\n     * an update.\n     *\n     * This method may be overridden to customize properties; however,\n     * when doing so, it's important to call `super.createProperty` to ensure\n     * the property is setup correctly. This method calls\n     * `getPropertyDescriptor` internally to get a descriptor to install.\n     * To customize what properties do when they are get or set, override\n     * `getPropertyDescriptor`. To customize the options for a property,\n     * implement `createProperty` like this:\n     *\n     * static createProperty(name, options) {\n     *   options = Object.assign(options, {myOption: true});\n     *   super.createProperty(name, options);\n     * }\n     *\n     * @nocollapse\n     */\n    static createProperty(name, options = defaultPropertyDeclaration) {\n        // Note, since this can be called by the `@property` decorator which\n        // is called before `finalize`, we ensure storage exists for property\n        // metadata.\n        this._ensureClassProperties();\n        this._classProperties.set(name, options);\n        // Do not generate an accessor if the prototype already has one, since\n        // it would be lost otherwise and that would never be the user's intention;\n        // Instead, we expect users to call `requestUpdate` themselves from\n        // user-defined accessors. Note that if the super has an accessor we will\n        // still overwrite it\n        if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n            return;\n        }\n        const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n        const descriptor = this.getPropertyDescriptor(name, key, options);\n        if (descriptor !== undefined) {\n            Object.defineProperty(this.prototype, name, descriptor);\n        }\n    }\n    /**\n     * Returns a property descriptor to be defined on the given named property.\n     * If no descriptor is returned, the property will not become an accessor.\n     * For example,\n     *\n     *   class MyElement extends LitElement {\n     *     static getPropertyDescriptor(name, key, options) {\n     *       const defaultDescriptor =\n     *           super.getPropertyDescriptor(name, key, options);\n     *       const setter = defaultDescriptor.set;\n     *       return {\n     *         get: defaultDescriptor.get,\n     *         set(value) {\n     *           setter.call(this, value);\n     *           // custom action.\n     *         },\n     *         configurable: true,\n     *         enumerable: true\n     *       }\n     *     }\n     *   }\n     *\n     * @nocollapse\n     */\n    static getPropertyDescriptor(name, key, options) {\n        return {\n            // tslint:disable-next-line:no-any no symbol in index\n            get() {\n                return this[key];\n            },\n            set(value) {\n                const oldValue = this[name];\n                this[key] = value;\n                this\n                    .requestUpdateInternal(name, oldValue, options);\n            },\n            configurable: true,\n            enumerable: true\n        };\n    }\n    /**\n     * Returns the property options associated with the given property.\n     * These options are defined with a PropertyDeclaration via the `properties`\n     * object or the `@property` decorator and are registered in\n     * `createProperty(...)`.\n     *\n     * Note, this method should be considered \"final\" and not overridden. To\n     * customize the options for a given property, override `createProperty`.\n     *\n     * @nocollapse\n     * @final\n     */\n    static getPropertyOptions(name) {\n        return this._classProperties && this._classProperties.get(name) ||\n            defaultPropertyDeclaration;\n    }\n    /**\n     * Creates property accessors for registered properties and ensures\n     * any superclasses are also finalized.\n     * @nocollapse\n     */\n    static finalize() {\n        // finalize any superclasses\n        const superCtor = Object.getPrototypeOf(this);\n        if (!superCtor.hasOwnProperty(finalized)) {\n            superCtor.finalize();\n        }\n        this[finalized] = true;\n        this._ensureClassProperties();\n        // initialize Map populated in observedAttributes\n        this._attributeToPropertyMap = new Map();\n        // make any properties\n        // Note, only process \"own\" properties since this element will inherit\n        // any properties defined on the superClass, and finalization ensures\n        // the entire prototype chain is finalized.\n        if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n            const props = this.properties;\n            // support symbols in properties (IE11 does not support this)\n            const propKeys = [\n                ...Object.getOwnPropertyNames(props),\n                ...(typeof Object.getOwnPropertySymbols === 'function') ?\n                    Object.getOwnPropertySymbols(props) :\n                    []\n            ];\n            // This for/of is ok because propKeys is an array\n            for (const p of propKeys) {\n                // note, use of `any` is due to TypeSript lack of support for symbol in\n                // index types\n                // tslint:disable-next-line:no-any no symbol in index\n                this.createProperty(p, props[p]);\n            }\n        }\n    }\n    /**\n     * Returns the property name for the given attribute `name`.\n     * @nocollapse\n     */\n    static _attributeNameForProperty(name, options) {\n        const attribute = options.attribute;\n        return attribute === false ?\n            undefined :\n            (typeof attribute === 'string' ?\n                attribute :\n                (typeof name === 'string' ? name.toLowerCase() : undefined));\n    }\n    /**\n     * Returns true if a property should request an update.\n     * Called when a property value is set and uses the `hasChanged`\n     * option for the property if present or a strict identity check.\n     * @nocollapse\n     */\n    static _valueHasChanged(value, old, hasChanged = notEqual) {\n        return hasChanged(value, old);\n    }\n    /**\n     * Returns the property value for the given attribute value.\n     * Called via the `attributeChangedCallback` and uses the property's\n     * `converter` or `converter.fromAttribute` property option.\n     * @nocollapse\n     */\n    static _propertyValueFromAttribute(value, options) {\n        const type = options.type;\n        const converter = options.converter || defaultConverter;\n        const fromAttribute = (typeof converter === 'function' ? converter : converter.fromAttribute);\n        return fromAttribute ? fromAttribute(value, type) : value;\n    }\n    /**\n     * Returns the attribute value for the given property value. If this\n     * returns undefined, the property will *not* be reflected to an attribute.\n     * If this returns null, the attribute will be removed, otherwise the\n     * attribute will be set to the value.\n     * This uses the property's `reflect` and `type.toAttribute` property options.\n     * @nocollapse\n     */\n    static _propertyValueToAttribute(value, options) {\n        if (options.reflect === undefined) {\n            return;\n        }\n        const type = options.type;\n        const converter = options.converter;\n        const toAttribute = converter && converter.toAttribute ||\n            defaultConverter.toAttribute;\n        return toAttribute(value, type);\n    }\n    /**\n     * Performs element initialization. By default captures any pre-set values for\n     * registered properties.\n     */\n    initialize() {\n        this._updateState = 0;\n        this._updatePromise =\n            new Promise((res) => this._enableUpdatingResolver = res);\n        this._changedProperties = new Map();\n        this._saveInstanceProperties();\n        // ensures first update will be caught by an early access of\n        // `updateComplete`\n        this.requestUpdateInternal();\n    }\n    /**\n     * Fixes any properties set on the instance before upgrade time.\n     * Otherwise these would shadow the accessor and break these properties.\n     * The properties are stored in a Map which is played back after the\n     * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n     * (<=41), properties created for native platform properties like (`id` or\n     * `name`) may not have default values set in the element constructor. On\n     * these browsers native properties appear on instances and therefore their\n     * default value will overwrite any element default (e.g. if the element sets\n     * this.id = 'id' in the constructor, the 'id' will become '' since this is\n     * the native platform default).\n     */\n    _saveInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        this.constructor\n            ._classProperties.forEach((_v, p) => {\n            if (this.hasOwnProperty(p)) {\n                const value = this[p];\n                delete this[p];\n                if (!this._instanceProperties) {\n                    this._instanceProperties = new Map();\n                }\n                this._instanceProperties.set(p, value);\n            }\n        });\n    }\n    /**\n     * Applies previously saved instance properties.\n     */\n    _applyInstanceProperties() {\n        // Use forEach so this works even if for/of loops are compiled to for loops\n        // expecting arrays\n        // tslint:disable-next-line:no-any\n        this._instanceProperties.forEach((v, p) => this[p] = v);\n        this._instanceProperties = undefined;\n    }\n    connectedCallback() {\n        // Ensure first connection completes an update. Updates cannot complete\n        // before connection.\n        this.enableUpdating();\n    }\n    enableUpdating() {\n        if (this._enableUpdatingResolver !== undefined) {\n            this._enableUpdatingResolver();\n            this._enableUpdatingResolver = undefined;\n        }\n    }\n    /**\n     * Allows for `super.disconnectedCallback()` in extensions while\n     * reserving the possibility of making non-breaking feature additions\n     * when disconnecting at some point in the future.\n     */\n    disconnectedCallback() {\n    }\n    /**\n     * Synchronizes property values when attributes change.\n     */\n    attributeChangedCallback(name, old, value) {\n        if (old !== value) {\n            this._attributeToProperty(name, value);\n        }\n    }\n    _propertyToAttribute(name, value, options = defaultPropertyDeclaration) {\n        const ctor = this.constructor;\n        const attr = ctor._attributeNameForProperty(name, options);\n        if (attr !== undefined) {\n            const attrValue = ctor._propertyValueToAttribute(value, options);\n            // an undefined value does not change the attribute.\n            if (attrValue === undefined) {\n                return;\n            }\n            // Track if the property is being reflected to avoid\n            // setting the property again via `attributeChangedCallback`. Note:\n            // 1. this takes advantage of the fact that the callback is synchronous.\n            // 2. will behave incorrectly if multiple attributes are in the reaction\n            // stack at time of calling. However, since we process attributes\n            // in `update` this should not be possible (or an extreme corner case\n            // that we'd like to discover).\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n            if (attrValue == null) {\n                this.removeAttribute(attr);\n            }\n            else {\n                this.setAttribute(attr, attrValue);\n            }\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n        }\n    }\n    _attributeToProperty(name, value) {\n        // Use tracking info to avoid deserializing attribute value if it was\n        // just set from a property setter.\n        if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n            return;\n        }\n        const ctor = this.constructor;\n        // Note, hint this as an `AttributeMap` so closure clearly understands\n        // the type; it has issues with tracking types through statics\n        // tslint:disable-next-line:no-unnecessary-type-assertion\n        const propName = ctor._attributeToPropertyMap.get(name);\n        if (propName !== undefined) {\n            const options = ctor.getPropertyOptions(propName);\n            // mark state reflecting\n            this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n            this[propName] =\n                // tslint:disable-next-line:no-any\n                ctor._propertyValueFromAttribute(value, options);\n            // mark state not reflecting\n            this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n        }\n    }\n    /**\n     * This protected version of `requestUpdate` does not access or return the\n     * `updateComplete` promise. This promise can be overridden and is therefore\n     * not free to access.\n     */\n    requestUpdateInternal(name, oldValue, options) {\n        let shouldRequestUpdate = true;\n        // If we have a property key, perform property update steps.\n        if (name !== undefined) {\n            const ctor = this.constructor;\n            options = options || ctor.getPropertyOptions(name);\n            if (ctor._valueHasChanged(this[name], oldValue, options.hasChanged)) {\n                if (!this._changedProperties.has(name)) {\n                    this._changedProperties.set(name, oldValue);\n                }\n                // Add to reflecting properties set.\n                // Note, it's important that every change has a chance to add the\n                // property to `_reflectingProperties`. This ensures setting\n                // attribute + property reflects correctly.\n                if (options.reflect === true &&\n                    !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n                    if (this._reflectingProperties === undefined) {\n                        this._reflectingProperties = new Map();\n                    }\n                    this._reflectingProperties.set(name, options);\n                }\n            }\n            else {\n                // Abort the request if the property should not be considered changed.\n                shouldRequestUpdate = false;\n            }\n        }\n        if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n            this._updatePromise = this._enqueueUpdate();\n        }\n    }\n    /**\n     * Requests an update which is processed asynchronously. This should\n     * be called when an element should update based on some state not triggered\n     * by setting a property. In this case, pass no arguments. It should also be\n     * called when manually implementing a property setter. In this case, pass the\n     * property `name` and `oldValue` to ensure that any configured property\n     * options are honored. Returns the `updateComplete` Promise which is resolved\n     * when the update completes.\n     *\n     * @param name {PropertyKey} (optional) name of requesting property\n     * @param oldValue {any} (optional) old value of requesting property\n     * @returns {Promise} A Promise that is resolved when the update completes.\n     */\n    requestUpdate(name, oldValue) {\n        this.requestUpdateInternal(name, oldValue);\n        return this.updateComplete;\n    }\n    /**\n     * Sets up the element to asynchronously update.\n     */\n    async _enqueueUpdate() {\n        this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n        try {\n            // Ensure any previous update has resolved before updating.\n            // This `await` also ensures that property changes are batched.\n            await this._updatePromise;\n        }\n        catch (e) {\n            // Ignore any previous errors. We only care that the previous cycle is\n            // done. Any error should have been handled in the previous update.\n        }\n        const result = this.performUpdate();\n        // If `performUpdate` returns a Promise, we await it. This is done to\n        // enable coordinating updates with a scheduler. Note, the result is\n        // checked to avoid delaying an additional microtask unless we need to.\n        if (result != null) {\n            await result;\n        }\n        return !this._hasRequestedUpdate;\n    }\n    get _hasRequestedUpdate() {\n        return (this._updateState & STATE_UPDATE_REQUESTED);\n    }\n    get hasUpdated() {\n        return (this._updateState & STATE_HAS_UPDATED);\n    }\n    /**\n     * Performs an element update. Note, if an exception is thrown during the\n     * update, `firstUpdated` and `updated` will not be called.\n     *\n     * You can override this method to change the timing of updates. If this\n     * method is overridden, `super.performUpdate()` must be called.\n     *\n     * For instance, to schedule updates to occur just before the next frame:\n     *\n     * ```\n     * protected async performUpdate(): Promise<unknown> {\n     *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n     *   super.performUpdate();\n     * }\n     * ```\n     */\n    performUpdate() {\n        // Abort any update if one is not pending when this is called.\n        // This can happen if `performUpdate` is called early to \"flush\"\n        // the update.\n        if (!this._hasRequestedUpdate) {\n            return;\n        }\n        // Mixin instance properties once, if they exist.\n        if (this._instanceProperties) {\n            this._applyInstanceProperties();\n        }\n        let shouldUpdate = false;\n        const changedProperties = this._changedProperties;\n        try {\n            shouldUpdate = this.shouldUpdate(changedProperties);\n            if (shouldUpdate) {\n                this.update(changedProperties);\n            }\n            else {\n                this._markUpdated();\n            }\n        }\n        catch (e) {\n            // Prevent `firstUpdated` and `updated` from running when there's an\n            // update exception.\n            shouldUpdate = false;\n            // Ensure element can accept additional updates after an exception.\n            this._markUpdated();\n            throw e;\n        }\n        if (shouldUpdate) {\n            if (!(this._updateState & STATE_HAS_UPDATED)) {\n                this._updateState = this._updateState | STATE_HAS_UPDATED;\n                this.firstUpdated(changedProperties);\n            }\n            this.updated(changedProperties);\n        }\n    }\n    _markUpdated() {\n        this._changedProperties = new Map();\n        this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n    }\n    /**\n     * Returns a Promise that resolves when the element has completed updating.\n     * The Promise value is a boolean that is `true` if the element completed the\n     * update without triggering another update. The Promise result is `false` if\n     * a property was set inside `updated()`. If the Promise is rejected, an\n     * exception was thrown during the update.\n     *\n     * To await additional asynchronous work, override the `_getUpdateComplete`\n     * method. For example, it is sometimes useful to await a rendered element\n     * before fulfilling this Promise. To do this, first await\n     * `super._getUpdateComplete()`, then any subsequent state.\n     *\n     * @returns {Promise} The Promise returns a boolean that indicates if the\n     * update resolved without triggering another update.\n     */\n    get updateComplete() {\n        return this._getUpdateComplete();\n    }\n    /**\n     * Override point for the `updateComplete` promise.\n     *\n     * It is not safe to override the `updateComplete` getter directly due to a\n     * limitation in TypeScript which means it is not possible to call a\n     * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n     * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n     * This method should be overridden instead. For example:\n     *\n     *   class MyElement extends LitElement {\n     *     async _getUpdateComplete() {\n     *       await super._getUpdateComplete();\n     *       await this._myChild.updateComplete;\n     *     }\n     *   }\n     */\n    _getUpdateComplete() {\n        return this._updatePromise;\n    }\n    /**\n     * Controls whether or not `update` should be called when the element requests\n     * an update. By default, this method always returns `true`, but this can be\n     * customized to control when to update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    shouldUpdate(_changedProperties) {\n        return true;\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes.\n     * It can be overridden to render and keep updated element DOM.\n     * Setting properties inside this method will *not* trigger\n     * another update.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(_changedProperties) {\n        if (this._reflectingProperties !== undefined &&\n            this._reflectingProperties.size > 0) {\n            // Use forEach so this works even if for/of loops are compiled to for\n            // loops expecting arrays\n            this._reflectingProperties.forEach((v, k) => this._propertyToAttribute(k, this[k], v));\n            this._reflectingProperties = undefined;\n        }\n        this._markUpdated();\n    }\n    /**\n     * Invoked whenever the element is updated. Implement to perform\n     * post-updating tasks via DOM APIs, for example, focusing an element.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    updated(_changedProperties) {\n    }\n    /**\n     * Invoked when the element is first updated. Implement to perform one time\n     * work on the element after update.\n     *\n     * Setting properties inside this method will trigger the element to update\n     * again after this update cycle completes.\n     *\n     * @param _changedProperties Map of changed properties with old values\n     */\n    firstUpdated(_changedProperties) {\n    }\n}\n_a = finalized;\n/**\n * Marks class as having finished creating properties.\n */\nUpdatingElement[_a] = true;\n//# sourceMappingURL=updating-element.js.map","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nexport const supportsAdoptingStyleSheets = (window.ShadowRoot) &&\n    (window.ShadyCSS === undefined || window.ShadyCSS.nativeShadow) &&\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\nconst constructionToken = Symbol();\nexport class CSSResult {\n    constructor(cssText, safeToken) {\n        if (safeToken !== constructionToken) {\n            throw new Error('CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n        }\n        this.cssText = cssText;\n    }\n    // Note, this is a getter so that it's lazy. In practice, this means\n    // stylesheets are not created until the first element instance is made.\n    get styleSheet() {\n        if (this._styleSheet === undefined) {\n            // Note, if `supportsAdoptingStyleSheets` is true then we assume\n            // CSSStyleSheet is constructable.\n            if (supportsAdoptingStyleSheets) {\n                this._styleSheet = new CSSStyleSheet();\n                this._styleSheet.replaceSync(this.cssText);\n            }\n            else {\n                this._styleSheet = null;\n            }\n        }\n        return this._styleSheet;\n    }\n    toString() {\n        return this.cssText;\n    }\n}\n/**\n * Wrap a value for interpolation in a [[`css`]] tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value) => {\n    return new CSSResult(String(value), constructionToken);\n};\nconst textFromCSSResult = (value) => {\n    if (value instanceof CSSResult) {\n        return value.cssText;\n    }\n    else if (typeof value === 'number') {\n        return value;\n    }\n    else {\n        throw new Error(`Value passed to 'css' function must be a 'css' function result: ${value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n    }\n};\n/**\n * Template tag which which can be used with LitElement's [[LitElement.styles |\n * `styles`]] property to set element styles. For security reasons, only literal\n * string values may be used. To incorporate non-literal values [[`unsafeCSS`]]\n * may be used inside a template string part.\n */\nexport const css = (strings, ...values) => {\n    const cssText = values.reduce((acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1], strings[0]);\n    return new CSSResult(cssText, constructionToken);\n};\n//# sourceMappingURL=css-tag.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n/**\n * The main LitElement module, which defines the [[`LitElement`]] base class and\n * related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import [[`LitElement`]] and [[`html`]] from this module to create a\n * component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends [[`UpdatingElement`]] and adds lit-html templating.\n * The `UpdatingElement` class is provided for users that want to build\n * their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\nimport { render } from 'lit-html/lib/shady-render.js';\nimport { UpdatingElement } from './lib/updating-element.js';\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport { html, svg, TemplateResult, SVGTemplateResult } from 'lit-html/lit-html.js';\nimport { supportsAdoptingStyleSheets, unsafeCSS } from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.4.0');\n/**\n * Sentinal value used to avoid calling lit-html's render function when\n * subclasses do not implement `render`\n */\nconst renderNotImplemented = {};\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the [[`properties`]] property or the [[`property`]] decorator.\n */\nexport class LitElement extends UpdatingElement {\n    /**\n     * Return the array of styles to apply to the element.\n     * Override this method to integrate into a style management system.\n     *\n     * @nocollapse\n     */\n    static getStyles() {\n        return this.styles;\n    }\n    /** @nocollapse */\n    static _getUniqueStyles() {\n        // Only gather styles once per class\n        if (this.hasOwnProperty(JSCompiler_renameProperty('_styles', this))) {\n            return;\n        }\n        // Take care not to call `this.getStyles()` multiple times since this\n        // generates new CSSResults each time.\n        // TODO(sorvell): Since we do not cache CSSResults by input, any\n        // shared styles will generate new stylesheet objects, which is wasteful.\n        // This should be addressed when a browser ships constructable\n        // stylesheets.\n        const userStyles = this.getStyles();\n        if (Array.isArray(userStyles)) {\n            // De-duplicate styles preserving the _last_ instance in the set.\n            // This is a performance optimization to avoid duplicated styles that can\n            // occur especially when composing via subclassing.\n            // The last item is kept to try to preserve the cascade order with the\n            // assumption that it's most important that last added styles override\n            // previous styles.\n            const addStyles = (styles, set) => styles.reduceRight((set, s) => \n            // Note: On IE set.add() does not return the set\n            Array.isArray(s) ? addStyles(s, set) : (set.add(s), set), set);\n            // Array.from does not work on Set in IE, otherwise return\n            // Array.from(addStyles(userStyles, new Set<CSSResult>())).reverse()\n            const set = addStyles(userStyles, new Set());\n            const styles = [];\n            set.forEach((v) => styles.unshift(v));\n            this._styles = styles;\n        }\n        else {\n            this._styles = userStyles === undefined ? [] : [userStyles];\n        }\n        // Ensure that there are no invalid CSSStyleSheet instances here. They are\n        // invalid in two conditions.\n        // (1) the sheet is non-constructible (`sheet` of a HTMLStyleElement), but\n        //     this is impossible to check except via .replaceSync or use\n        // (2) the ShadyCSS polyfill is enabled (:. supportsAdoptingStyleSheets is\n        //     false)\n        this._styles = this._styles.map((s) => {\n            if (s instanceof CSSStyleSheet && !supportsAdoptingStyleSheets) {\n                // Flatten the cssText from the passed constructible stylesheet (or\n                // undetectable non-constructible stylesheet). The user might have\n                // expected to update their stylesheets over time, but the alternative\n                // is a crash.\n                const cssText = Array.prototype.slice.call(s.cssRules)\n                    .reduce((css, rule) => css + rule.cssText, '');\n                return unsafeCSS(cssText);\n            }\n            return s;\n        });\n    }\n    /**\n     * Performs element initialization. By default this calls\n     * [[`createRenderRoot`]] to create the element [[`renderRoot`]] node and\n     * captures any pre-set values for registered properties.\n     */\n    initialize() {\n        super.initialize();\n        this.constructor._getUniqueStyles();\n        this.renderRoot = this.createRenderRoot();\n        // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n        // element's getRootNode(). While this could be done, we're choosing not to\n        // support this now since it would require different logic around de-duping.\n        if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n            this.adoptStyles();\n        }\n    }\n    /**\n     * Returns the node into which the element should render and by default\n     * creates and returns an open shadowRoot. Implement to customize where the\n     * element's DOM is rendered. For example, to render into the element's\n     * childNodes, return `this`.\n     * @returns {Element|DocumentFragment} Returns a node into which to render.\n     */\n    createRenderRoot() {\n        return this.attachShadow({ mode: 'open' });\n    }\n    /**\n     * Applies styling to the element shadowRoot using the [[`styles`]]\n     * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n     * available and will fallback otherwise. When Shadow DOM is polyfilled,\n     * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n     * is available but `adoptedStyleSheets` is not, styles are appended to the\n     * end of the `shadowRoot` to [mimic spec\n     * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n     */\n    adoptStyles() {\n        const styles = this.constructor._styles;\n        if (styles.length === 0) {\n            return;\n        }\n        // There are three separate cases here based on Shadow DOM support.\n        // (1) shadowRoot polyfilled: use ShadyCSS\n        // (2) shadowRoot.adoptedStyleSheets available: use it\n        // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n        // rendering\n        if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n            window.ShadyCSS.ScopingShim.prepareAdoptedCssText(styles.map((s) => s.cssText), this.localName);\n        }\n        else if (supportsAdoptingStyleSheets) {\n            this.renderRoot.adoptedStyleSheets =\n                styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet);\n        }\n        else {\n            // This must be done after rendering so the actual style insertion is done\n            // in `update`.\n            this._needsShimAdoptedStyleSheets = true;\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        // Note, first update/render handles styleElement so we only call this if\n        // connected after first update.\n        if (this.hasUpdated && window.ShadyCSS !== undefined) {\n            window.ShadyCSS.styleElement(this);\n        }\n    }\n    /**\n     * Updates the element. This method reflects property values to attributes\n     * and calls `render` to render DOM via lit-html. Setting properties inside\n     * this method will *not* trigger another update.\n     * @param _changedProperties Map of changed properties with old values\n     */\n    update(changedProperties) {\n        // Setting properties in `render` should not trigger an update. Since\n        // updates are allowed after super.update, it's important to call `render`\n        // before that.\n        const templateResult = this.render();\n        super.update(changedProperties);\n        // If render is not implemented by the component, don't call lit-html render\n        if (templateResult !== renderNotImplemented) {\n            this.constructor\n                .render(templateResult, this.renderRoot, { scopeName: this.localName, eventContext: this });\n        }\n        // When native Shadow DOM is used but adoptedStyles are not supported,\n        // insert styling after rendering to ensure adoptedStyles have highest\n        // priority.\n        if (this._needsShimAdoptedStyleSheets) {\n            this._needsShimAdoptedStyleSheets = false;\n            this.constructor._styles.forEach((s) => {\n                const style = document.createElement('style');\n                style.textContent = s.cssText;\n                this.renderRoot.appendChild(style);\n            });\n        }\n    }\n    /**\n     * Invoked on each update to perform rendering tasks. This method may return\n     * any value renderable by lit-html's `NodePart` - typically a\n     * `TemplateResult`. Setting properties inside this method will *not* trigger\n     * the element to update.\n     */\n    render() {\n        return renderNotImplemented;\n    }\n}\n/**\n * Ensure this class is marked as `finalized` as an optimization ensuring\n * it will not needlessly try to `finalize`.\n *\n * Note this property name is a string to prevent breaking Closure JS Compiler\n * optimizations. See updating-element.ts for more information.\n */\nLitElement['finalized'] = true;\n/**\n * Reference to the underlying library method used to render the element's\n * DOM. By default, points to the `render` method from lit-html's shady-render\n * module.\n *\n * **Most users will never need to touch this property.**\n *\n * This  property should not be confused with the `render` instance method,\n * which should be overridden to define a template for the element.\n *\n * Advanced users creating a new base class based on LitElement can override\n * this property to point to a custom render method with a signature that\n * matches [shady-render's `render`\n * method](https://lit-html.polymer-project.org/api/modules/shady_render.html#render).\n *\n * @nocollapse\n */\nLitElement.render = render;\n//# sourceMappingURL=lit-element.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport { createMarker, directive, NodePart, removeNodes, reparentNodes } from '../lit-html.js';\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart = (containerPart, beforePart) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = beforePart === undefined ? containerPart.endNode :\n        beforePart.startNode;\n    const startNode = container.insertBefore(createMarker(), beforeNode);\n    container.insertBefore(createMarker(), beforeNode);\n    const newPart = new NodePart(containerPart.options);\n    newPart.insertAfterNode(startNode);\n    return newPart;\n};\nconst updatePart = (part, value) => {\n    part.setValue(value);\n    part.commit();\n    return part;\n};\nconst insertPartBefore = (containerPart, part, ref) => {\n    const container = containerPart.startNode.parentNode;\n    const beforeNode = ref ? ref.startNode : containerPart.endNode;\n    const endNode = part.endNode.nextSibling;\n    if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n    }\n};\nconst removePart = (part) => {\n    removeNodes(part.startNode.parentNode, part.startNode, part.endNode.nextSibling);\n};\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list, start, end) => {\n    const map = new Map();\n    for (let i = start; i <= end; i++) {\n        map.set(list[i], i);\n    }\n    return map;\n};\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap();\nconst keyListCache = new WeakMap();\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * and removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat = directive((items, keyFnOrTemplate, template) => {\n    let keyFn;\n    if (template === undefined) {\n        template = keyFnOrTemplate;\n    }\n    else if (keyFnOrTemplate !== undefined) {\n        keyFn = keyFnOrTemplate;\n    }\n    return (containerPart) => {\n        if (!(containerPart instanceof NodePart)) {\n            throw new Error('repeat can only be used in text bindings');\n        }\n        // Old part & key lists are retrieved from the last update\n        // (associated with the part for this instance of the directive)\n        const oldParts = partListCache.get(containerPart) || [];\n        const oldKeys = keyListCache.get(containerPart) || [];\n        // New part list will be built up as we go (either reused from\n        // old parts or created for new keys in this update). This is\n        // saved in the above cache at the end of the update.\n        const newParts = [];\n        // New value list is eagerly generated from items along with a\n        // parallel array indicating its key.\n        const newValues = [];\n        const newKeys = [];\n        let index = 0;\n        for (const item of items) {\n            newKeys[index] = keyFn ? keyFn(item, index) : index;\n            newValues[index] = template(item, index);\n            index++;\n        }\n        // Maps from key to index for current and previous update; these\n        // are generated lazily only when needed as a performance\n        // optimization, since they are only required for multiple\n        // non-contiguous changes in the list, which are less common.\n        let newKeyToIndexMap;\n        let oldKeyToIndexMap;\n        // Head and tail pointers to old parts and new values\n        let oldHead = 0;\n        let oldTail = oldParts.length - 1;\n        let newHead = 0;\n        let newTail = newValues.length - 1;\n        // Overview of O(n) reconciliation algorithm (general approach\n        // based on ideas found in ivi, vue, snabbdom, etc.):\n        //\n        // * We start with the list of old parts and new values (and\n        //   arrays of their respective keys), head/tail pointers into\n        //   each, and we build up the new list of parts by updating\n        //   (and when needed, moving) old parts or creating new ones.\n        //   The initial scenario might look like this (for brevity of\n        //   the diagrams, the numbers in the array reflect keys\n        //   associated with the old parts or new values, although keys\n        //   and parts/values are actually stored in parallel arrays\n        //   indexed using the same head/tail pointers):\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n        //                                      item order\n        //      newHead ^                 ^ newTail\n        //\n        // * Iterate old & new lists from both sides, updating,\n        //   swapping, or removing parts at the head/tail locations\n        //   until neither head nor tail can move.\n        //\n        // * Example below: keys at head pointers match, so update old\n        //   part 0 in-place (no need to move it) and record part 0 in\n        //   the `newParts` list. The last thing we do is advance the\n        //   `oldHead` and `newHead` pointers (will be reflected in the\n        //   next diagram).\n        //\n        //      oldHead v                 v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //      newHead ^                 ^ newTail\n        //\n        // * Example below: head pointers don't match, but tail\n        //   pointers do, so update part 6 in place (no need to move\n        //   it), and record part 6 in the `newParts` list. Last,\n        //   advance the `oldTail` and `oldHead` pointers.\n        //\n        //         oldHead v              v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n        //                                      & newTail\n        //         newHead ^              ^ newTail\n        //\n        // * If neither head nor tail match; next check if one of the\n        //   old head/tail items was removed. We first need to generate\n        //   the reverse map of new keys to index (`newKeyToIndexMap`),\n        //   which is done once lazily as a performance optimization,\n        //   since we only hit this case if multiple non-contiguous\n        //   changes were made. Note that for contiguous removal\n        //   anywhere in the list, the head and tails would advance\n        //   from either end and pass each other before we get to this\n        //   case and removals would be handled in the final while loop\n        //   without needing to generate the map.\n        //\n        // * Example below: The key at `oldTail` was removed (no longer\n        //   in the `newKeyToIndexMap`), so remove that part from the\n        //   DOM and advance just the `oldTail` pointer.\n        //\n        //         oldHead v           v oldTail\n        //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n        //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n        //         newHead ^           ^ newTail\n        //\n        // * Once head and tail cannot move, any mismatches are due to\n        //   either new or moved items; if a new key is in the previous\n        //   \"old key to old index\" map, move the old part to the new\n        //   location, otherwise create and insert a new part. Note\n        //   that when moving an old part we null its position in the\n        //   oldParts array if it lies between the head and tail so we\n        //   know to skip it when the pointers get there.\n        //\n        // * Example below: neither head nor tail match, and neither\n        //   were removed; so find the `newHead` key in the\n        //   `oldKeyToIndexMap`, and move that old part's DOM into the\n        //   next head position (before `oldParts[oldHead]`). Last,\n        //   null the part in the `oldPart` array since it was\n        //   somewhere in the remaining oldParts still to be scanned\n        //   (between the head and tail pointers) so that we know to\n        //   skip that old part on future iterations.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n        //                                      newHead\n        //         newHead ^           ^ newTail\n        //\n        // * Note that for moves/insertions like the one above, a part\n        //   inserted at the head pointer is inserted before the\n        //   current `oldParts[oldHead]`, and a part inserted at the\n        //   tail pointer is inserted before `newParts[newTail+1]`. The\n        //   seeming asymmetry lies in the fact that new parts are\n        //   moved into place outside in, so to the right of the head\n        //   pointer are old parts, and to the right of the tail\n        //   pointer are new parts.\n        //\n        // * We always restart back from the top of the algorithm,\n        //   allowing matching and simple updates in place to\n        //   continue...\n        //\n        // * Example below: the head pointers once again match, so\n        //   simply update part 1 and record it in the `newParts`\n        //   array.  Last, advance both head pointers.\n        //\n        //         oldHead v        v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n        //                                      & newHead\n        //            newHead ^        ^ newTail\n        //\n        // * As mentioned above, items that were moved as a result of\n        //   being stuck (the final else clause in the code below) are\n        //   marked with null, so we always advance old pointers over\n        //   these so we're comparing the next actual old value on\n        //   either end.\n        //\n        // * Example below: `oldHead` is null (already placed in\n        //   newParts), so advance `oldHead`.\n        //\n        //            oldHead v     v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n        //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //               newHead ^     ^ newTail\n        //\n        // * Note it's not critical to mark old parts as null when they\n        //   are moved from head to tail or tail to head, since they\n        //   will be outside the pointer range and never visited again.\n        //\n        // * Example below: Here the old tail key matches the new head\n        //   key, so the part at the `oldTail` position and move its\n        //   DOM to the new head position (before `oldParts[oldHead]`).\n        //   Last, advance `oldTail` and `newHead` pointers.\n        //\n        //               oldHead v  v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n        //                                     advance oldTail & newHead\n        //               newHead ^     ^ newTail\n        //\n        // * Example below: Old and new head keys match, so update the\n        //   old head part in place, and advance the `oldHead` and\n        //   `newHead` pointers.\n        //\n        //               oldHead v oldTail\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n        //                                      newHead\n        //                  newHead ^  ^ newTail\n        //\n        // * Once the new or old pointers move past each other then all\n        //   we have left is additions (if old list exhausted) or\n        //   removals (if new list exhausted). Those are handled in the\n        //   final while loops at the end.\n        //\n        // * Example below: `oldHead` exceeded `oldTail`, so we're done\n        //   with the main loop.  Create the remaining part and insert\n        //   it at the new head position, and the update is complete.\n        //\n        //                   (oldHead > oldTail)\n        //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n        //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n        //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n        //                     newHead ^ newTail\n        //\n        // * Note that the order of the if/else clauses is not\n        //   important to the algorithm, as long as the null checks\n        //   come first (to ensure we're always working on valid old\n        //   parts) and that the final else clause comes last (since\n        //   that's where the expensive moves occur). The order of\n        //   remaining clauses is is just a simple guess at which cases\n        //   will be most common.\n        //\n        // * TODO(kschaaf) Note, we could calculate the longest\n        //   increasing subsequence (LIS) of old items in new position,\n        //   and only move those not in the LIS set. However that costs\n        //   O(nlogn) time and adds a bit more code, and only helps\n        //   make rare types of mutations require fewer moves. The\n        //   above handles removes, adds, reversal, swaps, and single\n        //   moves of contiguous items in linear time, in the minimum\n        //   number of moves. As the number of multiple moves where LIS\n        //   might help approaches a random shuffle, the LIS\n        //   optimization becomes less helpful, so it seems not worth\n        //   the code at this point. Could reconsider if a compelling\n        //   case arises.\n        while (oldHead <= oldTail && newHead <= newTail) {\n            if (oldParts[oldHead] === null) {\n                // `null` means old part at head has already been used\n                // below; skip\n                oldHead++;\n            }\n            else if (oldParts[oldTail] === null) {\n                // `null` means old part at tail has already been used\n                // below; skip\n                oldTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newHead]) {\n                // Old head matches new head; update in place\n                newParts[newHead] =\n                    updatePart(oldParts[oldHead], newValues[newHead]);\n                oldHead++;\n                newHead++;\n            }\n            else if (oldKeys[oldTail] === newKeys[newTail]) {\n                // Old tail matches new tail; update in place\n                newParts[newTail] =\n                    updatePart(oldParts[oldTail], newValues[newTail]);\n                oldTail--;\n                newTail--;\n            }\n            else if (oldKeys[oldHead] === newKeys[newTail]) {\n                // Old head matches new tail; update and move to new tail\n                newParts[newTail] =\n                    updatePart(oldParts[oldHead], newValues[newTail]);\n                insertPartBefore(containerPart, oldParts[oldHead], newParts[newTail + 1]);\n                oldHead++;\n                newTail--;\n            }\n            else if (oldKeys[oldTail] === newKeys[newHead]) {\n                // Old tail matches new head; update and move to new head\n                newParts[newHead] =\n                    updatePart(oldParts[oldTail], newValues[newHead]);\n                insertPartBefore(containerPart, oldParts[oldTail], oldParts[oldHead]);\n                oldTail--;\n                newHead++;\n            }\n            else {\n                if (newKeyToIndexMap === undefined) {\n                    // Lazily generate key-to-index maps, used for removals &\n                    // moves below\n                    newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                    oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                }\n                if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                    // Old head is no longer in new list; remove\n                    removePart(oldParts[oldHead]);\n                    oldHead++;\n                }\n                else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                    // Old tail is no longer in new list; remove\n                    removePart(oldParts[oldTail]);\n                    oldTail--;\n                }\n                else {\n                    // Any mismatches at this point are due to additions or\n                    // moves; see if we have an old part we can reuse and move\n                    // into place\n                    const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                    const oldPart = oldIndex !== undefined ? oldParts[oldIndex] : null;\n                    if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(containerPart, oldParts[oldHead]);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                    }\n                    else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(containerPart, oldPart, oldParts[oldHead]);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex] = null;\n                    }\n                    newHead++;\n                }\n            }\n        }\n        // Add parts for any remaining new values\n        while (newHead <= newTail) {\n            // For all remaining additions, we insert before last new\n            // tail, since old pointers are no longer valid\n            const newPart = createAndInsertPart(containerPart, newParts[newTail + 1]);\n            updatePart(newPart, newValues[newHead]);\n            newParts[newHead++] = newPart;\n        }\n        // Remove any remaining unused old parts\n        while (oldHead <= oldTail) {\n            const oldPart = oldParts[oldHead++];\n            if (oldPart !== null) {\n                removePart(oldPart);\n            }\n        }\n        // Save order of new parts for next round\n        partListCache.set(containerPart, newParts);\n        keyListCache.set(containerPart, newKeys);\n    };\n});\n//# sourceMappingURL=repeat.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { __extends } from 'tslib';\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview Firebase constants.  Some of these (@defines) can be overridden at compile-time.\r\n */\r\nvar CONSTANTS = {\r\n    /**\r\n     * @define {boolean} Whether this is the client Node.js SDK.\r\n     */\r\n    NODE_CLIENT: false,\r\n    /**\r\n     * @define {boolean} Whether this is the Admin Node.js SDK.\r\n     */\r\n    NODE_ADMIN: false,\r\n    /**\r\n     * Firebase SDK Version\r\n     */\r\n    SDK_VERSION: '${JSCORE_VERSION}'\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Throws an error if the provided assertion is falsy\r\n */\r\nvar assert = function (assertion, message) {\r\n    if (!assertion) {\r\n        throw assertionError(message);\r\n    }\r\n};\r\n/**\r\n * Returns an Error object suitable for throwing.\r\n */\r\nvar assertionError = function (message) {\r\n    return new Error('Firebase Database (' +\r\n        CONSTANTS.SDK_VERSION +\r\n        ') INTERNAL ASSERT FAILED: ' +\r\n        message);\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar stringToByteArray = function (str) {\r\n    // TODO(user): Use native implementations if/when available\r\n    var out = [];\r\n    var p = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        var c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if ((c & 0xfc00) === 0xd800 &&\r\n            i + 1 < str.length &&\r\n            (str.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\r\n            // Surrogate Pair\r\n            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Turns an array of numbers into the string given by the concatenation of the\r\n * characters to which the numbers correspond.\r\n * @param bytes Array of numbers representing characters.\r\n * @return Stringification of the array.\r\n */\r\nvar byteArrayToString = function (bytes) {\r\n    // TODO(user): Use native implementations if/when available\r\n    var out = [];\r\n    var pos = 0, c = 0;\r\n    while (pos < bytes.length) {\r\n        var c1 = bytes[pos++];\r\n        if (c1 < 128) {\r\n            out[c++] = String.fromCharCode(c1);\r\n        }\r\n        else if (c1 > 191 && c1 < 224) {\r\n            var c2 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 31) << 6) | (c2 & 63));\r\n        }\r\n        else if (c1 > 239 && c1 < 365) {\r\n            // Surrogate Pair\r\n            var c2 = bytes[pos++];\r\n            var c3 = bytes[pos++];\r\n            var c4 = bytes[pos++];\r\n            var u = (((c1 & 7) << 18) | ((c2 & 63) << 12) | ((c3 & 63) << 6) | (c4 & 63)) -\r\n                0x10000;\r\n            out[c++] = String.fromCharCode(0xd800 + (u >> 10));\r\n            out[c++] = String.fromCharCode(0xdc00 + (u & 1023));\r\n        }\r\n        else {\r\n            var c2 = bytes[pos++];\r\n            var c3 = bytes[pos++];\r\n            out[c++] = String.fromCharCode(((c1 & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n        }\r\n    }\r\n    return out.join('');\r\n};\r\n// We define it as an object literal instead of a class because a class compiled down to es5 can't\r\n// be treeshaked. https://github.com/rollup/rollup/issues/1691\r\n// Static lookup maps, lazily populated by init_()\r\nvar base64 = {\r\n    /**\r\n     * Maps bytes to characters.\r\n     */\r\n    byteToCharMap_: null,\r\n    /**\r\n     * Maps characters to bytes.\r\n     */\r\n    charToByteMap_: null,\r\n    /**\r\n     * Maps bytes to websafe characters.\r\n     * @private\r\n     */\r\n    byteToCharMapWebSafe_: null,\r\n    /**\r\n     * Maps websafe characters to bytes.\r\n     * @private\r\n     */\r\n    charToByteMapWebSafe_: null,\r\n    /**\r\n     * Our default alphabet, shared between\r\n     * ENCODED_VALS and ENCODED_VALS_WEBSAFE\r\n     */\r\n    ENCODED_VALS_BASE: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz' + '0123456789',\r\n    /**\r\n     * Our default alphabet. Value 64 (=) is special; it means \"nothing.\"\r\n     */\r\n    get ENCODED_VALS() {\r\n        return this.ENCODED_VALS_BASE + '+/=';\r\n    },\r\n    /**\r\n     * Our websafe alphabet.\r\n     */\r\n    get ENCODED_VALS_WEBSAFE() {\r\n        return this.ENCODED_VALS_BASE + '-_.';\r\n    },\r\n    /**\r\n     * Whether this browser supports the atob and btoa functions. This extension\r\n     * started at Mozilla but is now implemented by many browsers. We use the\r\n     * ASSUME_* variables to avoid pulling in the full useragent detection library\r\n     * but still allowing the standard per-browser compilations.\r\n     *\r\n     */\r\n    HAS_NATIVE_SUPPORT: typeof atob === 'function',\r\n    /**\r\n     * Base64-encode an array of bytes.\r\n     *\r\n     * @param input An array of bytes (numbers with\r\n     *     value in [0, 255]) to encode.\r\n     * @param webSafe Boolean indicating we should use the\r\n     *     alternative alphabet.\r\n     * @return The base64 encoded string.\r\n     */\r\n    encodeByteArray: function (input, webSafe) {\r\n        if (!Array.isArray(input)) {\r\n            throw Error('encodeByteArray takes an array as a parameter');\r\n        }\r\n        this.init_();\r\n        var byteToCharMap = webSafe\r\n            ? this.byteToCharMapWebSafe_\r\n            : this.byteToCharMap_;\r\n        var output = [];\r\n        for (var i = 0; i < input.length; i += 3) {\r\n            var byte1 = input[i];\r\n            var haveByte2 = i + 1 < input.length;\r\n            var byte2 = haveByte2 ? input[i + 1] : 0;\r\n            var haveByte3 = i + 2 < input.length;\r\n            var byte3 = haveByte3 ? input[i + 2] : 0;\r\n            var outByte1 = byte1 >> 2;\r\n            var outByte2 = ((byte1 & 0x03) << 4) | (byte2 >> 4);\r\n            var outByte3 = ((byte2 & 0x0f) << 2) | (byte3 >> 6);\r\n            var outByte4 = byte3 & 0x3f;\r\n            if (!haveByte3) {\r\n                outByte4 = 64;\r\n                if (!haveByte2) {\r\n                    outByte3 = 64;\r\n                }\r\n            }\r\n            output.push(byteToCharMap[outByte1], byteToCharMap[outByte2], byteToCharMap[outByte3], byteToCharMap[outByte4]);\r\n        }\r\n        return output.join('');\r\n    },\r\n    /**\r\n     * Base64-encode a string.\r\n     *\r\n     * @param input A string to encode.\r\n     * @param webSafe If true, we should use the\r\n     *     alternative alphabet.\r\n     * @return The base64 encoded string.\r\n     */\r\n    encodeString: function (input, webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !webSafe) {\r\n            return btoa(input);\r\n        }\r\n        return this.encodeByteArray(stringToByteArray(input), webSafe);\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * @param input to decode.\r\n     * @param webSafe True if we should use the\r\n     *     alternative alphabet.\r\n     * @return string representing the decoded value.\r\n     */\r\n    decodeString: function (input, webSafe) {\r\n        // Shortcut for Mozilla browsers that implement\r\n        // a native base64 encoder in the form of \"btoa/atob\"\r\n        if (this.HAS_NATIVE_SUPPORT && !webSafe) {\r\n            return atob(input);\r\n        }\r\n        return byteArrayToString(this.decodeStringToByteArray(input, webSafe));\r\n    },\r\n    /**\r\n     * Base64-decode a string.\r\n     *\r\n     * In base-64 decoding, groups of four characters are converted into three\r\n     * bytes.  If the encoder did not apply padding, the input length may not\r\n     * be a multiple of 4.\r\n     *\r\n     * In this case, the last group will have fewer than 4 characters, and\r\n     * padding will be inferred.  If the group has one or two characters, it decodes\r\n     * to one byte.  If the group has three characters, it decodes to two bytes.\r\n     *\r\n     * @param input Input to decode.\r\n     * @param webSafe True if we should use the web-safe alphabet.\r\n     * @return bytes representing the decoded value.\r\n     */\r\n    decodeStringToByteArray: function (input, webSafe) {\r\n        this.init_();\r\n        var charToByteMap = webSafe\r\n            ? this.charToByteMapWebSafe_\r\n            : this.charToByteMap_;\r\n        var output = [];\r\n        for (var i = 0; i < input.length;) {\r\n            var byte1 = charToByteMap[input.charAt(i++)];\r\n            var haveByte2 = i < input.length;\r\n            var byte2 = haveByte2 ? charToByteMap[input.charAt(i)] : 0;\r\n            ++i;\r\n            var haveByte3 = i < input.length;\r\n            var byte3 = haveByte3 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            var haveByte4 = i < input.length;\r\n            var byte4 = haveByte4 ? charToByteMap[input.charAt(i)] : 64;\r\n            ++i;\r\n            if (byte1 == null || byte2 == null || byte3 == null || byte4 == null) {\r\n                throw Error();\r\n            }\r\n            var outByte1 = (byte1 << 2) | (byte2 >> 4);\r\n            output.push(outByte1);\r\n            if (byte3 !== 64) {\r\n                var outByte2 = ((byte2 << 4) & 0xf0) | (byte3 >> 2);\r\n                output.push(outByte2);\r\n                if (byte4 !== 64) {\r\n                    var outByte3 = ((byte3 << 6) & 0xc0) | byte4;\r\n                    output.push(outByte3);\r\n                }\r\n            }\r\n        }\r\n        return output;\r\n    },\r\n    /**\r\n     * Lazy static initialization function. Called before\r\n     * accessing any of the static map variables.\r\n     * @private\r\n     */\r\n    init_: function () {\r\n        if (!this.byteToCharMap_) {\r\n            this.byteToCharMap_ = {};\r\n            this.charToByteMap_ = {};\r\n            this.byteToCharMapWebSafe_ = {};\r\n            this.charToByteMapWebSafe_ = {};\r\n            // We want quick mappings back and forth, so we precompute two maps.\r\n            for (var i = 0; i < this.ENCODED_VALS.length; i++) {\r\n                this.byteToCharMap_[i] = this.ENCODED_VALS.charAt(i);\r\n                this.charToByteMap_[this.byteToCharMap_[i]] = i;\r\n                this.byteToCharMapWebSafe_[i] = this.ENCODED_VALS_WEBSAFE.charAt(i);\r\n                this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]] = i;\r\n                // Be forgiving when decoding and correctly decode both encodings.\r\n                if (i >= this.ENCODED_VALS_BASE.length) {\r\n                    this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)] = i;\r\n                    this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)] = i;\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * URL-safe base64 encoding\r\n */\r\nvar base64Encode = function (str) {\r\n    var utf8Bytes = stringToByteArray(str);\r\n    return base64.encodeByteArray(utf8Bytes, true);\r\n};\r\n/**\r\n * URL-safe base64 decoding\r\n *\r\n * NOTE: DO NOT use the global atob() function - it does NOT support the\r\n * base64Url variant encoding.\r\n *\r\n * @param str To be decoded\r\n * @return Decoded result, if possible\r\n */\r\nvar base64Decode = function (str) {\r\n    try {\r\n        return base64.decodeString(str, true);\r\n    }\r\n    catch (e) {\r\n        console.error('base64Decode failed: ', e);\r\n    }\r\n    return null;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Do a deep-copy of basic JavaScript Objects or Arrays.\r\n */\r\nfunction deepCopy(value) {\r\n    return deepExtend(undefined, value);\r\n}\r\n/**\r\n * Copy properties from source to target (recursively allows extension\r\n * of Objects and Arrays).  Scalar values in the target are over-written.\r\n * If target is undefined, an object of the appropriate type will be created\r\n * (and returned).\r\n *\r\n * We recursively copy all child properties of plain Objects in the source- so\r\n * that namespace- like dictionaries are merged.\r\n *\r\n * Note that the target can be a function, in which case the properties in\r\n * the source Object are copied onto it as static properties of the Function.\r\n *\r\n * Note: we don't merge __proto__ to prevent prototype pollution\r\n */\r\nfunction deepExtend(target, source) {\r\n    if (!(source instanceof Object)) {\r\n        return source;\r\n    }\r\n    switch (source.constructor) {\r\n        case Date:\r\n            // Treat Dates like scalars; if the target date object had any child\r\n            // properties - they will be lost!\r\n            var dateValue = source;\r\n            return new Date(dateValue.getTime());\r\n        case Object:\r\n            if (target === undefined) {\r\n                target = {};\r\n            }\r\n            break;\r\n        case Array:\r\n            // Always copy the array source and overwrite the target.\r\n            target = [];\r\n            break;\r\n        default:\r\n            // Not a plain Object - treat it as a scalar.\r\n            return source;\r\n    }\r\n    for (var prop in source) {\r\n        // use isValidKey to guard against prototype pollution. See https://snyk.io/vuln/SNYK-JS-LODASH-450202\r\n        if (!source.hasOwnProperty(prop) || !isValidKey(prop)) {\r\n            continue;\r\n        }\r\n        target[prop] = deepExtend(target[prop], source[prop]);\r\n    }\r\n    return target;\r\n}\r\nfunction isValidKey(key) {\r\n    return key !== '__proto__';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar Deferred = /** @class */ (function () {\r\n    function Deferred() {\r\n        var _this = this;\r\n        this.reject = function () { };\r\n        this.resolve = function () { };\r\n        this.promise = new Promise(function (resolve, reject) {\r\n            _this.resolve = resolve;\r\n            _this.reject = reject;\r\n        });\r\n    }\r\n    /**\r\n     * Our API internals are not promiseified and cannot because our callback APIs have subtle expectations around\r\n     * invoking promises inline, which Promises are forbidden to do. This method accepts an optional node-style callback\r\n     * and returns a node-style callback which will resolve or reject the Deferred's promise.\r\n     */\r\n    Deferred.prototype.wrapCallback = function (callback) {\r\n        var _this = this;\r\n        return function (error, value) {\r\n            if (error) {\r\n                _this.reject(error);\r\n            }\r\n            else {\r\n                _this.resolve(value);\r\n            }\r\n            if (typeof callback === 'function') {\r\n                // Attaching noop handler just in case developer wasn't expecting\r\n                // promises\r\n                _this.promise.catch(function () { });\r\n                // Some of our callbacks don't expect a value and our own tests\r\n                // assert that the parameter length is 1\r\n                if (callback.length === 1) {\r\n                    callback(error);\r\n                }\r\n                else {\r\n                    callback(error, value);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    return Deferred;\r\n}());\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns navigator.userAgent string or '' if it's not defined.\r\n * @return user agent string\r\n */\r\nfunction getUA() {\r\n    if (typeof navigator !== 'undefined' &&\r\n        typeof navigator['userAgent'] === 'string') {\r\n        return navigator['userAgent'];\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n/**\r\n * Detect Cordova / PhoneGap / Ionic frameworks on a mobile device.\r\n *\r\n * Deliberately does not rely on checking `file://` URLs (as this fails PhoneGap\r\n * in the Ripple emulator) nor Cordova `onDeviceReady`, which would normally\r\n * wait for a callback.\r\n */\r\nfunction isMobileCordova() {\r\n    return (typeof window !== 'undefined' &&\r\n        // @ts-ignore Setting up an broadly applicable index signature for Window\r\n        // just to deal with this case would probably be a bad idea.\r\n        !!(window['cordova'] || window['phonegap'] || window['PhoneGap']) &&\r\n        /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA()));\r\n}\r\n/**\r\n * Detect Node.js.\r\n *\r\n * @return true if Node.js environment is detected.\r\n */\r\n// Node detection logic from: https://github.com/iliakan/detect-node/\r\nfunction isNode() {\r\n    try {\r\n        return (Object.prototype.toString.call(global.process) === '[object process]');\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\r\n/**\r\n * Detect Browser Environment\r\n */\r\nfunction isBrowser() {\r\n    return typeof self === 'object' && self.self === self;\r\n}\r\nfunction isBrowserExtension() {\r\n    var runtime = typeof chrome === 'object'\r\n        ? chrome.runtime\r\n        : typeof browser === 'object'\r\n            ? browser.runtime\r\n            : undefined;\r\n    return typeof runtime === 'object' && runtime.id !== undefined;\r\n}\r\n/**\r\n * Detect React Native.\r\n *\r\n * @return true if ReactNative environment is detected.\r\n */\r\nfunction isReactNative() {\r\n    return (typeof navigator === 'object' && navigator['product'] === 'ReactNative');\r\n}\r\n/** Detects Electron apps. */\r\nfunction isElectron() {\r\n    return getUA().indexOf('Electron/') >= 0;\r\n}\r\n/** Detects Internet Explorer. */\r\nfunction isIE() {\r\n    var ua = getUA();\r\n    return ua.indexOf('MSIE ') >= 0 || ua.indexOf('Trident/') >= 0;\r\n}\r\n/** Detects Universal Windows Platform apps. */\r\nfunction isUWP() {\r\n    return getUA().indexOf('MSAppHost/') >= 0;\r\n}\r\n/**\r\n * Detect whether the current SDK build is the Node version.\r\n *\r\n * @return true if it's the Node SDK build.\r\n */\r\nfunction isNodeSdk() {\r\n    return CONSTANTS.NODE_CLIENT === true || CONSTANTS.NODE_ADMIN === true;\r\n}\r\n/** Returns true if we are running in Safari. */\r\nfunction isSafari() {\r\n    return (!isNode() &&\r\n        navigator.userAgent.includes('Safari') &&\r\n        !navigator.userAgent.includes('Chrome'));\r\n}\r\n/**\r\n * This method checks if indexedDB is supported by current browser/service worker context\r\n * @return true if indexedDB is supported by current browser/service worker context\r\n */\r\nfunction isIndexedDBAvailable() {\r\n    return 'indexedDB' in self && indexedDB != null;\r\n}\r\n/**\r\n * This method validates browser/sw context for indexedDB by opening a dummy indexedDB database and reject\r\n * if errors occur during the database open operation.\r\n *\r\n * @throws exception if current browser/sw context can't run idb.open (ex: Safari iframe, Firefox\r\n * private browsing)\r\n */\r\nfunction validateIndexedDBOpenable() {\r\n    return new Promise(function (resolve, reject) {\r\n        try {\r\n            var preExist_1 = true;\r\n            var DB_CHECK_NAME_1 = 'validate-browser-context-for-indexeddb-analytics-module';\r\n            var request_1 = self.indexedDB.open(DB_CHECK_NAME_1);\r\n            request_1.onsuccess = function () {\r\n                request_1.result.close();\r\n                // delete database only when it doesn't pre-exist\r\n                if (!preExist_1) {\r\n                    self.indexedDB.deleteDatabase(DB_CHECK_NAME_1);\r\n                }\r\n                resolve(true);\r\n            };\r\n            request_1.onupgradeneeded = function () {\r\n                preExist_1 = false;\r\n            };\r\n            request_1.onerror = function () {\r\n                var _a;\r\n                reject(((_a = request_1.error) === null || _a === void 0 ? void 0 : _a.message) || '');\r\n            };\r\n        }\r\n        catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n}\r\n/**\r\n *\r\n * This method checks whether cookie is enabled within current browser\r\n * @return true if cookie is enabled within current browser\r\n */\r\nfunction areCookiesEnabled() {\r\n    if (!navigator || !navigator.cookieEnabled) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar ERROR_NAME = 'FirebaseError';\r\n// Based on code from:\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Custom_Error_Types\r\nvar FirebaseError = /** @class */ (function (_super) {\r\n    __extends(FirebaseError, _super);\r\n    function FirebaseError(code, message, customData) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.code = code;\r\n        _this.customData = customData;\r\n        _this.name = ERROR_NAME;\r\n        // Fix For ES5\r\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n        Object.setPrototypeOf(_this, FirebaseError.prototype);\r\n        // Maintains proper stack trace for where our error was thrown.\r\n        // Only available on V8.\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(_this, ErrorFactory.prototype.create);\r\n        }\r\n        return _this;\r\n    }\r\n    return FirebaseError;\r\n}(Error));\r\nvar ErrorFactory = /** @class */ (function () {\r\n    function ErrorFactory(service, serviceName, errors) {\r\n        this.service = service;\r\n        this.serviceName = serviceName;\r\n        this.errors = errors;\r\n    }\r\n    ErrorFactory.prototype.create = function (code) {\r\n        var data = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            data[_i - 1] = arguments[_i];\r\n        }\r\n        var customData = data[0] || {};\r\n        var fullCode = this.service + \"/\" + code;\r\n        var template = this.errors[code];\r\n        var message = template ? replaceTemplate(template, customData) : 'Error';\r\n        // Service Name: Error message (service/code).\r\n        var fullMessage = this.serviceName + \": \" + message + \" (\" + fullCode + \").\";\r\n        var error = new FirebaseError(fullCode, fullMessage, customData);\r\n        return error;\r\n    };\r\n    return ErrorFactory;\r\n}());\r\nfunction replaceTemplate(template, data) {\r\n    return template.replace(PATTERN, function (_, key) {\r\n        var value = data[key];\r\n        return value != null ? String(value) : \"<\" + key + \"?>\";\r\n    });\r\n}\r\nvar PATTERN = /\\{\\$([^}]+)}/g;\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Evaluates a JSON string into a javascript object.\r\n *\r\n * @param {string} str A string containing JSON.\r\n * @return {*} The javascript object representing the specified JSON.\r\n */\r\nfunction jsonEval(str) {\r\n    return JSON.parse(str);\r\n}\r\n/**\r\n * Returns JSON representing a javascript object.\r\n * @param {*} data Javascript object to be stringified.\r\n * @return {string} The JSON contents of the object.\r\n */\r\nfunction stringify(data) {\r\n    return JSON.stringify(data);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Decodes a Firebase auth. token into constituent parts.\r\n *\r\n * Notes:\r\n * - May return with invalid / incomplete claims if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nvar decode = function (token) {\r\n    var header = {}, claims = {}, data = {}, signature = '';\r\n    try {\r\n        var parts = token.split('.');\r\n        header = jsonEval(base64Decode(parts[0]) || '');\r\n        claims = jsonEval(base64Decode(parts[1]) || '');\r\n        signature = parts[2];\r\n        data = claims['d'] || {};\r\n        delete claims['d'];\r\n    }\r\n    catch (e) { }\r\n    return {\r\n        header: header,\r\n        claims: claims,\r\n        data: data,\r\n        signature: signature\r\n    };\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its time-based claims. Will return true if the\r\n * token is within the time window authorized by the 'nbf' (not-before) and 'iat' (issued-at) claims.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nvar isValidTimestamp = function (token) {\r\n    var claims = decode(token).claims;\r\n    var now = Math.floor(new Date().getTime() / 1000);\r\n    var validSince = 0, validUntil = 0;\r\n    if (typeof claims === 'object') {\r\n        if (claims.hasOwnProperty('nbf')) {\r\n            validSince = claims['nbf'];\r\n        }\r\n        else if (claims.hasOwnProperty('iat')) {\r\n            validSince = claims['iat'];\r\n        }\r\n        if (claims.hasOwnProperty('exp')) {\r\n            validUntil = claims['exp'];\r\n        }\r\n        else {\r\n            // token will expire after 24h by default\r\n            validUntil = validSince + 86400;\r\n        }\r\n    }\r\n    return (!!now &&\r\n        !!validSince &&\r\n        !!validUntil &&\r\n        now >= validSince &&\r\n        now <= validUntil);\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and returns its issued at time if valid, null otherwise.\r\n *\r\n * Notes:\r\n * - May return null if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nvar issuedAtTime = function (token) {\r\n    var claims = decode(token).claims;\r\n    if (typeof claims === 'object' && claims.hasOwnProperty('iat')) {\r\n        return claims['iat'];\r\n    }\r\n    return null;\r\n};\r\n/**\r\n * Decodes a Firebase auth. token and checks the validity of its format. Expects a valid issued-at time.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nvar isValidFormat = function (token) {\r\n    var decoded = decode(token), claims = decoded.claims;\r\n    return !!claims && typeof claims === 'object' && claims.hasOwnProperty('iat');\r\n};\r\n/**\r\n * Attempts to peer into an auth token and determine if it's an admin auth token by looking at the claims portion.\r\n *\r\n * Notes:\r\n * - May return a false negative if there's no native base64 decoding support.\r\n * - Doesn't check if the token is actually valid.\r\n */\r\nvar isAdmin = function (token) {\r\n    var claims = decode(token).claims;\r\n    return typeof claims === 'object' && claims['admin'] === true;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction contains(obj, key) {\r\n    return Object.prototype.hasOwnProperty.call(obj, key);\r\n}\r\nfunction safeGet(obj, key) {\r\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n        return obj[key];\r\n    }\r\n    else {\r\n        return undefined;\r\n    }\r\n}\r\nfunction isEmpty(obj) {\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction map(obj, fn, contextObj) {\r\n    var res = {};\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            res[key] = fn.call(contextObj, obj[key], key, obj);\r\n        }\r\n    }\r\n    return res;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a querystring-formatted string (e.g. &arg=val&arg2=val2) from a\r\n * params object (e.g. {arg: 'val', arg2: 'val2'})\r\n * Note: You must prepend it with ? when adding it to a URL.\r\n */\r\nfunction querystring(querystringParams) {\r\n    var params = [];\r\n    var _loop_1 = function (key, value) {\r\n        if (Array.isArray(value)) {\r\n            value.forEach(function (arrayVal) {\r\n                params.push(encodeURIComponent(key) + '=' + encodeURIComponent(arrayVal));\r\n            });\r\n        }\r\n        else {\r\n            params.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\r\n        }\r\n    };\r\n    for (var _i = 0, _a = Object.entries(querystringParams); _i < _a.length; _i++) {\r\n        var _b = _a[_i], key = _b[0], value = _b[1];\r\n        _loop_1(key, value);\r\n    }\r\n    return params.length ? '&' + params.join('&') : '';\r\n}\r\n/**\r\n * Decodes a querystring (e.g. ?arg=val&arg2=val2) into a params object\r\n * (e.g. {arg: 'val', arg2: 'val2'})\r\n */\r\nfunction querystringDecode(querystring) {\r\n    var obj = {};\r\n    var tokens = querystring.replace(/^\\?/, '').split('&');\r\n    tokens.forEach(function (token) {\r\n        if (token) {\r\n            var _a = token.split('='), key = _a[0], value = _a[1];\r\n            obj[decodeURIComponent(key)] = decodeURIComponent(value);\r\n        }\r\n    });\r\n    return obj;\r\n}\r\n/**\r\n * Extract the query string part of a URL, including the leading question mark (if present).\r\n */\r\nfunction extractQuerystring(url) {\r\n    var queryStart = url.indexOf('?');\r\n    if (!queryStart) {\r\n        return '';\r\n    }\r\n    var fragmentStart = url.indexOf('#', queryStart);\r\n    return url.substring(queryStart, fragmentStart > 0 ? fragmentStart : undefined);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @fileoverview SHA-1 cryptographic hash.\r\n * Variable names follow the notation in FIPS PUB 180-3:\r\n * http://csrc.nist.gov/publications/fips/fips180-3/fips180-3_final.pdf.\r\n *\r\n * Usage:\r\n *   var sha1 = new sha1();\r\n *   sha1.update(bytes);\r\n *   var hash = sha1.digest();\r\n *\r\n * Performance:\r\n *   Chrome 23:   ~400 Mbit/s\r\n *   Firefox 16:  ~250 Mbit/s\r\n *\r\n */\r\n/**\r\n * SHA-1 cryptographic hash constructor.\r\n *\r\n * The properties declared here are discussed in the above algorithm document.\r\n * @constructor\r\n * @final\r\n * @struct\r\n */\r\nvar Sha1 = /** @class */ (function () {\r\n    function Sha1() {\r\n        /**\r\n         * Holds the previous values of accumulated variables a-e in the compress_\r\n         * function.\r\n         * @private\r\n         */\r\n        this.chain_ = [];\r\n        /**\r\n         * A buffer holding the partially computed hash result.\r\n         * @private\r\n         */\r\n        this.buf_ = [];\r\n        /**\r\n         * An array of 80 bytes, each a part of the message to be hashed.  Referred to\r\n         * as the message schedule in the docs.\r\n         * @private\r\n         */\r\n        this.W_ = [];\r\n        /**\r\n         * Contains data needed to pad messages less than 64 bytes.\r\n         * @private\r\n         */\r\n        this.pad_ = [];\r\n        /**\r\n         * @private {number}\r\n         */\r\n        this.inbuf_ = 0;\r\n        /**\r\n         * @private {number}\r\n         */\r\n        this.total_ = 0;\r\n        this.blockSize = 512 / 8;\r\n        this.pad_[0] = 128;\r\n        for (var i = 1; i < this.blockSize; ++i) {\r\n            this.pad_[i] = 0;\r\n        }\r\n        this.reset();\r\n    }\r\n    Sha1.prototype.reset = function () {\r\n        this.chain_[0] = 0x67452301;\r\n        this.chain_[1] = 0xefcdab89;\r\n        this.chain_[2] = 0x98badcfe;\r\n        this.chain_[3] = 0x10325476;\r\n        this.chain_[4] = 0xc3d2e1f0;\r\n        this.inbuf_ = 0;\r\n        this.total_ = 0;\r\n    };\r\n    /**\r\n     * Internal compress helper function.\r\n     * @param buf Block to compress.\r\n     * @param offset Offset of the block in the buffer.\r\n     * @private\r\n     */\r\n    Sha1.prototype.compress_ = function (buf, offset) {\r\n        if (!offset) {\r\n            offset = 0;\r\n        }\r\n        var W = this.W_;\r\n        // get 16 big endian words\r\n        if (typeof buf === 'string') {\r\n            for (var i = 0; i < 16; i++) {\r\n                // TODO(user): [bug 8140122] Recent versions of Safari for Mac OS and iOS\r\n                // have a bug that turns the post-increment ++ operator into pre-increment\r\n                // during JIT compilation.  We have code that depends heavily on SHA-1 for\r\n                // correctness and which is affected by this bug, so I've removed all uses\r\n                // of post-increment ++ in which the result value is used.  We can revert\r\n                // this change once the Safari bug\r\n                // (https://bugs.webkit.org/show_bug.cgi?id=109036) has been fixed and\r\n                // most clients have been updated.\r\n                W[i] =\r\n                    (buf.charCodeAt(offset) << 24) |\r\n                        (buf.charCodeAt(offset + 1) << 16) |\r\n                        (buf.charCodeAt(offset + 2) << 8) |\r\n                        buf.charCodeAt(offset + 3);\r\n                offset += 4;\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < 16; i++) {\r\n                W[i] =\r\n                    (buf[offset] << 24) |\r\n                        (buf[offset + 1] << 16) |\r\n                        (buf[offset + 2] << 8) |\r\n                        buf[offset + 3];\r\n                offset += 4;\r\n            }\r\n        }\r\n        // expand to 80 words\r\n        for (var i = 16; i < 80; i++) {\r\n            var t = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\r\n            W[i] = ((t << 1) | (t >>> 31)) & 0xffffffff;\r\n        }\r\n        var a = this.chain_[0];\r\n        var b = this.chain_[1];\r\n        var c = this.chain_[2];\r\n        var d = this.chain_[3];\r\n        var e = this.chain_[4];\r\n        var f, k;\r\n        // TODO(user): Try to unroll this loop to speed up the computation.\r\n        for (var i = 0; i < 80; i++) {\r\n            if (i < 40) {\r\n                if (i < 20) {\r\n                    f = d ^ (b & (c ^ d));\r\n                    k = 0x5a827999;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0x6ed9eba1;\r\n                }\r\n            }\r\n            else {\r\n                if (i < 60) {\r\n                    f = (b & c) | (d & (b | c));\r\n                    k = 0x8f1bbcdc;\r\n                }\r\n                else {\r\n                    f = b ^ c ^ d;\r\n                    k = 0xca62c1d6;\r\n                }\r\n            }\r\n            var t = (((a << 5) | (a >>> 27)) + f + e + k + W[i]) & 0xffffffff;\r\n            e = d;\r\n            d = c;\r\n            c = ((b << 30) | (b >>> 2)) & 0xffffffff;\r\n            b = a;\r\n            a = t;\r\n        }\r\n        this.chain_[0] = (this.chain_[0] + a) & 0xffffffff;\r\n        this.chain_[1] = (this.chain_[1] + b) & 0xffffffff;\r\n        this.chain_[2] = (this.chain_[2] + c) & 0xffffffff;\r\n        this.chain_[3] = (this.chain_[3] + d) & 0xffffffff;\r\n        this.chain_[4] = (this.chain_[4] + e) & 0xffffffff;\r\n    };\r\n    Sha1.prototype.update = function (bytes, length) {\r\n        // TODO(johnlenz): tighten the function signature and remove this check\r\n        if (bytes == null) {\r\n            return;\r\n        }\r\n        if (length === undefined) {\r\n            length = bytes.length;\r\n        }\r\n        var lengthMinusBlock = length - this.blockSize;\r\n        var n = 0;\r\n        // Using local instead of member variables gives ~5% speedup on Firefox 16.\r\n        var buf = this.buf_;\r\n        var inbuf = this.inbuf_;\r\n        // The outer while loop should execute at most twice.\r\n        while (n < length) {\r\n            // When we have no data in the block to top up, we can directly process the\r\n            // input buffer (assuming it contains sufficient data). This gives ~25%\r\n            // speedup on Chrome 23 and ~15% speedup on Firefox 16, but requires that\r\n            // the data is provided in large chunks (or in multiples of 64 bytes).\r\n            if (inbuf === 0) {\r\n                while (n <= lengthMinusBlock) {\r\n                    this.compress_(bytes, n);\r\n                    n += this.blockSize;\r\n                }\r\n            }\r\n            if (typeof bytes === 'string') {\r\n                while (n < length) {\r\n                    buf[inbuf] = bytes.charCodeAt(n);\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf === this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                while (n < length) {\r\n                    buf[inbuf] = bytes[n];\r\n                    ++inbuf;\r\n                    ++n;\r\n                    if (inbuf === this.blockSize) {\r\n                        this.compress_(buf);\r\n                        inbuf = 0;\r\n                        // Jump to the outer loop so we use the full-block optimization.\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.inbuf_ = inbuf;\r\n        this.total_ += length;\r\n    };\r\n    /** @override */\r\n    Sha1.prototype.digest = function () {\r\n        var digest = [];\r\n        var totalBits = this.total_ * 8;\r\n        // Add pad 0x80 0x00*.\r\n        if (this.inbuf_ < 56) {\r\n            this.update(this.pad_, 56 - this.inbuf_);\r\n        }\r\n        else {\r\n            this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));\r\n        }\r\n        // Add # bits.\r\n        for (var i = this.blockSize - 1; i >= 56; i--) {\r\n            this.buf_[i] = totalBits & 255;\r\n            totalBits /= 256; // Don't use bit-shifting here!\r\n        }\r\n        this.compress_(this.buf_);\r\n        var n = 0;\r\n        for (var i = 0; i < 5; i++) {\r\n            for (var j = 24; j >= 0; j -= 8) {\r\n                digest[n] = (this.chain_[i] >> j) & 255;\r\n                ++n;\r\n            }\r\n        }\r\n        return digest;\r\n    };\r\n    return Sha1;\r\n}());\n\n/**\r\n * Helper to make a Subscribe function (just like Promise helps make a\r\n * Thenable).\r\n *\r\n * @param executor Function which can make calls to a single Observer\r\n *     as a proxy.\r\n * @param onNoObservers Callback when count of Observers goes to zero.\r\n */\r\nfunction createSubscribe(executor, onNoObservers) {\r\n    var proxy = new ObserverProxy(executor, onNoObservers);\r\n    return proxy.subscribe.bind(proxy);\r\n}\r\n/**\r\n * Implement fan-out for any number of Observers attached via a subscribe\r\n * function.\r\n */\r\nvar ObserverProxy = /** @class */ (function () {\r\n    /**\r\n     * @param executor Function which can make calls to a single Observer\r\n     *     as a proxy.\r\n     * @param onNoObservers Callback when count of Observers goes to zero.\r\n     */\r\n    function ObserverProxy(executor, onNoObservers) {\r\n        var _this = this;\r\n        this.observers = [];\r\n        this.unsubscribes = [];\r\n        this.observerCount = 0;\r\n        // Micro-task scheduling by calling task.then().\r\n        this.task = Promise.resolve();\r\n        this.finalized = false;\r\n        this.onNoObservers = onNoObservers;\r\n        // Call the executor asynchronously so subscribers that are called\r\n        // synchronously after the creation of the subscribe function\r\n        // can still receive the very first value generated in the executor.\r\n        this.task\r\n            .then(function () {\r\n            executor(_this);\r\n        })\r\n            .catch(function (e) {\r\n            _this.error(e);\r\n        });\r\n    }\r\n    ObserverProxy.prototype.next = function (value) {\r\n        this.forEachObserver(function (observer) {\r\n            observer.next(value);\r\n        });\r\n    };\r\n    ObserverProxy.prototype.error = function (error) {\r\n        this.forEachObserver(function (observer) {\r\n            observer.error(error);\r\n        });\r\n        this.close(error);\r\n    };\r\n    ObserverProxy.prototype.complete = function () {\r\n        this.forEachObserver(function (observer) {\r\n            observer.complete();\r\n        });\r\n        this.close();\r\n    };\r\n    /**\r\n     * Subscribe function that can be used to add an Observer to the fan-out list.\r\n     *\r\n     * - We require that no event is sent to a subscriber sychronously to their\r\n     *   call to subscribe().\r\n     */\r\n    ObserverProxy.prototype.subscribe = function (nextOrObserver, error, complete) {\r\n        var _this = this;\r\n        var observer;\r\n        if (nextOrObserver === undefined &&\r\n            error === undefined &&\r\n            complete === undefined) {\r\n            throw new Error('Missing Observer.');\r\n        }\r\n        // Assemble an Observer object when passed as callback functions.\r\n        if (implementsAnyMethods(nextOrObserver, [\r\n            'next',\r\n            'error',\r\n            'complete'\r\n        ])) {\r\n            observer = nextOrObserver;\r\n        }\r\n        else {\r\n            observer = {\r\n                next: nextOrObserver,\r\n                error: error,\r\n                complete: complete\r\n            };\r\n        }\r\n        if (observer.next === undefined) {\r\n            observer.next = noop;\r\n        }\r\n        if (observer.error === undefined) {\r\n            observer.error = noop;\r\n        }\r\n        if (observer.complete === undefined) {\r\n            observer.complete = noop;\r\n        }\r\n        var unsub = this.unsubscribeOne.bind(this, this.observers.length);\r\n        // Attempt to subscribe to a terminated Observable - we\r\n        // just respond to the Observer with the final error or complete\r\n        // event.\r\n        if (this.finalized) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this.task.then(function () {\r\n                try {\r\n                    if (_this.finalError) {\r\n                        observer.error(_this.finalError);\r\n                    }\r\n                    else {\r\n                        observer.complete();\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // nothing\r\n                }\r\n                return;\r\n            });\r\n        }\r\n        this.observers.push(observer);\r\n        return unsub;\r\n    };\r\n    // Unsubscribe is synchronous - we guarantee that no events are sent to\r\n    // any unsubscribed Observer.\r\n    ObserverProxy.prototype.unsubscribeOne = function (i) {\r\n        if (this.observers === undefined || this.observers[i] === undefined) {\r\n            return;\r\n        }\r\n        delete this.observers[i];\r\n        this.observerCount -= 1;\r\n        if (this.observerCount === 0 && this.onNoObservers !== undefined) {\r\n            this.onNoObservers(this);\r\n        }\r\n    };\r\n    ObserverProxy.prototype.forEachObserver = function (fn) {\r\n        if (this.finalized) {\r\n            // Already closed by previous event....just eat the additional values.\r\n            return;\r\n        }\r\n        // Since sendOne calls asynchronously - there is no chance that\r\n        // this.observers will become undefined.\r\n        for (var i = 0; i < this.observers.length; i++) {\r\n            this.sendOne(i, fn);\r\n        }\r\n    };\r\n    // Call the Observer via one of it's callback function. We are careful to\r\n    // confirm that the observe has not been unsubscribed since this asynchronous\r\n    // function had been queued.\r\n    ObserverProxy.prototype.sendOne = function (i, fn) {\r\n        var _this = this;\r\n        // Execute the callback asynchronously\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.task.then(function () {\r\n            if (_this.observers !== undefined && _this.observers[i] !== undefined) {\r\n                try {\r\n                    fn(_this.observers[i]);\r\n                }\r\n                catch (e) {\r\n                    // Ignore exceptions raised in Observers or missing methods of an\r\n                    // Observer.\r\n                    // Log error to console. b/31404806\r\n                    if (typeof console !== 'undefined' && console.error) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ObserverProxy.prototype.close = function (err) {\r\n        var _this = this;\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n        this.finalized = true;\r\n        if (err !== undefined) {\r\n            this.finalError = err;\r\n        }\r\n        // Proxy is no longer needed - garbage collect references\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.task.then(function () {\r\n            _this.observers = undefined;\r\n            _this.onNoObservers = undefined;\r\n        });\r\n    };\r\n    return ObserverProxy;\r\n}());\r\n/** Turn synchronous function into one called asynchronously. */\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction async(fn, onError) {\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        Promise.resolve(true)\r\n            .then(function () {\r\n            fn.apply(void 0, args);\r\n        })\r\n            .catch(function (error) {\r\n            if (onError) {\r\n                onError(error);\r\n            }\r\n        });\r\n    };\r\n}\r\n/**\r\n * Return true if the object passed in implements any of the named methods.\r\n */\r\nfunction implementsAnyMethods(obj, methods) {\r\n    if (typeof obj !== 'object' || obj === null) {\r\n        return false;\r\n    }\r\n    for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {\r\n        var method = methods_1[_i];\r\n        if (method in obj && typeof obj[method] === 'function') {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction noop() {\r\n    // do nothing\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Check to make sure the appropriate number of arguments are provided for a public function.\r\n * Throws an error if it fails.\r\n *\r\n * @param fnName The function name\r\n * @param minCount The minimum number of arguments to allow for the function call\r\n * @param maxCount The maximum number of argument to allow for the function call\r\n * @param argCount The actual number of arguments provided.\r\n */\r\nvar validateArgCount = function (fnName, minCount, maxCount, argCount) {\r\n    var argError;\r\n    if (argCount < minCount) {\r\n        argError = 'at least ' + minCount;\r\n    }\r\n    else if (argCount > maxCount) {\r\n        argError = maxCount === 0 ? 'none' : 'no more than ' + maxCount;\r\n    }\r\n    if (argError) {\r\n        var error = fnName +\r\n            ' failed: Was called with ' +\r\n            argCount +\r\n            (argCount === 1 ? ' argument.' : ' arguments.') +\r\n            ' Expects ' +\r\n            argError +\r\n            '.';\r\n        throw new Error(error);\r\n    }\r\n};\r\n/**\r\n * Generates a string to prefix an error message about failed argument validation\r\n *\r\n * @param fnName The function name\r\n * @param argName The name of the argument\r\n * @return The prefix to add to the error thrown for validation.\r\n */\r\nfunction errorPrefix(fnName, argName) {\r\n    return fnName + \" failed: \" + argName + \" argument \";\r\n}\r\n/**\r\n * @param fnName\r\n * @param argumentNumber\r\n * @param namespace\r\n * @param optional\r\n */\r\nfunction validateNamespace(fnName, namespace, optional) {\r\n    if (optional && !namespace) {\r\n        return;\r\n    }\r\n    if (typeof namespace !== 'string') {\r\n        //TODO: I should do more validation here. We only allow certain chars in namespaces.\r\n        throw new Error(errorPrefix(fnName, 'namespace') + 'must be a valid firebase namespace.');\r\n    }\r\n}\r\nfunction validateCallback(fnName, argumentName, \r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\ncallback, optional) {\r\n    if (optional && !callback) {\r\n        return;\r\n    }\r\n    if (typeof callback !== 'function') {\r\n        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid function.');\r\n    }\r\n}\r\nfunction validateContextObject(fnName, argumentName, context, optional) {\r\n    if (optional && !context) {\r\n        return;\r\n    }\r\n    if (typeof context !== 'object' || context === null) {\r\n        throw new Error(errorPrefix(fnName, argumentName) + 'must be a valid context object.');\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// Code originally came from goog.crypt.stringToUtf8ByteArray, but for some reason they\r\n// automatically replaced '\\r\\n' with '\\n', and they didn't handle surrogate pairs,\r\n// so it's been modified.\r\n// Note that not all Unicode characters appear as single characters in JavaScript strings.\r\n// fromCharCode returns the UTF-16 encoding of a character - so some Unicode characters\r\n// use 2 characters in Javascript.  All 4-byte UTF-8 characters begin with a first\r\n// character in the range 0xD800 - 0xDBFF (the first character of a so-called surrogate\r\n// pair).\r\n// See http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.3\r\n/**\r\n * @param {string} str\r\n * @return {Array}\r\n */\r\nvar stringToByteArray$1 = function (str) {\r\n    var out = [];\r\n    var p = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        var c = str.charCodeAt(i);\r\n        // Is this the lead surrogate in a surrogate pair?\r\n        if (c >= 0xd800 && c <= 0xdbff) {\r\n            var high = c - 0xd800; // the high 10 bits.\r\n            i++;\r\n            assert(i < str.length, 'Surrogate pair missing trail surrogate.');\r\n            var low = str.charCodeAt(i) - 0xdc00; // the low 10 bits.\r\n            c = 0x10000 + (high << 10) + low;\r\n        }\r\n        if (c < 128) {\r\n            out[p++] = c;\r\n        }\r\n        else if (c < 2048) {\r\n            out[p++] = (c >> 6) | 192;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else if (c < 65536) {\r\n            out[p++] = (c >> 12) | 224;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n        else {\r\n            out[p++] = (c >> 18) | 240;\r\n            out[p++] = ((c >> 12) & 63) | 128;\r\n            out[p++] = ((c >> 6) & 63) | 128;\r\n            out[p++] = (c & 63) | 128;\r\n        }\r\n    }\r\n    return out;\r\n};\r\n/**\r\n * Calculate length without actually converting; useful for doing cheaper validation.\r\n * @param {string} str\r\n * @return {number}\r\n */\r\nvar stringLength = function (str) {\r\n    var p = 0;\r\n    for (var i = 0; i < str.length; i++) {\r\n        var c = str.charCodeAt(i);\r\n        if (c < 128) {\r\n            p++;\r\n        }\r\n        else if (c < 2048) {\r\n            p += 2;\r\n        }\r\n        else if (c >= 0xd800 && c <= 0xdbff) {\r\n            // Lead surrogate of a surrogate pair.  The pair together will take 4 bytes to represent.\r\n            p += 4;\r\n            i++; // skip trail surrogate.\r\n        }\r\n        else {\r\n            p += 3;\r\n        }\r\n    }\r\n    return p;\r\n};\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The amount of milliseconds to exponentially increase.\r\n */\r\nvar DEFAULT_INTERVAL_MILLIS = 1000;\r\n/**\r\n * The factor to backoff by.\r\n * Should be a number greater than 1.\r\n */\r\nvar DEFAULT_BACKOFF_FACTOR = 2;\r\n/**\r\n * The maximum milliseconds to increase to.\r\n *\r\n * <p>Visible for testing\r\n */\r\nvar MAX_VALUE_MILLIS = 4 * 60 * 60 * 1000; // Four hours, like iOS and Android.\r\n/**\r\n * The percentage of backoff time to randomize by.\r\n * See\r\n * http://go/safe-client-behavior#step-1-determine-the-appropriate-retry-interval-to-handle-spike-traffic\r\n * for context.\r\n *\r\n * <p>Visible for testing\r\n */\r\nvar RANDOM_FACTOR = 0.5;\r\n/**\r\n * Based on the backoff method from\r\n * https://github.com/google/closure-library/blob/master/closure/goog/math/exponentialbackoff.js.\r\n * Extracted here so we don't need to pass metadata and a stateful ExponentialBackoff object around.\r\n */\r\nfunction calculateBackoffMillis(backoffCount, intervalMillis, backoffFactor) {\r\n    if (intervalMillis === void 0) { intervalMillis = DEFAULT_INTERVAL_MILLIS; }\r\n    if (backoffFactor === void 0) { backoffFactor = DEFAULT_BACKOFF_FACTOR; }\r\n    // Calculates an exponentially increasing value.\r\n    // Deviation: calculates value from count and a constant interval, so we only need to save value\r\n    // and count to restore state.\r\n    var currBaseValue = intervalMillis * Math.pow(backoffFactor, backoffCount);\r\n    // A random \"fuzz\" to avoid waves of retries.\r\n    // Deviation: randomFactor is required.\r\n    var randomWait = Math.round(\r\n    // A fraction of the backoff value to add/subtract.\r\n    // Deviation: changes multiplication order to improve readability.\r\n    RANDOM_FACTOR *\r\n        currBaseValue *\r\n        // A random float (rounded to int by Math.round above) in the range [-1, 1]. Determines\r\n        // if we add or subtract.\r\n        (Math.random() - 0.5) *\r\n        2);\r\n    // Limits backoff to max to avoid effectively permanent backoff.\r\n    return Math.min(MAX_VALUE_MILLIS, currBaseValue + randomWait);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provide English ordinal letters after a number\r\n */\r\nfunction ordinal(i) {\r\n    if (!Number.isFinite(i)) {\r\n        return \"\" + i;\r\n    }\r\n    return i + indicator(i);\r\n}\r\nfunction indicator(i) {\r\n    i = Math.abs(i);\r\n    var cent = i % 100;\r\n    if (cent >= 10 && cent <= 20) {\r\n        return 'th';\r\n    }\r\n    var dec = i % 10;\r\n    if (dec === 1) {\r\n        return 'st';\r\n    }\r\n    if (dec === 2) {\r\n        return 'nd';\r\n    }\r\n    if (dec === 3) {\r\n        return 'rd';\r\n    }\r\n    return 'th';\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction getModularInstance(service) {\r\n    if (service && service._delegate) {\r\n        return service._delegate;\r\n    }\r\n    else {\r\n        return service;\r\n    }\r\n}\n\nexport { CONSTANTS, Deferred, ErrorFactory, FirebaseError, MAX_VALUE_MILLIS, RANDOM_FACTOR, Sha1, areCookiesEnabled, assert, assertionError, async, base64, base64Decode, base64Encode, calculateBackoffMillis, contains, createSubscribe, decode, deepCopy, deepExtend, errorPrefix, extractQuerystring, getModularInstance, getUA, isAdmin, isBrowser, isBrowserExtension, isElectron, isEmpty, isIE, isIndexedDBAvailable, isMobileCordova, isNode, isNodeSdk, isReactNative, isSafari, isUWP, isValidFormat, isValidTimestamp, issuedAtTime, jsonEval, map, ordinal, querystring, querystringDecode, safeGet, stringLength, stringToByteArray$1 as stringToByteArray, stringify, validateArgCount, validateCallback, validateContextObject, validateIndexedDBOpenable, validateNamespace };\n//# sourceMappingURL=index.esm.js.map\n","import { __assign, __values, __read, __awaiter, __generator, __spreadArray } from 'tslib';\nimport { Deferred } from '@firebase/util';\n\n/**\r\n * Component for service name T, e.g. `auth`, `auth-internal`\r\n */\r\nvar Component = /** @class */ (function () {\r\n    /**\r\n     *\r\n     * @param name The public service name, e.g. app, auth, firestore, database\r\n     * @param instanceFactory Service factory responsible for creating the public interface\r\n     * @param type whether the service provided by the component is public or private\r\n     */\r\n    function Component(name, instanceFactory, type) {\r\n        this.name = name;\r\n        this.instanceFactory = instanceFactory;\r\n        this.type = type;\r\n        this.multipleInstances = false;\r\n        /**\r\n         * Properties to be added to the service namespace\r\n         */\r\n        this.serviceProps = {};\r\n        this.instantiationMode = \"LAZY\" /* LAZY */;\r\n        this.onInstanceCreated = null;\r\n    }\r\n    Component.prototype.setInstantiationMode = function (mode) {\r\n        this.instantiationMode = mode;\r\n        return this;\r\n    };\r\n    Component.prototype.setMultipleInstances = function (multipleInstances) {\r\n        this.multipleInstances = multipleInstances;\r\n        return this;\r\n    };\r\n    Component.prototype.setServiceProps = function (props) {\r\n        this.serviceProps = props;\r\n        return this;\r\n    };\r\n    Component.prototype.setInstanceCreatedCallback = function (callback) {\r\n        this.onInstanceCreated = callback;\r\n        return this;\r\n    };\r\n    return Component;\r\n}());\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar DEFAULT_ENTRY_NAME = '[DEFAULT]';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for instance for service name T, e.g. 'auth', 'auth-internal'\r\n * NameServiceMapping[T] is an alias for the type of the instance\r\n */\r\nvar Provider = /** @class */ (function () {\r\n    function Provider(name, container) {\r\n        this.name = name;\r\n        this.container = container;\r\n        this.component = null;\r\n        this.instances = new Map();\r\n        this.instancesDeferred = new Map();\r\n    }\r\n    /**\r\n     * @param identifier A provider can provide mulitple instances of a service\r\n     * if this.component.multipleInstances is true.\r\n     */\r\n    Provider.prototype.get = function (identifier) {\r\n        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }\r\n        // if multipleInstances is not supported, use the default name\r\n        var normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\r\n        if (!this.instancesDeferred.has(normalizedIdentifier)) {\r\n            var deferred = new Deferred();\r\n            this.instancesDeferred.set(normalizedIdentifier, deferred);\r\n            if (this.isInitialized(normalizedIdentifier) ||\r\n                this.shouldAutoInitialize()) {\r\n                // initialize the service if it can be auto-initialized\r\n                try {\r\n                    var instance = this.getOrInitializeService({\r\n                        instanceIdentifier: normalizedIdentifier\r\n                    });\r\n                    if (instance) {\r\n                        deferred.resolve(instance);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // when the instance factory throws an exception during get(), it should not cause\r\n                    // a fatal error. We just return the unresolved promise in this case.\r\n                }\r\n            }\r\n        }\r\n        return this.instancesDeferred.get(normalizedIdentifier).promise;\r\n    };\r\n    Provider.prototype.getImmediate = function (options) {\r\n        var _a = __assign({ identifier: DEFAULT_ENTRY_NAME, optional: false }, options), identifier = _a.identifier, optional = _a.optional;\r\n        // if multipleInstances is not supported, use the default name\r\n        var normalizedIdentifier = this.normalizeInstanceIdentifier(identifier);\r\n        if (this.isInitialized(normalizedIdentifier) ||\r\n            this.shouldAutoInitialize()) {\r\n            try {\r\n                return this.getOrInitializeService({\r\n                    instanceIdentifier: normalizedIdentifier\r\n                });\r\n            }\r\n            catch (e) {\r\n                if (optional) {\r\n                    return null;\r\n                }\r\n                else {\r\n                    throw e;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // In case a component is not initialized and should/can not be auto-initialized at the moment, return null if the optional flag is set, or throw\r\n            if (optional) {\r\n                return null;\r\n            }\r\n            else {\r\n                throw Error(\"Service \" + this.name + \" is not available\");\r\n            }\r\n        }\r\n    };\r\n    Provider.prototype.getComponent = function () {\r\n        return this.component;\r\n    };\r\n    Provider.prototype.setComponent = function (component) {\r\n        var e_1, _a;\r\n        if (component.name !== this.name) {\r\n            throw Error(\"Mismatching Component \" + component.name + \" for Provider \" + this.name + \".\");\r\n        }\r\n        if (this.component) {\r\n            throw Error(\"Component for \" + this.name + \" has already been provided\");\r\n        }\r\n        this.component = component;\r\n        // return early without attempting to initialize the component if the component requires explicit initialization (calling `Provider.initialize()`)\r\n        if (!this.shouldAutoInitialize()) {\r\n            return;\r\n        }\r\n        // if the service is eager, initialize the default instance\r\n        if (isComponentEager(component)) {\r\n            try {\r\n                this.getOrInitializeService({ instanceIdentifier: DEFAULT_ENTRY_NAME });\r\n            }\r\n            catch (e) {\r\n                // when the instance factory for an eager Component throws an exception during the eager\r\n                // initialization, it should not cause a fatal error.\r\n                // TODO: Investigate if we need to make it configurable, because some component may want to cause\r\n                // a fatal error in this case?\r\n            }\r\n        }\r\n        try {\r\n            // Create service instances for the pending promises and resolve them\r\n            // NOTE: if this.multipleInstances is false, only the default instance will be created\r\n            // and all promises with resolve with it regardless of the identifier.\r\n            for (var _b = __values(this.instancesDeferred.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                var _d = __read(_c.value, 2), instanceIdentifier = _d[0], instanceDeferred = _d[1];\r\n                var normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);\r\n                try {\r\n                    // `getOrInitializeService()` should always return a valid instance since a component is guaranteed. use ! to make typescript happy.\r\n                    var instance = this.getOrInitializeService({\r\n                        instanceIdentifier: normalizedIdentifier\r\n                    });\r\n                    instanceDeferred.resolve(instance);\r\n                }\r\n                catch (e) {\r\n                    // when the instance factory throws an exception, it should not cause\r\n                    // a fatal error. We just leave the promise unresolved.\r\n                }\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n    };\r\n    Provider.prototype.clearInstance = function (identifier) {\r\n        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }\r\n        this.instancesDeferred.delete(identifier);\r\n        this.instances.delete(identifier);\r\n    };\r\n    // app.delete() will call this method on every provider to delete the services\r\n    // TODO: should we mark the provider as deleted?\r\n    Provider.prototype.delete = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var services;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        services = Array.from(this.instances.values());\r\n                        return [4 /*yield*/, Promise.all(__spreadArray(__spreadArray([], __read(services\r\n                                .filter(function (service) { return 'INTERNAL' in service; }) // legacy services\r\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                                .map(function (service) { return service.INTERNAL.delete(); }))), __read(services\r\n                                .filter(function (service) { return '_delete' in service; }) // modularized services\r\n                                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                                .map(function (service) { return service._delete(); }))))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    Provider.prototype.isComponentSet = function () {\r\n        return this.component != null;\r\n    };\r\n    Provider.prototype.isInitialized = function (identifier) {\r\n        if (identifier === void 0) { identifier = DEFAULT_ENTRY_NAME; }\r\n        return this.instances.has(identifier);\r\n    };\r\n    Provider.prototype.initialize = function (opts) {\r\n        var e_2, _a;\r\n        if (opts === void 0) { opts = {}; }\r\n        var _b = opts.instanceIdentifier, instanceIdentifier = _b === void 0 ? DEFAULT_ENTRY_NAME : _b, _c = opts.options, options = _c === void 0 ? {} : _c;\r\n        var normalizedIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier);\r\n        if (this.isInitialized(normalizedIdentifier)) {\r\n            throw Error(this.name + \"(\" + normalizedIdentifier + \") has already been initialized\");\r\n        }\r\n        if (!this.isComponentSet()) {\r\n            throw Error(\"Component \" + this.name + \" has not been registered yet\");\r\n        }\r\n        var instance = this.getOrInitializeService({\r\n            instanceIdentifier: normalizedIdentifier,\r\n            options: options\r\n        });\r\n        try {\r\n            // resolve any pending promise waiting for the service instance\r\n            for (var _d = __values(this.instancesDeferred.entries()), _e = _d.next(); !_e.done; _e = _d.next()) {\r\n                var _f = __read(_e.value, 2), instanceIdentifier_1 = _f[0], instanceDeferred = _f[1];\r\n                var normalizedDeferredIdentifier = this.normalizeInstanceIdentifier(instanceIdentifier_1);\r\n                if (normalizedIdentifier === normalizedDeferredIdentifier) {\r\n                    instanceDeferred.resolve(instance);\r\n                }\r\n            }\r\n        }\r\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n        finally {\r\n            try {\r\n                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\r\n            }\r\n            finally { if (e_2) throw e_2.error; }\r\n        }\r\n        return instance;\r\n    };\r\n    Provider.prototype.getOrInitializeService = function (_a) {\r\n        var instanceIdentifier = _a.instanceIdentifier, _b = _a.options, options = _b === void 0 ? {} : _b;\r\n        var instance = this.instances.get(instanceIdentifier);\r\n        if (!instance && this.component) {\r\n            instance = this.component.instanceFactory(this.container, {\r\n                instanceIdentifier: normalizeIdentifierForFactory(instanceIdentifier),\r\n                options: options\r\n            });\r\n            this.instances.set(instanceIdentifier, instance);\r\n            /**\r\n             * Order is important\r\n             * onInstanceCreated() should be called after this.instances.set(instanceIdentifier, instance); which\r\n             * makes `isInitialized()` return true.\r\n             */\r\n            if (this.component.onInstanceCreated) {\r\n                try {\r\n                    this.component.onInstanceCreated(this.container, instanceIdentifier, instance);\r\n                }\r\n                catch (_c) {\r\n                    // ignore errors in the onInstanceCreatedCallback\r\n                }\r\n            }\r\n        }\r\n        return instance || null;\r\n    };\r\n    Provider.prototype.normalizeInstanceIdentifier = function (identifier) {\r\n        if (this.component) {\r\n            return this.component.multipleInstances ? identifier : DEFAULT_ENTRY_NAME;\r\n        }\r\n        else {\r\n            return identifier; // assume multiple instances are supported before the component is provided.\r\n        }\r\n    };\r\n    Provider.prototype.shouldAutoInitialize = function () {\r\n        return (!!this.component &&\r\n            this.component.instantiationMode !== \"EXPLICIT\" /* EXPLICIT */);\r\n    };\r\n    return Provider;\r\n}());\r\n// undefined should be passed to the service factory for the default instance\r\nfunction normalizeIdentifierForFactory(identifier) {\r\n    return identifier === DEFAULT_ENTRY_NAME ? undefined : identifier;\r\n}\r\nfunction isComponentEager(component) {\r\n    return component.instantiationMode === \"EAGER\" /* EAGER */;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * ComponentContainer that provides Providers for service name T, e.g. `auth`, `auth-internal`\r\n */\r\nvar ComponentContainer = /** @class */ (function () {\r\n    function ComponentContainer(name) {\r\n        this.name = name;\r\n        this.providers = new Map();\r\n    }\r\n    /**\r\n     *\r\n     * @param component Component being added\r\n     * @param overwrite When a component with the same name has already been registered,\r\n     * if overwrite is true: overwrite the existing component with the new component and create a new\r\n     * provider with the new component. It can be useful in tests where you want to use different mocks\r\n     * for different tests.\r\n     * if overwrite is false: throw an exception\r\n     */\r\n    ComponentContainer.prototype.addComponent = function (component) {\r\n        var provider = this.getProvider(component.name);\r\n        if (provider.isComponentSet()) {\r\n            throw new Error(\"Component \" + component.name + \" has already been registered with \" + this.name);\r\n        }\r\n        provider.setComponent(component);\r\n    };\r\n    ComponentContainer.prototype.addOrOverwriteComponent = function (component) {\r\n        var provider = this.getProvider(component.name);\r\n        if (provider.isComponentSet()) {\r\n            // delete the existing provider from the container, so we can register the new component\r\n            this.providers.delete(component.name);\r\n        }\r\n        this.addComponent(component);\r\n    };\r\n    /**\r\n     * getProvider provides a type safe interface where it can only be called with a field name\r\n     * present in NameServiceMapping interface.\r\n     *\r\n     * Firebase SDKs providing services should extend NameServiceMapping interface to register\r\n     * themselves.\r\n     */\r\n    ComponentContainer.prototype.getProvider = function (name) {\r\n        if (this.providers.has(name)) {\r\n            return this.providers.get(name);\r\n        }\r\n        // create a Provider for a service that hasn't registered with Firebase\r\n        var provider = new Provider(name, this);\r\n        this.providers.set(name, provider);\r\n        return provider;\r\n    };\r\n    ComponentContainer.prototype.getProviders = function () {\r\n        return Array.from(this.providers.values());\r\n    };\r\n    return ComponentContainer;\r\n}());\n\nexport { Component, ComponentContainer, Provider };\n//# sourceMappingURL=index.esm.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2017 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nvar _a;\r\n/**\r\n * A container for all of the Logger instances\r\n */\r\nvar instances = [];\r\n/**\r\n * The JS SDK supports 5 log levels and also allows a user the ability to\r\n * silence the logs altogether.\r\n *\r\n * The order is a follows:\r\n * DEBUG < VERBOSE < INFO < WARN < ERROR\r\n *\r\n * All of the log types above the current log level will be captured (i.e. if\r\n * you set the log level to `INFO`, errors will still be logged, but `DEBUG` and\r\n * `VERBOSE` logs will not)\r\n */\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"DEBUG\"] = 0] = \"DEBUG\";\r\n    LogLevel[LogLevel[\"VERBOSE\"] = 1] = \"VERBOSE\";\r\n    LogLevel[LogLevel[\"INFO\"] = 2] = \"INFO\";\r\n    LogLevel[LogLevel[\"WARN\"] = 3] = \"WARN\";\r\n    LogLevel[LogLevel[\"ERROR\"] = 4] = \"ERROR\";\r\n    LogLevel[LogLevel[\"SILENT\"] = 5] = \"SILENT\";\r\n})(LogLevel || (LogLevel = {}));\r\nvar levelStringToEnum = {\r\n    'debug': LogLevel.DEBUG,\r\n    'verbose': LogLevel.VERBOSE,\r\n    'info': LogLevel.INFO,\r\n    'warn': LogLevel.WARN,\r\n    'error': LogLevel.ERROR,\r\n    'silent': LogLevel.SILENT\r\n};\r\n/**\r\n * The default log level\r\n */\r\nvar defaultLogLevel = LogLevel.INFO;\r\n/**\r\n * By default, `console.debug` is not displayed in the developer console (in\r\n * chrome). To avoid forcing users to have to opt-in to these logs twice\r\n * (i.e. once for firebase, and once in the console), we are sending `DEBUG`\r\n * logs to the `console.log` function.\r\n */\r\nvar ConsoleMethod = (_a = {},\r\n    _a[LogLevel.DEBUG] = 'log',\r\n    _a[LogLevel.VERBOSE] = 'log',\r\n    _a[LogLevel.INFO] = 'info',\r\n    _a[LogLevel.WARN] = 'warn',\r\n    _a[LogLevel.ERROR] = 'error',\r\n    _a);\r\n/**\r\n * The default log handler will forward DEBUG, VERBOSE, INFO, WARN, and ERROR\r\n * messages on to their corresponding console counterparts (if the log method\r\n * is supported by the current log level)\r\n */\r\nvar defaultLogHandler = function (instance, logType) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    if (logType < instance.logLevel) {\r\n        return;\r\n    }\r\n    var now = new Date().toISOString();\r\n    var method = ConsoleMethod[logType];\r\n    if (method) {\r\n        console[method].apply(console, __spreadArrays([\"[\" + now + \"]  \" + instance.name + \":\"], args));\r\n    }\r\n    else {\r\n        throw new Error(\"Attempted to log a message with an invalid logType (value: \" + logType + \")\");\r\n    }\r\n};\r\nvar Logger = /** @class */ (function () {\r\n    /**\r\n     * Gives you an instance of a Logger to capture messages according to\r\n     * Firebase's logging scheme.\r\n     *\r\n     * @param name The name that the logs will be associated with\r\n     */\r\n    function Logger(name) {\r\n        this.name = name;\r\n        /**\r\n         * The log level of the given Logger instance.\r\n         */\r\n        this._logLevel = defaultLogLevel;\r\n        /**\r\n         * The main (internal) log handler for the Logger instance.\r\n         * Can be set to a new function in internal package code but not by user.\r\n         */\r\n        this._logHandler = defaultLogHandler;\r\n        /**\r\n         * The optional, additional, user-defined log handler for the Logger instance.\r\n         */\r\n        this._userLogHandler = null;\r\n        /**\r\n         * Capture the current instance for later use\r\n         */\r\n        instances.push(this);\r\n    }\r\n    Object.defineProperty(Logger.prototype, \"logLevel\", {\r\n        get: function () {\r\n            return this._logLevel;\r\n        },\r\n        set: function (val) {\r\n            if (!(val in LogLevel)) {\r\n                throw new TypeError(\"Invalid value \\\"\" + val + \"\\\" assigned to `logLevel`\");\r\n            }\r\n            this._logLevel = val;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    // Workaround for setter/getter having to be the same type.\r\n    Logger.prototype.setLogLevel = function (val) {\r\n        this._logLevel = typeof val === 'string' ? levelStringToEnum[val] : val;\r\n    };\r\n    Object.defineProperty(Logger.prototype, \"logHandler\", {\r\n        get: function () {\r\n            return this._logHandler;\r\n        },\r\n        set: function (val) {\r\n            if (typeof val !== 'function') {\r\n                throw new TypeError('Value assigned to `logHandler` must be a function');\r\n            }\r\n            this._logHandler = val;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger.prototype, \"userLogHandler\", {\r\n        get: function () {\r\n            return this._userLogHandler;\r\n        },\r\n        set: function (val) {\r\n            this._userLogHandler = val;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * The functions below are all based on the `console` interface\r\n     */\r\n    Logger.prototype.debug = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.DEBUG], args));\r\n        this._logHandler.apply(this, __spreadArrays([this, LogLevel.DEBUG], args));\r\n    };\r\n    Logger.prototype.log = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.VERBOSE], args));\r\n        this._logHandler.apply(this, __spreadArrays([this, LogLevel.VERBOSE], args));\r\n    };\r\n    Logger.prototype.info = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.INFO], args));\r\n        this._logHandler.apply(this, __spreadArrays([this, LogLevel.INFO], args));\r\n    };\r\n    Logger.prototype.warn = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.WARN], args));\r\n        this._logHandler.apply(this, __spreadArrays([this, LogLevel.WARN], args));\r\n    };\r\n    Logger.prototype.error = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this._userLogHandler && this._userLogHandler.apply(this, __spreadArrays([this, LogLevel.ERROR], args));\r\n        this._logHandler.apply(this, __spreadArrays([this, LogLevel.ERROR], args));\r\n    };\r\n    return Logger;\r\n}());\r\nfunction setLogLevel(level) {\r\n    instances.forEach(function (inst) {\r\n        inst.setLogLevel(level);\r\n    });\r\n}\r\nfunction setUserLogHandler(logCallback, options) {\r\n    var _loop_1 = function (instance) {\r\n        var customLogLevel = null;\r\n        if (options && options.level) {\r\n            customLogLevel = levelStringToEnum[options.level];\r\n        }\r\n        if (logCallback === null) {\r\n            instance.userLogHandler = null;\r\n        }\r\n        else {\r\n            instance.userLogHandler = function (instance, level) {\r\n                var args = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    args[_i - 2] = arguments[_i];\r\n                }\r\n                var message = args\r\n                    .map(function (arg) {\r\n                    if (arg == null) {\r\n                        return null;\r\n                    }\r\n                    else if (typeof arg === 'string') {\r\n                        return arg;\r\n                    }\r\n                    else if (typeof arg === 'number' || typeof arg === 'boolean') {\r\n                        return arg.toString();\r\n                    }\r\n                    else if (arg instanceof Error) {\r\n                        return arg.message;\r\n                    }\r\n                    else {\r\n                        try {\r\n                            return JSON.stringify(arg);\r\n                        }\r\n                        catch (ignored) {\r\n                            return null;\r\n                        }\r\n                    }\r\n                })\r\n                    .filter(function (arg) { return arg; })\r\n                    .join(' ');\r\n                if (level >= (customLogLevel !== null && customLogLevel !== void 0 ? customLogLevel : instance.logLevel)) {\r\n                    logCallback({\r\n                        level: LogLevel[level].toLowerCase(),\r\n                        message: message,\r\n                        args: args,\r\n                        type: instance.name\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n    for (var _i = 0, instances_1 = instances; _i < instances_1.length; _i++) {\r\n        var instance = instances_1[_i];\r\n        _loop_1(instance);\r\n    }\r\n}\n\nexport { LogLevel, Logger, setLogLevel, setUserLogHandler };\n//# sourceMappingURL=index.esm.js.map\n","import { Component, ComponentContainer } from '@firebase/component';\nimport { Logger, setUserLogHandler, setLogLevel as setLogLevel$1 } from '@firebase/logger';\nimport { ErrorFactory } from '@firebase/util';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass PlatformLoggerServiceImpl {\r\n    constructor(container) {\r\n        this.container = container;\r\n    }\r\n    // In initial implementation, this will be called by installations on\r\n    // auth token refresh, and installations will send this string.\r\n    getPlatformInfoString() {\r\n        const providers = this.container.getProviders();\r\n        // Loop through providers and get library/version pairs from any that are\r\n        // version components.\r\n        return providers\r\n            .map(provider => {\r\n            if (isVersionServiceProvider(provider)) {\r\n                const service = provider.getImmediate();\r\n                return `${service.library}/${service.version}`;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        })\r\n            .filter(logString => logString)\r\n            .join(' ');\r\n    }\r\n}\r\n/**\r\n *\r\n * @param provider check if this provider provides a VersionService\r\n *\r\n * NOTE: Using Provider<'app-version'> is a hack to indicate that the provider\r\n * provides VersionService. The provider is not necessarily a 'app-version'\r\n * provider.\r\n */\r\nfunction isVersionServiceProvider(provider) {\r\n    const component = provider.getComponent();\r\n    return (component === null || component === void 0 ? void 0 : component.type) === \"VERSION\" /* VERSION */;\r\n}\n\nconst name = \"@firebase/app-exp\";\nconst version = \"0.0.900-exp.894b5da5a\";\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst logger = new Logger('@firebase/app');\n\nconst name$1 = \"@firebase/app-compat\";\n\nconst name$2 = \"@firebase/analytics-compat\";\n\nconst name$3 = \"@firebase/analytics-exp\";\n\nconst name$4 = \"@firebase/auth-exp\";\n\nconst name$5 = \"@firebase/auth-compat\";\n\nconst name$6 = \"@firebase/database\";\n\nconst name$7 = \"@firebase/database-compat\";\n\nconst name$8 = \"@firebase/functions-exp\";\n\nconst name$9 = \"@firebase/functions-compat\";\n\nconst name$a = \"@firebase/installations-exp\";\n\nconst name$b = \"@firebase/installations-compat\";\n\nconst name$c = \"@firebase/messaging-exp\";\n\nconst name$d = \"@firebase/messaging-compat\";\n\nconst name$e = \"@firebase/performance-exp\";\n\nconst name$f = \"@firebase/performance-compat\";\n\nconst name$g = \"@firebase/remote-config-exp\";\n\nconst name$h = \"@firebase/remote-config-compat\";\n\nconst name$i = \"@firebase/storage\";\n\nconst name$j = \"@firebase/storage-compat\";\n\nconst name$k = \"@firebase/firestore\";\n\nconst name$l = \"@firebase/firestore-compat\";\n\nconst name$m = \"firebase-exp\";\nconst version$1 = \"9.0.0-beta.1\";\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The default app name\r\n *\r\n * @internal\r\n */\r\nconst DEFAULT_ENTRY_NAME = '[DEFAULT]';\r\nconst PLATFORM_LOG_STRING = {\r\n    [name]: 'fire-core',\r\n    [name$1]: 'fire-core-compat',\r\n    [name$3]: 'fire-analytics',\r\n    [name$2]: 'fire-analytics-compat',\r\n    [name$4]: 'fire-auth',\r\n    [name$5]: 'fire-auth-compat',\r\n    [name$6]: 'fire-rtdb',\r\n    [name$7]: 'fire-rtdb-compat',\r\n    [name$8]: 'fire-fn',\r\n    [name$9]: 'fire-fn-compat',\r\n    [name$a]: 'fire-iid',\r\n    [name$b]: 'fire-iid-compat',\r\n    [name$c]: 'fire-fcm',\r\n    [name$d]: 'fire-fcm-compat',\r\n    [name$e]: 'fire-perf',\r\n    [name$f]: 'fire-perf-compat',\r\n    [name$g]: 'fire-rc',\r\n    [name$h]: 'fire-rc-compat',\r\n    [name$i]: 'fire-gcs',\r\n    [name$j]: 'fire-gcs-compat',\r\n    [name$k]: 'fire-fst',\r\n    [name$l]: 'fire-fst-compat',\r\n    'fire-js': 'fire-js',\r\n    [name$m]: 'fire-js-all'\r\n};\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @internal\r\n */\r\nconst _apps = new Map();\r\n/**\r\n * Registered components.\r\n *\r\n * @internal\r\n */\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nconst _components = new Map();\r\n/**\r\n * @param component - the component being added to this app's container\r\n *\r\n * @internal\r\n */\r\nfunction _addComponent(app, component) {\r\n    try {\r\n        app.container.addComponent(component);\r\n    }\r\n    catch (e) {\r\n        logger.debug(`Component ${component.name} failed to register with FirebaseApp ${app.name}`, e);\r\n    }\r\n}\r\n/**\r\n *\r\n * @internal\r\n */\r\nfunction _addOrOverwriteComponent(app, component) {\r\n    app.container.addOrOverwriteComponent(component);\r\n}\r\n/**\r\n *\r\n * @param component - the component to register\r\n * @returns whether or not the component is registered successfully\r\n *\r\n * @internal\r\n */\r\nfunction _registerComponent(component) {\r\n    const componentName = component.name;\r\n    if (_components.has(componentName)) {\r\n        logger.debug(`There were multiple attempts to register component ${componentName}.`);\r\n        return false;\r\n    }\r\n    _components.set(componentName, component);\r\n    // add the component to existing app instances\r\n    for (const app of _apps.values()) {\r\n        _addComponent(app, component);\r\n    }\r\n    return true;\r\n}\r\n/**\r\n *\r\n * @param app - FirebaseApp instance\r\n * @param name - service name\r\n *\r\n * @returns the provider for the service with the matching name\r\n *\r\n * @internal\r\n */\r\nfunction _getProvider(app, name) {\r\n    return app.container.getProvider(name);\r\n}\r\n/**\r\n *\r\n * @param app - FirebaseApp instance\r\n * @param name - service name\r\n * @param instanceIdentifier - service instance identifier in case the service supports multiple instances\r\n *\r\n * @internal\r\n */\r\nfunction _removeServiceInstance(app, name, instanceIdentifier = DEFAULT_ENTRY_NAME) {\r\n    _getProvider(app, name).clearInstance(instanceIdentifier);\r\n}\r\n/**\r\n * Test only\r\n *\r\n * @internal\r\n */\r\nfunction _clearComponents() {\r\n    _components.clear();\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst ERRORS = {\r\n    [\"no-app\" /* NO_APP */]: \"No Firebase App '{$appName}' has been created - \" +\r\n        'call Firebase App.initializeApp()',\r\n    [\"bad-app-name\" /* BAD_APP_NAME */]: \"Illegal App name: '{$appName}\",\r\n    [\"duplicate-app\" /* DUPLICATE_APP */]: \"Firebase App named '{$appName}' already exists\",\r\n    [\"app-deleted\" /* APP_DELETED */]: \"Firebase App named '{$appName}' already deleted\",\r\n    [\"invalid-app-argument\" /* INVALID_APP_ARGUMENT */]: 'firebase.{$appName}() takes either no argument or a ' +\r\n        'Firebase App instance.',\r\n    [\"invalid-log-argument\" /* INVALID_LOG_ARGUMENT */]: 'First argument to `onLog` must be null or a function.'\r\n};\r\nconst ERROR_FACTORY = new ErrorFactory('app', 'Firebase', ERRORS);\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass FirebaseAppImpl {\r\n    constructor(options, config, container) {\r\n        this._isDeleted = false;\r\n        this._options = Object.assign({}, options);\r\n        this._name = config.name;\r\n        this._automaticDataCollectionEnabled =\r\n            config.automaticDataCollectionEnabled;\r\n        this._container = container;\r\n        this.container.addComponent(new Component('app-exp', () => this, \"PUBLIC\" /* PUBLIC */));\r\n    }\r\n    get automaticDataCollectionEnabled() {\r\n        this.checkDestroyed();\r\n        return this._automaticDataCollectionEnabled;\r\n    }\r\n    set automaticDataCollectionEnabled(val) {\r\n        this.checkDestroyed();\r\n        this._automaticDataCollectionEnabled = val;\r\n    }\r\n    get name() {\r\n        this.checkDestroyed();\r\n        return this._name;\r\n    }\r\n    get options() {\r\n        this.checkDestroyed();\r\n        return this._options;\r\n    }\r\n    get container() {\r\n        return this._container;\r\n    }\r\n    get isDeleted() {\r\n        return this._isDeleted;\r\n    }\r\n    set isDeleted(val) {\r\n        this._isDeleted = val;\r\n    }\r\n    /**\r\n     * This function will throw an Error if the App has already been deleted -\r\n     * use before performing API actions on the App.\r\n     */\r\n    checkDestroyed() {\r\n        if (this.isDeleted) {\r\n            throw ERROR_FACTORY.create(\"app-deleted\" /* APP_DELETED */, { appName: this._name });\r\n        }\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The current SDK version.\r\n *\r\n * @public\r\n */\r\nconst SDK_VERSION = version$1;\r\nfunction initializeApp(options, rawConfig = {}) {\r\n    if (typeof rawConfig !== 'object') {\r\n        const name = rawConfig;\r\n        rawConfig = { name };\r\n    }\r\n    const config = Object.assign({ name: DEFAULT_ENTRY_NAME, automaticDataCollectionEnabled: false }, rawConfig);\r\n    const name = config.name;\r\n    if (typeof name !== 'string' || !name) {\r\n        throw ERROR_FACTORY.create(\"bad-app-name\" /* BAD_APP_NAME */, {\r\n            appName: String(name)\r\n        });\r\n    }\r\n    if (_apps.has(name)) {\r\n        throw ERROR_FACTORY.create(\"duplicate-app\" /* DUPLICATE_APP */, { appName: name });\r\n    }\r\n    const container = new ComponentContainer(name);\r\n    for (const component of _components.values()) {\r\n        container.addComponent(component);\r\n    }\r\n    const newApp = new FirebaseAppImpl(options, config, container);\r\n    _apps.set(name, newApp);\r\n    return newApp;\r\n}\r\n/**\r\n * Retrieves a FirebaseApp instance.\r\n *\r\n * When called with no arguments, the default app is returned. When an app name\r\n * is provided, the app corresponding to that name is returned.\r\n *\r\n * An exception is thrown if the app being retrieved has not yet been\r\n * initialized.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Return the default app\r\n * const app = getApp();\r\n * ```\r\n *\r\n * @example\r\n * ```javascript\r\n * // Return a named app\r\n * const otherApp = getApp(\"otherApp\");\r\n * ```\r\n *\r\n * @param name - Optional name of the app to return. If no name is\r\n *   provided, the default is `\"[DEFAULT]\"`.\r\n *\r\n * @returns The app corresponding to the provided app name.\r\n *   If no app name is provided, the default app is returned.\r\n *\r\n * @public\r\n */\r\nfunction getApp(name = DEFAULT_ENTRY_NAME) {\r\n    const app = _apps.get(name);\r\n    if (!app) {\r\n        throw ERROR_FACTORY.create(\"no-app\" /* NO_APP */, { appName: name });\r\n    }\r\n    return app;\r\n}\r\n/**\r\n * A (read-only) array of all initialized apps.\r\n * @public\r\n */\r\nfunction getApps() {\r\n    return Array.from(_apps.values());\r\n}\r\n/**\r\n * Renders this app unusable and frees the resources of all associated\r\n * services.\r\n *\r\n * @example\r\n * ```javascript\r\n * deleteApp(app)\r\n *   .then(function() {\r\n *     console.log(\"App deleted successfully\");\r\n *   })\r\n *   .catch(function(error) {\r\n *     console.log(\"Error deleting app:\", error);\r\n *   });\r\n * ```\r\n *\r\n * @public\r\n */\r\nasync function deleteApp(app) {\r\n    const name = app.name;\r\n    if (_apps.has(name)) {\r\n        _apps.delete(name);\r\n        await Promise.all(app.container\r\n            .getProviders()\r\n            .map(provider => provider.delete()));\r\n        app.isDeleted = true;\r\n    }\r\n}\r\n/**\r\n * Registers a library's name and version for platform logging purposes.\r\n * @param library - Name of 1p or 3p library (e.g. firestore, angularfire)\r\n * @param version - Current version of that library.\r\n * @param variant - Bundle variant, e.g., node, rn, etc.\r\n *\r\n * @public\r\n */\r\nfunction registerVersion(libraryKeyOrName, version, variant) {\r\n    var _a;\r\n    // TODO: We can use this check to whitelist strings when/if we set up\r\n    // a good whitelist system.\r\n    let library = (_a = PLATFORM_LOG_STRING[libraryKeyOrName]) !== null && _a !== void 0 ? _a : libraryKeyOrName;\r\n    if (variant) {\r\n        library += `-${variant}`;\r\n    }\r\n    const libraryMismatch = library.match(/\\s|\\//);\r\n    const versionMismatch = version.match(/\\s|\\//);\r\n    if (libraryMismatch || versionMismatch) {\r\n        const warning = [\r\n            `Unable to register library \"${library}\" with version \"${version}\":`\r\n        ];\r\n        if (libraryMismatch) {\r\n            warning.push(`library name \"${library}\" contains illegal characters (whitespace or \"/\")`);\r\n        }\r\n        if (libraryMismatch && versionMismatch) {\r\n            warning.push('and');\r\n        }\r\n        if (versionMismatch) {\r\n            warning.push(`version name \"${version}\" contains illegal characters (whitespace or \"/\")`);\r\n        }\r\n        logger.warn(warning.join(' '));\r\n        return;\r\n    }\r\n    _registerComponent(new Component(`${library}-version`, () => ({ library, version }), \"VERSION\" /* VERSION */));\r\n}\r\n/**\r\n * Sets log handler for all Firebase SDKs.\r\n * @param logCallback - An optional custom log handler that executes user code whenever\r\n * the Firebase SDK makes a logging call.\r\n *\r\n * @public\r\n */\r\nfunction onLog(logCallback, options) {\r\n    if (logCallback !== null && typeof logCallback !== 'function') {\r\n        throw ERROR_FACTORY.create(\"invalid-log-argument\" /* INVALID_LOG_ARGUMENT */);\r\n    }\r\n    setUserLogHandler(logCallback, options);\r\n}\r\n/**\r\n * Sets log level for all Firebase SDKs.\r\n *\r\n * All of the log types above the current log level are captured (i.e. if\r\n * you set the log level to `info`, errors are logged, but `debug` and\r\n * `verbose` logs are not).\r\n *\r\n * @public\r\n */\r\nfunction setLogLevel(logLevel) {\r\n    setLogLevel$1(logLevel);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction registerCoreComponents(variant) {\r\n    _registerComponent(new Component('platform-logger', container => new PlatformLoggerServiceImpl(container), \"PRIVATE\" /* PRIVATE */));\r\n    // Register `app` package.\r\n    registerVersion(name, version, variant);\r\n    // Register platform SDK identifier (no version).\r\n    registerVersion('fire-js', '');\r\n}\n\n/**\r\n * Firebase App\r\n *\r\n * @remarks This package coordinates the communication between the different Firebase components\r\n * @packageDocumentation\r\n */\r\nregisterCoreComponents();\n\nexport { SDK_VERSION, DEFAULT_ENTRY_NAME as _DEFAULT_ENTRY_NAME, _addComponent, _addOrOverwriteComponent, _apps, _clearComponents, _components, _getProvider, _registerComponent, _removeServiceInstance, deleteApp, getApp, getApps, initializeApp, onLog, registerVersion, setLogLevel };\n//# sourceMappingURL=index.esm2017.js.map\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { registerVersion } from '@firebase/app';\nexport * from '@firebase/app';\n\nvar name = \"firebase-exp\";\nvar version = \"9.0.0-beta.1\";\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nregisterVersion(name, version, 'app');\n//# sourceMappingURL=index.esm.js.map\n","import { SDK_VERSION, _getProvider, _registerComponent, registerVersion, getApp } from '@firebase/app';\nimport { ErrorFactory, isBrowserExtension, isMobileCordova, isReactNative, FirebaseError, querystring, getModularInstance, base64Decode, getUA, isIE, createSubscribe, querystringDecode, extractQuerystring, isEmpty } from '@firebase/util';\nimport { Logger, LogLevel } from '@firebase/logger';\nimport { __rest } from 'tslib';\nimport { Component } from '@firebase/component';\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _debugErrorMap() {\r\n    return {\r\n        [\"admin-restricted-operation\" /* ADMIN_ONLY_OPERATION */]: 'This operation is restricted to administrators only.',\r\n        [\"argument-error\" /* ARGUMENT_ERROR */]: '',\r\n        [\"app-not-authorized\" /* APP_NOT_AUTHORIZED */]: \"This app, identified by the domain where it's hosted, is not \" +\r\n            'authorized to use Firebase Authentication with the provided API key. ' +\r\n            'Review your key configuration in the Google API console.',\r\n        [\"app-not-installed\" /* APP_NOT_INSTALLED */]: 'The requested mobile application corresponding to the identifier (' +\r\n            'Android package name or iOS bundle ID) provided is not installed on ' +\r\n            'this device.',\r\n        [\"captcha-check-failed\" /* CAPTCHA_CHECK_FAILED */]: 'The reCAPTCHA response token provided is either invalid, expired, ' +\r\n            'already used or the domain associated with it does not match the list ' +\r\n            'of whitelisted domains.',\r\n        [\"code-expired\" /* CODE_EXPIRED */]: 'The SMS code has expired. Please re-send the verification code to try ' +\r\n            'again.',\r\n        [\"cordova-not-ready\" /* CORDOVA_NOT_READY */]: 'Cordova framework is not ready.',\r\n        [\"cors-unsupported\" /* CORS_UNSUPPORTED */]: 'This browser is not supported.',\r\n        [\"credential-already-in-use\" /* CREDENTIAL_ALREADY_IN_USE */]: 'This credential is already associated with a different user account.',\r\n        [\"custom-token-mismatch\" /* CREDENTIAL_MISMATCH */]: 'The custom token corresponds to a different audience.',\r\n        [\"requires-recent-login\" /* CREDENTIAL_TOO_OLD_LOGIN_AGAIN */]: 'This operation is sensitive and requires recent authentication. Log in ' +\r\n            'again before retrying this request.',\r\n        [\"dependent-sdk-initialized-before-auth\" /* DEPENDENT_SDK_INIT_BEFORE_AUTH */]: 'Another Firebase SDK was initialized and is trying to use Auth before Auth is ' +\r\n            'initialized. Please be sure to call `initializeAuth` or `getAuth` before ' +\r\n            'starting any other Firebase SDK.',\r\n        [\"dynamic-link-not-activated\" /* DYNAMIC_LINK_NOT_ACTIVATED */]: 'Please activate Dynamic Links in the Firebase Console and agree to the terms and ' +\r\n            'conditions.',\r\n        [\"email-change-needs-verification\" /* EMAIL_CHANGE_NEEDS_VERIFICATION */]: 'Multi-factor users must always have a verified email.',\r\n        [\"email-already-in-use\" /* EMAIL_EXISTS */]: 'The email address is already in use by another account.',\r\n        [\"emulator-config-failed\" /* EMULATOR_CONFIG_FAILED */]: 'Auth instance has already been used to make a network call. Auth can ' +\r\n            'no longer be configured to use the emulator. Try calling ' +\r\n            '\"useAuthEmulator()\" sooner.',\r\n        [\"expired-action-code\" /* EXPIRED_OOB_CODE */]: 'The action code has expired.',\r\n        [\"cancelled-popup-request\" /* EXPIRED_POPUP_REQUEST */]: 'This operation has been cancelled due to another conflicting popup being opened.',\r\n        [\"internal-error\" /* INTERNAL_ERROR */]: 'An internal AuthError has occurred.',\r\n        [\"invalid-app-credential\" /* INVALID_APP_CREDENTIAL */]: 'The phone verification request contains an invalid application verifier.' +\r\n            ' The reCAPTCHA token response is either invalid or expired.',\r\n        [\"invalid-app-id\" /* INVALID_APP_ID */]: 'The mobile app identifier is not registed for the current project.',\r\n        [\"invalid-user-token\" /* INVALID_AUTH */]: \"This user's credential isn't valid for this project. This can happen \" +\r\n            \"if the user's token has been tampered with, or if the user isn't for \" +\r\n            'the project associated with this API key.',\r\n        [\"invalid-auth-event\" /* INVALID_AUTH_EVENT */]: 'An internal AuthError has occurred.',\r\n        [\"invalid-verification-code\" /* INVALID_CODE */]: 'The SMS verification code used to create the phone auth credential is ' +\r\n            'invalid. Please resend the verification code sms and be sure use the ' +\r\n            'verification code provided by the user.',\r\n        [\"invalid-continue-uri\" /* INVALID_CONTINUE_URI */]: 'The continue URL provided in the request is invalid.',\r\n        [\"invalid-cordova-configuration\" /* INVALID_CORDOVA_CONFIGURATION */]: 'The following Cordova plugins must be installed to enable OAuth sign-in: ' +\r\n            'cordova-plugin-buildinfo, cordova-universal-links-plugin, ' +\r\n            'cordova-plugin-browsertab, cordova-plugin-inappbrowser and ' +\r\n            'cordova-plugin-customurlscheme.',\r\n        [\"invalid-custom-token\" /* INVALID_CUSTOM_TOKEN */]: 'The custom token format is incorrect. Please check the documentation.',\r\n        [\"invalid-dynamic-link-domain\" /* INVALID_DYNAMIC_LINK_DOMAIN */]: 'The provided dynamic link domain is not configured or authorized for the current project.',\r\n        [\"invalid-email\" /* INVALID_EMAIL */]: 'The email address is badly formatted.',\r\n        [\"invalid-emulator-scheme\" /* INVALID_EMULATOR_SCHEME */]: 'Emulator URL must start with a valid scheme (http:// or https://).',\r\n        [\"invalid-api-key\" /* INVALID_API_KEY */]: 'Your API key is invalid, please check you have copied it correctly.',\r\n        [\"invalid-cert-hash\" /* INVALID_CERT_HASH */]: 'The SHA-1 certificate hash provided is invalid.',\r\n        [\"invalid-credential\" /* INVALID_IDP_RESPONSE */]: 'The supplied auth credential is malformed or has expired.',\r\n        [\"invalid-message-payload\" /* INVALID_MESSAGE_PAYLOAD */]: 'The email template corresponding to this action contains invalid characters in its message. ' +\r\n            'Please fix by going to the Auth email templates section in the Firebase Console.',\r\n        [\"invalid-multi-factor-session\" /* INVALID_MFA_SESSION */]: 'The request does not contain a valid proof of first factor successful sign-in.',\r\n        [\"invalid-oauth-provider\" /* INVALID_OAUTH_PROVIDER */]: 'EmailAuthProvider is not supported for this operation. This operation ' +\r\n            'only supports OAuth providers.',\r\n        [\"invalid-oauth-client-id\" /* INVALID_OAUTH_CLIENT_ID */]: 'The OAuth client ID provided is either invalid or does not match the ' +\r\n            'specified API key.',\r\n        [\"unauthorized-domain\" /* INVALID_ORIGIN */]: 'This domain is not authorized for OAuth operations for your Firebase ' +\r\n            'project. Edit the list of authorized domains from the Firebase console.',\r\n        [\"invalid-action-code\" /* INVALID_OOB_CODE */]: 'The action code is invalid. This can happen if the code is malformed, ' +\r\n            'expired, or has already been used.',\r\n        [\"wrong-password\" /* INVALID_PASSWORD */]: 'The password is invalid or the user does not have a password.',\r\n        [\"invalid-persistence-type\" /* INVALID_PERSISTENCE */]: 'The specified persistence type is invalid. It can only be local, session or none.',\r\n        [\"invalid-phone-number\" /* INVALID_PHONE_NUMBER */]: 'The format of the phone number provided is incorrect. Please enter the ' +\r\n            'phone number in a format that can be parsed into E.164 format. E.164 ' +\r\n            'phone numbers are written in the format [+][country code][subscriber ' +\r\n            'number including area code].',\r\n        [\"invalid-provider-id\" /* INVALID_PROVIDER_ID */]: 'The specified provider ID is invalid.',\r\n        [\"invalid-recipient-email\" /* INVALID_RECIPIENT_EMAIL */]: 'The email corresponding to this action failed to send as the provided ' +\r\n            'recipient email address is invalid.',\r\n        [\"invalid-sender\" /* INVALID_SENDER */]: 'The email template corresponding to this action contains an invalid sender email or name. ' +\r\n            'Please fix by going to the Auth email templates section in the Firebase Console.',\r\n        [\"invalid-verification-id\" /* INVALID_SESSION_INFO */]: 'The verification ID used to create the phone auth credential is invalid.',\r\n        [\"invalid-tenant-id\" /* INVALID_TENANT_ID */]: \"The Auth instance's tenant ID is invalid.\",\r\n        [\"missing-android-pkg-name\" /* MISSING_ANDROID_PACKAGE_NAME */]: 'An Android Package Name must be provided if the Android App is required to be installed.',\r\n        [\"auth-domain-config-required\" /* MISSING_AUTH_DOMAIN */]: 'Be sure to include authDomain when calling firebase.initializeApp(), ' +\r\n            'by following the instructions in the Firebase console.',\r\n        [\"missing-app-credential\" /* MISSING_APP_CREDENTIAL */]: 'The phone verification request is missing an application verifier ' +\r\n            'assertion. A reCAPTCHA response token needs to be provided.',\r\n        [\"missing-verification-code\" /* MISSING_CODE */]: 'The phone auth credential was created with an empty SMS verification code.',\r\n        [\"missing-continue-uri\" /* MISSING_CONTINUE_URI */]: 'A continue URL must be provided in the request.',\r\n        [\"missing-iframe-start\" /* MISSING_IFRAME_START */]: 'An internal AuthError has occurred.',\r\n        [\"missing-ios-bundle-id\" /* MISSING_IOS_BUNDLE_ID */]: 'An iOS Bundle ID must be provided if an App Store ID is provided.',\r\n        [\"missing-or-invalid-nonce\" /* MISSING_OR_INVALID_NONCE */]: 'The request does not contain a valid nonce. This can occur if the ' +\r\n            'SHA-256 hash of the provided raw nonce does not match the hashed nonce ' +\r\n            'in the ID token payload.',\r\n        [\"missing-multi-factor-info\" /* MISSING_MFA_INFO */]: 'No second factor identifier is provided.',\r\n        [\"missing-multi-factor-session\" /* MISSING_MFA_SESSION */]: 'The request is missing proof of first factor successful sign-in.',\r\n        [\"missing-phone-number\" /* MISSING_PHONE_NUMBER */]: 'To send verification codes, provide a phone number for the recipient.',\r\n        [\"missing-verification-id\" /* MISSING_SESSION_INFO */]: 'The phone auth credential was created with an empty verification ID.',\r\n        [\"app-deleted\" /* MODULE_DESTROYED */]: 'This instance of FirebaseApp has been deleted.',\r\n        [\"multi-factor-info-not-found\" /* MFA_INFO_NOT_FOUND */]: 'The user does not have a second factor matching the identifier provided.',\r\n        [\"multi-factor-auth-required\" /* MFA_REQUIRED */]: 'Proof of ownership of a second factor is required to complete sign-in.',\r\n        [\"account-exists-with-different-credential\" /* NEED_CONFIRMATION */]: 'An account already exists with the same email address but different ' +\r\n            'sign-in credentials. Sign in using a provider associated with this ' +\r\n            'email address.',\r\n        [\"network-request-failed\" /* NETWORK_REQUEST_FAILED */]: 'A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.',\r\n        [\"no-auth-event\" /* NO_AUTH_EVENT */]: 'An internal AuthError has occurred.',\r\n        [\"no-such-provider\" /* NO_SUCH_PROVIDER */]: 'User was not linked to an account with the given provider.',\r\n        [\"null-user\" /* NULL_USER */]: 'A null user object was provided as the argument for an operation which ' +\r\n            'requires a non-null user object.',\r\n        [\"operation-not-allowed\" /* OPERATION_NOT_ALLOWED */]: 'The given sign-in provider is disabled for this Firebase project. ' +\r\n            'Enable it in the Firebase console, under the sign-in method tab of the ' +\r\n            'Auth section.',\r\n        [\"operation-not-supported-in-this-environment\" /* OPERATION_NOT_SUPPORTED */]: 'This operation is not supported in the environment this application is ' +\r\n            'running on. \"location.protocol\" must be http, https or chrome-extension' +\r\n            ' and web storage must be enabled.',\r\n        [\"popup-blocked\" /* POPUP_BLOCKED */]: 'Unable to establish a connection with the popup. It may have been blocked by the browser.',\r\n        [\"popup-closed-by-user\" /* POPUP_CLOSED_BY_USER */]: 'The popup has been closed by the user before finalizing the operation.',\r\n        [\"provider-already-linked\" /* PROVIDER_ALREADY_LINKED */]: 'User can only be linked to one identity for the given provider.',\r\n        [\"quota-exceeded\" /* QUOTA_EXCEEDED */]: \"The project's quota for this operation has been exceeded.\",\r\n        [\"redirect-cancelled-by-user\" /* REDIRECT_CANCELLED_BY_USER */]: 'The redirect operation has been cancelled by the user before finalizing.',\r\n        [\"redirect-operation-pending\" /* REDIRECT_OPERATION_PENDING */]: 'A redirect sign-in operation is already pending.',\r\n        [\"rejected-credential\" /* REJECTED_CREDENTIAL */]: 'The request contains malformed or mismatching credentials.',\r\n        [\"second-factor-already-in-use\" /* SECOND_FACTOR_ALREADY_ENROLLED */]: 'The second factor is already enrolled on this account.',\r\n        [\"maximum-second-factor-count-exceeded\" /* SECOND_FACTOR_LIMIT_EXCEEDED */]: 'The maximum allowed number of second factors on a user has been exceeded.',\r\n        [\"tenant-id-mismatch\" /* TENANT_ID_MISMATCH */]: \"The provided tenant ID does not match the Auth instance's tenant ID\",\r\n        [\"timeout\" /* TIMEOUT */]: 'The operation has timed out.',\r\n        [\"user-token-expired\" /* TOKEN_EXPIRED */]: \"The user's credential is no longer valid. The user must sign in again.\",\r\n        [\"too-many-requests\" /* TOO_MANY_ATTEMPTS_TRY_LATER */]: 'We have blocked all requests from this device due to unusual activity. ' +\r\n            'Try again later.',\r\n        [\"unauthorized-continue-uri\" /* UNAUTHORIZED_DOMAIN */]: 'The domain of the continue URL is not whitelisted.  Please whitelist ' +\r\n            'the domain in the Firebase console.',\r\n        [\"unsupported-first-factor\" /* UNSUPPORTED_FIRST_FACTOR */]: 'Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.',\r\n        [\"unsupported-persistence-type\" /* UNSUPPORTED_PERSISTENCE */]: 'The current environment does not support the specified persistence type.',\r\n        [\"unsupported-tenant-operation\" /* UNSUPPORTED_TENANT_OPERATION */]: 'This operation is not supported in a multi-tenant context.',\r\n        [\"unverified-email\" /* UNVERIFIED_EMAIL */]: 'The operation requires a verified email.',\r\n        [\"user-cancelled\" /* USER_CANCELLED */]: 'The user did not grant your application the permissions it requested.',\r\n        [\"user-not-found\" /* USER_DELETED */]: 'There is no user record corresponding to this identifier. The user may ' +\r\n            'have been deleted.',\r\n        [\"user-disabled\" /* USER_DISABLED */]: 'The user account has been disabled by an administrator.',\r\n        [\"user-mismatch\" /* USER_MISMATCH */]: 'The supplied credentials do not correspond to the previously signed in user.',\r\n        [\"user-signed-out\" /* USER_SIGNED_OUT */]: '',\r\n        [\"weak-password\" /* WEAK_PASSWORD */]: 'The password must be 6 characters long or more.',\r\n        [\"web-storage-unsupported\" /* WEB_STORAGE_UNSUPPORTED */]: 'This browser is not supported or 3rd party cookies and data may be disabled.',\r\n        [\"already-initialized\" /* ALREADY_INITIALIZED */]: 'Auth can only be initialized once per app.'\r\n    };\r\n}\r\nfunction _prodErrorMap() {\r\n    // We will include this one message in the prod error map since by the very\r\n    // nature of this error, developers will never be able to see the message\r\n    // using the debugErrorMap (which is installed during auth initialization).\r\n    return {\r\n        [\"dependent-sdk-initialized-before-auth\" /* DEPENDENT_SDK_INIT_BEFORE_AUTH */]: 'Another Firebase SDK was initialized and is trying to use Auth before Auth is ' +\r\n            'initialized. Please be sure to call `initializeAuth` or `getAuth` before ' +\r\n            'starting any other Firebase SDK.'\r\n    };\r\n}\r\n/**\r\n * A verbose error map with detailed descriptions for most error codes.\r\n *\r\n * See discussion at {@link AuthErrorMap}\r\n *\r\n * @public\r\n */\r\nconst debugErrorMap = _debugErrorMap;\r\n/**\r\n * A minimal error map with all verbose error messages stripped.\r\n *\r\n * See discussion at {@link AuthErrorMap}\r\n *\r\n * @public\r\n */\r\nconst prodErrorMap = _prodErrorMap;\r\nconst _DEFAULT_AUTH_ERROR_FACTORY = new ErrorFactory('auth', 'Firebase', _prodErrorMap());\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst logClient = new Logger('@firebase/auth-exp');\r\nfunction _logError(msg, ...args) {\r\n    if (logClient.logLevel <= LogLevel.ERROR) {\r\n        logClient.error(`Auth (${SDK_VERSION}): ${msg}`, ...args);\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _fail(authOrCode, ...rest) {\r\n    throw createErrorInternal(authOrCode, ...rest);\r\n}\r\nfunction _createError(authOrCode, ...rest) {\r\n    return createErrorInternal(authOrCode, ...rest);\r\n}\r\nfunction createErrorInternal(authOrCode, ...rest) {\r\n    if (typeof authOrCode !== 'string') {\r\n        const code = rest[0];\r\n        const fullParams = [...rest.slice(1)];\r\n        if (fullParams[0]) {\r\n            fullParams[0].appName = authOrCode.name;\r\n        }\r\n        return authOrCode._errorFactory.create(code, ...fullParams);\r\n    }\r\n    return _DEFAULT_AUTH_ERROR_FACTORY.create(authOrCode, ...rest);\r\n}\r\nfunction _assert(assertion, authOrCode, ...rest) {\r\n    if (!assertion) {\r\n        throw createErrorInternal(authOrCode, ...rest);\r\n    }\r\n}\r\n/**\r\n * Unconditionally fails, throwing an internal error with the given message.\r\n *\r\n * @param failure type of failure encountered\r\n * @throws Error\r\n */\r\nfunction debugFail(failure) {\r\n    // Log the failure in addition to throw an exception, just in case the\r\n    // exception is swallowed.\r\n    const message = `INTERNAL ASSERTION FAILED: ` + failure;\r\n    _logError(message);\r\n    // NOTE: We don't use FirebaseError here because these are internal failures\r\n    // that cannot be handled by the user. (Also it would create a circular\r\n    // dependency between the error and assert modules which doesn't work.)\r\n    throw new Error(message);\r\n}\r\n/**\r\n * Fails if the given assertion condition is false, throwing an Error with the\r\n * given message if it did.\r\n *\r\n * @param assertion\r\n * @param message\r\n */\r\nfunction debugAssert(assertion, message) {\r\n    if (!assertion) {\r\n        debugFail(message);\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst instanceCache = new Map();\r\nfunction _getInstance(cls) {\r\n    debugAssert(cls instanceof Function, 'Expected a class definition');\r\n    let instance = instanceCache.get(cls);\r\n    if (instance) {\r\n        debugAssert(instance instanceof cls, 'Instance stored in cache mismatched with class');\r\n        return instance;\r\n    }\r\n    instance = new cls();\r\n    instanceCache.set(cls, instance);\r\n    return instance;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Initializes an Auth instance with fine-grained control over\r\n * {@link Dependencies}.\r\n *\r\n * @remarks\r\n *\r\n * This function allows more control over the Auth instance than\r\n * {@link getAuth}. `getAuth` uses platform-specific defaults to supply\r\n * the {@link Dependencies}. In general, `getAuth` is the easiest way to\r\n * initialize Auth and works for most use cases. Use `initializeAuth` if you\r\n * need control over which persistence layer is used, or to minimize bundle\r\n * size if you're not using either `signInWithPopup` or `signInWithRedirect`.\r\n *\r\n * For example, if your app only uses anonymous accounts and you only want\r\n * accounts saved for the current session, initialize Auth with:\r\n *\r\n * ```js\r\n * const auth = initializeAuth(app, {\r\n *   persistence: browserSessionPersistence,\r\n *   popupRedirectResolver: undefined,\r\n * });\r\n * ```\r\n *\r\n * @public\r\n */\r\nfunction initializeAuth(app, deps) {\r\n    const provider = _getProvider(app, 'auth-exp');\r\n    if (provider.isInitialized()) {\r\n        const auth = provider.getImmediate();\r\n        _fail(auth, \"already-initialized\" /* ALREADY_INITIALIZED */);\r\n    }\r\n    const auth = provider.initialize({ options: deps });\r\n    return auth;\r\n}\r\nfunction _initializeAuthInstance(auth, deps) {\r\n    const persistence = (deps === null || deps === void 0 ? void 0 : deps.persistence) || [];\r\n    const hierarchy = (Array.isArray(persistence)\r\n        ? persistence\r\n        : [persistence]).map(_getInstance);\r\n    if (deps === null || deps === void 0 ? void 0 : deps.errorMap) {\r\n        auth._updateErrorMap(deps.errorMap);\r\n    }\r\n    // This promise is intended to float; auth initialization happens in the\r\n    // background, meanwhile the auth object may be used by the app.\r\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n    auth._initializeWithPersistence(hierarchy, deps === null || deps === void 0 ? void 0 : deps.popupRedirectResolver);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _getCurrentUrl() {\r\n    var _a;\r\n    return (typeof self !== 'undefined' && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.href)) || '';\r\n}\r\nfunction _isHttpOrHttps() {\r\n    return _getCurrentScheme() === 'http:' || _getCurrentScheme() === 'https:';\r\n}\r\nfunction _getCurrentScheme() {\r\n    var _a;\r\n    return (typeof self !== 'undefined' && ((_a = self.location) === null || _a === void 0 ? void 0 : _a.protocol)) || null;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Determine whether the browser is working online\r\n */\r\nfunction _isOnline() {\r\n    if (typeof navigator !== 'undefined' &&\r\n        navigator &&\r\n        'onLine' in navigator &&\r\n        typeof navigator.onLine === 'boolean' &&\r\n        // Apply only for traditional web apps and Chrome extensions.\r\n        // This is especially true for Cordova apps which have unreliable\r\n        // navigator.onLine behavior unless cordova-plugin-network-information is\r\n        // installed which overwrites the native navigator.onLine value and\r\n        // defines navigator.connection.\r\n        (_isHttpOrHttps() || isBrowserExtension() || 'connection' in navigator)) {\r\n        return navigator.onLine;\r\n    }\r\n    // If we can't determine the state, assume it is online.\r\n    return true;\r\n}\r\nfunction _getUserLanguage() {\r\n    if (typeof navigator === 'undefined') {\r\n        return null;\r\n    }\r\n    const navigatorLanguage = navigator;\r\n    return (\r\n    // Most reliable, but only supported in Chrome/Firefox.\r\n    (navigatorLanguage.languages && navigatorLanguage.languages[0]) ||\r\n        // Supported in most browsers, but returns the language of the browser\r\n        // UI, not the language set in browser settings.\r\n        navigatorLanguage.language ||\r\n        // Couldn't determine language.\r\n        null);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * A structure to help pick between a range of long and short delay durations\r\n * depending on the current environment. In general, the long delay is used for\r\n * mobile environments whereas short delays are used for desktop environments.\r\n */\r\nclass Delay {\r\n    constructor(shortDelay, longDelay) {\r\n        this.shortDelay = shortDelay;\r\n        this.longDelay = longDelay;\r\n        // Internal error when improperly initialized.\r\n        debugAssert(longDelay > shortDelay, 'Short delay should be less than long delay!');\r\n        this.isMobile = isMobileCordova() || isReactNative();\r\n    }\r\n    get() {\r\n        if (!_isOnline()) {\r\n            // Pick the shorter timeout.\r\n            return Math.min(5000 /* OFFLINE */, this.shortDelay);\r\n        }\r\n        // If running in a mobile environment, return the long delay, otherwise\r\n        // return the short delay.\r\n        // This could be improved in the future to dynamically change based on other\r\n        // variables instead of just reading the current environment.\r\n        return this.isMobile ? this.longDelay : this.shortDelay;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _emulatorUrl(config, path) {\r\n    debugAssert(config.emulator, 'Emulator should always be set here');\r\n    const { url } = config.emulator;\r\n    if (!path) {\r\n        return url;\r\n    }\r\n    return `${url}${path.startsWith('/') ? path.slice(1) : path}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass FetchProvider {\r\n    static initialize(fetchImpl, headersImpl, responseImpl) {\r\n        this.fetchImpl = fetchImpl;\r\n        if (headersImpl) {\r\n            this.headersImpl = headersImpl;\r\n        }\r\n        if (responseImpl) {\r\n            this.responseImpl = responseImpl;\r\n        }\r\n    }\r\n    static fetch() {\r\n        if (this.fetchImpl) {\r\n            return this.fetchImpl;\r\n        }\r\n        if (typeof self !== 'undefined' && 'fetch' in self) {\r\n            return self.fetch;\r\n        }\r\n        debugFail('Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill');\r\n    }\r\n    static headers() {\r\n        if (this.headersImpl) {\r\n            return this.headersImpl;\r\n        }\r\n        if (typeof self !== 'undefined' && 'Headers' in self) {\r\n            return self.Headers;\r\n        }\r\n        debugFail('Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill');\r\n    }\r\n    static response() {\r\n        if (this.responseImpl) {\r\n            return this.responseImpl;\r\n        }\r\n        if (typeof self !== 'undefined' && 'Response' in self) {\r\n            return self.Response;\r\n        }\r\n        debugFail('Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill');\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Map from errors returned by the server to errors to developer visible errors\r\n */\r\nconst SERVER_ERROR_MAP = {\r\n    // Custom token errors.\r\n    [\"CREDENTIAL_MISMATCH\" /* CREDENTIAL_MISMATCH */]: \"custom-token-mismatch\" /* CREDENTIAL_MISMATCH */,\r\n    // This can only happen if the SDK sends a bad request.\r\n    [\"MISSING_CUSTOM_TOKEN\" /* MISSING_CUSTOM_TOKEN */]: \"internal-error\" /* INTERNAL_ERROR */,\r\n    // Create Auth URI errors.\r\n    [\"INVALID_IDENTIFIER\" /* INVALID_IDENTIFIER */]: \"invalid-email\" /* INVALID_EMAIL */,\r\n    // This can only happen if the SDK sends a bad request.\r\n    [\"MISSING_CONTINUE_URI\" /* MISSING_CONTINUE_URI */]: \"internal-error\" /* INTERNAL_ERROR */,\r\n    // Sign in with email and password errors (some apply to sign up too).\r\n    [\"INVALID_PASSWORD\" /* INVALID_PASSWORD */]: \"wrong-password\" /* INVALID_PASSWORD */,\r\n    // This can only happen if the SDK sends a bad request.\r\n    [\"MISSING_PASSWORD\" /* MISSING_PASSWORD */]: \"internal-error\" /* INTERNAL_ERROR */,\r\n    // Sign up with email and password errors.\r\n    [\"EMAIL_EXISTS\" /* EMAIL_EXISTS */]: \"email-already-in-use\" /* EMAIL_EXISTS */,\r\n    [\"PASSWORD_LOGIN_DISABLED\" /* PASSWORD_LOGIN_DISABLED */]: \"operation-not-allowed\" /* OPERATION_NOT_ALLOWED */,\r\n    // Verify assertion for sign in with credential errors:\r\n    [\"INVALID_IDP_RESPONSE\" /* INVALID_IDP_RESPONSE */]: \"invalid-credential\" /* INVALID_IDP_RESPONSE */,\r\n    [\"INVALID_PENDING_TOKEN\" /* INVALID_PENDING_TOKEN */]: \"invalid-credential\" /* INVALID_IDP_RESPONSE */,\r\n    [\"FEDERATED_USER_ID_ALREADY_LINKED\" /* FEDERATED_USER_ID_ALREADY_LINKED */]: \"credential-already-in-use\" /* CREDENTIAL_ALREADY_IN_USE */,\r\n    // This can only happen if the SDK sends a bad request.\r\n    [\"MISSING_REQ_TYPE\" /* MISSING_REQ_TYPE */]: \"internal-error\" /* INTERNAL_ERROR */,\r\n    // Send Password reset email errors:\r\n    [\"EMAIL_NOT_FOUND\" /* EMAIL_NOT_FOUND */]: \"user-not-found\" /* USER_DELETED */,\r\n    [\"RESET_PASSWORD_EXCEED_LIMIT\" /* RESET_PASSWORD_EXCEED_LIMIT */]: \"too-many-requests\" /* TOO_MANY_ATTEMPTS_TRY_LATER */,\r\n    [\"EXPIRED_OOB_CODE\" /* EXPIRED_OOB_CODE */]: \"expired-action-code\" /* EXPIRED_OOB_CODE */,\r\n    [\"INVALID_OOB_CODE\" /* INVALID_OOB_CODE */]: \"invalid-action-code\" /* INVALID_OOB_CODE */,\r\n    // This can only happen if the SDK sends a bad request.\r\n    [\"MISSING_OOB_CODE\" /* MISSING_OOB_CODE */]: \"internal-error\" /* INTERNAL_ERROR */,\r\n    // Operations that require ID token in request:\r\n    [\"CREDENTIAL_TOO_OLD_LOGIN_AGAIN\" /* CREDENTIAL_TOO_OLD_LOGIN_AGAIN */]: \"requires-recent-login\" /* CREDENTIAL_TOO_OLD_LOGIN_AGAIN */,\r\n    [\"INVALID_ID_TOKEN\" /* INVALID_ID_TOKEN */]: \"invalid-user-token\" /* INVALID_AUTH */,\r\n    [\"TOKEN_EXPIRED\" /* TOKEN_EXPIRED */]: \"user-token-expired\" /* TOKEN_EXPIRED */,\r\n    [\"USER_NOT_FOUND\" /* USER_NOT_FOUND */]: \"user-token-expired\" /* TOKEN_EXPIRED */,\r\n    // Other errors.\r\n    [\"TOO_MANY_ATTEMPTS_TRY_LATER\" /* TOO_MANY_ATTEMPTS_TRY_LATER */]: \"too-many-requests\" /* TOO_MANY_ATTEMPTS_TRY_LATER */,\r\n    // Phone Auth related errors.\r\n    [\"INVALID_CODE\" /* INVALID_CODE */]: \"invalid-verification-code\" /* INVALID_CODE */,\r\n    [\"INVALID_SESSION_INFO\" /* INVALID_SESSION_INFO */]: \"invalid-verification-id\" /* INVALID_SESSION_INFO */,\r\n    [\"INVALID_TEMPORARY_PROOF\" /* INVALID_TEMPORARY_PROOF */]: \"invalid-credential\" /* INVALID_IDP_RESPONSE */,\r\n    [\"MISSING_SESSION_INFO\" /* MISSING_SESSION_INFO */]: \"missing-verification-id\" /* MISSING_SESSION_INFO */,\r\n    [\"SESSION_EXPIRED\" /* SESSION_EXPIRED */]: \"code-expired\" /* CODE_EXPIRED */,\r\n    // Other action code errors when additional settings passed.\r\n    // MISSING_CONTINUE_URI is getting mapped to INTERNAL_ERROR above.\r\n    // This is OK as this error will be caught by client side validation.\r\n    [\"MISSING_ANDROID_PACKAGE_NAME\" /* MISSING_ANDROID_PACKAGE_NAME */]: \"missing-android-pkg-name\" /* MISSING_ANDROID_PACKAGE_NAME */,\r\n    [\"UNAUTHORIZED_DOMAIN\" /* UNAUTHORIZED_DOMAIN */]: \"unauthorized-continue-uri\" /* UNAUTHORIZED_DOMAIN */,\r\n    // getProjectConfig errors when clientId is passed.\r\n    [\"INVALID_OAUTH_CLIENT_ID\" /* INVALID_OAUTH_CLIENT_ID */]: \"invalid-oauth-client-id\" /* INVALID_OAUTH_CLIENT_ID */,\r\n    // User actions (sign-up or deletion) disabled errors.\r\n    [\"ADMIN_ONLY_OPERATION\" /* ADMIN_ONLY_OPERATION */]: \"admin-restricted-operation\" /* ADMIN_ONLY_OPERATION */,\r\n    // Multi factor related errors.\r\n    [\"INVALID_MFA_PENDING_CREDENTIAL\" /* INVALID_MFA_PENDING_CREDENTIAL */]: \"invalid-multi-factor-session\" /* INVALID_MFA_SESSION */,\r\n    [\"MFA_ENROLLMENT_NOT_FOUND\" /* MFA_ENROLLMENT_NOT_FOUND */]: \"multi-factor-info-not-found\" /* MFA_INFO_NOT_FOUND */,\r\n    [\"MISSING_MFA_ENROLLMENT_ID\" /* MISSING_MFA_ENROLLMENT_ID */]: \"missing-multi-factor-info\" /* MISSING_MFA_INFO */,\r\n    [\"MISSING_MFA_PENDING_CREDENTIAL\" /* MISSING_MFA_PENDING_CREDENTIAL */]: \"missing-multi-factor-session\" /* MISSING_MFA_SESSION */,\r\n    [\"SECOND_FACTOR_EXISTS\" /* SECOND_FACTOR_EXISTS */]: \"second-factor-already-in-use\" /* SECOND_FACTOR_ALREADY_ENROLLED */,\r\n    [\"SECOND_FACTOR_LIMIT_EXCEEDED\" /* SECOND_FACTOR_LIMIT_EXCEEDED */]: \"maximum-second-factor-count-exceeded\" /* SECOND_FACTOR_LIMIT_EXCEEDED */\r\n};\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DEFAULT_API_TIMEOUT_MS = new Delay(30000, 60000);\r\nfunction _addTidIfNecessary(auth, request) {\r\n    if (auth.tenantId && !request.tenantId) {\r\n        return Object.assign(Object.assign({}, request), { tenantId: auth.tenantId });\r\n    }\r\n    return request;\r\n}\r\nasync function _performApiRequest(auth, method, path, request, customErrorMap = {}) {\r\n    return _performFetchWithErrorHandling(auth, customErrorMap, () => {\r\n        let body = {};\r\n        let params = {};\r\n        if (request) {\r\n            if (method === \"GET\" /* GET */) {\r\n                params = request;\r\n            }\r\n            else {\r\n                body = {\r\n                    body: JSON.stringify(request)\r\n                };\r\n            }\r\n        }\r\n        const query = querystring(Object.assign({ key: auth.config.apiKey }, params)).slice(1);\r\n        const headers = new (FetchProvider.headers())();\r\n        headers.set(\"Content-Type\" /* CONTENT_TYPE */, 'application/json');\r\n        headers.set(\"X-Client-Version\" /* X_CLIENT_VERSION */, auth._getSdkClientVersion());\r\n        if (auth.languageCode) {\r\n            headers.set(\"X-Firebase-Locale\" /* X_FIREBASE_LOCALE */, auth.languageCode);\r\n        }\r\n        return FetchProvider.fetch()(_getFinalTarget(auth, auth.config.apiHost, path, query), Object.assign({ method,\r\n            headers, referrerPolicy: 'no-referrer' }, body));\r\n    });\r\n}\r\nasync function _performFetchWithErrorHandling(auth, customErrorMap, fetchFn) {\r\n    auth._canInitEmulator = false;\r\n    const errorMap = Object.assign(Object.assign({}, SERVER_ERROR_MAP), customErrorMap);\r\n    try {\r\n        const networkTimeout = new NetworkTimeout(auth);\r\n        const response = await Promise.race([\r\n            fetchFn(),\r\n            networkTimeout.promise\r\n        ]);\r\n        // If we've reached this point, the fetch succeeded and the networkTimeout\r\n        // didn't throw; clear the network timeout delay so that Node won't hang\r\n        networkTimeout.clearNetworkTimeout();\r\n        const json = await response.json();\r\n        if ('needConfirmation' in json) {\r\n            throw _makeTaggedError(auth, \"account-exists-with-different-credential\" /* NEED_CONFIRMATION */, json);\r\n        }\r\n        if (response.ok && !('errorMessage' in json)) {\r\n            return json;\r\n        }\r\n        else {\r\n            const errorMessage = response.ok ? json.errorMessage : json.error.message;\r\n            const serverErrorCode = errorMessage.split(' : ')[0];\r\n            if (serverErrorCode === \"FEDERATED_USER_ID_ALREADY_LINKED\" /* FEDERATED_USER_ID_ALREADY_LINKED */) {\r\n                throw _makeTaggedError(auth, \"credential-already-in-use\" /* CREDENTIAL_ALREADY_IN_USE */, json);\r\n            }\r\n            else if (serverErrorCode === \"EMAIL_EXISTS\" /* EMAIL_EXISTS */) {\r\n                throw _makeTaggedError(auth, \"email-already-in-use\" /* EMAIL_EXISTS */, json);\r\n            }\r\n            const authError = errorMap[serverErrorCode] ||\r\n                serverErrorCode\r\n                    .toLowerCase()\r\n                    .replace(/[_\\s]+/g, '-');\r\n            _fail(auth, authError);\r\n        }\r\n    }\r\n    catch (e) {\r\n        if (e instanceof FirebaseError) {\r\n            throw e;\r\n        }\r\n        _fail(auth, \"network-request-failed\" /* NETWORK_REQUEST_FAILED */);\r\n    }\r\n}\r\nasync function _performSignInRequest(auth, method, path, request, customErrorMap = {}) {\r\n    const serverResponse = (await _performApiRequest(auth, method, path, request, customErrorMap));\r\n    if ('mfaPendingCredential' in serverResponse) {\r\n        _fail(auth, \"multi-factor-auth-required\" /* MFA_REQUIRED */, {\r\n            serverResponse\r\n        });\r\n    }\r\n    return serverResponse;\r\n}\r\nfunction _getFinalTarget(auth, host, path, query) {\r\n    const base = `${host}${path}?${query}`;\r\n    if (!auth.config.emulator) {\r\n        return `${auth.config.apiScheme}://${base}`;\r\n    }\r\n    return _emulatorUrl(auth.config, base);\r\n}\r\nclass NetworkTimeout {\r\n    constructor(auth) {\r\n        this.auth = auth;\r\n        // Node timers and browser timers are fundamentally incompatible, but we\r\n        // don't care about the value here\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.timer = null;\r\n        this.promise = new Promise((_, reject) => {\r\n            this.timer = setTimeout(() => {\r\n                return reject(_createError(this.auth, \"timeout\" /* TIMEOUT */));\r\n            }, DEFAULT_API_TIMEOUT_MS.get());\r\n        });\r\n    }\r\n    clearNetworkTimeout() {\r\n        clearTimeout(this.timer);\r\n    }\r\n}\r\nfunction _makeTaggedError(auth, code, response) {\r\n    const errorParams = {\r\n        appName: auth.name\r\n    };\r\n    if (response.email) {\r\n        errorParams.email = response.email;\r\n    }\r\n    if (response.phoneNumber) {\r\n        errorParams.phoneNumber = response.phoneNumber;\r\n    }\r\n    const error = _createError(auth, code, errorParams);\r\n    // We know customData is defined on error because errorParams is defined\r\n    error.customData._tokenResponse = response;\r\n    return error;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function deleteAccount(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:delete\" /* DELETE_ACCOUNT */, request);\r\n}\r\nasync function deleteLinkedAccounts(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:update\" /* SET_ACCOUNT_INFO */, request);\r\n}\r\nasync function getAccountInfo(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:lookup\" /* GET_ACCOUNT_INFO */, request);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction utcTimestampToDateString(utcTimestamp) {\r\n    if (!utcTimestamp) {\r\n        return undefined;\r\n    }\r\n    try {\r\n        // Convert to date object.\r\n        const date = new Date(Number(utcTimestamp));\r\n        // Test date is valid.\r\n        if (!isNaN(date.getTime())) {\r\n            // Convert to UTC date string.\r\n            return date.toUTCString();\r\n        }\r\n    }\r\n    catch (e) {\r\n        // Do nothing. undefined will be returned.\r\n    }\r\n    return undefined;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Returns a JSON Web Token (JWT) used to identify the user to a Firebase service.\r\n *\r\n * @remarks\r\n * Returns the current token if it has not expired or if it will not expire in the next five\r\n * minutes. Otherwise, this will refresh the token and return a new one.\r\n *\r\n * @param user - The user.\r\n * @param forceRefresh - Force refresh regardless of token expiration.\r\n *\r\n * @public\r\n */\r\nfunction getIdToken(user, forceRefresh = false) {\r\n    return getModularInstance(user).getIdToken(forceRefresh);\r\n}\r\n/**\r\n * Returns a deserialized JSON Web Token (JWT) used to identitfy the user to a Firebase service.\r\n *\r\n * @remarks\r\n * Returns the current token if it has not expired or if it will not expire in the next five\r\n * minutes. Otherwise, this will refresh the token and return a new one.\r\n *\r\n * @param user - The user.\r\n * @param forceRefresh - Force refresh regardless of token expiration.\r\n *\r\n * @public\r\n */\r\nasync function getIdTokenResult(user, forceRefresh = false) {\r\n    const userInternal = getModularInstance(user);\r\n    const token = await userInternal.getIdToken(forceRefresh);\r\n    const claims = _parseToken(token);\r\n    _assert(claims && claims.exp && claims.auth_time && claims.iat, userInternal.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n    const firebase = typeof claims.firebase === 'object' ? claims.firebase : undefined;\r\n    const signInProvider = firebase === null || firebase === void 0 ? void 0 : firebase['sign_in_provider'];\r\n    return {\r\n        claims,\r\n        token,\r\n        authTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.auth_time)),\r\n        issuedAtTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.iat)),\r\n        expirationTime: utcTimestampToDateString(secondsStringToMilliseconds(claims.exp)),\r\n        signInProvider: signInProvider || null,\r\n        signInSecondFactor: (firebase === null || firebase === void 0 ? void 0 : firebase['sign_in_second_factor']) || null\r\n    };\r\n}\r\nfunction secondsStringToMilliseconds(seconds) {\r\n    return Number(seconds) * 1000;\r\n}\r\nfunction _parseToken(token) {\r\n    const [algorithm, payload, signature] = token.split('.');\r\n    if (algorithm === undefined ||\r\n        payload === undefined ||\r\n        signature === undefined) {\r\n        _logError('JWT malformed, contained fewer than 3 sections');\r\n        return null;\r\n    }\r\n    try {\r\n        const decoded = base64Decode(payload);\r\n        if (!decoded) {\r\n            _logError('Failed to decode base64 JWT payload');\r\n            return null;\r\n        }\r\n        return JSON.parse(decoded);\r\n    }\r\n    catch (e) {\r\n        _logError('Caught error parsing JWT payload as JSON', e);\r\n        return null;\r\n    }\r\n}\r\n/**\r\n * Extract expiresIn TTL from a token by subtracting the expiration from the issuance.\r\n */\r\nfunction _tokenExpiresIn(token) {\r\n    const parsedToken = _parseToken(token);\r\n    _assert(parsedToken, \"internal-error\" /* INTERNAL_ERROR */);\r\n    _assert(typeof parsedToken.exp !== 'undefined', \"internal-error\" /* INTERNAL_ERROR */);\r\n    _assert(typeof parsedToken.iat !== 'undefined', \"internal-error\" /* INTERNAL_ERROR */);\r\n    return Number(parsedToken.exp) - Number(parsedToken.iat);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function _logoutIfInvalidated(user, promise, bypassAuthState = false) {\r\n    if (bypassAuthState) {\r\n        return promise;\r\n    }\r\n    try {\r\n        return await promise;\r\n    }\r\n    catch (e) {\r\n        if (e instanceof FirebaseError && isUserInvalidated(e)) {\r\n            if (user.auth.currentUser === user) {\r\n                await user.auth.signOut();\r\n            }\r\n        }\r\n        throw e;\r\n    }\r\n}\r\nfunction isUserInvalidated({ code }) {\r\n    return (code === `auth/${\"user-disabled\" /* USER_DISABLED */}` ||\r\n        code === `auth/${\"user-token-expired\" /* TOKEN_EXPIRED */}`);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass ProactiveRefresh {\r\n    constructor(user) {\r\n        this.user = user;\r\n        this.isRunning = false;\r\n        // Node timers and browser timers return fundamentally different types.\r\n        // We don't actually care what the value is but TS won't accept unknown and\r\n        // we can't cast properly in both environments.\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.timerId = null;\r\n        this.errorBackoff = 30000 /* RETRY_BACKOFF_MIN */;\r\n    }\r\n    _start() {\r\n        if (this.isRunning) {\r\n            return;\r\n        }\r\n        this.isRunning = true;\r\n        this.schedule();\r\n    }\r\n    _stop() {\r\n        if (!this.isRunning) {\r\n            return;\r\n        }\r\n        this.isRunning = false;\r\n        if (this.timerId !== null) {\r\n            clearTimeout(this.timerId);\r\n        }\r\n    }\r\n    getInterval(wasError) {\r\n        var _a;\r\n        if (wasError) {\r\n            const interval = this.errorBackoff;\r\n            this.errorBackoff = Math.min(this.errorBackoff * 2, 960000 /* RETRY_BACKOFF_MAX */);\r\n            return interval;\r\n        }\r\n        else {\r\n            // Reset the error backoff\r\n            this.errorBackoff = 30000 /* RETRY_BACKOFF_MIN */;\r\n            const expTime = (_a = this.user.stsTokenManager.expirationTime) !== null && _a !== void 0 ? _a : 0;\r\n            const interval = expTime - Date.now() - 300000 /* OFFSET */;\r\n            return Math.max(0, interval);\r\n        }\r\n    }\r\n    schedule(wasError = false) {\r\n        if (!this.isRunning) {\r\n            // Just in case...\r\n            return;\r\n        }\r\n        const interval = this.getInterval(wasError);\r\n        this.timerId = setTimeout(async () => {\r\n            await this.iteration();\r\n        }, interval);\r\n    }\r\n    async iteration() {\r\n        try {\r\n            await this.user.getIdToken(true);\r\n        }\r\n        catch (e) {\r\n            // Only retry on network errors\r\n            if (e.code === `auth/${\"network-request-failed\" /* NETWORK_REQUEST_FAILED */}`) {\r\n                this.schedule(/* wasError */ true);\r\n            }\r\n            return;\r\n        }\r\n        this.schedule();\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass UserMetadata {\r\n    constructor(createdAt, lastLoginAt) {\r\n        this.createdAt = createdAt;\r\n        this.lastLoginAt = lastLoginAt;\r\n        this._initializeTime();\r\n    }\r\n    _initializeTime() {\r\n        this.lastSignInTime = utcTimestampToDateString(this.lastLoginAt);\r\n        this.creationTime = utcTimestampToDateString(this.createdAt);\r\n    }\r\n    _copy(metadata) {\r\n        this.createdAt = metadata.createdAt;\r\n        this.lastLoginAt = metadata.lastLoginAt;\r\n        this._initializeTime();\r\n    }\r\n    toJSON() {\r\n        return {\r\n            createdAt: this.createdAt,\r\n            lastLoginAt: this.lastLoginAt\r\n        };\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function _reloadWithoutSaving(user) {\r\n    var _a;\r\n    const auth = user.auth;\r\n    const idToken = await user.getIdToken();\r\n    const response = await _logoutIfInvalidated(user, getAccountInfo(auth, { idToken }));\r\n    _assert(response === null || response === void 0 ? void 0 : response.users.length, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n    const coreAccount = response.users[0];\r\n    user._notifyReloadListener(coreAccount);\r\n    const newProviderData = ((_a = coreAccount.providerUserInfo) === null || _a === void 0 ? void 0 : _a.length)\r\n        ? extractProviderData(coreAccount.providerUserInfo)\r\n        : [];\r\n    const providerData = mergeProviderData(user.providerData, newProviderData);\r\n    // Preserves the non-nonymous status of the stored user, even if no more\r\n    // credentials (federated or email/password) are linked to the user. If\r\n    // the user was previously anonymous, then use provider data to update.\r\n    // On the other hand, if it was not anonymous before, it should never be\r\n    // considered anonymous now.\r\n    const oldIsAnonymous = user.isAnonymous;\r\n    const newIsAnonymous = !(user.email && coreAccount.passwordHash) && !(providerData === null || providerData === void 0 ? void 0 : providerData.length);\r\n    const isAnonymous = !oldIsAnonymous ? false : newIsAnonymous;\r\n    const updates = {\r\n        uid: coreAccount.localId,\r\n        displayName: coreAccount.displayName || null,\r\n        photoURL: coreAccount.photoUrl || null,\r\n        email: coreAccount.email || null,\r\n        emailVerified: coreAccount.emailVerified || false,\r\n        phoneNumber: coreAccount.phoneNumber || null,\r\n        tenantId: coreAccount.tenantId || null,\r\n        providerData,\r\n        metadata: new UserMetadata(coreAccount.createdAt, coreAccount.lastLoginAt),\r\n        isAnonymous\r\n    };\r\n    Object.assign(user, updates);\r\n}\r\n/**\r\n * Reloads user account data, if signed in.\r\n *\r\n * @param user - The user.\r\n *\r\n * @public\r\n */\r\nasync function reload(user) {\r\n    const userInternal = getModularInstance(user);\r\n    await _reloadWithoutSaving(userInternal);\r\n    // Even though the current user hasn't changed, update\r\n    // current user will trigger a persistence update w/ the\r\n    // new info.\r\n    await userInternal.auth._persistUserIfCurrent(userInternal);\r\n    userInternal.auth._notifyListenersIfCurrent(userInternal);\r\n}\r\nfunction mergeProviderData(original, newData) {\r\n    const deduped = original.filter(o => !newData.some(n => n.providerId === o.providerId));\r\n    return [...deduped, ...newData];\r\n}\r\nfunction extractProviderData(providers) {\r\n    return providers.map((_a) => {\r\n        var { providerId } = _a, provider = __rest(_a, [\"providerId\"]);\r\n        return {\r\n            providerId,\r\n            uid: provider.rawId || '',\r\n            displayName: provider.displayName || null,\r\n            email: provider.email || null,\r\n            phoneNumber: provider.phoneNumber || null,\r\n            photoURL: provider.photoUrl || null\r\n        };\r\n    });\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function requestStsToken(auth, refreshToken) {\r\n    const response = await _performFetchWithErrorHandling(auth, {}, () => {\r\n        const body = querystring({\r\n            'grant_type': 'refresh_token',\r\n            'refresh_token': refreshToken\r\n        }).slice(1);\r\n        const { tokenApiHost, apiKey } = auth.config;\r\n        const url = _getFinalTarget(auth, tokenApiHost, \"/v1/token\" /* TOKEN */, `key=${apiKey}`);\r\n        return FetchProvider.fetch()(url, {\r\n            method: \"POST\" /* POST */,\r\n            headers: {\r\n                'X-Client-Version': auth._getSdkClientVersion(),\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n            },\r\n            body\r\n        });\r\n    });\r\n    // The response comes back in snake_case. Convert to camel:\r\n    return {\r\n        accessToken: response.access_token,\r\n        expiresIn: response.expires_in,\r\n        refreshToken: response.refresh_token\r\n    };\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass StsTokenManager {\r\n    constructor() {\r\n        this.refreshToken = null;\r\n        this.accessToken = null;\r\n        this.expirationTime = null;\r\n    }\r\n    get isExpired() {\r\n        return (!this.expirationTime ||\r\n            Date.now() > this.expirationTime - 30000 /* TOKEN_REFRESH */);\r\n    }\r\n    updateFromServerResponse(response) {\r\n        _assert(response.idToken, \"internal-error\" /* INTERNAL_ERROR */);\r\n        _assert(typeof response.idToken !== 'undefined', \"internal-error\" /* INTERNAL_ERROR */);\r\n        _assert(typeof response.refreshToken !== 'undefined', \"internal-error\" /* INTERNAL_ERROR */);\r\n        const expiresIn = 'expiresIn' in response && typeof response.expiresIn !== 'undefined'\r\n            ? Number(response.expiresIn)\r\n            : _tokenExpiresIn(response.idToken);\r\n        this.updateTokensAndExpiration(response.idToken, response.refreshToken, expiresIn);\r\n    }\r\n    async getToken(auth, forceRefresh = false) {\r\n        _assert(!this.accessToken || this.refreshToken, auth, \"user-token-expired\" /* TOKEN_EXPIRED */);\r\n        if (!forceRefresh && this.accessToken && !this.isExpired) {\r\n            return this.accessToken;\r\n        }\r\n        if (this.refreshToken) {\r\n            await this.refresh(auth, this.refreshToken);\r\n            return this.accessToken;\r\n        }\r\n        return null;\r\n    }\r\n    clearRefreshToken() {\r\n        this.refreshToken = null;\r\n    }\r\n    async refresh(auth, oldToken) {\r\n        const { accessToken, refreshToken, expiresIn } = await requestStsToken(auth, oldToken);\r\n        this.updateTokensAndExpiration(accessToken, refreshToken, Number(expiresIn));\r\n    }\r\n    updateTokensAndExpiration(accessToken, refreshToken, expiresInSec) {\r\n        this.refreshToken = refreshToken || null;\r\n        this.accessToken = accessToken || null;\r\n        this.expirationTime = Date.now() + expiresInSec * 1000;\r\n    }\r\n    static fromJSON(appName, object) {\r\n        const { refreshToken, accessToken, expirationTime } = object;\r\n        const manager = new StsTokenManager();\r\n        if (refreshToken) {\r\n            _assert(typeof refreshToken === 'string', \"internal-error\" /* INTERNAL_ERROR */, {\r\n                appName\r\n            });\r\n            manager.refreshToken = refreshToken;\r\n        }\r\n        if (accessToken) {\r\n            _assert(typeof accessToken === 'string', \"internal-error\" /* INTERNAL_ERROR */, {\r\n                appName\r\n            });\r\n            manager.accessToken = accessToken;\r\n        }\r\n        if (expirationTime) {\r\n            _assert(typeof expirationTime === 'number', \"internal-error\" /* INTERNAL_ERROR */, {\r\n                appName\r\n            });\r\n            manager.expirationTime = expirationTime;\r\n        }\r\n        return manager;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            refreshToken: this.refreshToken,\r\n            accessToken: this.accessToken,\r\n            expirationTime: this.expirationTime\r\n        };\r\n    }\r\n    _assign(stsTokenManager) {\r\n        this.accessToken = stsTokenManager.accessToken;\r\n        this.refreshToken = stsTokenManager.refreshToken;\r\n        this.expirationTime = stsTokenManager.expirationTime;\r\n    }\r\n    _clone() {\r\n        return Object.assign(new StsTokenManager(), this.toJSON());\r\n    }\r\n    _performRefresh() {\r\n        return debugFail('not implemented');\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction assertStringOrUndefined(assertion, appName) {\r\n    _assert(typeof assertion === 'string' || typeof assertion === 'undefined', \"internal-error\" /* INTERNAL_ERROR */, { appName });\r\n}\r\nclass UserImpl {\r\n    constructor(_a) {\r\n        var { uid, auth, stsTokenManager } = _a, opt = __rest(_a, [\"uid\", \"auth\", \"stsTokenManager\"]);\r\n        // For the user object, provider is always Firebase.\r\n        this.providerId = \"firebase\" /* FIREBASE */;\r\n        this.emailVerified = false;\r\n        this.isAnonymous = false;\r\n        this.tenantId = null;\r\n        this.providerData = [];\r\n        this.proactiveRefresh = new ProactiveRefresh(this);\r\n        this.reloadUserInfo = null;\r\n        this.reloadListener = null;\r\n        this.uid = uid;\r\n        this.auth = auth;\r\n        this.stsTokenManager = stsTokenManager;\r\n        this.accessToken = stsTokenManager.accessToken;\r\n        this.displayName = opt.displayName || null;\r\n        this.email = opt.email || null;\r\n        this.phoneNumber = opt.phoneNumber || null;\r\n        this.photoURL = opt.photoURL || null;\r\n        this.isAnonymous = opt.isAnonymous || false;\r\n        this.metadata = new UserMetadata(opt.createdAt || undefined, opt.lastLoginAt || undefined);\r\n    }\r\n    async getIdToken(forceRefresh) {\r\n        const accessToken = await _logoutIfInvalidated(this, this.stsTokenManager.getToken(this.auth, forceRefresh));\r\n        _assert(accessToken, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        if (this.accessToken !== accessToken) {\r\n            this.accessToken = accessToken;\r\n            await this.auth._persistUserIfCurrent(this);\r\n            this.auth._notifyListenersIfCurrent(this);\r\n        }\r\n        return accessToken;\r\n    }\r\n    getIdTokenResult(forceRefresh) {\r\n        return getIdTokenResult(this, forceRefresh);\r\n    }\r\n    reload() {\r\n        return reload(this);\r\n    }\r\n    _assign(user) {\r\n        if (this === user) {\r\n            return;\r\n        }\r\n        _assert(this.uid === user.uid, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        this.displayName = user.displayName;\r\n        this.photoURL = user.photoURL;\r\n        this.email = user.email;\r\n        this.emailVerified = user.emailVerified;\r\n        this.phoneNumber = user.phoneNumber;\r\n        this.isAnonymous = user.isAnonymous;\r\n        this.tenantId = user.tenantId;\r\n        this.providerData = user.providerData.map(userInfo => (Object.assign({}, userInfo)));\r\n        this.metadata._copy(user.metadata);\r\n        this.stsTokenManager._assign(user.stsTokenManager);\r\n    }\r\n    _clone(auth) {\r\n        return new UserImpl(Object.assign(Object.assign({}, this), { auth, stsTokenManager: this.stsTokenManager._clone() }));\r\n    }\r\n    _onReload(callback) {\r\n        // There should only ever be one listener, and that is a single instance of MultiFactorUser\r\n        _assert(!this.reloadListener, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        this.reloadListener = callback;\r\n        if (this.reloadUserInfo) {\r\n            this._notifyReloadListener(this.reloadUserInfo);\r\n            this.reloadUserInfo = null;\r\n        }\r\n    }\r\n    _notifyReloadListener(userInfo) {\r\n        if (this.reloadListener) {\r\n            this.reloadListener(userInfo);\r\n        }\r\n        else {\r\n            // If no listener is subscribed yet, save the result so it's available when they do subscribe\r\n            this.reloadUserInfo = userInfo;\r\n        }\r\n    }\r\n    _startProactiveRefresh() {\r\n        this.proactiveRefresh._start();\r\n    }\r\n    _stopProactiveRefresh() {\r\n        this.proactiveRefresh._stop();\r\n    }\r\n    async _updateTokensIfNecessary(response, reload = false) {\r\n        let tokensRefreshed = false;\r\n        if (response.idToken &&\r\n            response.idToken !== this.stsTokenManager.accessToken) {\r\n            this.stsTokenManager.updateFromServerResponse(response);\r\n            tokensRefreshed = true;\r\n        }\r\n        if (reload) {\r\n            await _reloadWithoutSaving(this);\r\n        }\r\n        await this.auth._persistUserIfCurrent(this);\r\n        if (tokensRefreshed) {\r\n            this.auth._notifyListenersIfCurrent(this);\r\n        }\r\n    }\r\n    async delete() {\r\n        const idToken = await this.getIdToken();\r\n        await _logoutIfInvalidated(this, deleteAccount(this.auth, { idToken }));\r\n        this.stsTokenManager.clearRefreshToken();\r\n        // TODO: Determine if cancellable-promises are necessary to use in this class so that delete()\r\n        //       cancels pending actions...\r\n        return this.auth.signOut();\r\n    }\r\n    toJSON() {\r\n        return Object.assign(Object.assign({ uid: this.uid, email: this.email || undefined, emailVerified: this.emailVerified, displayName: this.displayName || undefined, isAnonymous: this.isAnonymous, photoURL: this.photoURL || undefined, phoneNumber: this.phoneNumber || undefined, tenantId: this.tenantId || undefined, providerData: this.providerData.map(userInfo => (Object.assign({}, userInfo))), stsTokenManager: this.stsTokenManager.toJSON(), \r\n            // Redirect event ID must be maintained in case there is a pending\r\n            // redirect event.\r\n            _redirectEventId: this._redirectEventId }, this.metadata.toJSON()), { \r\n            // Required for compatibility with the legacy SDK (go/firebase-auth-sdk-persistence-parsing):\r\n            apiKey: this.auth.config.apiKey, appName: this.auth.name });\r\n    }\r\n    get refreshToken() {\r\n        return this.stsTokenManager.refreshToken || '';\r\n    }\r\n    static _fromJSON(auth, object) {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h;\r\n        const displayName = (_a = object.displayName) !== null && _a !== void 0 ? _a : undefined;\r\n        const email = (_b = object.email) !== null && _b !== void 0 ? _b : undefined;\r\n        const phoneNumber = (_c = object.phoneNumber) !== null && _c !== void 0 ? _c : undefined;\r\n        const photoURL = (_d = object.photoURL) !== null && _d !== void 0 ? _d : undefined;\r\n        const tenantId = (_e = object.tenantId) !== null && _e !== void 0 ? _e : undefined;\r\n        const _redirectEventId = (_f = object._redirectEventId) !== null && _f !== void 0 ? _f : undefined;\r\n        const createdAt = (_g = object.createdAt) !== null && _g !== void 0 ? _g : undefined;\r\n        const lastLoginAt = (_h = object.lastLoginAt) !== null && _h !== void 0 ? _h : undefined;\r\n        const { uid, emailVerified, isAnonymous, providerData, stsTokenManager: plainObjectTokenManager } = object;\r\n        _assert(uid && plainObjectTokenManager, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        const stsTokenManager = StsTokenManager.fromJSON(this.name, plainObjectTokenManager);\r\n        _assert(typeof uid === 'string', auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        assertStringOrUndefined(displayName, auth.name);\r\n        assertStringOrUndefined(email, auth.name);\r\n        _assert(typeof emailVerified === 'boolean', auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        _assert(typeof isAnonymous === 'boolean', auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        assertStringOrUndefined(phoneNumber, auth.name);\r\n        assertStringOrUndefined(photoURL, auth.name);\r\n        assertStringOrUndefined(tenantId, auth.name);\r\n        assertStringOrUndefined(_redirectEventId, auth.name);\r\n        assertStringOrUndefined(createdAt, auth.name);\r\n        assertStringOrUndefined(lastLoginAt, auth.name);\r\n        const user = new UserImpl({\r\n            uid,\r\n            auth,\r\n            email,\r\n            emailVerified,\r\n            displayName,\r\n            isAnonymous,\r\n            photoURL,\r\n            phoneNumber,\r\n            tenantId,\r\n            stsTokenManager,\r\n            createdAt,\r\n            lastLoginAt\r\n        });\r\n        if (providerData && Array.isArray(providerData)) {\r\n            user.providerData = providerData.map(userInfo => (Object.assign({}, userInfo)));\r\n        }\r\n        if (_redirectEventId) {\r\n            user._redirectEventId = _redirectEventId;\r\n        }\r\n        return user;\r\n    }\r\n    /**\r\n     * Initialize a User from an idToken server response\r\n     * @param auth\r\n     * @param idTokenResponse\r\n     */\r\n    static async _fromIdTokenResponse(auth, idTokenResponse, isAnonymous = false) {\r\n        const stsTokenManager = new StsTokenManager();\r\n        stsTokenManager.updateFromServerResponse(idTokenResponse);\r\n        // Initialize the Firebase Auth user.\r\n        const user = new UserImpl({\r\n            uid: idTokenResponse.localId,\r\n            auth,\r\n            stsTokenManager,\r\n            isAnonymous\r\n        });\r\n        // Updates the user info and data and resolves with a user instance.\r\n        await _reloadWithoutSaving(user);\r\n        return user;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass InMemoryPersistence {\r\n    constructor() {\r\n        this.type = \"NONE\" /* NONE */;\r\n        this.storage = {};\r\n    }\r\n    async _isAvailable() {\r\n        return true;\r\n    }\r\n    async _set(key, value) {\r\n        this.storage[key] = value;\r\n    }\r\n    async _get(key) {\r\n        const value = this.storage[key];\r\n        return value === undefined ? null : value;\r\n    }\r\n    async _remove(key) {\r\n        delete this.storage[key];\r\n    }\r\n    _addListener(_key, _listener) {\r\n        // Listeners are not supported for in-memory storage since it cannot be shared across windows/workers\r\n        return;\r\n    }\r\n    _removeListener(_key, _listener) {\r\n        // Listeners are not supported for in-memory storage since it cannot be shared across windows/workers\r\n        return;\r\n    }\r\n}\r\nInMemoryPersistence.type = 'NONE';\r\n/**\r\n * An implementation of {@link Persistence} of type 'NONE'.\r\n *\r\n * @public\r\n */\r\nconst inMemoryPersistence = InMemoryPersistence;\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _persistenceKeyName(key, apiKey, appName) {\r\n    return `${\"firebase\" /* PERSISTENCE */}:${key}:${apiKey}:${appName}`;\r\n}\r\nclass PersistenceUserManager {\r\n    constructor(persistence, auth, userKey) {\r\n        this.persistence = persistence;\r\n        this.auth = auth;\r\n        this.userKey = userKey;\r\n        const { config, name } = this.auth;\r\n        this.fullUserKey = _persistenceKeyName(this.userKey, config.apiKey, name);\r\n        this.fullPersistenceKey = _persistenceKeyName(\"persistence\" /* PERSISTENCE_USER */, config.apiKey, name);\r\n        this.boundEventHandler = auth._onStorageEvent.bind(auth);\r\n        this.persistence._addListener(this.fullUserKey, this.boundEventHandler);\r\n    }\r\n    setCurrentUser(user) {\r\n        return this.persistence._set(this.fullUserKey, user.toJSON());\r\n    }\r\n    async getCurrentUser() {\r\n        const blob = await this.persistence._get(this.fullUserKey);\r\n        return blob ? UserImpl._fromJSON(this.auth, blob) : null;\r\n    }\r\n    removeCurrentUser() {\r\n        return this.persistence._remove(this.fullUserKey);\r\n    }\r\n    savePersistenceForRedirect() {\r\n        return this.persistence._set(this.fullPersistenceKey, this.persistence.type);\r\n    }\r\n    async setPersistence(newPersistence) {\r\n        if (this.persistence === newPersistence) {\r\n            return;\r\n        }\r\n        const currentUser = await this.getCurrentUser();\r\n        await this.removeCurrentUser();\r\n        this.persistence = newPersistence;\r\n        if (currentUser) {\r\n            return this.setCurrentUser(currentUser);\r\n        }\r\n    }\r\n    delete() {\r\n        this.persistence._removeListener(this.fullUserKey, this.boundEventHandler);\r\n    }\r\n    static async create(auth, persistenceHierarchy, userKey = \"authUser\" /* AUTH_USER */) {\r\n        if (!persistenceHierarchy.length) {\r\n            return new PersistenceUserManager(_getInstance(inMemoryPersistence), auth, userKey);\r\n        }\r\n        // Use the first persistence that supports a full read-write roundtrip (or fallback to memory).\r\n        let chosenPersistence = _getInstance(inMemoryPersistence);\r\n        for (const persistence of persistenceHierarchy) {\r\n            if (await persistence._isAvailable()) {\r\n                chosenPersistence = persistence;\r\n                break;\r\n            }\r\n        }\r\n        // However, attempt to migrate users stored in other persistences (in the hierarchy order).\r\n        let userToMigrate = null;\r\n        const key = _persistenceKeyName(userKey, auth.config.apiKey, auth.name);\r\n        for (const persistence of persistenceHierarchy) {\r\n            // We attempt to call _get without checking _isAvailable since here we don't care if the full\r\n            // round-trip (read+write) is supported. We'll take the first one that we can read or give up.\r\n            try {\r\n                const blob = await persistence._get(key); // throws if unsupported\r\n                if (blob) {\r\n                    const user = UserImpl._fromJSON(auth, blob); // throws for unparsable blob (wrong format)\r\n                    if (persistence !== chosenPersistence) {\r\n                        userToMigrate = user;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            catch (_a) { }\r\n        }\r\n        if (userToMigrate) {\r\n            // This normally shouldn't throw since chosenPersistence.isAvailable() is true, but if it does\r\n            // we'll just let it bubble to surface the error.\r\n            await chosenPersistence._set(key, userToMigrate.toJSON());\r\n        }\r\n        // Attempt to clear the key in other persistences but ignore errors. This helps prevent issues\r\n        // such as users getting stuck with a previous account after signing out and refreshing the tab.\r\n        await Promise.all(persistenceHierarchy.map(async (persistence) => {\r\n            if (persistence !== chosenPersistence) {\r\n                try {\r\n                    await persistence._remove(key);\r\n                }\r\n                catch (_a) { }\r\n            }\r\n        }));\r\n        return new PersistenceUserManager(chosenPersistence, auth, userKey);\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Determine the browser for the purposes of reporting usage to the API\r\n */\r\nfunction _getBrowserName(userAgent) {\r\n    const ua = userAgent.toLowerCase();\r\n    if (ua.includes('opera/') || ua.includes('opr/') || ua.includes('opios/')) {\r\n        return \"Opera\" /* OPERA */;\r\n    }\r\n    else if (_isIEMobile(ua)) {\r\n        // Windows phone IEMobile browser.\r\n        return \"IEMobile\" /* IEMOBILE */;\r\n    }\r\n    else if (ua.includes('msie') || ua.includes('trident/')) {\r\n        return \"IE\" /* IE */;\r\n    }\r\n    else if (ua.includes('edge/')) {\r\n        return \"Edge\" /* EDGE */;\r\n    }\r\n    else if (_isFirefox(ua)) {\r\n        return \"Firefox\" /* FIREFOX */;\r\n    }\r\n    else if (ua.includes('silk/')) {\r\n        return \"Silk\" /* SILK */;\r\n    }\r\n    else if (_isBlackBerry(ua)) {\r\n        // Blackberry browser.\r\n        return \"Blackberry\" /* BLACKBERRY */;\r\n    }\r\n    else if (_isWebOS(ua)) {\r\n        // WebOS default browser.\r\n        return \"Webos\" /* WEBOS */;\r\n    }\r\n    else if (_isSafari(ua)) {\r\n        return \"Safari\" /* SAFARI */;\r\n    }\r\n    else if ((ua.includes('chrome/') || _isChromeIOS(ua)) &&\r\n        !ua.includes('edge/')) {\r\n        return \"Chrome\" /* CHROME */;\r\n    }\r\n    else if (_isAndroid(ua)) {\r\n        // Android stock browser.\r\n        return \"Android\" /* ANDROID */;\r\n    }\r\n    else {\r\n        // Most modern browsers have name/version at end of user agent string.\r\n        const re = /([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/;\r\n        const matches = userAgent.match(re);\r\n        if ((matches === null || matches === void 0 ? void 0 : matches.length) === 2) {\r\n            return matches[1];\r\n        }\r\n    }\r\n    return \"Other\" /* OTHER */;\r\n}\r\nfunction _isFirefox(ua = getUA()) {\r\n    return /firefox\\//i.test(ua);\r\n}\r\nfunction _isSafari(userAgent = getUA()) {\r\n    const ua = userAgent.toLowerCase();\r\n    return (ua.includes('safari/') &&\r\n        !ua.includes('chrome/') &&\r\n        !ua.includes('crios/') &&\r\n        !ua.includes('android'));\r\n}\r\nfunction _isChromeIOS(ua = getUA()) {\r\n    return /crios\\//i.test(ua);\r\n}\r\nfunction _isIEMobile(ua = getUA()) {\r\n    return /iemobile/i.test(ua);\r\n}\r\nfunction _isAndroid(ua = getUA()) {\r\n    return /android/i.test(ua);\r\n}\r\nfunction _isBlackBerry(ua = getUA()) {\r\n    return /blackberry/i.test(ua);\r\n}\r\nfunction _isWebOS(ua = getUA()) {\r\n    return /webos/i.test(ua);\r\n}\r\nfunction _isIOS(ua = getUA()) {\r\n    return /iphone|ipad|ipod/i.test(ua);\r\n}\r\nfunction _isIOS7Or8(ua = getUA()) {\r\n    return (/(iPad|iPhone|iPod).*OS 7_\\d/i.test(ua) ||\r\n        /(iPad|iPhone|iPod).*OS 8_\\d/i.test(ua));\r\n}\r\nfunction _isIOSStandalone(ua = getUA()) {\r\n    var _a;\r\n    return _isIOS(ua) && !!((_a = window.navigator) === null || _a === void 0 ? void 0 : _a.standalone);\r\n}\r\nfunction _isIE10() {\r\n    return isIE() && document.documentMode === 10;\r\n}\r\nfunction _isMobileBrowser(ua = getUA()) {\r\n    // TODO: implement getBrowserName equivalent for OS.\r\n    return (_isIOS(ua) ||\r\n        _isAndroid(ua) ||\r\n        _isWebOS(ua) ||\r\n        _isBlackBerry(ua) ||\r\n        /windows phone/i.test(ua) ||\r\n        _isIEMobile(ua));\r\n}\r\nfunction _isIframe() {\r\n    try {\r\n        // Check that the current window is not the top window.\r\n        // If so, return true.\r\n        return !!(window && window !== window.top);\r\n    }\r\n    catch (e) {\r\n        return false;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/*\r\n * Determine the SDK version string\r\n *\r\n * TODO: This should be set on the Auth object during initialization\r\n */\r\nfunction _getClientVersion(clientPlatform, frameworks = []) {\r\n    let reportedPlatform;\r\n    switch (clientPlatform) {\r\n        case \"Browser\" /* BROWSER */:\r\n            // In a browser environment, report the browser name.\r\n            reportedPlatform = _getBrowserName(getUA());\r\n            break;\r\n        case \"Worker\" /* WORKER */:\r\n            // Technically a worker runs from a browser but we need to differentiate a\r\n            // worker from a browser.\r\n            // For example: Chrome-Worker/JsCore/4.9.1/FirebaseCore-web.\r\n            reportedPlatform = `${_getBrowserName(getUA())}-${clientPlatform}`;\r\n            break;\r\n        default:\r\n            reportedPlatform = clientPlatform;\r\n    }\r\n    const reportedFrameworks = frameworks.length\r\n        ? frameworks.join(',')\r\n        : \"FirebaseCore-web\" /* DEFAULT */;\r\n    return `${reportedPlatform}/${\"JsCore\" /* CORE */}/${SDK_VERSION}/${reportedFrameworks}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass AuthImpl {\r\n    constructor(app, config) {\r\n        this.app = app;\r\n        this.config = config;\r\n        this.currentUser = null;\r\n        this.emulatorConfig = null;\r\n        this.operations = Promise.resolve();\r\n        this.authStateSubscription = new Subscription(this);\r\n        this.idTokenSubscription = new Subscription(this);\r\n        this.redirectUser = null;\r\n        this.isProactiveRefreshEnabled = false;\r\n        this.redirectInitializerError = null;\r\n        // Any network calls will set this to true and prevent subsequent emulator\r\n        // initialization\r\n        this._canInitEmulator = true;\r\n        this._isInitialized = false;\r\n        this._deleted = false;\r\n        this._initializationPromise = null;\r\n        this._popupRedirectResolver = null;\r\n        this._errorFactory = _DEFAULT_AUTH_ERROR_FACTORY;\r\n        // Tracks the last notified UID for state change listeners to prevent\r\n        // repeated calls to the callbacks. Undefined means it's never been\r\n        // called, whereas null means it's been called with a signed out user\r\n        this.lastNotifiedUid = undefined;\r\n        this.languageCode = null;\r\n        this.tenantId = null;\r\n        this.settings = { appVerificationDisabledForTesting: false };\r\n        this.frameworks = [];\r\n        this.name = app.name;\r\n        this.clientVersion = config.sdkClientVersion;\r\n    }\r\n    _initializeWithPersistence(persistenceHierarchy, popupRedirectResolver) {\r\n        if (popupRedirectResolver) {\r\n            this._popupRedirectResolver = _getInstance(popupRedirectResolver);\r\n        }\r\n        // Have to check for app deletion throughout initialization (after each\r\n        // promise resolution)\r\n        this._initializationPromise = this.queue(async () => {\r\n            var _a;\r\n            if (this._deleted) {\r\n                return;\r\n            }\r\n            this.persistenceManager = await PersistenceUserManager.create(this, persistenceHierarchy);\r\n            if (this._deleted) {\r\n                return;\r\n            }\r\n            // Initialize the resolver early if necessary (only applicable to web:\r\n            // this will cause the iframe to load immediately in certain cases)\r\n            if ((_a = this._popupRedirectResolver) === null || _a === void 0 ? void 0 : _a._shouldInitProactively) {\r\n                await this._popupRedirectResolver._initialize(this);\r\n            }\r\n            await this.initializeCurrentUser(popupRedirectResolver);\r\n            if (this._deleted) {\r\n                return;\r\n            }\r\n            this._isInitialized = true;\r\n        });\r\n        // After initialization completes, throw any error caused by redirect flow\r\n        return this._initializationPromise.then(() => {\r\n            if (this.redirectInitializerError) {\r\n                throw this.redirectInitializerError;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * If the persistence is changed in another window, the user manager will let us know\r\n     */\r\n    async _onStorageEvent() {\r\n        if (this._deleted) {\r\n            return;\r\n        }\r\n        const user = await this.assertedPersistence.getCurrentUser();\r\n        if (!this.currentUser && !user) {\r\n            // No change, do nothing (was signed out and remained signed out).\r\n            return;\r\n        }\r\n        // If the same user is to be synchronized.\r\n        if (this.currentUser && user && this.currentUser.uid === user.uid) {\r\n            // Data update, simply copy data changes.\r\n            this._currentUser._assign(user);\r\n            // If tokens changed from previous user tokens, this will trigger\r\n            // notifyAuthListeners_.\r\n            await this.currentUser.getIdToken();\r\n            return;\r\n        }\r\n        // Update current Auth state. Either a new login or logout.\r\n        await this._updateCurrentUser(user);\r\n    }\r\n    async initializeCurrentUser(popupRedirectResolver) {\r\n        var _a;\r\n        // First check to see if we have a pending redirect event.\r\n        let storedUser = (await this.assertedPersistence.getCurrentUser());\r\n        if (popupRedirectResolver && this.config.authDomain) {\r\n            await this.getOrInitRedirectPersistenceManager();\r\n            const redirectUserEventId = (_a = this.redirectUser) === null || _a === void 0 ? void 0 : _a._redirectEventId;\r\n            const storedUserEventId = storedUser === null || storedUser === void 0 ? void 0 : storedUser._redirectEventId;\r\n            const result = await this.tryRedirectSignIn(popupRedirectResolver);\r\n            // If the stored user (i.e. the old \"currentUser\") has a redirectId that\r\n            // matches the redirect user, then we want to initially sign in with the\r\n            // new user object from result.\r\n            // TODO(samgho): More thoroughly test all of this\r\n            if ((!redirectUserEventId || redirectUserEventId === storedUserEventId) &&\r\n                (result === null || result === void 0 ? void 0 : result.user)) {\r\n                storedUser = result.user;\r\n            }\r\n        }\r\n        // If no user in persistence, there is no current user. Set to null.\r\n        if (!storedUser) {\r\n            return this.directlySetCurrentUser(null);\r\n        }\r\n        if (!storedUser._redirectEventId) {\r\n            // This isn't a redirect user, we can reload and bail\r\n            // This will also catch the redirected user, if available, as that method\r\n            // strips the _redirectEventId\r\n            return this.reloadAndSetCurrentUserOrClear(storedUser);\r\n        }\r\n        _assert(this._popupRedirectResolver, this, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        await this.getOrInitRedirectPersistenceManager();\r\n        // If the redirect user's event ID matches the current user's event ID,\r\n        // DO NOT reload the current user, otherwise they'll be cleared from storage.\r\n        // This is important for the reauthenticateWithRedirect() flow.\r\n        if (this.redirectUser &&\r\n            this.redirectUser._redirectEventId === storedUser._redirectEventId) {\r\n            return this.directlySetCurrentUser(storedUser);\r\n        }\r\n        return this.reloadAndSetCurrentUserOrClear(storedUser);\r\n    }\r\n    async tryRedirectSignIn(redirectResolver) {\r\n        // The redirect user needs to be checked (and signed in if available)\r\n        // during auth initialization. All of the normal sign in and link/reauth\r\n        // flows call back into auth and push things onto the promise queue. We\r\n        // need to await the result of the redirect sign in *inside the promise\r\n        // queue*. This presents a problem: we run into deadlock. See:\r\n        //    > [Initialization] \r\n        //    > [<other queue tasks>] \r\n        //     [getRedirectResult] <\r\n        //    where [] are tasks on the queue and arrows denote awaits\r\n        // Initialization will never complete because it's waiting on something\r\n        // that's waiting for initialization to complete!\r\n        //\r\n        // Instead, this method calls getRedirectResult() (stored in\r\n        // _completeRedirectFn) with an optional parameter that instructs all of\r\n        // the underlying auth operations to skip anything that mutates auth state.\r\n        let result = null;\r\n        try {\r\n            // We know this._popupRedirectResolver is set since redirectResolver\r\n            // is passed in. The _completeRedirectFn expects the unwrapped extern.\r\n            result = await this._popupRedirectResolver._completeRedirectFn(this, redirectResolver, true);\r\n        }\r\n        catch (e) {\r\n            this.redirectInitializerError = e;\r\n            await this._setRedirectUser(null);\r\n        }\r\n        return result;\r\n    }\r\n    async reloadAndSetCurrentUserOrClear(user) {\r\n        try {\r\n            await _reloadWithoutSaving(user);\r\n        }\r\n        catch (e) {\r\n            if (e.code !== `auth/${\"network-request-failed\" /* NETWORK_REQUEST_FAILED */}`) {\r\n                // Something's wrong with the user's token. Log them out and remove\r\n                // them from storage\r\n                return this.directlySetCurrentUser(null);\r\n            }\r\n        }\r\n        return this.directlySetCurrentUser(user);\r\n    }\r\n    useDeviceLanguage() {\r\n        this.languageCode = _getUserLanguage();\r\n    }\r\n    async _delete() {\r\n        this._deleted = true;\r\n    }\r\n    async updateCurrentUser(userExtern) {\r\n        // The public updateCurrentUser method needs to make a copy of the user,\r\n        // and also check that the project matches\r\n        const user = userExtern\r\n            ? getModularInstance(userExtern)\r\n            : null;\r\n        if (user) {\r\n            _assert(user.auth.config.apiKey === this.config.apiKey, this, \"invalid-user-token\" /* INVALID_AUTH */);\r\n        }\r\n        return this._updateCurrentUser(user && user._clone(this));\r\n    }\r\n    async _updateCurrentUser(user) {\r\n        if (this._deleted) {\r\n            return;\r\n        }\r\n        if (user) {\r\n            _assert(this.tenantId === user.tenantId, this, \"tenant-id-mismatch\" /* TENANT_ID_MISMATCH */);\r\n        }\r\n        return this.queue(async () => {\r\n            await this.directlySetCurrentUser(user);\r\n            this.notifyAuthListeners();\r\n        });\r\n    }\r\n    async signOut() {\r\n        // Clear the redirect user when signOut is called\r\n        if (this.redirectPersistenceManager || this._popupRedirectResolver) {\r\n            await this._setRedirectUser(null);\r\n        }\r\n        return this._updateCurrentUser(null);\r\n    }\r\n    setPersistence(persistence) {\r\n        return this.queue(async () => {\r\n            await this.assertedPersistence.setPersistence(_getInstance(persistence));\r\n        });\r\n    }\r\n    _getPersistence() {\r\n        return this.assertedPersistence.persistence.type;\r\n    }\r\n    _updateErrorMap(errorMap) {\r\n        this._errorFactory = new ErrorFactory('auth', 'Firebase', errorMap());\r\n    }\r\n    onAuthStateChanged(nextOrObserver, error, completed) {\r\n        return this.registerStateListener(this.authStateSubscription, nextOrObserver, error, completed);\r\n    }\r\n    onIdTokenChanged(nextOrObserver, error, completed) {\r\n        return this.registerStateListener(this.idTokenSubscription, nextOrObserver, error, completed);\r\n    }\r\n    toJSON() {\r\n        var _a;\r\n        return {\r\n            apiKey: this.config.apiKey,\r\n            authDomain: this.config.authDomain,\r\n            appName: this.name,\r\n            currentUser: (_a = this._currentUser) === null || _a === void 0 ? void 0 : _a.toJSON()\r\n        };\r\n    }\r\n    async _setRedirectUser(user, popupRedirectResolver) {\r\n        const redirectManager = await this.getOrInitRedirectPersistenceManager(popupRedirectResolver);\r\n        return user === null\r\n            ? redirectManager.removeCurrentUser()\r\n            : redirectManager.setCurrentUser(user);\r\n    }\r\n    async getOrInitRedirectPersistenceManager(popupRedirectResolver) {\r\n        if (!this.redirectPersistenceManager) {\r\n            const resolver = (popupRedirectResolver && _getInstance(popupRedirectResolver)) ||\r\n                this._popupRedirectResolver;\r\n            _assert(resolver, this, \"argument-error\" /* ARGUMENT_ERROR */);\r\n            this.redirectPersistenceManager = await PersistenceUserManager.create(this, [_getInstance(resolver._redirectPersistence)], \"redirectUser\" /* REDIRECT_USER */);\r\n            this.redirectUser = await this.redirectPersistenceManager.getCurrentUser();\r\n        }\r\n        return this.redirectPersistenceManager;\r\n    }\r\n    async _redirectUserForId(id) {\r\n        var _a, _b;\r\n        // Make sure we've cleared any pending persistence actions if we're not in\r\n        // the initializer\r\n        if (this._isInitialized) {\r\n            await this.queue(async () => { });\r\n        }\r\n        if (((_a = this._currentUser) === null || _a === void 0 ? void 0 : _a._redirectEventId) === id) {\r\n            return this._currentUser;\r\n        }\r\n        if (((_b = this.redirectUser) === null || _b === void 0 ? void 0 : _b._redirectEventId) === id) {\r\n            return this.redirectUser;\r\n        }\r\n        return null;\r\n    }\r\n    async _persistUserIfCurrent(user) {\r\n        if (user === this.currentUser) {\r\n            return this.queue(async () => this.directlySetCurrentUser(user));\r\n        }\r\n    }\r\n    /** Notifies listeners only if the user is current */\r\n    _notifyListenersIfCurrent(user) {\r\n        if (user === this.currentUser) {\r\n            this.notifyAuthListeners();\r\n        }\r\n    }\r\n    _key() {\r\n        return `${this.config.authDomain}:${this.config.apiKey}:${this.name}`;\r\n    }\r\n    _startProactiveRefresh() {\r\n        this.isProactiveRefreshEnabled = true;\r\n        if (this.currentUser) {\r\n            this._currentUser._startProactiveRefresh();\r\n        }\r\n    }\r\n    _stopProactiveRefresh() {\r\n        this.isProactiveRefreshEnabled = false;\r\n        if (this.currentUser) {\r\n            this._currentUser._stopProactiveRefresh();\r\n        }\r\n    }\r\n    /** Returns the current user cast as the internal type */\r\n    get _currentUser() {\r\n        return this.currentUser;\r\n    }\r\n    notifyAuthListeners() {\r\n        var _a, _b;\r\n        if (!this._isInitialized) {\r\n            return;\r\n        }\r\n        this.idTokenSubscription.next(this.currentUser);\r\n        const currentUid = (_b = (_a = this.currentUser) === null || _a === void 0 ? void 0 : _a.uid) !== null && _b !== void 0 ? _b : null;\r\n        if (this.lastNotifiedUid !== currentUid) {\r\n            this.lastNotifiedUid = currentUid;\r\n            this.authStateSubscription.next(this.currentUser);\r\n        }\r\n    }\r\n    registerStateListener(subscription, nextOrObserver, error, completed) {\r\n        if (this._deleted) {\r\n            return () => { };\r\n        }\r\n        const cb = typeof nextOrObserver === 'function'\r\n            ? nextOrObserver\r\n            : nextOrObserver.next;\r\n        const promise = this._isInitialized\r\n            ? Promise.resolve()\r\n            : this._initializationPromise;\r\n        _assert(promise, this, \"internal-error\" /* INTERNAL_ERROR */);\r\n        // The callback needs to be called asynchronously per the spec.\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        promise.then(() => cb(this.currentUser));\r\n        if (typeof nextOrObserver === 'function') {\r\n            return subscription.addObserver(nextOrObserver, error, completed);\r\n        }\r\n        else {\r\n            return subscription.addObserver(nextOrObserver);\r\n        }\r\n    }\r\n    /**\r\n     * Unprotected (from race conditions) method to set the current user. This\r\n     * should only be called from within a queued callback. This is necessary\r\n     * because the queue shouldn't rely on another queued callback.\r\n     */\r\n    async directlySetCurrentUser(user) {\r\n        if (this.currentUser && this.currentUser !== user) {\r\n            this._currentUser._stopProactiveRefresh();\r\n            if (user && this.isProactiveRefreshEnabled) {\r\n                user._startProactiveRefresh();\r\n            }\r\n        }\r\n        this.currentUser = user;\r\n        if (user) {\r\n            await this.assertedPersistence.setCurrentUser(user);\r\n        }\r\n        else {\r\n            await this.assertedPersistence.removeCurrentUser();\r\n        }\r\n    }\r\n    queue(action) {\r\n        // In case something errors, the callback still should be called in order\r\n        // to keep the promise chain alive\r\n        this.operations = this.operations.then(action, action);\r\n        return this.operations;\r\n    }\r\n    get assertedPersistence() {\r\n        _assert(this.persistenceManager, this, \"internal-error\" /* INTERNAL_ERROR */);\r\n        return this.persistenceManager;\r\n    }\r\n    _logFramework(framework) {\r\n        if (this.frameworks.includes(framework)) {\r\n            return;\r\n        }\r\n        this.frameworks.push(framework);\r\n        // Sort alphabetically so that \"FirebaseCore-web,FirebaseUI-web\" and\r\n        // \"FirebaseUI-web,FirebaseCore-web\" aren't viewed as different.\r\n        this.frameworks.sort();\r\n        this.clientVersion = _getClientVersion(this.config.clientPlatform, this._getFrameworks());\r\n    }\r\n    _getFrameworks() {\r\n        return this.frameworks;\r\n    }\r\n    _getSdkClientVersion() {\r\n        return this.clientVersion;\r\n    }\r\n}\r\n/**\r\n * Method to be used to cast down to our private implmentation of Auth.\r\n * It will also handle unwrapping from the compat type if necessary\r\n *\r\n * @param auth Auth object passed in from developer\r\n */\r\nfunction _castAuth(auth) {\r\n    return getModularInstance(auth);\r\n}\r\n/** Helper class to wrap subscriber logic */\r\nclass Subscription {\r\n    constructor(auth) {\r\n        this.auth = auth;\r\n        this.observer = null;\r\n        this.addObserver = createSubscribe(observer => (this.observer = observer));\r\n    }\r\n    get next() {\r\n        _assert(this.observer, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        return this.observer.next.bind(this.observer);\r\n    }\r\n}\n\n/**\r\n * Changes the Auth instance to communicate with the Firebase Auth Emulator, instead of production\r\n * Firebase Auth services.\r\n *\r\n * @remarks\r\n * This must be called synchronously immediately following the first call to\r\n * {@link @firebase/auth#initializeAuth}.  Do not use with production credentials as emulator\r\n * traffic is not encrypted.\r\n *\r\n *\r\n * @example\r\n * ```javascript\r\n * useAuthEmulator(auth, 'http://127.0.0.1:9099', { disableWarnings: true });\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param url - The URL at which the emulator is running (eg, 'http://localhost:9099').\r\n * @param options.disableWarnings - (Optional: default false) Disable the warning banner attached to the DOM\r\n *\r\n * @public\r\n */\r\nfunction useAuthEmulator(auth, url, options) {\r\n    const authInternal = _castAuth(auth);\r\n    _assert(authInternal._canInitEmulator, authInternal, \"emulator-config-failed\" /* EMULATOR_CONFIG_FAILED */);\r\n    _assert(/^https?:\\/\\//.test(url), authInternal, \"invalid-emulator-scheme\" /* INVALID_EMULATOR_SCHEME */);\r\n    const disableWarnings = !!(options === null || options === void 0 ? void 0 : options.disableWarnings);\r\n    const protocol = extractProtocol(url);\r\n    const { host, port } = extractHostAndPort(url);\r\n    const portStr = port === null ? '' : `:${port}`;\r\n    // Always replace path with \"/\" (even if input url had no path at all, or had a different one).\r\n    authInternal.config.emulator = { url: `${protocol}//${host}${portStr}/` };\r\n    authInternal.settings.appVerificationDisabledForTesting = true;\r\n    authInternal.emulatorConfig = Object.freeze({\r\n        host,\r\n        port,\r\n        protocol: protocol.replace(':', ''),\r\n        options: Object.freeze({ disableWarnings })\r\n    });\r\n    emitEmulatorWarning(disableWarnings);\r\n}\r\nfunction extractProtocol(url) {\r\n    const protocolEnd = url.indexOf(':');\r\n    return protocolEnd < 0 ? '' : url.substr(0, protocolEnd + 1);\r\n}\r\nfunction extractHostAndPort(url) {\r\n    const protocol = extractProtocol(url);\r\n    const authority = /(\\/\\/)?([^?#/]+)/.exec(url.substr(protocol.length)); // Between // and /, ? or #.\r\n    if (!authority) {\r\n        return { host: '', port: null };\r\n    }\r\n    const hostAndPort = authority[2].split('@').pop() || ''; // Strip out \"username:password@\".\r\n    const bracketedIPv6 = /^(\\[[^\\]]+\\])(:|$)/.exec(hostAndPort);\r\n    if (bracketedIPv6) {\r\n        const host = bracketedIPv6[1];\r\n        return { host, port: parsePort(hostAndPort.substr(host.length + 1)) };\r\n    }\r\n    else {\r\n        const [host, port] = hostAndPort.split(':');\r\n        return { host, port: parsePort(port) };\r\n    }\r\n}\r\nfunction parsePort(portStr) {\r\n    if (!portStr) {\r\n        return null;\r\n    }\r\n    const port = Number(portStr);\r\n    if (isNaN(port)) {\r\n        return null;\r\n    }\r\n    return port;\r\n}\r\nfunction emitEmulatorWarning(disableBanner) {\r\n    function attachBanner() {\r\n        const el = document.createElement('p');\r\n        const sty = el.style;\r\n        el.innerText =\r\n            'Running in emulator mode. Do not use with production credentials.';\r\n        sty.position = 'fixed';\r\n        sty.width = '100%';\r\n        sty.backgroundColor = '#ffffff';\r\n        sty.border = '.1em solid #000000';\r\n        sty.color = '#ff0000';\r\n        sty.bottom = '0px';\r\n        sty.left = '0px';\r\n        sty.margin = '0px';\r\n        sty.zIndex = '10000';\r\n        sty.textAlign = 'center';\r\n        el.classList.add('firebase-emulator-warning');\r\n        document.body.appendChild(el);\r\n    }\r\n    if (typeof console !== 'undefined' && typeof console.info === 'function') {\r\n        console.info('WARNING: You are using the Auth Emulator,' +\r\n            ' which is intended for local testing only.  Do not use with' +\r\n            ' production credentials.');\r\n    }\r\n    if (typeof window !== 'undefined' &&\r\n        typeof document !== 'undefined' &&\r\n        !disableBanner) {\r\n        if (document.readyState === 'loading') {\r\n            window.addEventListener('DOMContentLoaded', attachBanner);\r\n        }\r\n        else {\r\n            attachBanner();\r\n        }\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Interface that represents the credentials returned by an {@link AuthProvider}.\r\n *\r\n * @remarks\r\n * Implementations specify the details about each auth provider's credential requirements.\r\n *\r\n * @public\r\n */\r\nclass AuthCredential {\r\n    /** @internal */\r\n    constructor(\r\n    /**\r\n     * The authentication provider ID for the credential.\r\n     *\r\n     * @remarks\r\n     * For example, 'facebook.com', or 'google.com'.\r\n     */\r\n    providerId, \r\n    /**\r\n     * The authentication sign in method for the credential.\r\n     *\r\n     * @remarks\r\n     * For example, {@link  SignInMethod.EMAIL_PASSWORD}, or\r\n     * {@link  SignInMethod.EMAIL_LINK}. This corresponds to the sign-in method\r\n     * identifier as returned in {@link fetchSignInMethodsForEmail}.\r\n     */\r\n    signInMethod) {\r\n        this.providerId = providerId;\r\n        this.signInMethod = signInMethod;\r\n    }\r\n    /**\r\n     * Returns a JSON-serializable representation of this object.\r\n     *\r\n     * @returns a JSON-serializable representation of this object.\r\n     */\r\n    toJSON() {\r\n        return debugFail('not implemented');\r\n    }\r\n    /** @internal */\r\n    _getIdTokenResponse(_auth) {\r\n        return debugFail('not implemented');\r\n    }\r\n    /** @internal */\r\n    _linkToIdToken(_auth, _idToken) {\r\n        return debugFail('not implemented');\r\n    }\r\n    /** @internal */\r\n    _getReauthenticationResolver(_auth) {\r\n        return debugFail('not implemented');\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function resetPassword(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:resetPassword\" /* RESET_PASSWORD */, _addTidIfNecessary(auth, request));\r\n}\r\nasync function updateEmailPassword(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:update\" /* SET_ACCOUNT_INFO */, request);\r\n}\r\nasync function applyActionCode(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:update\" /* SET_ACCOUNT_INFO */, _addTidIfNecessary(auth, request));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function signInWithPassword(auth, request) {\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithPassword\" /* SIGN_IN_WITH_PASSWORD */, _addTidIfNecessary(auth, request));\r\n}\r\nasync function sendOobCode(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:sendOobCode\" /* SEND_OOB_CODE */, _addTidIfNecessary(auth, request));\r\n}\r\nasync function sendEmailVerification(auth, request) {\r\n    return sendOobCode(auth, request);\r\n}\r\nasync function sendPasswordResetEmail(auth, request) {\r\n    return sendOobCode(auth, request);\r\n}\r\nasync function sendSignInLinkToEmail(auth, request) {\r\n    return sendOobCode(auth, request);\r\n}\r\nasync function verifyAndChangeEmail(auth, request) {\r\n    return sendOobCode(auth, request);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function signInWithEmailLink(auth, request) {\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithEmailLink\" /* SIGN_IN_WITH_EMAIL_LINK */, _addTidIfNecessary(auth, request));\r\n}\r\nasync function signInWithEmailLinkForLinking(auth, request) {\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithEmailLink\" /* SIGN_IN_WITH_EMAIL_LINK */, _addTidIfNecessary(auth, request));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Interface that represents the credentials returned by {@link EmailAuthProvider} for\r\n * {@link ProviderId.PASSWORD}\r\n *\r\n * @remarks\r\n * Covers both {@link SignInMethod.EMAIL_PASSWORD} and\r\n * {@link SignInMethod.EMAIL_LINK}.\r\n *\r\n * @public\r\n */\r\nclass EmailAuthCredential extends AuthCredential {\r\n    /** @internal */\r\n    constructor(\r\n    /** @internal */\r\n    _email, \r\n    /** @internal */\r\n    _password, signInMethod, \r\n    /** @internal */\r\n    _tenantId = null) {\r\n        super(\"password\" /* PASSWORD */, signInMethod);\r\n        this._email = _email;\r\n        this._password = _password;\r\n        this._tenantId = _tenantId;\r\n    }\r\n    /** @internal */\r\n    static _fromEmailAndPassword(email, password) {\r\n        return new EmailAuthCredential(email, password, \"password\" /* EMAIL_PASSWORD */);\r\n    }\r\n    /** @internal */\r\n    static _fromEmailAndCode(email, oobCode, tenantId = null) {\r\n        return new EmailAuthCredential(email, oobCode, \"emailLink\" /* EMAIL_LINK */, tenantId);\r\n    }\r\n    /** {@inheritdoc AuthCredential.toJSON} */\r\n    toJSON() {\r\n        return {\r\n            email: this._email,\r\n            password: this._password,\r\n            signInMethod: this.signInMethod,\r\n            tenantId: this._tenantId\r\n        };\r\n    }\r\n    /**\r\n     * Static method to deserialize a JSON representation of an object into an {@link  AuthCredential}.\r\n     *\r\n     * @param json - Either `object` or the stringified representation of the object. When string is\r\n     * provided, `JSON.parse` would be called first.\r\n     *\r\n     * @returns If the JSON input does not represent an {@link AuthCredential}, null is returned.\r\n     */\r\n    static fromJSON(json) {\r\n        const obj = typeof json === 'string' ? JSON.parse(json) : json;\r\n        if ((obj === null || obj === void 0 ? void 0 : obj.email) && (obj === null || obj === void 0 ? void 0 : obj.password)) {\r\n            if (obj.signInMethod === \"password\" /* EMAIL_PASSWORD */) {\r\n                return this._fromEmailAndPassword(obj.email, obj.password);\r\n            }\r\n            else if (obj.signInMethod === \"emailLink\" /* EMAIL_LINK */) {\r\n                return this._fromEmailAndCode(obj.email, obj.password, obj.tenantId);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    /** @internal */\r\n    async _getIdTokenResponse(auth) {\r\n        switch (this.signInMethod) {\r\n            case \"password\" /* EMAIL_PASSWORD */:\r\n                return signInWithPassword(auth, {\r\n                    returnSecureToken: true,\r\n                    email: this._email,\r\n                    password: this._password\r\n                });\r\n            case \"emailLink\" /* EMAIL_LINK */:\r\n                return signInWithEmailLink(auth, {\r\n                    email: this._email,\r\n                    oobCode: this._password\r\n                });\r\n            default:\r\n                _fail(auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        }\r\n    }\r\n    /** @internal */\r\n    async _linkToIdToken(auth, idToken) {\r\n        switch (this.signInMethod) {\r\n            case \"password\" /* EMAIL_PASSWORD */:\r\n                return updateEmailPassword(auth, {\r\n                    idToken,\r\n                    returnSecureToken: true,\r\n                    email: this._email,\r\n                    password: this._password\r\n                });\r\n            case \"emailLink\" /* EMAIL_LINK */:\r\n                return signInWithEmailLinkForLinking(auth, {\r\n                    idToken,\r\n                    email: this._email,\r\n                    oobCode: this._password\r\n                });\r\n            default:\r\n                _fail(auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        }\r\n    }\r\n    /** @internal */\r\n    _getReauthenticationResolver(auth) {\r\n        return this._getIdTokenResponse(auth);\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function signInWithIdp(auth, request) {\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithIdp\" /* SIGN_IN_WITH_IDP */, _addTidIfNecessary(auth, request));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst IDP_REQUEST_URI = 'http://localhost';\r\n/**\r\n * Represents the OAuth credentials returned by an {@link OAuthProvider}.\r\n *\r\n * @remarks\r\n * Implementations specify the details about each auth provider's credential requirements.\r\n *\r\n * @public\r\n */\r\nclass OAuthCredential extends AuthCredential {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.pendingToken = null;\r\n    }\r\n    /** @internal */\r\n    static _fromParams(params) {\r\n        const cred = new OAuthCredential(params.providerId, params.signInMethod);\r\n        if (params.idToken || params.accessToken) {\r\n            // OAuth 2 and either ID token or access token.\r\n            if (params.idToken) {\r\n                cred.idToken = params.idToken;\r\n            }\r\n            if (params.accessToken) {\r\n                cred.accessToken = params.accessToken;\r\n            }\r\n            // Add nonce if available and no pendingToken is present.\r\n            if (params.nonce && !params.pendingToken) {\r\n                cred.nonce = params.nonce;\r\n            }\r\n            if (params.pendingToken) {\r\n                cred.pendingToken = params.pendingToken;\r\n            }\r\n        }\r\n        else if (params.oauthToken && params.oauthTokenSecret) {\r\n            // OAuth 1 and OAuth token with token secret\r\n            cred.accessToken = params.oauthToken;\r\n            cred.secret = params.oauthTokenSecret;\r\n        }\r\n        else {\r\n            _fail(\"argument-error\" /* ARGUMENT_ERROR */);\r\n        }\r\n        return cred;\r\n    }\r\n    /** {@inheritdoc AuthCredential.toJSON}  */\r\n    toJSON() {\r\n        return {\r\n            idToken: this.idToken,\r\n            accessToken: this.accessToken,\r\n            secret: this.secret,\r\n            nonce: this.nonce,\r\n            pendingToken: this.pendingToken,\r\n            providerId: this.providerId,\r\n            signInMethod: this.signInMethod\r\n        };\r\n    }\r\n    /**\r\n     * Static method to deserialize a JSON representation of an object into an\r\n     * {@link  AuthCredential}.\r\n     *\r\n     * @param json - Input can be either Object or the stringified representation of the object.\r\n     * When string is provided, JSON.parse would be called first.\r\n     *\r\n     * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.\r\n     */\r\n    static fromJSON(json) {\r\n        const obj = typeof json === 'string' ? JSON.parse(json) : json;\r\n        const { providerId, signInMethod } = obj, rest = __rest(obj, [\"providerId\", \"signInMethod\"]);\r\n        if (!providerId || !signInMethod) {\r\n            return null;\r\n        }\r\n        const cred = new OAuthCredential(providerId, signInMethod);\r\n        Object.assign(cred, rest);\r\n        return cred;\r\n    }\r\n    /** @internal */\r\n    _getIdTokenResponse(auth) {\r\n        const request = this.buildRequest();\r\n        return signInWithIdp(auth, request);\r\n    }\r\n    /** @internal */\r\n    _linkToIdToken(auth, idToken) {\r\n        const request = this.buildRequest();\r\n        request.idToken = idToken;\r\n        return signInWithIdp(auth, request);\r\n    }\r\n    /** @internal */\r\n    _getReauthenticationResolver(auth) {\r\n        const request = this.buildRequest();\r\n        request.autoCreate = false;\r\n        return signInWithIdp(auth, request);\r\n    }\r\n    buildRequest() {\r\n        const request = {\r\n            requestUri: IDP_REQUEST_URI,\r\n            returnSecureToken: true\r\n        };\r\n        if (this.pendingToken) {\r\n            request.pendingToken = this.pendingToken;\r\n        }\r\n        else {\r\n            const postBody = {};\r\n            if (this.idToken) {\r\n                postBody['id_token'] = this.idToken;\r\n            }\r\n            if (this.accessToken) {\r\n                postBody['access_token'] = this.accessToken;\r\n            }\r\n            if (this.secret) {\r\n                postBody['oauth_token_secret'] = this.secret;\r\n            }\r\n            postBody['providerId'] = this.providerId;\r\n            if (this.nonce && !this.pendingToken) {\r\n                postBody['nonce'] = this.nonce;\r\n            }\r\n            request.postBody = querystring(postBody);\r\n        }\r\n        return request;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function sendPhoneVerificationCode(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:sendVerificationCode\" /* SEND_VERIFICATION_CODE */, _addTidIfNecessary(auth, request));\r\n}\r\nasync function signInWithPhoneNumber(auth, request) {\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithPhoneNumber\" /* SIGN_IN_WITH_PHONE_NUMBER */, _addTidIfNecessary(auth, request));\r\n}\r\nasync function linkWithPhoneNumber(auth, request) {\r\n    const response = await _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithPhoneNumber\" /* SIGN_IN_WITH_PHONE_NUMBER */, _addTidIfNecessary(auth, request));\r\n    if (response.temporaryProof) {\r\n        throw _makeTaggedError(auth, \"account-exists-with-different-credential\" /* NEED_CONFIRMATION */, response);\r\n    }\r\n    return response;\r\n}\r\nconst VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_ = {\r\n    [\"USER_NOT_FOUND\" /* USER_NOT_FOUND */]: \"user-not-found\" /* USER_DELETED */\r\n};\r\nasync function verifyPhoneNumberForExisting(auth, request) {\r\n    const apiRequest = Object.assign(Object.assign({}, request), { operation: 'REAUTH' });\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithPhoneNumber\" /* SIGN_IN_WITH_PHONE_NUMBER */, _addTidIfNecessary(auth, apiRequest), VERIFY_PHONE_NUMBER_FOR_EXISTING_ERROR_MAP_);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Represents the credentials returned by {@link PhoneAuthProvider}.\r\n *\r\n * @public\r\n */\r\nclass PhoneAuthCredential extends AuthCredential {\r\n    constructor(params) {\r\n        super(\"phone\" /* PHONE */, \"phone\" /* PHONE */);\r\n        this.params = params;\r\n    }\r\n    /** @internal */\r\n    static _fromVerification(verificationId, verificationCode) {\r\n        return new PhoneAuthCredential({ verificationId, verificationCode });\r\n    }\r\n    /** @internal */\r\n    static _fromTokenResponse(phoneNumber, temporaryProof) {\r\n        return new PhoneAuthCredential({ phoneNumber, temporaryProof });\r\n    }\r\n    /** @internal */\r\n    _getIdTokenResponse(auth) {\r\n        return signInWithPhoneNumber(auth, this._makeVerificationRequest());\r\n    }\r\n    /** @internal */\r\n    _linkToIdToken(auth, idToken) {\r\n        return linkWithPhoneNumber(auth, Object.assign({ idToken }, this._makeVerificationRequest()));\r\n    }\r\n    /** @internal */\r\n    _getReauthenticationResolver(auth) {\r\n        return verifyPhoneNumberForExisting(auth, this._makeVerificationRequest());\r\n    }\r\n    /** @internal */\r\n    _makeVerificationRequest() {\r\n        const { temporaryProof, phoneNumber, verificationId, verificationCode } = this.params;\r\n        if (temporaryProof && phoneNumber) {\r\n            return { temporaryProof, phoneNumber };\r\n        }\r\n        return {\r\n            sessionInfo: verificationId,\r\n            code: verificationCode\r\n        };\r\n    }\r\n    /** {@inheritdoc AuthCredential.toJSON} */\r\n    toJSON() {\r\n        const obj = {\r\n            providerId: this.providerId\r\n        };\r\n        if (this.params.phoneNumber) {\r\n            obj.phoneNumber = this.params.phoneNumber;\r\n        }\r\n        if (this.params.temporaryProof) {\r\n            obj.temporaryProof = this.params.temporaryProof;\r\n        }\r\n        if (this.params.verificationCode) {\r\n            obj.verificationCode = this.params.verificationCode;\r\n        }\r\n        if (this.params.verificationId) {\r\n            obj.verificationId = this.params.verificationId;\r\n        }\r\n        return obj;\r\n    }\r\n    /** Generates a phone credential based on a plain object or a JSON string. */\r\n    static fromJSON(json) {\r\n        if (typeof json === 'string') {\r\n            json = JSON.parse(json);\r\n        }\r\n        const { verificationId, verificationCode, phoneNumber, temporaryProof } = json;\r\n        if (!verificationCode &&\r\n            !verificationId &&\r\n            !phoneNumber &&\r\n            !temporaryProof) {\r\n            return null;\r\n        }\r\n        return new PhoneAuthCredential({\r\n            verificationId,\r\n            verificationCode,\r\n            phoneNumber,\r\n            temporaryProof\r\n        });\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Maps the mode string in action code URL to Action Code Info operation.\r\n *\r\n * @param mode\r\n */\r\nfunction parseMode(mode) {\r\n    switch (mode) {\r\n        case 'recoverEmail':\r\n            return \"RECOVER_EMAIL\" /* RECOVER_EMAIL */;\r\n        case 'resetPassword':\r\n            return \"PASSWORD_RESET\" /* PASSWORD_RESET */;\r\n        case 'signIn':\r\n            return \"EMAIL_SIGNIN\" /* EMAIL_SIGNIN */;\r\n        case 'verifyEmail':\r\n            return \"VERIFY_EMAIL\" /* VERIFY_EMAIL */;\r\n        case 'verifyAndChangeEmail':\r\n            return \"VERIFY_AND_CHANGE_EMAIL\" /* VERIFY_AND_CHANGE_EMAIL */;\r\n        case 'revertSecondFactorAddition':\r\n            return \"REVERT_SECOND_FACTOR_ADDITION\" /* REVERT_SECOND_FACTOR_ADDITION */;\r\n        default:\r\n            return null;\r\n    }\r\n}\r\n/**\r\n * Helper to parse FDL links\r\n *\r\n * @param url\r\n */\r\nfunction parseDeepLink(url) {\r\n    const link = querystringDecode(extractQuerystring(url))['link'];\r\n    // Double link case (automatic redirect).\r\n    const doubleDeepLink = link\r\n        ? querystringDecode(extractQuerystring(link))['deep_link_id']\r\n        : null;\r\n    // iOS custom scheme links.\r\n    const iOSDeepLink = querystringDecode(extractQuerystring(url))['deep_link_id'];\r\n    const iOSDoubleDeepLink = iOSDeepLink\r\n        ? querystringDecode(extractQuerystring(iOSDeepLink))['link']\r\n        : null;\r\n    return iOSDoubleDeepLink || iOSDeepLink || doubleDeepLink || link || url;\r\n}\r\n/**\r\n * A utility class to parse email action URLs such as password reset, email verification,\r\n * email link sign in, etc.\r\n *\r\n * @public\r\n */\r\nclass ActionCodeURL {\r\n    /**\r\n     * @param actionLink - The link from which to extract the URL.\r\n     * @returns The ActionCodeURL object, or null if the link is invalid.\r\n     *\r\n     * @internal\r\n     */\r\n    constructor(actionLink) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        const searchParams = querystringDecode(extractQuerystring(actionLink));\r\n        const apiKey = (_a = searchParams[\"apiKey\" /* API_KEY */]) !== null && _a !== void 0 ? _a : null;\r\n        const code = (_b = searchParams[\"oobCode\" /* CODE */]) !== null && _b !== void 0 ? _b : null;\r\n        const operation = parseMode((_c = searchParams[\"mode\" /* MODE */]) !== null && _c !== void 0 ? _c : null);\r\n        // Validate API key, code and mode.\r\n        _assert(apiKey && code && operation, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        this.apiKey = apiKey;\r\n        this.operation = operation;\r\n        this.code = code;\r\n        this.continueUrl = (_d = searchParams[\"continueUrl\" /* CONTINUE_URL */]) !== null && _d !== void 0 ? _d : null;\r\n        this.languageCode = (_e = searchParams[\"languageCode\" /* LANGUAGE_CODE */]) !== null && _e !== void 0 ? _e : null;\r\n        this.tenantId = (_f = searchParams[\"tenantId\" /* TENANT_ID */]) !== null && _f !== void 0 ? _f : null;\r\n    }\r\n    /**\r\n     * Parses the email action link string and returns an {@link ActionCodeURL} if the link is valid,\r\n     * otherwise returns null.\r\n     *\r\n     * @param link  - The email action link string.\r\n     * @returns The ActionCodeURL object, or null if the link is invalid.\r\n     *\r\n     * @public\r\n     */\r\n    static parseLink(link) {\r\n        const actionLink = parseDeepLink(link);\r\n        try {\r\n            return new ActionCodeURL(actionLink);\r\n        }\r\n        catch (_a) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Parses the email action link string and returns an {@link ActionCodeURL} if\r\n * the link is valid, otherwise returns null.\r\n *\r\n * @public\r\n */\r\nfunction parseActionCodeURL(link) {\r\n    return ActionCodeURL.parseLink(link);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for generating {@link EmailAuthCredential}.\r\n *\r\n * @public\r\n */\r\nclass EmailAuthProvider {\r\n    constructor() {\r\n        /**\r\n         * Always set to {@link ProviderId.PASSWORD}, even for email link.\r\n         */\r\n        this.providerId = EmailAuthProvider.PROVIDER_ID;\r\n    }\r\n    /**\r\n     * Initialize an {@link AuthCredential} using an email and password.\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * const authCredential = EmailAuthProvider.credential(email, password);\r\n     * const userCredential = await signInWithCredential(auth, authCredential);\r\n     * ```\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n     * ```\r\n     *\r\n     * @param email - Email address.\r\n     * @param password - User account password.\r\n     * @returns The auth provider credential.\r\n     */\r\n    static credential(email, password) {\r\n        return EmailAuthCredential._fromEmailAndPassword(email, password);\r\n    }\r\n    /**\r\n     * Initialize an {@link AuthCredential} using an email and an email link after a sign in with\r\n     * email link operation.\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * const authCredential = EmailAuthProvider.credentialWithLink(auth, email, emailLink);\r\n     * const userCredential = await signInWithCredential(auth, authCredential);\r\n     * ```\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * await sendSignInLinkToEmail(auth, email);\r\n     * // Obtain emailLink from user.\r\n     * const userCredential = await signInWithEmailLink(auth, email, emailLink);\r\n     * ```\r\n     *\r\n     * @param auth - The Auth instance used to verify the link.\r\n     * @param email - Email address.\r\n     * @param emailLink - Sign-in email link.\r\n     * @returns - The auth provider credential.\r\n     */\r\n    static credentialWithLink(email, emailLink) {\r\n        const actionCodeUrl = ActionCodeURL.parseLink(emailLink);\r\n        _assert(actionCodeUrl, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        return EmailAuthCredential._fromEmailAndCode(email, actionCodeUrl.code, actionCodeUrl.tenantId);\r\n    }\r\n}\r\n/**\r\n * Always set to {@link ProviderId.PASSWORD}, even for email link.\r\n */\r\nEmailAuthProvider.PROVIDER_ID = \"password\" /* PASSWORD */;\r\n/**\r\n * Always set to {@link SignInMethod.EMAIL_PASSWORD}.\r\n */\r\nEmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD = \"password\" /* EMAIL_PASSWORD */;\r\n/**\r\n * Always set to {@link SignInMethod.EMAIL_LINK}.\r\n */\r\nEmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD = \"emailLink\" /* EMAIL_LINK */;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The base class for all Federated providers (OAuth (including OIDC), SAML).\r\n *\r\n * This class is not meant to be instantiated directly.\r\n *\r\n * @public\r\n */\r\nclass FederatedAuthProvider {\r\n    /**\r\n     * Constructor for generic OAuth providers.\r\n     *\r\n     * @param providerId - Provider for which credentials should be generated.\r\n     */\r\n    constructor(providerId) {\r\n        this.providerId = providerId;\r\n        /** @internal */\r\n        this.defaultLanguageCode = null;\r\n        /** @internal */\r\n        this.customParameters = {};\r\n    }\r\n    /**\r\n     * Set the language gode.\r\n     *\r\n     * @param languageCode - language code\r\n     */\r\n    setDefaultLanguage(languageCode) {\r\n        this.defaultLanguageCode = languageCode;\r\n    }\r\n    /**\r\n     * Sets the OAuth custom parameters to pass in an OAuth request for popup and redirect sign-in\r\n     * operations.\r\n     *\r\n     * @remarks\r\n     * For a detailed list, check the reserved required OAuth 2.0 parameters such as `client_id`,\r\n     * `redirect_uri`, `scope`, `response_type`, and `state` are not allowed and will be ignored.\r\n     *\r\n     * @param customOAuthParameters - The custom OAuth parameters to pass in the OAuth request.\r\n     */\r\n    setCustomParameters(customOAuthParameters) {\r\n        this.customParameters = customOAuthParameters;\r\n        return this;\r\n    }\r\n    /**\r\n     * Retrieve the current list of {@link CustomParameters}.\r\n     */\r\n    getCustomParameters() {\r\n        return this.customParameters;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Common code to all OAuth providers. This is separate from the\r\n * {@link OAuthProvider} so that child providers (like\r\n * {@link GoogleAuthProvider}) don't inherit the `credential` instance method.\r\n * Instead, they rely on a static `credential` method.\r\n */\r\nclass BaseOAuthProvider extends FederatedAuthProvider {\r\n    constructor() {\r\n        super(...arguments);\r\n        /** @internal */\r\n        this.scopes = [];\r\n    }\r\n    /**\r\n     * Add an OAuth scope to the credential.\r\n     *\r\n     * @param scope - Provider OAuth scope to add.\r\n     */\r\n    addScope(scope) {\r\n        // If not already added, add scope to list.\r\n        if (!this.scopes.includes(scope)) {\r\n            this.scopes.push(scope);\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Retrieve the current list of OAuth scopes.\r\n     */\r\n    getScopes() {\r\n        return [...this.scopes];\r\n    }\r\n}\r\n/**\r\n * Provider for generating generic {@link OAuthCredential}.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new OAuthProvider('google.com');\r\n * // Start a sign in process for an unauthenticated user.\r\n * provider.addScope('profile');\r\n * provider.addScope('email');\r\n * await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * if (result) {\r\n *   // This is the signed-in user\r\n *   const user = result.user;\r\n *   // This gives you a OAuth Access Token for the provider.\r\n *   const credential = provider.credentialFromResult(auth, result);\r\n *   const token = credential.accessToken;\r\n * }\r\n * ```\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a popup.\r\n * const provider = new OAuthProvider('google.com');\r\n * provider.addScope('profile');\r\n * provider.addScope('email');\r\n * const result = await signInWithPopup(auth, provider);\r\n *\r\n * // The signed-in user info.\r\n * const user = result.user;\r\n * // This gives you a OAuth Access Token for the provider.\r\n * const credential = provider.credentialFromResult(auth, result);\r\n * const token = credential.accessToken;\r\n * ```\r\n * @public\r\n */\r\nclass OAuthProvider extends BaseOAuthProvider {\r\n    /**\r\n     * Creates an {@link OAuthCredential} from a JSON string or a plain object.\r\n     * @param json A plain object or a JSON string\r\n     */\r\n    static credentialFromJSON(json) {\r\n        const obj = typeof json === 'string' ? JSON.parse(json) : json;\r\n        _assert('providerId' in obj && 'signInMethod' in obj, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        return OAuthCredential._fromParams(obj);\r\n    }\r\n    /**\r\n     * Creates a {@link OAuthCredential} from a generic OAuth provider's access token or ID token.\r\n     *\r\n     * @remarks\r\n     * The raw nonce is required when an ID token with a nonce field is provided. The SHA-256 hash of\r\n     * the raw nonce must match the nonce field in the ID token.\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * // `googleUser` from the onsuccess Google Sign In callback.\r\n     * // Initialize a generate OAuth provider with a `google.com` providerId.\r\n     * const provider = new OAuthProvider('google.com');\r\n     * const credential = provider.credential({\r\n     *   idToken: googleUser.getAuthResponse().id_token,\r\n     * });\r\n     * const result = await signInWithCredential(credential);\r\n     * ```\r\n     *\r\n     * @param params - Either the options object containing the ID token, access token and raw nonce\r\n     * or the ID token string.\r\n     */\r\n    credential(params) {\r\n        return this._credential(params);\r\n    }\r\n    /** An internal credential method that accepts more permissive options */\r\n    _credential(params) {\r\n        _assert(params.idToken || params.accessToken, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        // For OAuthCredential, sign in method is same as providerId.\r\n        return OAuthCredential._fromParams(Object.assign(Object.assign({}, params), { providerId: this.providerId, signInMethod: this.providerId }));\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromResult(userCredential) {\r\n        return OAuthProvider.oauthCredentialFromTaggedObject(userCredential);\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\r\n     * thrown during a sign-in, link, or reauthenticate operation.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromError(error) {\r\n        return OAuthProvider.oauthCredentialFromTaggedObject((error.customData || {}));\r\n    }\r\n    static oauthCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {\r\n        if (!tokenResponse) {\r\n            return null;\r\n        }\r\n        const { oauthIdToken, oauthAccessToken, oauthTokenSecret, pendingToken, nonce, providerId } = tokenResponse;\r\n        if (!oauthAccessToken &&\r\n            !oauthTokenSecret &&\r\n            !oauthIdToken &&\r\n            !pendingToken) {\r\n            return null;\r\n        }\r\n        if (!providerId) {\r\n            return null;\r\n        }\r\n        try {\r\n            return new OAuthProvider(providerId)._credential({\r\n                idToken: oauthIdToken,\r\n                accessToken: oauthAccessToken,\r\n                rawNonce: nonce,\r\n                pendingToken\r\n            });\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for generating an {@link OAuthCredential} for {@link ProviderId.FACEBOOK}.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new FacebookAuthProvider();\r\n * // Start a sign in process for an unauthenticated user.\r\n * provider.addScope('user_birthday');\r\n * await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * if (result) {\r\n *   // This is the signed-in user\r\n *   const user = result.user;\r\n *   // This gives you a Facebook Access Token.\r\n *   const credential = provider.credentialFromResult(auth, result);\r\n *   const token = credential.accessToken;\r\n * }\r\n * ```\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a popup.\r\n * const provider = new FacebookAuthProvider();\r\n * provider.addScope('user_birthday');\r\n * const result = await signInWithPopup(auth, provider);\r\n *\r\n * // The signed-in user info.\r\n * const user = result.user;\r\n * // This gives you a Facebook Access Token.\r\n * const credential = provider.credentialFromResult(auth, result);\r\n * const token = credential.accessToken;\r\n * ```\r\n *\r\n * @public\r\n */\r\nclass FacebookAuthProvider extends BaseOAuthProvider {\r\n    constructor() {\r\n        super(\"facebook.com\" /* FACEBOOK */);\r\n    }\r\n    /**\r\n     * Creates a credential for Facebook.\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * // `event` from the Facebook auth.authResponseChange callback.\r\n     * const credential = FacebookAuthProvider.credential(event.authResponse.accessToken);\r\n     * const result = await signInWithCredential(credential);\r\n     * ```\r\n     *\r\n     * @param accessToken - Facebook access token.\r\n     */\r\n    static credential(accessToken) {\r\n        return OAuthCredential._fromParams({\r\n            providerId: FacebookAuthProvider.PROVIDER_ID,\r\n            signInMethod: FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,\r\n            accessToken\r\n        });\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromResult(userCredential) {\r\n        return FacebookAuthProvider.credentialFromTaggedObject(userCredential);\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\r\n     * thrown during a sign-in, link, or reauthenticate operation.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromError(error) {\r\n        return FacebookAuthProvider.credentialFromTaggedObject((error.customData || {}));\r\n    }\r\n    static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {\r\n        if (!tokenResponse || !('oauthAccessToken' in tokenResponse)) {\r\n            return null;\r\n        }\r\n        if (!tokenResponse.oauthAccessToken) {\r\n            return null;\r\n        }\r\n        try {\r\n            return FacebookAuthProvider.credential(tokenResponse.oauthAccessToken);\r\n        }\r\n        catch (_a) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n/** Always set to {@link SignInMethod.FACEBOOK}. */\r\nFacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD = \"facebook.com\" /* FACEBOOK */;\r\n/** Always set to {@link ProviderId.FACEBOOK}. */\r\nFacebookAuthProvider.PROVIDER_ID = \"facebook.com\" /* FACEBOOK */;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for generating an an {@link OAuthCredential} for {@link ProviderId.GOOGLE}.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new GoogleAuthProvider();\r\n * // Start a sign in process for an unauthenticated user.\r\n * provider.addScope('profile');\r\n * provider.addScope('email');\r\n * await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * if (result) {\r\n *   // This is the signed-in user\r\n *   const user = result.user;\r\n *   // This gives you a Google Access Token.\r\n *   const credential = provider.credentialFromResult(auth, result);\r\n *   const token = credential.accessToken;\r\n * }\r\n * ```\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a popup.\r\n * const provider = new GoogleAuthProvider();\r\n * provider.addScope('profile');\r\n * provider.addScope('email');\r\n * const result = await signInWithPopup(auth, provider);\r\n *\r\n * // The signed-in user info.\r\n * const user = result.user;\r\n * // This gives you a Google Access Token.\r\n * const credential = provider.credentialFromResult(auth, result);\r\n * const token = credential.accessToken;\r\n * ```\r\n *\r\n * @public\r\n */\r\nclass GoogleAuthProvider extends BaseOAuthProvider {\r\n    constructor() {\r\n        super(\"google.com\" /* GOOGLE */);\r\n        this.addScope('profile');\r\n    }\r\n    /**\r\n     * Creates a credential for Google. At least one of ID token and access token is required.\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * // \\`googleUser\\` from the onsuccess Google Sign In callback.\r\n     * const credential = GoogleAuthProvider.credential(googleUser.getAuthResponse().id_token);\r\n     * const result = await signInWithCredential(credential);\r\n     * ```\r\n     *\r\n     * @param idToken - Google ID token.\r\n     * @param accessToken - Google access token.\r\n     */\r\n    static credential(idToken, accessToken) {\r\n        return OAuthCredential._fromParams({\r\n            providerId: GoogleAuthProvider.PROVIDER_ID,\r\n            signInMethod: GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,\r\n            idToken,\r\n            accessToken\r\n        });\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromResult(userCredential) {\r\n        return GoogleAuthProvider.credentialFromTaggedObject(userCredential);\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\r\n     * thrown during a sign-in, link, or reauthenticate operation.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromError(error) {\r\n        return GoogleAuthProvider.credentialFromTaggedObject((error.customData || {}));\r\n    }\r\n    static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {\r\n        if (!tokenResponse) {\r\n            return null;\r\n        }\r\n        const { oauthIdToken, oauthAccessToken } = tokenResponse;\r\n        if (!oauthIdToken && !oauthAccessToken) {\r\n            // This could be an oauth 1 credential or a phone credential\r\n            return null;\r\n        }\r\n        try {\r\n            return GoogleAuthProvider.credential(oauthIdToken, oauthAccessToken);\r\n        }\r\n        catch (_a) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n/** Always set to {@link SignInMethod.GOOGLE}. */\r\nGoogleAuthProvider.GOOGLE_SIGN_IN_METHOD = \"google.com\" /* GOOGLE */;\r\n/** Always set to {@link ProviderId.GOOGLE}. */\r\nGoogleAuthProvider.PROVIDER_ID = \"google.com\" /* GOOGLE */;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for generating an {@link OAuthCredential} for {@link ProviderId.GITHUB}.\r\n *\r\n * @remarks\r\n * GitHub requires an OAuth 2.0 redirect, so you can either handle the redirect directly, or use\r\n * the {@link signInWithPopup} handler:\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new GithubAuthProvider();\r\n * // Start a sign in process for an unauthenticated user.\r\n * provider.addScope('repo');\r\n * await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * if (result) {\r\n *   // This is the signed-in user\r\n *   const user = result.user;\r\n *   // This gives you a Github Access Token.\r\n *   const credential = provider.credentialFromResult(auth, result);\r\n *   const token = credential.accessToken;\r\n * }\r\n * ```\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a popup.\r\n * const provider = new GithubAuthProvider();\r\n * provider.addScope('repo');\r\n * const result = await signInWithPopup(auth, provider);\r\n *\r\n * // The signed-in user info.\r\n * const user = result.user;\r\n * // This gives you a Github Access Token.\r\n * const credential = provider.credentialFromResult(auth, result);\r\n * const token = credential.accessToken;\r\n * ```\r\n * @public\r\n */\r\nclass GithubAuthProvider extends BaseOAuthProvider {\r\n    constructor() {\r\n        super(\"github.com\" /* GITHUB */);\r\n    }\r\n    /**\r\n     * Creates a credential for Github.\r\n     *\r\n     * @param accessToken - Github access token.\r\n     */\r\n    static credential(accessToken) {\r\n        return OAuthCredential._fromParams({\r\n            providerId: GithubAuthProvider.PROVIDER_ID,\r\n            signInMethod: GithubAuthProvider.GITHUB_SIGN_IN_METHOD,\r\n            accessToken\r\n        });\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromResult(userCredential) {\r\n        return GithubAuthProvider.credentialFromTaggedObject(userCredential);\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\r\n     * thrown during a sign-in, link, or reauthenticate operation.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromError(error) {\r\n        return GithubAuthProvider.credentialFromTaggedObject((error.customData || {}));\r\n    }\r\n    static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {\r\n        if (!tokenResponse || !('oauthAccessToken' in tokenResponse)) {\r\n            return null;\r\n        }\r\n        if (!tokenResponse.oauthAccessToken) {\r\n            return null;\r\n        }\r\n        try {\r\n            return GithubAuthProvider.credential(tokenResponse.oauthAccessToken);\r\n        }\r\n        catch (_a) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n/** Always set to {@link SignInMethod.GITHUB}. */\r\nGithubAuthProvider.GITHUB_SIGN_IN_METHOD = \"github.com\" /* GITHUB */;\r\n/** Always set to {@link ProviderId.GITHUB}. */\r\nGithubAuthProvider.PROVIDER_ID = \"github.com\" /* GITHUB */;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst IDP_REQUEST_URI$1 = 'http://localhost';\r\n/**\r\n * @public\r\n */\r\nclass SAMLAuthCredential extends AuthCredential {\r\n    /** @internal */\r\n    constructor(providerId, pendingToken) {\r\n        super(providerId, providerId);\r\n        this.pendingToken = pendingToken;\r\n    }\r\n    /** @internal */\r\n    _getIdTokenResponse(auth) {\r\n        const request = this.buildRequest();\r\n        return signInWithIdp(auth, request);\r\n    }\r\n    /** @internal */\r\n    _linkToIdToken(auth, idToken) {\r\n        const request = this.buildRequest();\r\n        request.idToken = idToken;\r\n        return signInWithIdp(auth, request);\r\n    }\r\n    /** @internal */\r\n    _getReauthenticationResolver(auth) {\r\n        const request = this.buildRequest();\r\n        request.autoCreate = false;\r\n        return signInWithIdp(auth, request);\r\n    }\r\n    /** {@inheritdoc AuthCredential.toJSON}  */\r\n    toJSON() {\r\n        return {\r\n            signInMethod: this.signInMethod,\r\n            providerId: this.providerId,\r\n            pendingToken: this.pendingToken\r\n        };\r\n    }\r\n    /**\r\n     * Static method to deserialize a JSON representation of an object into an\r\n     * {@link  AuthCredential}.\r\n     *\r\n     * @param json - Input can be either Object or the stringified representation of the object.\r\n     * When string is provided, JSON.parse would be called first.\r\n     *\r\n     * @returns If the JSON input does not represent an {@link  AuthCredential}, null is returned.\r\n     */\r\n    static fromJSON(json) {\r\n        const obj = typeof json === 'string' ? JSON.parse(json) : json;\r\n        const { providerId, signInMethod, pendingToken } = obj;\r\n        if (!providerId ||\r\n            !signInMethod ||\r\n            !pendingToken ||\r\n            providerId !== signInMethod) {\r\n            return null;\r\n        }\r\n        return new SAMLAuthCredential(providerId, pendingToken);\r\n    }\r\n    /**\r\n     * Helper static method to avoid exposing the constructor to end users.\r\n     *\r\n     * @internal\r\n     */\r\n    static _create(providerId, pendingToken) {\r\n        return new SAMLAuthCredential(providerId, pendingToken);\r\n    }\r\n    buildRequest() {\r\n        return {\r\n            requestUri: IDP_REQUEST_URI$1,\r\n            returnSecureToken: true,\r\n            pendingToken: this.pendingToken\r\n        };\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst SAML_PROVIDER_PREFIX = 'saml.';\r\n/**\r\n * An AuthProvider for SAML.\r\n *\r\n * @public\r\n */\r\nclass SAMLAuthProvider extends FederatedAuthProvider {\r\n    /**\r\n     * Constructor. The providerId must start with \"saml.\"\r\n     * @param - providerId\r\n     */\r\n    constructor(providerId) {\r\n        _assert(providerId.startsWith(SAML_PROVIDER_PREFIX), \"argument-error\" /* ARGUMENT_ERROR */);\r\n        super(providerId);\r\n    }\r\n    /**\r\n     * Generates an {@link AuthCredential} from a {@link UserCredential} after a\r\n     * successful SAML flow completes.\r\n     *\r\n     * @remarks\r\n     *\r\n     * For example, to get an {@link AuthCredential}, you could write the\r\n     * following code:\r\n     *\r\n     * ```js\r\n     * const userCredential = await signInWithPopup(auth, samlProvider);\r\n     * const credential = SAMLAuthProvider.credentialFromResult(userCredential);\r\n     * ```\r\n     *\r\n     * @param userCredential\r\n     */\r\n    static credentialFromResult(userCredential) {\r\n        return SAMLAuthProvider.samlCredentialFromTaggedObject(userCredential);\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\r\n     * thrown during a sign-in, link, or reauthenticate operation.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromError(error) {\r\n        return SAMLAuthProvider.samlCredentialFromTaggedObject((error.customData || {}));\r\n    }\r\n    /**\r\n     * Creates an {@link AuthCredential} from a JSON string or a plain object.\r\n     * @param json A plain object or a JSON string\r\n     */\r\n    static credentialFromJSON(json) {\r\n        const credential = SAMLAuthCredential.fromJSON(json);\r\n        _assert(credential, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        return credential;\r\n    }\r\n    static samlCredentialFromTaggedObject({ _tokenResponse: tokenResponse }) {\r\n        if (!tokenResponse) {\r\n            return null;\r\n        }\r\n        const { pendingToken, providerId } = tokenResponse;\r\n        if (!pendingToken || !providerId) {\r\n            return null;\r\n        }\r\n        try {\r\n            return SAMLAuthCredential._create(providerId, pendingToken);\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for generating an {@link OAuthCredential} for {@link ProviderId.TWITTER}.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new TwitterAuthProvider();\r\n * // Start a sign in process for an unauthenticated user.\r\n * await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * if (result) {\r\n *   // This is the signed-in user\r\n *   const user = result.user;\r\n *   // This gives you a Twitter Access Token and Secret.\r\n *   const credential = provider.credentialFromResult(auth, result);\r\n *   const token = credential.accessToken;\r\n *   const secret = credential.secret;\r\n * }\r\n * ```\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a popup.\r\n * const provider = new TwitterAuthProvider();\r\n * const result = await signInWithPopup(auth, provider);\r\n *\r\n * // The signed-in user info.\r\n * const user = result.user;\r\n * // This gives you a Twitter Access Token and Secret.\r\n * const credential = provider.credentialFromResult(auth, result);\r\n * const token = credential.accessToken;\r\n * const secret = credential.secret;\r\n * ```\r\n *\r\n * @public\r\n */\r\nclass TwitterAuthProvider extends BaseOAuthProvider {\r\n    constructor() {\r\n        super(\"twitter.com\" /* TWITTER */);\r\n    }\r\n    /**\r\n     * Creates a credential for Twitter.\r\n     *\r\n     * @param token - Twitter access token.\r\n     * @param secret - Twitter secret.\r\n     */\r\n    static credential(token, secret) {\r\n        return OAuthCredential._fromParams({\r\n            providerId: TwitterAuthProvider.PROVIDER_ID,\r\n            signInMethod: TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,\r\n            oauthToken: token,\r\n            oauthTokenSecret: secret\r\n        });\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link UserCredential}.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromResult(userCredential) {\r\n        return TwitterAuthProvider.credentialFromTaggedObject(userCredential);\r\n    }\r\n    /**\r\n     * Used to extract the underlying {@link OAuthCredential} from a {@link AuthError} which was\r\n     * thrown during a sign-in, link, or reauthenticate operation.\r\n     *\r\n     * @param userCredential - The user credential.\r\n     */\r\n    static credentialFromError(error) {\r\n        return TwitterAuthProvider.credentialFromTaggedObject((error.customData || {}));\r\n    }\r\n    static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {\r\n        if (!tokenResponse) {\r\n            return null;\r\n        }\r\n        const { oauthAccessToken, oauthTokenSecret } = tokenResponse;\r\n        if (!oauthAccessToken || !oauthTokenSecret) {\r\n            return null;\r\n        }\r\n        try {\r\n            return TwitterAuthProvider.credential(oauthAccessToken, oauthTokenSecret);\r\n        }\r\n        catch (_a) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n/** Always set to {@link SignInMethod.TWITTER}. */\r\nTwitterAuthProvider.TWITTER_SIGN_IN_METHOD = \"twitter.com\" /* TWITTER */;\r\n/** Always set to {@link ProviderId.TWITTER}. */\r\nTwitterAuthProvider.PROVIDER_ID = \"twitter.com\" /* TWITTER */;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function signUp(auth, request) {\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signUp\" /* SIGN_UP */, _addTidIfNecessary(auth, request));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass UserCredentialImpl {\r\n    constructor(params) {\r\n        this.user = params.user;\r\n        this.providerId = params.providerId;\r\n        this._tokenResponse = params._tokenResponse;\r\n        this.operationType = params.operationType;\r\n    }\r\n    static async _fromIdTokenResponse(auth, operationType, idTokenResponse, isAnonymous = false) {\r\n        const user = await UserImpl._fromIdTokenResponse(auth, idTokenResponse, isAnonymous);\r\n        const providerId = providerIdForResponse(idTokenResponse);\r\n        const userCred = new UserCredentialImpl({\r\n            user,\r\n            providerId,\r\n            _tokenResponse: idTokenResponse,\r\n            operationType\r\n        });\r\n        return userCred;\r\n    }\r\n    static async _forOperation(user, operationType, response) {\r\n        await user._updateTokensIfNecessary(response, /* reload */ true);\r\n        const providerId = providerIdForResponse(response);\r\n        return new UserCredentialImpl({\r\n            user,\r\n            providerId,\r\n            _tokenResponse: response,\r\n            operationType\r\n        });\r\n    }\r\n}\r\nfunction providerIdForResponse(response) {\r\n    if (response.providerId) {\r\n        return response.providerId;\r\n    }\r\n    if ('phoneNumber' in response) {\r\n        return \"phone\" /* PHONE */;\r\n    }\r\n    return null;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Asynchronously signs in as an anonymous user.\r\n *\r\n * @remarks\r\n * If there is already an anonymous user signed in, that user will be returned; otherwise, a\r\n * new anonymous user identity will be created and returned.\r\n *\r\n * @param auth - The Auth instance.\r\n *\r\n * @public\r\n */\r\nasync function signInAnonymously(auth) {\r\n    var _a;\r\n    const authInternal = _castAuth(auth);\r\n    if ((_a = authInternal.currentUser) === null || _a === void 0 ? void 0 : _a.isAnonymous) {\r\n        // If an anonymous user is already signed in, no need to sign them in again.\r\n        return new UserCredentialImpl({\r\n            user: authInternal.currentUser,\r\n            providerId: null,\r\n            operationType: \"signIn\" /* SIGN_IN */\r\n        });\r\n    }\r\n    const response = await signUp(authInternal, {\r\n        returnSecureToken: true\r\n    });\r\n    const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, \"signIn\" /* SIGN_IN */, response, true);\r\n    await authInternal._updateCurrentUser(userCredential.user);\r\n    return userCredential;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass MultiFactorError extends FirebaseError {\r\n    constructor(auth, error, operationType, user) {\r\n        var _a;\r\n        super(error.code, error.message);\r\n        this.operationType = operationType;\r\n        this.user = user;\r\n        this.name = 'FirebaseError';\r\n        // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n        Object.setPrototypeOf(this, MultiFactorError.prototype);\r\n        this.appName = auth.name;\r\n        this.code = error.code;\r\n        this.tenantId = (_a = auth.tenantId) !== null && _a !== void 0 ? _a : undefined;\r\n        this.serverResponse = error.customData\r\n            .serverResponse;\r\n    }\r\n    static _fromErrorAndOperation(auth, error, operationType, user) {\r\n        return new MultiFactorError(auth, error, operationType, user);\r\n    }\r\n}\r\nfunction _processCredentialSavingMfaContextIfNecessary(auth, operationType, credential, user) {\r\n    const idTokenProvider = operationType === \"reauthenticate\" /* REAUTHENTICATE */\r\n        ? credential._getReauthenticationResolver(auth)\r\n        : credential._getIdTokenResponse(auth);\r\n    return idTokenProvider.catch(error => {\r\n        if (error.code === `auth/${\"multi-factor-auth-required\" /* MFA_REQUIRED */}`) {\r\n            throw MultiFactorError._fromErrorAndOperation(auth, error, operationType, user);\r\n        }\r\n        throw error;\r\n    });\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Takes a set of UserInfo provider data and converts it to a set of names\r\n */\r\nfunction providerDataAsNames(providerData) {\r\n    return new Set(providerData\r\n        .map(({ providerId }) => providerId)\r\n        .filter(pid => !!pid));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Unlinks a provider from a user account.\r\n *\r\n * @param user - The user.\r\n * @param providerId - The provider to unlink.\r\n *\r\n * @public\r\n */\r\nasync function unlink(user, providerId) {\r\n    const userInternal = getModularInstance(user);\r\n    await _assertLinkedStatus(true, userInternal, providerId);\r\n    const { providerUserInfo } = await deleteLinkedAccounts(userInternal.auth, {\r\n        idToken: await userInternal.getIdToken(),\r\n        deleteProvider: [providerId]\r\n    });\r\n    const providersLeft = providerDataAsNames(providerUserInfo || []);\r\n    userInternal.providerData = userInternal.providerData.filter(pd => providersLeft.has(pd.providerId));\r\n    if (!providersLeft.has(\"phone\" /* PHONE */)) {\r\n        userInternal.phoneNumber = null;\r\n    }\r\n    await userInternal.auth._persistUserIfCurrent(userInternal);\r\n    return userInternal;\r\n}\r\nasync function _link(user, credential, bypassAuthState = false) {\r\n    const response = await _logoutIfInvalidated(user, credential._linkToIdToken(user.auth, await user.getIdToken()), bypassAuthState);\r\n    return UserCredentialImpl._forOperation(user, \"link\" /* LINK */, response);\r\n}\r\nasync function _assertLinkedStatus(expected, user, provider) {\r\n    await _reloadWithoutSaving(user);\r\n    const providerIds = providerDataAsNames(user.providerData);\r\n    const code = expected === false\r\n        ? \"provider-already-linked\" /* PROVIDER_ALREADY_LINKED */\r\n        : \"no-such-provider\" /* NO_SUCH_PROVIDER */;\r\n    _assert(providerIds.has(provider) === expected, user.auth, code);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function _reauthenticate(user, credential, bypassAuthState = false) {\r\n    const { auth } = user;\r\n    const operationType = \"reauthenticate\" /* REAUTHENTICATE */;\r\n    try {\r\n        const response = await _logoutIfInvalidated(user, _processCredentialSavingMfaContextIfNecessary(auth, operationType, credential, user), bypassAuthState);\r\n        _assert(response.idToken, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        const parsed = _parseToken(response.idToken);\r\n        _assert(parsed, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        const { sub: localId } = parsed;\r\n        _assert(user.uid === localId, auth, \"user-mismatch\" /* USER_MISMATCH */);\r\n        return UserCredentialImpl._forOperation(user, operationType, response);\r\n    }\r\n    catch (e) {\r\n        // Convert user deleted error into user mismatch\r\n        if ((e === null || e === void 0 ? void 0 : e.code) === `auth/${\"user-not-found\" /* USER_DELETED */}`) {\r\n            _fail(auth, \"user-mismatch\" /* USER_MISMATCH */);\r\n        }\r\n        throw e;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function _signInWithCredential(auth, credential, bypassAuthState = false) {\r\n    const operationType = \"signIn\" /* SIGN_IN */;\r\n    const response = await _processCredentialSavingMfaContextIfNecessary(auth, operationType, credential);\r\n    const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth, operationType, response);\r\n    if (!bypassAuthState) {\r\n        await auth._updateCurrentUser(userCredential.user);\r\n    }\r\n    return userCredential;\r\n}\r\n/**\r\n * Asynchronously signs in with the given credentials.\r\n *\r\n * @remarks\r\n * An {@link AuthProvider} can be used to generate the credential.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param credential - The auth credential.\r\n *\r\n * @public\r\n */\r\nasync function signInWithCredential(auth, credential) {\r\n    return _signInWithCredential(_castAuth(auth), credential);\r\n}\r\n/**\r\n * Links the user account with the given credentials.\r\n *\r\n * @remarks\r\n * An {@link AuthProvider} can be used to generate the credential.\r\n *\r\n * @param user - The user.\r\n * @param credential - The auth credential.\r\n *\r\n * @public\r\n */\r\nasync function linkWithCredential(user, credential) {\r\n    const userInternal = getModularInstance(user);\r\n    await _assertLinkedStatus(false, userInternal, credential.providerId);\r\n    return _link(userInternal, credential);\r\n}\r\n/**\r\n * Re-authenticates a user using a fresh credential.\r\n *\r\n * @remarks\r\n * Use before operations such as {@link updatePassword} that require tokens from recent sign-in\r\n * attempts. This method can be used to recover from a CREDENTIAL_TOO_OLD_LOGIN_AGAIN error.\r\n *\r\n * @param user - The user.\r\n * @param credential - The auth credential.\r\n *\r\n * @public\r\n */\r\nasync function reauthenticateWithCredential(user, credential) {\r\n    return _reauthenticate(getModularInstance(user), credential);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function signInWithCustomToken(auth, request) {\r\n    return _performSignInRequest(auth, \"POST\" /* POST */, \"/v1/accounts:signInWithCustomToken\" /* SIGN_IN_WITH_CUSTOM_TOKEN */, _addTidIfNecessary(auth, request));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Asynchronously signs in using a custom token.\r\n *\r\n * @remarks\r\n * Custom tokens are used to integrate Firebase Auth with existing auth systems, and must\r\n * be generated by an auth backend using the\r\n * {@link https://firebase.google.com/docs/reference/admin/node/admin.auth.Auth#createcustomtoken | createCustomToken}\r\n * method in the {@link https://firebase.google.com/docs/auth/admin | Admin SDK} .\r\n *\r\n * Fails with an error if the token is invalid, expired, or not accepted by the Firebase Auth service.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param customToken - The custom token to sign in with.\r\n *\r\n * @public\r\n */\r\nasync function signInWithCustomToken$1(auth, customToken) {\r\n    const authInternal = _castAuth(auth);\r\n    const response = await signInWithCustomToken(authInternal, {\r\n        token: customToken,\r\n        returnSecureToken: true\r\n    });\r\n    const cred = await UserCredentialImpl._fromIdTokenResponse(authInternal, \"signIn\" /* SIGN_IN */, response);\r\n    await authInternal._updateCurrentUser(cred.user);\r\n    return cred;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass MultiFactorInfoImpl {\r\n    constructor(factorId, response) {\r\n        this.factorId = factorId;\r\n        this.uid = response.mfaEnrollmentId;\r\n        this.enrollmentTime = new Date(response.enrolledAt).toUTCString();\r\n        this.displayName = response.displayName;\r\n    }\r\n    static _fromServerResponse(auth, enrollment) {\r\n        if ('phoneInfo' in enrollment) {\r\n            return PhoneMultiFactorInfo._fromServerResponse(auth, enrollment);\r\n        }\r\n        return _fail(auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n    }\r\n}\r\nclass PhoneMultiFactorInfo extends MultiFactorInfoImpl {\r\n    constructor(response) {\r\n        super(\"phone\" /* PHONE */, response);\r\n        this.phoneNumber = response.phoneInfo;\r\n    }\r\n    static _fromServerResponse(_auth, enrollment) {\r\n        return new PhoneMultiFactorInfo(enrollment);\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _setActionCodeSettingsOnRequest(auth, request, actionCodeSettings) {\r\n    var _a;\r\n    _assert(((_a = actionCodeSettings.url) === null || _a === void 0 ? void 0 : _a.length) > 0, auth, \"invalid-continue-uri\" /* INVALID_CONTINUE_URI */);\r\n    _assert(typeof actionCodeSettings.dynamicLinkDomain === 'undefined' ||\r\n        actionCodeSettings.dynamicLinkDomain.length > 0, auth, \"invalid-dynamic-link-domain\" /* INVALID_DYNAMIC_LINK_DOMAIN */);\r\n    request.continueUrl = actionCodeSettings.url;\r\n    request.dynamicLinkDomain = actionCodeSettings.dynamicLinkDomain;\r\n    request.canHandleCodeInApp = actionCodeSettings.handleCodeInApp;\r\n    if (actionCodeSettings.iOS) {\r\n        _assert(actionCodeSettings.iOS.bundleId.length > 0, auth, \"missing-ios-bundle-id\" /* MISSING_IOS_BUNDLE_ID */);\r\n        request.iosBundleId = actionCodeSettings.iOS.bundleId;\r\n    }\r\n    if (actionCodeSettings.android) {\r\n        _assert(actionCodeSettings.android.packageName.length > 0, auth, \"missing-android-pkg-name\" /* MISSING_ANDROID_PACKAGE_NAME */);\r\n        request.androidInstallApp = actionCodeSettings.android.installApp;\r\n        request.androidMinimumVersionCode =\r\n            actionCodeSettings.android.minimumVersion;\r\n        request.androidPackageName = actionCodeSettings.android.packageName;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Sends a password reset email to the given email address.\r\n *\r\n * @remarks\r\n * To complete the password reset, call {@link confirmPasswordReset} with the code supplied in\r\n * the email sent to the user, along with the new password specified by the user.\r\n *\r\n * @example\r\n * ```javascript\r\n * const actionCodeSettings = {\r\n *   url: 'https://www.example.com/?email=user@example.com',\r\n *   iOS: {\r\n *      bundleId: 'com.example.ios'\r\n *   },\r\n *   android: {\r\n *     packageName: 'com.example.android',\r\n *     installApp: true,\r\n *     minimumVersion: '12'\r\n *   },\r\n *   handleCodeInApp: true\r\n * };\r\n * await sendPasswordResetEmail(auth, 'user@example.com', actionCodeSettings);\r\n * // Obtain code from user.\r\n * await confirmPasswordReset('user@example.com', code);\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param email - The user's email address.\r\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\r\n *\r\n * @public\r\n */\r\nasync function sendPasswordResetEmail$1(auth, email, actionCodeSettings) {\r\n    const authModular = getModularInstance(auth);\r\n    const request = {\r\n        requestType: \"PASSWORD_RESET\" /* PASSWORD_RESET */,\r\n        email\r\n    };\r\n    if (actionCodeSettings) {\r\n        _setActionCodeSettingsOnRequest(authModular, request, actionCodeSettings);\r\n    }\r\n    await sendPasswordResetEmail(authModular, request);\r\n}\r\n/**\r\n * Completes the password reset process, given a confirmation code and new password.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param oobCode - A confirmation code sent to the user.\r\n * @param newPassword - The new password.\r\n *\r\n * @public\r\n */\r\nasync function confirmPasswordReset(auth, oobCode, newPassword) {\r\n    await resetPassword(getModularInstance(auth), {\r\n        oobCode,\r\n        newPassword\r\n    });\r\n    // Do not return the email.\r\n}\r\n/**\r\n * Applies a verification code sent to the user by email or other out-of-band mechanism.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param oobCode - A verification code sent to the user.\r\n *\r\n * @public\r\n */\r\nasync function applyActionCode$1(auth, oobCode) {\r\n    await applyActionCode(getModularInstance(auth), { oobCode });\r\n}\r\n/**\r\n * Checks a verification code sent to the user by email or other out-of-band mechanism.\r\n *\r\n * @returns metadata about the code.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param oobCode - A verification code sent to the user.\r\n *\r\n * @public\r\n */\r\nasync function checkActionCode(auth, oobCode) {\r\n    const authModular = getModularInstance(auth);\r\n    const response = await resetPassword(authModular, { oobCode });\r\n    // Email could be empty only if the request type is EMAIL_SIGNIN or\r\n    // VERIFY_AND_CHANGE_EMAIL.\r\n    // New email should not be empty if the request type is\r\n    // VERIFY_AND_CHANGE_EMAIL.\r\n    // Multi-factor info could not be empty if the request type is\r\n    // REVERT_SECOND_FACTOR_ADDITION.\r\n    const operation = response.requestType;\r\n    _assert(operation, authModular, \"internal-error\" /* INTERNAL_ERROR */);\r\n    switch (operation) {\r\n        case \"EMAIL_SIGNIN\" /* EMAIL_SIGNIN */:\r\n            break;\r\n        case \"VERIFY_AND_CHANGE_EMAIL\" /* VERIFY_AND_CHANGE_EMAIL */:\r\n            _assert(response.newEmail, authModular, \"internal-error\" /* INTERNAL_ERROR */);\r\n            break;\r\n        case \"REVERT_SECOND_FACTOR_ADDITION\" /* REVERT_SECOND_FACTOR_ADDITION */:\r\n            _assert(response.mfaInfo, authModular, \"internal-error\" /* INTERNAL_ERROR */);\r\n        // fall through\r\n        default:\r\n            _assert(response.email, authModular, \"internal-error\" /* INTERNAL_ERROR */);\r\n    }\r\n    // The multi-factor info for revert second factor addition\r\n    let multiFactorInfo = null;\r\n    if (response.mfaInfo) {\r\n        multiFactorInfo = MultiFactorInfoImpl._fromServerResponse(_castAuth(authModular), response.mfaInfo);\r\n    }\r\n    return {\r\n        data: {\r\n            email: (response.requestType === \"VERIFY_AND_CHANGE_EMAIL\" /* VERIFY_AND_CHANGE_EMAIL */\r\n                ? response.newEmail\r\n                : response.email) || null,\r\n            previousEmail: (response.requestType === \"VERIFY_AND_CHANGE_EMAIL\" /* VERIFY_AND_CHANGE_EMAIL */\r\n                ? response.email\r\n                : response.newEmail) || null,\r\n            multiFactorInfo\r\n        },\r\n        operation\r\n    };\r\n}\r\n/**\r\n * Checks a password reset code sent to the user by email or other out-of-band mechanism.\r\n *\r\n * @returns the user's email address if valid.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param code - A verification code sent to the user.\r\n *\r\n * @public\r\n */\r\nasync function verifyPasswordResetCode(auth, code) {\r\n    const { data } = await checkActionCode(getModularInstance(auth), code);\r\n    // Email should always be present since a code was sent to it\r\n    return data.email;\r\n}\r\n/**\r\n * Creates a new user account associated with the specified email address and password.\r\n *\r\n * @remarks\r\n * On successful creation of the user account, this user will also be signed in to your application.\r\n *\r\n * User account creation can fail if the account already exists or the password is invalid.\r\n *\r\n * Note: The email address acts as a unique identifier for the user and enables an email-based\r\n * password reset. This function will create a new user account and set the initial user password.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param email - The user's email address.\r\n * @param password - The user's chosen password.\r\n *\r\n * @public\r\n */\r\nasync function createUserWithEmailAndPassword(auth, email, password) {\r\n    const authInternal = _castAuth(auth);\r\n    const response = await signUp(authInternal, {\r\n        returnSecureToken: true,\r\n        email,\r\n        password\r\n    });\r\n    const userCredential = await UserCredentialImpl._fromIdTokenResponse(authInternal, \"signIn\" /* SIGN_IN */, response);\r\n    await authInternal._updateCurrentUser(userCredential.user);\r\n    return userCredential;\r\n}\r\n/**\r\n * Asynchronously signs in using an email and password.\r\n *\r\n * @remarks\r\n * Fails with an error if the email address and password do not match.\r\n *\r\n * Note: The user's password is NOT the password used to access the user's email account. The\r\n * email address serves as a unique identifier for the user, and the password is used to access\r\n * the user's account in your Firebase project. See also: {@link createUserWithEmailAndPassword}.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param email - The users email address.\r\n * @param password - The users password.\r\n *\r\n * @public\r\n */\r\nfunction signInWithEmailAndPassword(auth, email, password) {\r\n    return signInWithCredential(getModularInstance(auth), EmailAuthProvider.credential(email, password));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Sends a sign-in email link to the user with the specified email.\r\n *\r\n * @remarks\r\n * The sign-in operation has to always be completed in the app unlike other out of band email\r\n * actions (password reset and email verifications). This is because, at the end of the flow,\r\n * the user is expected to be signed in and their Auth state persisted within the app.\r\n *\r\n * To complete sign in with the email link, call {@link signInWithEmailLink} with the email\r\n * address and the email link supplied in the email sent to the user.\r\n *\r\n * @example\r\n * ```javascript\r\n * const actionCodeSettings = {\r\n *   url: 'https://www.example.com/?email=user@example.com',\r\n *   iOS: {\r\n *      bundleId: 'com.example.ios'\r\n *   },\r\n *   android: {\r\n *     packageName: 'com.example.android',\r\n *     installApp: true,\r\n *     minimumVersion: '12'\r\n *   },\r\n *   handleCodeInApp: true\r\n * };\r\n * await sendSignInLinkToEmail(auth, 'user@example.com', actionCodeSettings);\r\n * // Obtain emailLink from the user.\r\n * if(isSignInWithEmailLink(auth, emailLink)) {\r\n *   await signInWithEmailLink('user@example.com', 'user@example.com', emailLink);\r\n * }\r\n * ```\r\n *\r\n * @param authInternal - The Auth instance.\r\n * @param email - The user's email address.\r\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\r\n *\r\n * @public\r\n */\r\nasync function sendSignInLinkToEmail$1(auth, email, actionCodeSettings) {\r\n    const authModular = getModularInstance(auth);\r\n    const request = {\r\n        requestType: \"EMAIL_SIGNIN\" /* EMAIL_SIGNIN */,\r\n        email\r\n    };\r\n    _assert(actionCodeSettings.handleCodeInApp, authModular, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    if (actionCodeSettings) {\r\n        _setActionCodeSettingsOnRequest(authModular, request, actionCodeSettings);\r\n    }\r\n    await sendSignInLinkToEmail(authModular, request);\r\n}\r\n/**\r\n * Checks if an incoming link is a sign-in with email link suitable for {@link signInWithEmailLink}.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param emailLink - The link sent to the user's email address.\r\n *\r\n * @public\r\n */\r\nfunction isSignInWithEmailLink(auth, emailLink) {\r\n    const actionCodeUrl = ActionCodeURL.parseLink(emailLink);\r\n    return (actionCodeUrl === null || actionCodeUrl === void 0 ? void 0 : actionCodeUrl.operation) === \"EMAIL_SIGNIN\" /* EMAIL_SIGNIN */;\r\n}\r\n/**\r\n * Asynchronously signs in using an email and sign-in email link.\r\n *\r\n * @remarks\r\n * If no link is passed, the link is inferred from the current URL.\r\n *\r\n * Fails with an error if the email address is invalid or OTP in email link expires.\r\n *\r\n * Note: Confirm the link is a sign-in email link before calling this method firebase.auth.Auth.isSignInWithEmailLink.\r\n *\r\n * @example\r\n * ```javascript\r\n * const actionCodeSettings = {\r\n *   url: 'https://www.example.com/?email=user@example.com',\r\n *   iOS: {\r\n *      bundleId: 'com.example.ios'\r\n *   },\r\n *   android: {\r\n *     packageName: 'com.example.android',\r\n *     installApp: true,\r\n *     minimumVersion: '12'\r\n *   },\r\n *   handleCodeInApp: true\r\n * };\r\n * await sendSignInLinkToEmail(auth, 'user@example.com', actionCodeSettings);\r\n * // Obtain emailLink from the user.\r\n * if(isSignInWithEmailLink(auth, emailLink)) {\r\n *   await signInWithEmailLink('user@example.com', 'user@example.com', emailLink);\r\n * }\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param email - The user's email address.\r\n * @param emailLink - The link sent to the user's email address.\r\n *\r\n * @public\r\n */\r\nasync function signInWithEmailLink$1(auth, email, emailLink) {\r\n    const authModular = getModularInstance(auth);\r\n    const credential = EmailAuthProvider.credentialWithLink(email, emailLink || _getCurrentUrl());\r\n    // Check if the tenant ID in the email link matches the tenant ID on Auth\r\n    // instance.\r\n    _assert(credential._tenantId === (authModular.tenantId || null), authModular, \"tenant-id-mismatch\" /* TENANT_ID_MISMATCH */);\r\n    return signInWithCredential(authModular, credential);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function createAuthUri(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:createAuthUri\" /* CREATE_AUTH_URI */, _addTidIfNecessary(auth, request));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Gets the list of possible sign in methods for the given email address.\r\n *\r\n * @remarks\r\n * This is useful to differentiate methods of sign-in for the same provider, eg.\r\n * {@link EmailAuthProvider} which has 2 methods of sign-in,\r\n * {@link SignInMethod.EMAIL_PASSWORD} and\r\n * {@link SignInMethod.EMAIL_LINK} .\r\n *\r\n * @param auth - The Auth instance.\r\n * @param email - The user's email address.\r\n *\r\n * @public\r\n */\r\nasync function fetchSignInMethodsForEmail(auth, email) {\r\n    // createAuthUri returns an error if continue URI is not http or https.\r\n    // For environments like Cordova, Chrome extensions, native frameworks, file\r\n    // systems, etc, use http://localhost as continue URL.\r\n    const continueUri = _isHttpOrHttps() ? _getCurrentUrl() : 'http://localhost';\r\n    const request = {\r\n        identifier: email,\r\n        continueUri\r\n    };\r\n    const { signinMethods } = await createAuthUri(getModularInstance(auth), request);\r\n    return signinMethods || [];\r\n}\r\n/**\r\n * Sends a verification email to a user.\r\n *\r\n * @remarks\r\n * The verification process is completed by calling {@link applyActionCode}.\r\n *\r\n * @example\r\n * ```javascript\r\n * const actionCodeSettings = {\r\n *   url: 'https://www.example.com/?email=user@example.com',\r\n *   iOS: {\r\n *      bundleId: 'com.example.ios'\r\n *   },\r\n *   android: {\r\n *     packageName: 'com.example.android',\r\n *     installApp: true,\r\n *     minimumVersion: '12'\r\n *   },\r\n *   handleCodeInApp: true\r\n * };\r\n * await sendEmailVerification(user, actionCodeSettings);\r\n * // Obtain code from the user.\r\n * await applyActionCode(auth, code);\r\n * ```\r\n *\r\n * @param user - The user.\r\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\r\n *\r\n * @public\r\n */\r\nasync function sendEmailVerification$1(user, actionCodeSettings) {\r\n    const userInternal = getModularInstance(user);\r\n    const idToken = await user.getIdToken();\r\n    const request = {\r\n        requestType: \"VERIFY_EMAIL\" /* VERIFY_EMAIL */,\r\n        idToken\r\n    };\r\n    if (actionCodeSettings) {\r\n        _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);\r\n    }\r\n    const { email } = await sendEmailVerification(userInternal.auth, request);\r\n    if (email !== user.email) {\r\n        await user.reload();\r\n    }\r\n}\r\n/**\r\n * Sends a verification email to a new email address.\r\n *\r\n * @remarks\r\n * The user's email will be updated to the new one after being verified.\r\n *\r\n * If you have a custom email action handler, you can complete the verification process by calling\r\n * {@link applyActionCode}.\r\n *\r\n * @example\r\n * ```javascript\r\n * const actionCodeSettings = {\r\n *   url: 'https://www.example.com/?email=user@example.com',\r\n *   iOS: {\r\n *      bundleId: 'com.example.ios'\r\n *   },\r\n *   android: {\r\n *     packageName: 'com.example.android',\r\n *     installApp: true,\r\n *     minimumVersion: '12'\r\n *   },\r\n *   handleCodeInApp: true\r\n * };\r\n * await verifyBeforeUpdateEmail(user, 'newemail@example.com', actionCodeSettings);\r\n * // Obtain code from the user.\r\n * await applyActionCode(auth, code);\r\n * ```\r\n *\r\n * @param user - The user.\r\n * @param newEmail - The new email address to be verified before update.\r\n * @param actionCodeSettings - The {@link ActionCodeSettings}.\r\n *\r\n * @public\r\n */\r\nasync function verifyBeforeUpdateEmail(user, newEmail, actionCodeSettings) {\r\n    const userInternal = getModularInstance(user);\r\n    const idToken = await user.getIdToken();\r\n    const request = {\r\n        requestType: \"VERIFY_AND_CHANGE_EMAIL\" /* VERIFY_AND_CHANGE_EMAIL */,\r\n        idToken,\r\n        newEmail\r\n    };\r\n    if (actionCodeSettings) {\r\n        _setActionCodeSettingsOnRequest(userInternal.auth, request, actionCodeSettings);\r\n    }\r\n    const { email } = await verifyAndChangeEmail(userInternal.auth, request);\r\n    if (email !== user.email) {\r\n        // If the local copy of the email on user is outdated, reload the\r\n        // user.\r\n        await user.reload();\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function updateProfile(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v1/accounts:update\" /* SET_ACCOUNT_INFO */, request);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Updates a user's profile data.\r\n *\r\n * @param user - The user.\r\n * @param profile - The profile's `displayName` and `photoURL` to update.\r\n *\r\n * @public\r\n */\r\nasync function updateProfile$1(user, { displayName, photoURL: photoUrl }) {\r\n    if (displayName === undefined && photoUrl === undefined) {\r\n        return;\r\n    }\r\n    const userInternal = getModularInstance(user);\r\n    const idToken = await userInternal.getIdToken();\r\n    const profileRequest = {\r\n        idToken,\r\n        displayName,\r\n        photoUrl,\r\n        returnSecureToken: true\r\n    };\r\n    const response = await _logoutIfInvalidated(userInternal, updateProfile(userInternal.auth, profileRequest));\r\n    userInternal.displayName = response.displayName || null;\r\n    userInternal.photoURL = response.photoUrl || null;\r\n    // Update the password provider as well\r\n    const passwordProvider = userInternal.providerData.find(({ providerId }) => providerId === \"password\" /* PASSWORD */);\r\n    if (passwordProvider) {\r\n        passwordProvider.displayName = userInternal.displayName;\r\n        passwordProvider.photoURL = userInternal.photoURL;\r\n    }\r\n    await userInternal._updateTokensIfNecessary(response);\r\n}\r\n/**\r\n * Updates the user's email address.\r\n *\r\n * @remarks\r\n * An email will be sent to the original email address (if it was set) that allows to revoke the\r\n * email address change, in order to protect them from account hijacking.\r\n *\r\n * Important: this is a security sensitive operation that requires the user to have recently signed\r\n * in. If this requirement isn't met, ask the user to authenticate again and then call\r\n * {@link reauthenticateWithCredential}.\r\n *\r\n * @param user - The user.\r\n * @param newEmail - The new email address.\r\n *\r\n * @public\r\n */\r\nfunction updateEmail(user, newEmail) {\r\n    return updateEmailOrPassword(getModularInstance(user), newEmail, null);\r\n}\r\n/**\r\n * Updates the user's password.\r\n *\r\n * @remarks\r\n * Important: this is a security sensitive operation that requires the user to have recently signed\r\n * in. If this requirement isn't met, ask the user to authenticate again and then call\r\n * {@link reauthenticateWithCredential}.\r\n *\r\n * @param user - The user.\r\n * @param newPassword - The new password.\r\n *\r\n * @public\r\n */\r\nfunction updatePassword(user, newPassword) {\r\n    return updateEmailOrPassword(getModularInstance(user), null, newPassword);\r\n}\r\nasync function updateEmailOrPassword(user, email, password) {\r\n    const { auth } = user;\r\n    const idToken = await user.getIdToken();\r\n    const request = {\r\n        idToken,\r\n        returnSecureToken: true\r\n    };\r\n    if (email) {\r\n        request.email = email;\r\n    }\r\n    if (password) {\r\n        request.password = password;\r\n    }\r\n    const response = await _logoutIfInvalidated(user, updateEmailPassword(auth, request));\r\n    await user._updateTokensIfNecessary(response, /* reload */ true);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Parse the `AdditionalUserInfo` from the ID token response.\r\n *\r\n */\r\nfunction _fromIdTokenResponse(idTokenResponse) {\r\n    var _a, _b;\r\n    if (!idTokenResponse) {\r\n        return null;\r\n    }\r\n    const { providerId } = idTokenResponse;\r\n    const profile = idTokenResponse.rawUserInfo\r\n        ? JSON.parse(idTokenResponse.rawUserInfo)\r\n        : {};\r\n    const isNewUser = idTokenResponse.isNewUser ||\r\n        idTokenResponse.kind === \"identitytoolkit#SignupNewUserResponse\" /* SignupNewUser */;\r\n    if (!providerId && (idTokenResponse === null || idTokenResponse === void 0 ? void 0 : idTokenResponse.idToken)) {\r\n        const signInProvider = (_b = (_a = _parseToken(idTokenResponse.idToken)) === null || _a === void 0 ? void 0 : _a.firebase) === null || _b === void 0 ? void 0 : _b['sign_in_provider'];\r\n        if (signInProvider) {\r\n            const filteredProviderId = signInProvider !== \"anonymous\" /* ANONYMOUS */ &&\r\n                signInProvider !== \"custom\" /* CUSTOM */\r\n                ? signInProvider\r\n                : null;\r\n            // Uses generic class in accordance with the legacy SDK.\r\n            return new GenericAdditionalUserInfo(isNewUser, filteredProviderId);\r\n        }\r\n    }\r\n    if (!providerId) {\r\n        return null;\r\n    }\r\n    switch (providerId) {\r\n        case \"facebook.com\" /* FACEBOOK */:\r\n            return new FacebookAdditionalUserInfo(isNewUser, profile);\r\n        case \"github.com\" /* GITHUB */:\r\n            return new GithubAdditionalUserInfo(isNewUser, profile);\r\n        case \"google.com\" /* GOOGLE */:\r\n            return new GoogleAdditionalUserInfo(isNewUser, profile);\r\n        case \"twitter.com\" /* TWITTER */:\r\n            return new TwitterAdditionalUserInfo(isNewUser, profile, idTokenResponse.screenName || null);\r\n        case \"custom\" /* CUSTOM */:\r\n        case \"anonymous\" /* ANONYMOUS */:\r\n            return new GenericAdditionalUserInfo(isNewUser, null);\r\n        default:\r\n            return new GenericAdditionalUserInfo(isNewUser, providerId, profile);\r\n    }\r\n}\r\nclass GenericAdditionalUserInfo {\r\n    constructor(isNewUser, providerId, profile = {}) {\r\n        this.isNewUser = isNewUser;\r\n        this.providerId = providerId;\r\n        this.profile = profile;\r\n    }\r\n}\r\nclass FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo {\r\n    constructor(isNewUser, providerId, profile, username) {\r\n        super(isNewUser, providerId, profile);\r\n        this.username = username;\r\n    }\r\n}\r\nclass FacebookAdditionalUserInfo extends GenericAdditionalUserInfo {\r\n    constructor(isNewUser, profile) {\r\n        super(isNewUser, \"facebook.com\" /* FACEBOOK */, profile);\r\n    }\r\n}\r\nclass GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername {\r\n    constructor(isNewUser, profile) {\r\n        super(isNewUser, \"github.com\" /* GITHUB */, profile, typeof (profile === null || profile === void 0 ? void 0 : profile.login) === 'string' ? profile === null || profile === void 0 ? void 0 : profile.login : null);\r\n    }\r\n}\r\nclass GoogleAdditionalUserInfo extends GenericAdditionalUserInfo {\r\n    constructor(isNewUser, profile) {\r\n        super(isNewUser, \"google.com\" /* GOOGLE */, profile);\r\n    }\r\n}\r\nclass TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername {\r\n    constructor(isNewUser, profile, screenName) {\r\n        super(isNewUser, \"twitter.com\" /* TWITTER */, profile, screenName);\r\n    }\r\n}\r\n/**\r\n * Extracts provider specific {@link AdditionalUserInfo} for the given credential.\r\n *\r\n * @param userCredential - The user credential.\r\n *\r\n * @public\r\n */\r\nfunction getAdditionalUserInfo(userCredential) {\r\n    const { user, _tokenResponse } = userCredential;\r\n    if (user.isAnonymous && !_tokenResponse) {\r\n        // Handle the special case where signInAnonymously() gets called twice.\r\n        // No network call is made so there's nothing to actually fill this in\r\n        return {\r\n            providerId: null,\r\n            isNewUser: false,\r\n            profile: null\r\n        };\r\n    }\r\n    return _fromIdTokenResponse(_tokenResponse);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// Non-optional auth methods.\r\n/**\r\n * Changes the type of persistence on the Auth instance for the currently saved\r\n * Auth session and applies this type of persistence for future sign-in requests, including\r\n * sign-in with redirect requests.\r\n *\r\n * @remarks\r\n * This makes it easy for a user signing in to specify whether their session should be\r\n * remembered or not. It also makes it easier to never persist the Auth state for applications\r\n * that are shared by other users or have sensitive data.\r\n *\r\n * @example\r\n * ```javascript\r\n * setPersistence(auth, browserSessionPersistence);\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param persistence - The {@link Persistence} to use.\r\n * @returns A promise that resolves once the persistence change has completed\r\n *\r\n * @public\r\n */\r\nfunction setPersistence(auth, persistence) {\r\n    return getModularInstance(auth).setPersistence(persistence);\r\n}\r\n/**\r\n * Adds an observer for changes to the signed-in user's ID token, which includes sign-in,\r\n * sign-out, and token refresh events.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param nextOrObserver - callback triggered on change.\r\n * @param error - callback triggered on error.\r\n * @param completed - callback triggered when observer is removed.\r\n *\r\n * @public\r\n */\r\nfunction onIdTokenChanged(auth, nextOrObserver, error, completed) {\r\n    return getModularInstance(auth).onIdTokenChanged(nextOrObserver, error, completed);\r\n}\r\n/**\r\n * Adds an observer for changes to the user's sign-in state.\r\n *\r\n * @remarks\r\n * To keep the old behavior, see {@link onIdTokenChanged}.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param nextOrObserver - callback triggered on change.\r\n * @param error - callback triggered on error.\r\n * @param completed - callback triggered when observer is removed.\r\n *\r\n * @public\r\n */\r\nfunction onAuthStateChanged(auth, nextOrObserver, error, completed) {\r\n    return getModularInstance(auth).onAuthStateChanged(nextOrObserver, error, completed);\r\n}\r\n/**\r\n * Sets the current language to the default device/browser preference.\r\n *\r\n * @param auth - The Auth instanec.\r\n *\r\n * @public\r\n */\r\nfunction useDeviceLanguage(auth) {\r\n    getModularInstance(auth).useDeviceLanguage();\r\n}\r\n/**\r\n * Asynchronously sets the provided user as {@link Auth.currentUser} on the\r\n * {@link Auth} instance.\r\n *\r\n * @remarks\r\n * A new instance copy of the user provided will be made and set as currentUser.\r\n *\r\n * This will trigger {@link onAuthStateChanged} and {@link onIdTokenChanged} listeners\r\n * like other sign in methods.\r\n *\r\n * The operation fails with an error if the user to be updated belongs to a different Firebase\r\n * project.\r\n *\r\n * @param auth - The Auth instance.\r\n * @param user - The new {@link User}.\r\n *\r\n * @public\r\n */\r\nfunction updateCurrentUser(auth, user) {\r\n    return getModularInstance(auth).updateCurrentUser(user);\r\n}\r\n/**\r\n * Signs out the current user.\r\n *\r\n * @param auth - The Auth instance.\r\n *\r\n * @public\r\n */\r\nfunction signOut(auth) {\r\n    return getModularInstance(auth).signOut();\r\n}\r\n/**\r\n * Deletes and signs out the user.\r\n *\r\n * @remarks\r\n * Important: this is a security-sensitive operation that requires the user to have recently\r\n * signed in. If this requirement isn't met, ask the user to authenticate again and then call\r\n * {@link reauthenticateWithCredential}.\r\n *\r\n * @param user - The user.\r\n *\r\n * @public\r\n */\r\nasync function deleteUser(user) {\r\n    return getModularInstance(user).delete();\r\n}\n\nclass MultiFactorSessionImpl {\r\n    constructor(type, credential) {\r\n        this.type = type;\r\n        this.credential = credential;\r\n    }\r\n    static _fromIdtoken(idToken) {\r\n        return new MultiFactorSessionImpl(\"enroll\" /* ENROLL */, idToken);\r\n    }\r\n    static _fromMfaPendingCredential(mfaPendingCredential) {\r\n        return new MultiFactorSessionImpl(\"signin\" /* SIGN_IN */, mfaPendingCredential);\r\n    }\r\n    toJSON() {\r\n        const key = this.type === \"enroll\" /* ENROLL */\r\n            ? 'idToken'\r\n            : 'pendingCredential';\r\n        return {\r\n            multiFactorSession: {\r\n                [key]: this.credential\r\n            }\r\n        };\r\n    }\r\n    static fromJSON(obj) {\r\n        var _a, _b;\r\n        if (obj === null || obj === void 0 ? void 0 : obj.multiFactorSession) {\r\n            if ((_a = obj.multiFactorSession) === null || _a === void 0 ? void 0 : _a.pendingCredential) {\r\n                return MultiFactorSessionImpl._fromMfaPendingCredential(obj.multiFactorSession.pendingCredential);\r\n            }\r\n            else if ((_b = obj.multiFactorSession) === null || _b === void 0 ? void 0 : _b.idToken) {\r\n                return MultiFactorSessionImpl._fromIdtoken(obj.multiFactorSession.idToken);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass MultiFactorResolverImpl {\r\n    constructor(session, hints, signInResolver) {\r\n        this.session = session;\r\n        this.hints = hints;\r\n        this.signInResolver = signInResolver;\r\n    }\r\n    /** @internal */\r\n    static _fromError(authExtern, error) {\r\n        const auth = _castAuth(authExtern);\r\n        const hints = (error.serverResponse.mfaInfo || []).map(enrollment => MultiFactorInfoImpl._fromServerResponse(auth, enrollment));\r\n        _assert(error.serverResponse.mfaPendingCredential, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        const session = MultiFactorSessionImpl._fromMfaPendingCredential(error.serverResponse.mfaPendingCredential);\r\n        return new MultiFactorResolverImpl(session, hints, async (assertion) => {\r\n            const mfaResponse = await assertion._process(auth, session);\r\n            // Clear out the unneeded fields from the old login response\r\n            delete error.serverResponse.mfaInfo;\r\n            delete error.serverResponse.mfaPendingCredential;\r\n            // Use in the new token & refresh token in the old response\r\n            const idTokenResponse = Object.assign(Object.assign({}, error.serverResponse), { idToken: mfaResponse.idToken, refreshToken: mfaResponse.refreshToken });\r\n            // TODO: we should collapse this switch statement into UserCredentialImpl._forOperation and have it support the SIGN_IN case\r\n            switch (error.operationType) {\r\n                case \"signIn\" /* SIGN_IN */:\r\n                    const userCredential = await UserCredentialImpl._fromIdTokenResponse(auth, error.operationType, idTokenResponse);\r\n                    await auth._updateCurrentUser(userCredential.user);\r\n                    return userCredential;\r\n                case \"reauthenticate\" /* REAUTHENTICATE */:\r\n                    _assert(error.user, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n                    return UserCredentialImpl._forOperation(error.user, error.operationType, idTokenResponse);\r\n                default:\r\n                    _fail(auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n            }\r\n        });\r\n    }\r\n    async resolveSignIn(assertionExtern) {\r\n        const assertion = assertionExtern;\r\n        return this.signInResolver(assertion);\r\n    }\r\n}\r\n/**\r\n * Provides a {@link MultiFactorResolver} suitable for completion of a\r\n * multi-factor flow.\r\n *\r\n * @param auth - The auth instance.\r\n * @param error - The {@link MultiFactorError} raised during a sign-in, or\r\n * reauthentication operation.\r\n *\r\n * @public\r\n */\r\nfunction getMultiFactorResolver(auth, error) {\r\n    var _a;\r\n    const authModular = getModularInstance(auth);\r\n    const errorInternal = error;\r\n    _assert(error.operationType, authModular, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    _assert((_a = errorInternal.serverResponse) === null || _a === void 0 ? void 0 : _a.mfaPendingCredential, authModular, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    return MultiFactorResolverImpl._fromError(authModular, errorInternal);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction startEnrollPhoneMfa(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v2/accounts/mfaEnrollment:start\" /* START_PHONE_MFA_ENROLLMENT */, Object.assign({ tenantId: auth.tenantId }, request));\r\n}\r\nfunction finalizeEnrollPhoneMfa(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v2/accounts/mfaEnrollment:finalize\" /* FINALIZE_PHONE_MFA_ENROLLMENT */, Object.assign({ tenantId: auth.tenantId }, request));\r\n}\r\nfunction withdrawMfa(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v2/accounts/mfaEnrollment:withdraw\" /* WITHDRAW_MFA */, Object.assign({ tenantId: auth.tenantId }, request));\r\n}\n\nclass MultiFactorUserImpl {\r\n    constructor(user) {\r\n        this.user = user;\r\n        this.enrolledFactors = [];\r\n        user._onReload(userInfo => {\r\n            if (userInfo.mfaInfo) {\r\n                this.enrolledFactors = userInfo.mfaInfo.map(enrollment => MultiFactorInfoImpl._fromServerResponse(user.auth, enrollment));\r\n            }\r\n        });\r\n    }\r\n    static _fromUser(user) {\r\n        return new MultiFactorUserImpl(user);\r\n    }\r\n    async getSession() {\r\n        return MultiFactorSessionImpl._fromIdtoken(await this.user.getIdToken());\r\n    }\r\n    async enroll(assertionExtern, displayName) {\r\n        const assertion = assertionExtern;\r\n        const session = (await this.getSession());\r\n        const finalizeMfaResponse = await _logoutIfInvalidated(this.user, assertion._process(this.user.auth, session, displayName));\r\n        // New tokens will be issued after enrollment of the new second factors.\r\n        // They need to be updated on the user.\r\n        await this.user._updateTokensIfNecessary(finalizeMfaResponse);\r\n        // The user needs to be reloaded to get the new multi-factor information\r\n        // from server. USER_RELOADED event will be triggered and `enrolledFactors`\r\n        // will be updated.\r\n        return this.user.reload();\r\n    }\r\n    async unenroll(infoOrUid) {\r\n        const mfaEnrollmentId = typeof infoOrUid === 'string' ? infoOrUid : infoOrUid.uid;\r\n        const idToken = await this.user.getIdToken();\r\n        const idTokenResponse = await _logoutIfInvalidated(this.user, withdrawMfa(this.user.auth, {\r\n            idToken,\r\n            mfaEnrollmentId\r\n        }));\r\n        // Remove the second factor from the user's list.\r\n        this.enrolledFactors = this.enrolledFactors.filter(({ uid }) => uid !== mfaEnrollmentId);\r\n        // Depending on whether the backend decided to revoke the user's session,\r\n        // the tokenResponse may be empty. If the tokens were not updated (and they\r\n        // are now invalid), reloading the user will discover this and invalidate\r\n        // the user's state accordingly.\r\n        await this.user._updateTokensIfNecessary(idTokenResponse);\r\n        try {\r\n            await this.user.reload();\r\n        }\r\n        catch (e) {\r\n            if (e.code !== `auth/${\"user-token-expired\" /* TOKEN_EXPIRED */}`) {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n}\r\nconst multiFactorUserCache = new WeakMap();\r\n/**\r\n * The {@link MultiFactorUser} corresponding to the user.\r\n *\r\n * @remarks\r\n * This is used to access all multi-factor properties and operations related to the user.\r\n *\r\n * @param user - The user.\r\n *\r\n * @public\r\n */\r\nfunction multiFactor(user) {\r\n    const userModular = getModularInstance(user);\r\n    if (!multiFactorUserCache.has(userModular)) {\r\n        multiFactorUserCache.set(userModular, MultiFactorUserImpl._fromUser(userModular));\r\n    }\r\n    return multiFactorUserCache.get(userModular);\r\n}\n\nvar name = \"@firebase/auth-exp\";\nvar version = \"0.0.900-exp.894b5da5a\";\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass AuthInterop {\r\n    constructor(auth) {\r\n        this.auth = auth;\r\n        this.internalListeners = new Map();\r\n    }\r\n    getUid() {\r\n        var _a;\r\n        this.assertAuthConfigured();\r\n        return ((_a = this.auth.currentUser) === null || _a === void 0 ? void 0 : _a.uid) || null;\r\n    }\r\n    async getToken(forceRefresh) {\r\n        this.assertAuthConfigured();\r\n        await this.auth._initializationPromise;\r\n        if (!this.auth.currentUser) {\r\n            return null;\r\n        }\r\n        const accessToken = await this.auth.currentUser.getIdToken(forceRefresh);\r\n        return { accessToken };\r\n    }\r\n    addAuthTokenListener(listener) {\r\n        this.assertAuthConfigured();\r\n        if (this.internalListeners.has(listener)) {\r\n            return;\r\n        }\r\n        const unsubscribe = this.auth.onIdTokenChanged(user => {\r\n            var _a;\r\n            listener(((_a = user) === null || _a === void 0 ? void 0 : _a.stsTokenManager.accessToken) || null);\r\n        });\r\n        this.internalListeners.set(listener, unsubscribe);\r\n        this.updateProactiveRefresh();\r\n    }\r\n    removeAuthTokenListener(listener) {\r\n        this.assertAuthConfigured();\r\n        const unsubscribe = this.internalListeners.get(listener);\r\n        if (!unsubscribe) {\r\n            return;\r\n        }\r\n        this.internalListeners.delete(listener);\r\n        unsubscribe();\r\n        this.updateProactiveRefresh();\r\n    }\r\n    assertAuthConfigured() {\r\n        _assert(this.auth._initializationPromise, \"dependent-sdk-initialized-before-auth\" /* DEPENDENT_SDK_INIT_BEFORE_AUTH */);\r\n    }\r\n    updateProactiveRefresh() {\r\n        if (this.internalListeners.size > 0) {\r\n            this.auth._startProactiveRefresh();\r\n        }\r\n        else {\r\n            this.auth._stopProactiveRefresh();\r\n        }\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction getVersionForPlatform(clientPlatform) {\r\n    switch (clientPlatform) {\r\n        case \"Node\" /* NODE */:\r\n            return 'node';\r\n        case \"ReactNative\" /* REACT_NATIVE */:\r\n            return 'rn';\r\n        case \"Worker\" /* WORKER */:\r\n            return 'webworker';\r\n        case \"Cordova\" /* CORDOVA */:\r\n            return 'cordova';\r\n        default:\r\n            return undefined;\r\n    }\r\n}\r\n/** @internal */\r\nfunction registerAuth(clientPlatform) {\r\n    _registerComponent(new Component(\"auth-exp\" /* AUTH */, (container, { options: deps }) => {\r\n        const app = container.getProvider('app-exp').getImmediate();\r\n        const { apiKey, authDomain } = app.options;\r\n        return (app => {\r\n            _assert(apiKey && !apiKey.includes(':'), \"invalid-api-key\" /* INVALID_API_KEY */, { appName: app.name });\r\n            // Auth domain is optional if IdP sign in isn't being used\r\n            _assert(!(authDomain === null || authDomain === void 0 ? void 0 : authDomain.includes(':')), \"argument-error\" /* ARGUMENT_ERROR */, {\r\n                appName: app.name\r\n            });\r\n            const config = {\r\n                apiKey,\r\n                authDomain,\r\n                clientPlatform,\r\n                apiHost: \"identitytoolkit.googleapis.com\" /* API_HOST */,\r\n                tokenApiHost: \"securetoken.googleapis.com\" /* TOKEN_API_HOST */,\r\n                apiScheme: \"https\" /* API_SCHEME */,\r\n                sdkClientVersion: _getClientVersion(clientPlatform)\r\n            };\r\n            const authInstance = new AuthImpl(app, config);\r\n            _initializeAuthInstance(authInstance, deps);\r\n            return authInstance;\r\n        })(app);\r\n    }, \"PUBLIC\" /* PUBLIC */)\r\n        /**\r\n         * Auth can only be initialized by explicitly calling getAuth() or initializeAuth()\r\n         * For why we do this, See go/firebase-next-auth-init\r\n         */\r\n        .setInstantiationMode(\"EXPLICIT\" /* EXPLICIT */)\r\n        /**\r\n         * Because all firebase products that depend on auth depend on auth-internal directly,\r\n         * we need to initialize auth-internal after auth is initialized to make it available to other firebase products.\r\n         */\r\n        .setInstanceCreatedCallback((container, _instanceIdentifier, _instance) => {\r\n        const authInternalProvider = container.getProvider(\"auth-internal\" /* AUTH_INTERNAL */);\r\n        authInternalProvider.initialize();\r\n    }));\r\n    _registerComponent(new Component(\"auth-internal\" /* AUTH_INTERNAL */, container => {\r\n        const auth = _castAuth(container.getProvider(\"auth-exp\" /* AUTH */).getImmediate());\r\n        return (auth => new AuthInterop(auth))(auth);\r\n    }, \"PRIVATE\" /* PRIVATE */).setInstantiationMode(\"EXPLICIT\" /* EXPLICIT */));\r\n    registerVersion(name, version, getVersionForPlatform(clientPlatform));\r\n}\n\nconst STORAGE_AVAILABLE_KEY = '__sak';\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// There are two different browser persistence types: local and session.\r\n// Both have the same implementation but use a different underlying storage\r\n// object.\r\nclass BrowserPersistenceClass {\r\n    constructor(storage, type) {\r\n        this.storage = storage;\r\n        this.type = type;\r\n    }\r\n    _isAvailable() {\r\n        try {\r\n            if (!this.storage) {\r\n                return Promise.resolve(false);\r\n            }\r\n            this.storage.setItem(STORAGE_AVAILABLE_KEY, '1');\r\n            this.storage.removeItem(STORAGE_AVAILABLE_KEY);\r\n            return Promise.resolve(true);\r\n        }\r\n        catch (_a) {\r\n            return Promise.resolve(false);\r\n        }\r\n    }\r\n    _set(key, value) {\r\n        this.storage.setItem(key, JSON.stringify(value));\r\n        return Promise.resolve();\r\n    }\r\n    _get(key) {\r\n        const json = this.storage.getItem(key);\r\n        return Promise.resolve(json ? JSON.parse(json) : null);\r\n    }\r\n    _remove(key) {\r\n        this.storage.removeItem(key);\r\n        return Promise.resolve();\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _iframeCannotSyncWebStorage() {\r\n    const ua = getUA();\r\n    return _isSafari(ua) || _isIOS(ua);\r\n}\r\n// The polling period in case events are not supported\r\nconst _POLLING_INTERVAL_MS = 1000;\r\n// The IE 10 localStorage cross tab synchronization delay in milliseconds\r\nconst IE10_LOCAL_STORAGE_SYNC_DELAY = 10;\r\nclass BrowserLocalPersistence extends BrowserPersistenceClass {\r\n    constructor() {\r\n        super(window.localStorage, \"LOCAL\" /* LOCAL */);\r\n        this.listeners = {};\r\n        this.localCache = {};\r\n        // setTimeout return value is platform specific\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.pollTimer = null;\r\n        // Safari or iOS browser and embedded in an iframe.\r\n        this.safariLocalStorageNotSynced = _iframeCannotSyncWebStorage() && _isIframe();\r\n        // Whether to use polling instead of depending on window events\r\n        this.fallbackToPolling = _isMobileBrowser();\r\n        this.boundEventHandler = this.onStorageEvent.bind(this);\r\n    }\r\n    forAllChangedKeys(cb) {\r\n        // Check all keys with listeners on them.\r\n        for (const key of Object.keys(this.listeners)) {\r\n            // Get value from localStorage.\r\n            const newValue = this.storage.getItem(key);\r\n            const oldValue = this.localCache[key];\r\n            // If local map value does not match, trigger listener with storage event.\r\n            // Differentiate this simulated event from the real storage event.\r\n            if (newValue !== oldValue) {\r\n                cb(key, oldValue, newValue);\r\n            }\r\n        }\r\n    }\r\n    onStorageEvent(event, poll = false) {\r\n        // Key would be null in some situations, like when localStorage is cleared\r\n        if (!event.key) {\r\n            this.forAllChangedKeys((key, _oldValue, newValue) => {\r\n                this.notifyListeners(key, newValue);\r\n            });\r\n            return;\r\n        }\r\n        const key = event.key;\r\n        // Check the mechanism how this event was detected.\r\n        // The first event will dictate the mechanism to be used.\r\n        if (poll) {\r\n            // Environment detects storage changes via polling.\r\n            // Remove storage event listener to prevent possible event duplication.\r\n            this.detachListener();\r\n        }\r\n        else {\r\n            // Environment detects storage changes via storage event listener.\r\n            // Remove polling listener to prevent possible event duplication.\r\n            this.stopPolling();\r\n        }\r\n        // Safari embedded iframe. Storage event will trigger with the delta\r\n        // changes but no changes will be applied to the iframe localStorage.\r\n        if (this.safariLocalStorageNotSynced) {\r\n            // Get current iframe page value.\r\n            const storedValue = this.storage.getItem(key);\r\n            // Value not synchronized, synchronize manually.\r\n            if (event.newValue !== storedValue) {\r\n                if (event.newValue !== null) {\r\n                    // Value changed from current value.\r\n                    this.storage.setItem(key, event.newValue);\r\n                }\r\n                else {\r\n                    // Current value deleted.\r\n                    this.storage.removeItem(key);\r\n                }\r\n            }\r\n            else if (this.localCache[key] === event.newValue && !poll) {\r\n                // Already detected and processed, do not trigger listeners again.\r\n                return;\r\n            }\r\n        }\r\n        const triggerListeners = () => {\r\n            // Keep local map up to date in case storage event is triggered before\r\n            // poll.\r\n            const storedValue = this.storage.getItem(key);\r\n            if (!poll && this.localCache[key] === storedValue) {\r\n                // Real storage event which has already been detected, do nothing.\r\n                // This seems to trigger in some IE browsers for some reason.\r\n                return;\r\n            }\r\n            this.notifyListeners(key, storedValue);\r\n        };\r\n        const storedValue = this.storage.getItem(key);\r\n        if (_isIE10() &&\r\n            storedValue !== event.newValue &&\r\n            event.newValue !== event.oldValue) {\r\n            // IE 10 has this weird bug where a storage event would trigger with the\r\n            // correct key, oldValue and newValue but localStorage.getItem(key) does\r\n            // not yield the updated value until a few milliseconds. This ensures\r\n            // this recovers from that situation.\r\n            setTimeout(triggerListeners, IE10_LOCAL_STORAGE_SYNC_DELAY);\r\n        }\r\n        else {\r\n            triggerListeners();\r\n        }\r\n    }\r\n    notifyListeners(key, value) {\r\n        this.localCache[key] = value;\r\n        const listeners = this.listeners[key];\r\n        if (listeners) {\r\n            for (const listener of Array.from(listeners)) {\r\n                listener(value ? JSON.parse(value) : value);\r\n            }\r\n        }\r\n    }\r\n    startPolling() {\r\n        this.stopPolling();\r\n        this.pollTimer = setInterval(() => {\r\n            this.forAllChangedKeys((key, oldValue, newValue) => {\r\n                this.onStorageEvent(new StorageEvent('storage', {\r\n                    key,\r\n                    oldValue,\r\n                    newValue\r\n                }), \r\n                /* poll */ true);\r\n            });\r\n        }, _POLLING_INTERVAL_MS);\r\n    }\r\n    stopPolling() {\r\n        if (this.pollTimer) {\r\n            clearInterval(this.pollTimer);\r\n            this.pollTimer = null;\r\n        }\r\n    }\r\n    attachListener() {\r\n        window.addEventListener('storage', this.boundEventHandler);\r\n    }\r\n    detachListener() {\r\n        window.removeEventListener('storage', this.boundEventHandler);\r\n    }\r\n    _addListener(key, listener) {\r\n        if (Object.keys(this.listeners).length === 0) {\r\n            // Whether browser can detect storage event when it had already been pushed to the background.\r\n            // This may happen in some mobile browsers. A localStorage change in the foreground window\r\n            // will not be detected in the background window via the storage event.\r\n            // This was detected in iOS 7.x mobile browsers\r\n            if (this.fallbackToPolling) {\r\n                this.startPolling();\r\n            }\r\n            else {\r\n                this.attachListener();\r\n            }\r\n        }\r\n        if (!this.listeners[key]) {\r\n            this.listeners[key] = new Set();\r\n            // Populate the cache to avoid spuriously triggering on first poll.\r\n            this.localCache[key] = this.storage.getItem(key);\r\n        }\r\n        this.listeners[key].add(listener);\r\n    }\r\n    _removeListener(key, listener) {\r\n        if (this.listeners[key]) {\r\n            this.listeners[key].delete(listener);\r\n            if (this.listeners[key].size === 0) {\r\n                delete this.listeners[key];\r\n            }\r\n        }\r\n        if (Object.keys(this.listeners).length === 0) {\r\n            this.detachListener();\r\n            this.stopPolling();\r\n        }\r\n    }\r\n    // Update local cache on base operations:\r\n    async _set(key, value) {\r\n        await super._set(key, value);\r\n        this.localCache[key] = JSON.stringify(value);\r\n    }\r\n    async _get(key) {\r\n        const value = await super._get(key);\r\n        this.localCache[key] = JSON.stringify(value);\r\n        return value;\r\n    }\r\n    async _remove(key) {\r\n        await super._remove(key);\r\n        delete this.localCache[key];\r\n    }\r\n}\r\nBrowserLocalPersistence.type = 'LOCAL';\r\n/**\r\n * An implementation of {@link Persistence} of type 'LOCAL' using `localStorage`\r\n * for the underlying storage.\r\n *\r\n * @public\r\n */\r\nconst browserLocalPersistence = BrowserLocalPersistence;\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Shim for Promise.allSettled, note the slightly different format of `fulfilled` vs `status`.\r\n *\r\n * @param promises - Array of promises to wait on.\r\n */\r\nfunction _allSettled(promises) {\r\n    return Promise.all(promises.map(async (promise) => {\r\n        try {\r\n            const value = await promise;\r\n            return {\r\n                fulfilled: true,\r\n                value\r\n            };\r\n        }\r\n        catch (reason) {\r\n            return {\r\n                fulfilled: false,\r\n                reason\r\n            };\r\n        }\r\n    }));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Interface class for receiving messages.\r\n *\r\n */\r\nclass Receiver {\r\n    constructor(eventTarget) {\r\n        this.eventTarget = eventTarget;\r\n        this.handlersMap = {};\r\n        this.boundEventHandler = this.handleEvent.bind(this);\r\n    }\r\n    /**\r\n     * Obtain an instance of a Receiver for a given event target, if none exists it will be created.\r\n     *\r\n     * @param eventTarget - An event target (such as window or self) through which the underlying\r\n     * messages will be received.\r\n     */\r\n    static _getInstance(eventTarget) {\r\n        // The results are stored in an array since objects can't be keys for other\r\n        // objects. In addition, setting a unique property on an event target as a\r\n        // hash map key may not be allowed due to CORS restrictions.\r\n        const existingInstance = this.receivers.find(receiver => receiver.isListeningto(eventTarget));\r\n        if (existingInstance) {\r\n            return existingInstance;\r\n        }\r\n        const newInstance = new Receiver(eventTarget);\r\n        this.receivers.push(newInstance);\r\n        return newInstance;\r\n    }\r\n    isListeningto(eventTarget) {\r\n        return this.eventTarget === eventTarget;\r\n    }\r\n    /**\r\n     * Fans out a MessageEvent to the appropriate listeners.\r\n     *\r\n     * @remarks\r\n     * Sends an {@link Status.ACK} upon receipt and a {@link Status.DONE} once all handlers have\r\n     * finished processing.\r\n     *\r\n     * @param event - The MessageEvent.\r\n     *\r\n     */\r\n    async handleEvent(event) {\r\n        const messageEvent = event;\r\n        const { eventId, eventType, data } = messageEvent.data;\r\n        const handlers = this.handlersMap[eventType];\r\n        if (!(handlers === null || handlers === void 0 ? void 0 : handlers.size)) {\r\n            return;\r\n        }\r\n        messageEvent.ports[0].postMessage({\r\n            status: \"ack\" /* ACK */,\r\n            eventId,\r\n            eventType\r\n        });\r\n        const promises = Array.from(handlers).map(async (handler) => handler(messageEvent.origin, data));\r\n        const response = await _allSettled(promises);\r\n        messageEvent.ports[0].postMessage({\r\n            status: \"done\" /* DONE */,\r\n            eventId,\r\n            eventType,\r\n            response\r\n        });\r\n    }\r\n    /**\r\n     * Subscribe an event handler for a particular event.\r\n     *\r\n     * @param eventType - Event name to subscribe to.\r\n     * @param eventHandler - The event handler which should receive the events.\r\n     *\r\n     */\r\n    _subscribe(eventType, eventHandler) {\r\n        if (Object.keys(this.handlersMap).length === 0) {\r\n            this.eventTarget.addEventListener('message', this.boundEventHandler);\r\n        }\r\n        if (!this.handlersMap[eventType]) {\r\n            this.handlersMap[eventType] = new Set();\r\n        }\r\n        this.handlersMap[eventType].add(eventHandler);\r\n    }\r\n    /**\r\n     * Unsubscribe an event handler from a particular event.\r\n     *\r\n     * @param eventType - Event name to unsubscribe from.\r\n     * @param eventHandler - Optinoal event handler, if none provided, unsubscribe all handlers on this event.\r\n     *\r\n     */\r\n    _unsubscribe(eventType, eventHandler) {\r\n        if (this.handlersMap[eventType] && eventHandler) {\r\n            this.handlersMap[eventType].delete(eventHandler);\r\n        }\r\n        if (!eventHandler || this.handlersMap[eventType].size === 0) {\r\n            delete this.handlersMap[eventType];\r\n        }\r\n        if (Object.keys(this.handlersMap).length === 0) {\r\n            this.eventTarget.removeEventListener('message', this.boundEventHandler);\r\n        }\r\n    }\r\n}\r\nReceiver.receivers = [];\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction generateEventId(prefix = '', digits = 20) {\r\n    return `${prefix}${Math.floor(Math.random() * Math.pow(10, digits))}`;\r\n}\r\n/**\r\n * Interface for sending messages and waiting for a completion response.\r\n *\r\n */\r\nclass Sender {\r\n    constructor(target) {\r\n        this.target = target;\r\n        this.handlers = new Set();\r\n    }\r\n    /**\r\n     * Unsubscribe the handler and remove it from our tracking Set.\r\n     *\r\n     * @param handler - The handler to unsubscribe.\r\n     */\r\n    removeMessageHandler(handler) {\r\n        if (handler.messageChannel) {\r\n            handler.messageChannel.port1.removeEventListener('message', handler.onMessage);\r\n            handler.messageChannel.port1.close();\r\n        }\r\n        this.handlers.delete(handler);\r\n    }\r\n    /**\r\n     * Send a message to the Receiver located at {@link target}.\r\n     *\r\n     * @remarks\r\n     * We'll first wait a bit for an ACK , if we get one we will wait significantly longer until the\r\n     * receiver has had a chance to fully process the event.\r\n     *\r\n     * @param eventType - Type of event to send.\r\n     * @param data - The payload of the event.\r\n     * @param timeout - Timeout for waiting on an ACK from the receiver.\r\n     *\r\n     * @returns An array of settled promises from all the handlers that were listening on the receiver.\r\n     */\r\n    async _send(eventType, data, timeout = 50 /* ACK */) {\r\n        const messageChannel = typeof MessageChannel !== 'undefined' ? new MessageChannel() : null;\r\n        if (!messageChannel) {\r\n            throw new Error(\"connection_unavailable\" /* CONNECTION_UNAVAILABLE */);\r\n        }\r\n        // Node timers and browser timers return fundamentally different types.\r\n        // We don't actually care what the value is but TS won't accept unknown and\r\n        // we can't cast properly in both environments.\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let completionTimer;\r\n        let handler;\r\n        return new Promise((resolve, reject) => {\r\n            const eventId = generateEventId();\r\n            messageChannel.port1.start();\r\n            const ackTimer = setTimeout(() => {\r\n                reject(new Error(\"unsupported_event\" /* UNSUPPORTED_EVENT */));\r\n            }, timeout);\r\n            handler = {\r\n                messageChannel,\r\n                onMessage(event) {\r\n                    const messageEvent = event;\r\n                    if (messageEvent.data.eventId !== eventId) {\r\n                        return;\r\n                    }\r\n                    switch (messageEvent.data.status) {\r\n                        case \"ack\" /* ACK */:\r\n                            // The receiver should ACK first.\r\n                            clearTimeout(ackTimer);\r\n                            completionTimer = setTimeout(() => {\r\n                                reject(new Error(\"timeout\" /* TIMEOUT */));\r\n                            }, 3000 /* COMPLETION */);\r\n                            break;\r\n                        case \"done\" /* DONE */:\r\n                            // Once the receiver's handlers are finished we will get the results.\r\n                            clearTimeout(completionTimer);\r\n                            resolve(messageEvent.data.response);\r\n                            break;\r\n                        default:\r\n                            clearTimeout(ackTimer);\r\n                            clearTimeout(completionTimer);\r\n                            reject(new Error(\"invalid_response\" /* INVALID_RESPONSE */));\r\n                            break;\r\n                    }\r\n                }\r\n            };\r\n            this.handlers.add(handler);\r\n            messageChannel.port1.addEventListener('message', handler.onMessage);\r\n            this.target.postMessage({\r\n                eventType,\r\n                eventId,\r\n                data\r\n            }, [messageChannel.port2]);\r\n        }).finally(() => {\r\n            if (handler) {\r\n                this.removeMessageHandler(handler);\r\n            }\r\n        });\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Lazy accessor for window, since the compat layer won't tree shake this out,\r\n * we need to make sure not to mess with window unless we have to\r\n */\r\nfunction _window() {\r\n    return window;\r\n}\r\nfunction _setWindowLocation(url) {\r\n    _window().location.href = url;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _isWorker() {\r\n    return (typeof _window()['WorkerGlobalScope'] !== 'undefined' &&\r\n        typeof _window()['importScripts'] === 'function');\r\n}\r\nasync function _getActiveServiceWorker() {\r\n    if (!(navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker)) {\r\n        return null;\r\n    }\r\n    try {\r\n        const registration = await navigator.serviceWorker.ready;\r\n        return registration.active;\r\n    }\r\n    catch (_a) {\r\n        return null;\r\n    }\r\n}\r\nfunction _getServiceWorkerController() {\r\n    var _a;\r\n    return ((_a = navigator === null || navigator === void 0 ? void 0 : navigator.serviceWorker) === null || _a === void 0 ? void 0 : _a.controller) || null;\r\n}\r\nfunction _getWorkerGlobalScope() {\r\n    return _isWorker() ? self : null;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst DB_NAME = 'firebaseLocalStorageDb';\r\nconst DB_VERSION = 1;\r\nconst DB_OBJECTSTORE_NAME = 'firebaseLocalStorage';\r\nconst DB_DATA_KEYPATH = 'fbase_key';\r\n/**\r\n * Promise wrapper for IDBRequest\r\n *\r\n * Unfortunately we can't cleanly extend Promise<T> since promises are not callable in ES6\r\n *\r\n */\r\nclass DBPromise {\r\n    constructor(request) {\r\n        this.request = request;\r\n    }\r\n    toPromise() {\r\n        return new Promise((resolve, reject) => {\r\n            this.request.addEventListener('success', () => {\r\n                resolve(this.request.result);\r\n            });\r\n            this.request.addEventListener('error', () => {\r\n                reject(this.request.error);\r\n            });\r\n        });\r\n    }\r\n}\r\nfunction getObjectStore(db, isReadWrite) {\r\n    return db\r\n        .transaction([DB_OBJECTSTORE_NAME], isReadWrite ? 'readwrite' : 'readonly')\r\n        .objectStore(DB_OBJECTSTORE_NAME);\r\n}\r\nfunction _deleteDatabase() {\r\n    const request = indexedDB.deleteDatabase(DB_NAME);\r\n    return new DBPromise(request).toPromise();\r\n}\r\nfunction _openDatabase() {\r\n    const request = indexedDB.open(DB_NAME, DB_VERSION);\r\n    return new Promise((resolve, reject) => {\r\n        request.addEventListener('error', () => {\r\n            reject(request.error);\r\n        });\r\n        request.addEventListener('upgradeneeded', () => {\r\n            const db = request.result;\r\n            try {\r\n                db.createObjectStore(DB_OBJECTSTORE_NAME, { keyPath: DB_DATA_KEYPATH });\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n        request.addEventListener('success', async () => {\r\n            const db = request.result;\r\n            // Strange bug that occurs in Firefox when multiple tabs are opened at the\r\n            // same time. The only way to recover seems to be deleting the database\r\n            // and re-initializing it.\r\n            // https://github.com/firebase/firebase-js-sdk/issues/634\r\n            if (!db.objectStoreNames.contains(DB_OBJECTSTORE_NAME)) {\r\n                await _deleteDatabase();\r\n                return _openDatabase();\r\n            }\r\n            else {\r\n                resolve(db);\r\n            }\r\n        });\r\n    });\r\n}\r\nasync function _putObject(db, key, value) {\r\n    const request = getObjectStore(db, true).put({\r\n        [DB_DATA_KEYPATH]: key,\r\n        value\r\n    });\r\n    return new DBPromise(request).toPromise();\r\n}\r\nasync function getObject(db, key) {\r\n    const request = getObjectStore(db, false).get(key);\r\n    const data = await new DBPromise(request).toPromise();\r\n    return data === undefined ? null : data.value;\r\n}\r\nfunction _deleteObject(db, key) {\r\n    const request = getObjectStore(db, true).delete(key);\r\n    return new DBPromise(request).toPromise();\r\n}\r\nconst _POLLING_INTERVAL_MS$1 = 800;\r\nconst _TRANSACTION_RETRY_COUNT = 3;\r\nclass IndexedDBLocalPersistence {\r\n    constructor() {\r\n        this.type = \"LOCAL\" /* LOCAL */;\r\n        this.listeners = {};\r\n        this.localCache = {};\r\n        // setTimeout return value is platform specific\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        this.pollTimer = null;\r\n        this.pendingWrites = 0;\r\n        this.receiver = null;\r\n        this.sender = null;\r\n        this.serviceWorkerReceiverAvailable = false;\r\n        this.activeServiceWorker = null;\r\n        // Fire & forget the service worker registration as it may never resolve\r\n        this._workerInitializationPromise = this.initializeServiceWorkerMessaging().then(() => { }, () => { });\r\n    }\r\n    async _openDb() {\r\n        if (this.db) {\r\n            return this.db;\r\n        }\r\n        this.db = await _openDatabase();\r\n        return this.db;\r\n    }\r\n    async _withRetries(op) {\r\n        let numAttempts = 0;\r\n        while (true) {\r\n            try {\r\n                const db = await this._openDb();\r\n                return await op(db);\r\n            }\r\n            catch (e) {\r\n                if (numAttempts++ > _TRANSACTION_RETRY_COUNT) {\r\n                    throw e;\r\n                }\r\n                if (this.db) {\r\n                    this.db.close();\r\n                    this.db = undefined;\r\n                }\r\n                // TODO: consider adding exponential backoff\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * IndexedDB events do not propagate from the main window to the worker context.  We rely on a\r\n     * postMessage interface to send these events to the worker ourselves.\r\n     */\r\n    async initializeServiceWorkerMessaging() {\r\n        return _isWorker() ? this.initializeReceiver() : this.initializeSender();\r\n    }\r\n    /**\r\n     * As the worker we should listen to events from the main window.\r\n     */\r\n    async initializeReceiver() {\r\n        this.receiver = Receiver._getInstance(_getWorkerGlobalScope());\r\n        // Refresh from persistence if we receive a KeyChanged message.\r\n        this.receiver._subscribe(\"keyChanged\" /* KEY_CHANGED */, async (_origin, data) => {\r\n            const keys = await this._poll();\r\n            return {\r\n                keyProcessed: keys.includes(data.key)\r\n            };\r\n        });\r\n        // Let the sender know that we are listening so they give us more timeout.\r\n        this.receiver._subscribe(\"ping\" /* PING */, async (_origin, _data) => {\r\n            return [\"keyChanged\" /* KEY_CHANGED */];\r\n        });\r\n    }\r\n    /**\r\n     * As the main window, we should let the worker know when keys change (set and remove).\r\n     *\r\n     * @remarks\r\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/ready | ServiceWorkerContainer.ready}\r\n     * may not resolve.\r\n     */\r\n    async initializeSender() {\r\n        var _a, _b;\r\n        // Check to see if there's an active service worker.\r\n        this.activeServiceWorker = await _getActiveServiceWorker();\r\n        if (!this.activeServiceWorker) {\r\n            return;\r\n        }\r\n        this.sender = new Sender(this.activeServiceWorker);\r\n        // Ping the service worker to check what events they can handle.\r\n        const results = await this.sender._send(\"ping\" /* PING */, {}, 800 /* LONG_ACK */);\r\n        if (!results) {\r\n            return;\r\n        }\r\n        if (((_a = results[0]) === null || _a === void 0 ? void 0 : _a.fulfilled) &&\r\n            ((_b = results[0]) === null || _b === void 0 ? void 0 : _b.value.includes(\"keyChanged\" /* KEY_CHANGED */))) {\r\n            this.serviceWorkerReceiverAvailable = true;\r\n        }\r\n    }\r\n    /**\r\n     * Let the worker know about a changed key, the exact key doesn't technically matter since the\r\n     * worker will just trigger a full sync anyway.\r\n     *\r\n     * @remarks\r\n     * For now, we only support one service worker per page.\r\n     *\r\n     * @param key - Storage key which changed.\r\n     */\r\n    async notifyServiceWorker(key) {\r\n        if (!this.sender ||\r\n            !this.activeServiceWorker ||\r\n            _getServiceWorkerController() !== this.activeServiceWorker) {\r\n            return;\r\n        }\r\n        try {\r\n            await this.sender._send(\"keyChanged\" /* KEY_CHANGED */, { key }, \r\n            // Use long timeout if receiver has previously responded to a ping from us.\r\n            this.serviceWorkerReceiverAvailable\r\n                ? 800 /* LONG_ACK */\r\n                : 50 /* ACK */);\r\n        }\r\n        catch (_a) {\r\n            // This is a best effort approach. Ignore errors.\r\n        }\r\n    }\r\n    async _isAvailable() {\r\n        try {\r\n            if (!indexedDB) {\r\n                return false;\r\n            }\r\n            const db = await _openDatabase();\r\n            await _putObject(db, STORAGE_AVAILABLE_KEY, '1');\r\n            await _deleteObject(db, STORAGE_AVAILABLE_KEY);\r\n            return true;\r\n        }\r\n        catch (_a) { }\r\n        return false;\r\n    }\r\n    async _withPendingWrite(write) {\r\n        this.pendingWrites++;\r\n        try {\r\n            await write();\r\n        }\r\n        finally {\r\n            this.pendingWrites--;\r\n        }\r\n    }\r\n    async _set(key, value) {\r\n        return this._withPendingWrite(async () => {\r\n            await this._withRetries((db) => _putObject(db, key, value));\r\n            this.localCache[key] = value;\r\n            return this.notifyServiceWorker(key);\r\n        });\r\n    }\r\n    async _get(key) {\r\n        const obj = (await this._withRetries((db) => getObject(db, key)));\r\n        this.localCache[key] = obj;\r\n        return obj;\r\n    }\r\n    async _remove(key) {\r\n        return this._withPendingWrite(async () => {\r\n            await this._withRetries((db) => _deleteObject(db, key));\r\n            delete this.localCache[key];\r\n            return this.notifyServiceWorker(key);\r\n        });\r\n    }\r\n    async _poll() {\r\n        // TODO: check if we need to fallback if getAll is not supported\r\n        const result = await this._withRetries((db) => {\r\n            const getAllRequest = getObjectStore(db, false).getAll();\r\n            return new DBPromise(getAllRequest).toPromise();\r\n        });\r\n        if (!result) {\r\n            return [];\r\n        }\r\n        // If we have pending writes in progress abort, we'll get picked up on the next poll\r\n        if (this.pendingWrites !== 0) {\r\n            return [];\r\n        }\r\n        const keys = [];\r\n        const keysInResult = new Set();\r\n        for (const { fbase_key: key, value } of result) {\r\n            keysInResult.add(key);\r\n            if (JSON.stringify(this.localCache[key]) !== JSON.stringify(value)) {\r\n                this.notifyListeners(key, value);\r\n                keys.push(key);\r\n            }\r\n        }\r\n        for (const localKey of Object.keys(this.localCache)) {\r\n            if (this.localCache[localKey] && !keysInResult.has(localKey)) {\r\n                // Deleted\r\n                this.notifyListeners(localKey, null);\r\n                keys.push(localKey);\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n    notifyListeners(key, newValue) {\r\n        this.localCache[key] = newValue;\r\n        const listeners = this.listeners[key];\r\n        if (listeners) {\r\n            for (const listener of Array.from(listeners)) {\r\n                listener(newValue);\r\n            }\r\n        }\r\n    }\r\n    startPolling() {\r\n        this.stopPolling();\r\n        this.pollTimer = setInterval(async () => this._poll(), _POLLING_INTERVAL_MS$1);\r\n    }\r\n    stopPolling() {\r\n        if (this.pollTimer) {\r\n            clearInterval(this.pollTimer);\r\n            this.pollTimer = null;\r\n        }\r\n    }\r\n    _addListener(key, listener) {\r\n        if (Object.keys(this.listeners).length === 0) {\r\n            this.startPolling();\r\n        }\r\n        if (!this.listeners[key]) {\r\n            this.listeners[key] = new Set();\r\n            // Populate the cache to avoid spuriously triggering on first poll.\r\n            void this._get(key); // This can happen in the background async and we can return immediately.\r\n        }\r\n        this.listeners[key].add(listener);\r\n    }\r\n    _removeListener(key, listener) {\r\n        if (this.listeners[key]) {\r\n            this.listeners[key].delete(listener);\r\n            if (this.listeners[key].size === 0) {\r\n                delete this.listeners[key];\r\n            }\r\n        }\r\n        if (Object.keys(this.listeners).length === 0) {\r\n            this.stopPolling();\r\n        }\r\n    }\r\n}\r\nIndexedDBLocalPersistence.type = 'LOCAL';\r\n/**\r\n * An implementation of {@link Persistence} of type 'LOCAL' using `indexedDB`\r\n * for the underlying storage.\r\n *\r\n * @public\r\n */\r\nconst indexedDBLocalPersistence = IndexedDBLocalPersistence;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// The amount of time to store the UIDs of seen events; this is\r\n// set to 10 min by default\r\nconst EVENT_DUPLICATION_CACHE_DURATION_MS = 10 * 60 * 1000;\r\nclass AuthEventManager {\r\n    constructor(auth) {\r\n        this.auth = auth;\r\n        this.cachedEventUids = new Set();\r\n        this.consumers = new Set();\r\n        this.queuedRedirectEvent = null;\r\n        this.hasHandledPotentialRedirect = false;\r\n        this.lastProcessedEventTime = Date.now();\r\n    }\r\n    registerConsumer(authEventConsumer) {\r\n        this.consumers.add(authEventConsumer);\r\n        if (this.queuedRedirectEvent &&\r\n            this.isEventForConsumer(this.queuedRedirectEvent, authEventConsumer)) {\r\n            this.sendToConsumer(this.queuedRedirectEvent, authEventConsumer);\r\n            this.saveEventToCache(this.queuedRedirectEvent);\r\n            this.queuedRedirectEvent = null;\r\n        }\r\n    }\r\n    unregisterConsumer(authEventConsumer) {\r\n        this.consumers.delete(authEventConsumer);\r\n    }\r\n    onEvent(event) {\r\n        // Check if the event has already been handled\r\n        if (this.hasEventBeenHandled(event)) {\r\n            return false;\r\n        }\r\n        let handled = false;\r\n        this.consumers.forEach(consumer => {\r\n            if (this.isEventForConsumer(event, consumer)) {\r\n                handled = true;\r\n                this.sendToConsumer(event, consumer);\r\n                this.saveEventToCache(event);\r\n            }\r\n        });\r\n        if (this.hasHandledPotentialRedirect || !isRedirectEvent(event)) {\r\n            // If we've already seen a redirect before, or this is a popup event,\r\n            // bail now\r\n            return handled;\r\n        }\r\n        this.hasHandledPotentialRedirect = true;\r\n        // If the redirect wasn't handled, hang on to it\r\n        if (!handled) {\r\n            this.queuedRedirectEvent = event;\r\n            handled = true;\r\n        }\r\n        return handled;\r\n    }\r\n    sendToConsumer(event, consumer) {\r\n        var _a;\r\n        if (event.error && !isNullRedirectEvent(event)) {\r\n            const code = ((_a = event.error.code) === null || _a === void 0 ? void 0 : _a.split('auth/')[1]) ||\r\n                \"internal-error\" /* INTERNAL_ERROR */;\r\n            consumer.onError(_createError(this.auth, code));\r\n        }\r\n        else {\r\n            consumer.onAuthEvent(event);\r\n        }\r\n    }\r\n    isEventForConsumer(event, consumer) {\r\n        const eventIdMatches = consumer.eventId === null ||\r\n            (!!event.eventId && event.eventId === consumer.eventId);\r\n        return consumer.filter.includes(event.type) && eventIdMatches;\r\n    }\r\n    hasEventBeenHandled(event) {\r\n        if (Date.now() - this.lastProcessedEventTime >=\r\n            EVENT_DUPLICATION_CACHE_DURATION_MS) {\r\n            this.cachedEventUids.clear();\r\n        }\r\n        return this.cachedEventUids.has(eventUid(event));\r\n    }\r\n    saveEventToCache(event) {\r\n        this.cachedEventUids.add(eventUid(event));\r\n        this.lastProcessedEventTime = Date.now();\r\n    }\r\n}\r\nfunction eventUid(e) {\r\n    return [e.type, e.eventId, e.sessionId, e.tenantId].filter(v => v).join('-');\r\n}\r\nfunction isNullRedirectEvent({ type, error }) {\r\n    return (type === \"unknown\" /* UNKNOWN */ &&\r\n        (error === null || error === void 0 ? void 0 : error.code) === `auth/${\"no-auth-event\" /* NO_AUTH_EVENT */}`);\r\n}\r\nfunction isRedirectEvent(event) {\r\n    switch (event.type) {\r\n        case \"signInViaRedirect\" /* SIGN_IN_VIA_REDIRECT */:\r\n        case \"linkViaRedirect\" /* LINK_VIA_REDIRECT */:\r\n        case \"reauthViaRedirect\" /* REAUTH_VIA_REDIRECT */:\r\n            return true;\r\n        case \"unknown\" /* UNKNOWN */:\r\n            return isNullRedirectEvent(event);\r\n        default:\r\n            return false;\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction _generateEventId(prefix) {\r\n    return `${prefix ? prefix : ''}${Math.floor(Math.random() * 1000000000)}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function _getProjectConfig(auth) {\r\n    return _performApiRequest(auth, \"GET\" /* GET */, \"/v1/projects\" /* GET_PROJECT_CONFIG */, {});\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst IP_ADDRESS_REGEX = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/;\r\nconst HTTP_REGEX = /^https?/;\r\nasync function _validateOrigin(auth) {\r\n    // Skip origin validation if we are in an emulated environment\r\n    if (auth.config.emulator) {\r\n        return;\r\n    }\r\n    const { authorizedDomains } = await _getProjectConfig(auth);\r\n    for (const domain of authorizedDomains) {\r\n        try {\r\n            if (matchDomain(domain)) {\r\n                return;\r\n            }\r\n        }\r\n        catch (_a) {\r\n            // Do nothing if there's a URL error; just continue searching\r\n        }\r\n    }\r\n    // In the old SDK, this error also provides helpful messages.\r\n    _fail(auth, \"unauthorized-domain\" /* INVALID_ORIGIN */);\r\n}\r\nfunction matchDomain(expected) {\r\n    const currentUrl = _getCurrentUrl();\r\n    const { protocol, hostname } = new URL(currentUrl);\r\n    if (expected.startsWith('chrome-extension://')) {\r\n        const ceUrl = new URL(expected);\r\n        if (ceUrl.hostname === '' && hostname === '') {\r\n            // For some reason we're not parsing chrome URLs properly\r\n            return (protocol === 'chrome-extension:' &&\r\n                expected.replace('chrome-extension://', '') ===\r\n                    currentUrl.replace('chrome-extension://', ''));\r\n        }\r\n        return protocol === 'chrome-extension:' && ceUrl.hostname === hostname;\r\n    }\r\n    if (!HTTP_REGEX.test(protocol)) {\r\n        return false;\r\n    }\r\n    if (IP_ADDRESS_REGEX.test(expected)) {\r\n        // The domain has to be exactly equal to the pattern, as an IP domain will\r\n        // only contain the IP, no extra character.\r\n        return hostname === expected;\r\n    }\r\n    // Dots in pattern should be escaped.\r\n    const escapedDomainPattern = expected.replace(/\\./g, '\\\\.');\r\n    // Non ip address domains.\r\n    // domain.com = *.domain.com OR domain.com\r\n    const re = new RegExp('^(.+\\\\.' + escapedDomainPattern + '|' + escapedDomainPattern + ')$', 'i');\r\n    return re.test(hostname);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction getScriptParentElement() {\r\n    var _a, _b;\r\n    return (_b = (_a = document.getElementsByTagName('head')) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : document;\r\n}\r\nfunction _loadJS(url) {\r\n    // TODO: consider adding timeout support & cancellation\r\n    return new Promise((resolve, reject) => {\r\n        const el = document.createElement('script');\r\n        el.setAttribute('src', url);\r\n        el.onload = resolve;\r\n        el.onerror = reject;\r\n        el.type = 'text/javascript';\r\n        el.charset = 'UTF-8';\r\n        getScriptParentElement().appendChild(el);\r\n    });\r\n}\r\nfunction _generateCallbackName(prefix) {\r\n    return `__${prefix}${Math.floor(Math.random() * 1000000)}`;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst NETWORK_TIMEOUT = new Delay(30000, 60000);\r\n/**\r\n * Reset unlaoded GApi modules. If gapi.load fails due to a network error,\r\n * it will stop working after a retrial. This is a hack to fix this issue.\r\n */\r\nfunction resetUnloadedGapiModules() {\r\n    // Clear last failed gapi.load state to force next gapi.load to first\r\n    // load the failed gapi.iframes module.\r\n    // Get gapix.beacon context.\r\n    const beacon = _window().___jsl;\r\n    // Get current hint.\r\n    if (beacon === null || beacon === void 0 ? void 0 : beacon.H) {\r\n        // Get gapi hint.\r\n        for (const hint of Object.keys(beacon.H)) {\r\n            // Requested modules.\r\n            beacon.H[hint].r = beacon.H[hint].r || [];\r\n            // Loaded modules.\r\n            beacon.H[hint].L = beacon.H[hint].L || [];\r\n            // Set requested modules to a copy of the loaded modules.\r\n            beacon.H[hint].r = [...beacon.H[hint].L];\r\n            // Clear pending callbacks.\r\n            if (beacon.CP) {\r\n                for (let i = 0; i < beacon.CP.length; i++) {\r\n                    // Remove all failed pending callbacks.\r\n                    beacon.CP[i] = null;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction loadGapi(auth) {\r\n    return new Promise((resolve, reject) => {\r\n        var _a, _b, _c;\r\n        // Function to run when gapi.load is ready.\r\n        function loadGapiIframe() {\r\n            // The developer may have tried to previously run gapi.load and failed.\r\n            // Run this to fix that.\r\n            resetUnloadedGapiModules();\r\n            gapi.load('gapi.iframes', {\r\n                callback: () => {\r\n                    resolve(gapi.iframes.getContext());\r\n                },\r\n                ontimeout: () => {\r\n                    // The above reset may be sufficient, but having this reset after\r\n                    // failure ensures that if the developer calls gapi.load after the\r\n                    // connection is re-established and before another attempt to embed\r\n                    // the iframe, it would work and would not be broken because of our\r\n                    // failed attempt.\r\n                    // Timeout when gapi.iframes.Iframe not loaded.\r\n                    resetUnloadedGapiModules();\r\n                    reject(_createError(auth, \"network-request-failed\" /* NETWORK_REQUEST_FAILED */));\r\n                },\r\n                timeout: NETWORK_TIMEOUT.get()\r\n            });\r\n        }\r\n        if ((_b = (_a = _window().gapi) === null || _a === void 0 ? void 0 : _a.iframes) === null || _b === void 0 ? void 0 : _b.Iframe) {\r\n            // If gapi.iframes.Iframe available, resolve.\r\n            resolve(gapi.iframes.getContext());\r\n        }\r\n        else if (!!((_c = _window().gapi) === null || _c === void 0 ? void 0 : _c.load)) {\r\n            // Gapi loader ready, load gapi.iframes.\r\n            loadGapiIframe();\r\n        }\r\n        else {\r\n            // Create a new iframe callback when this is called so as not to overwrite\r\n            // any previous defined callback. This happens if this method is called\r\n            // multiple times in parallel and could result in the later callback\r\n            // overwriting the previous one. This would end up with a iframe\r\n            // timeout.\r\n            const cbName = _generateCallbackName('iframefcb');\r\n            // GApi loader not available, dynamically load platform.js.\r\n            _window()[cbName] = () => {\r\n                // GApi loader should be ready.\r\n                if (!!gapi.load) {\r\n                    loadGapiIframe();\r\n                }\r\n                else {\r\n                    // Gapi loader failed, throw error.\r\n                    reject(_createError(auth, \"network-request-failed\" /* NETWORK_REQUEST_FAILED */));\r\n                }\r\n            };\r\n            // Load GApi loader.\r\n            return _loadJS(`https://apis.google.com/js/api.js?onload=${cbName}`);\r\n        }\r\n    }).catch(error => {\r\n        // Reset cached promise to allow for retrial.\r\n        cachedGApiLoader = null;\r\n        throw error;\r\n    });\r\n}\r\nlet cachedGApiLoader = null;\r\nfunction _loadGapi(auth) {\r\n    cachedGApiLoader = cachedGApiLoader || loadGapi(auth);\r\n    return cachedGApiLoader;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst PING_TIMEOUT = new Delay(5000, 15000);\r\nconst IFRAME_PATH = '__/auth/iframe';\r\nconst EMULATED_IFRAME_PATH = 'emulator/auth/iframe';\r\nconst IFRAME_ATTRIBUTES = {\r\n    style: {\r\n        position: 'absolute',\r\n        top: '-100px',\r\n        width: '1px',\r\n        height: '1px'\r\n    }\r\n};\r\n// Map from apiHost to endpoint ID for passing into iframe. In current SDK, apiHost can be set to\r\n// anything (not from a list of endpoints with IDs as in legacy), so this is the closest we can get.\r\nconst EID_FROM_APIHOST = new Map([\r\n    [\"identitytoolkit.googleapis.com\" /* API_HOST */, 'p'],\r\n    ['staging-identitytoolkit.sandbox.googleapis.com', 's'],\r\n    ['test-identitytoolkit.sandbox.googleapis.com', 't'] // test\r\n]);\r\nfunction getIframeUrl(auth) {\r\n    const config = auth.config;\r\n    _assert(config.authDomain, auth, \"auth-domain-config-required\" /* MISSING_AUTH_DOMAIN */);\r\n    const url = config.emulator\r\n        ? _emulatorUrl(config, EMULATED_IFRAME_PATH)\r\n        : `https://${auth.config.authDomain}/${IFRAME_PATH}`;\r\n    const params = {\r\n        apiKey: config.apiKey,\r\n        appName: auth.name,\r\n        v: SDK_VERSION\r\n    };\r\n    const eid = EID_FROM_APIHOST.get(auth.config.apiHost);\r\n    if (eid) {\r\n        params.eid = eid;\r\n    }\r\n    const frameworks = auth._getFrameworks();\r\n    if (frameworks.length) {\r\n        params.fw = frameworks.join(',');\r\n    }\r\n    return `${url}?${querystring(params).slice(1)}`;\r\n}\r\nasync function _openIframe(auth) {\r\n    const context = await _loadGapi(auth);\r\n    const gapi = _window().gapi;\r\n    _assert(gapi, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n    return context.open({\r\n        where: document.body,\r\n        url: getIframeUrl(auth),\r\n        messageHandlersFilter: gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER,\r\n        attributes: IFRAME_ATTRIBUTES,\r\n        dontclear: true\r\n    }, (iframe) => new Promise(async (resolve, reject) => {\r\n        await iframe.restyle({\r\n            // Prevent iframe from closing on mouse out.\r\n            setHideOnLeave: false\r\n        });\r\n        const networkError = _createError(auth, \"network-request-failed\" /* NETWORK_REQUEST_FAILED */);\r\n        // Confirm iframe is correctly loaded.\r\n        // To fallback on failure, set a timeout.\r\n        const networkErrorTimer = _window().setTimeout(() => {\r\n            reject(networkError);\r\n        }, PING_TIMEOUT.get());\r\n        // Clear timer and resolve pending iframe ready promise.\r\n        function clearTimerAndResolve() {\r\n            _window().clearTimeout(networkErrorTimer);\r\n            resolve(iframe);\r\n        }\r\n        // This returns an IThenable. However the reject part does not call\r\n        // when the iframe is not loaded.\r\n        iframe.ping(clearTimerAndResolve).then(clearTimerAndResolve, () => {\r\n            reject(networkError);\r\n        });\r\n    }));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass BrowserSessionPersistence extends BrowserPersistenceClass {\r\n    constructor() {\r\n        super(window.sessionStorage, \"SESSION\" /* SESSION */);\r\n    }\r\n    _addListener(_key, _listener) {\r\n        // Listeners are not supported for session storage since it cannot be shared across windows\r\n        return;\r\n    }\r\n    _removeListener(_key, _listener) {\r\n        // Listeners are not supported for session storage since it cannot be shared across windows\r\n        return;\r\n    }\r\n}\r\nBrowserSessionPersistence.type = 'SESSION';\r\n/**\r\n * An implementation of {@link Persistence} of 'SESSION' using `sessionStorage`\r\n * for the underlying storage.\r\n *\r\n * @public\r\n */\r\nconst browserSessionPersistence = BrowserSessionPersistence;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst BASE_POPUP_OPTIONS = {\r\n    location: 'yes',\r\n    resizable: 'yes',\r\n    statusbar: 'yes',\r\n    toolbar: 'no'\r\n};\r\nconst DEFAULT_WIDTH = 500;\r\nconst DEFAULT_HEIGHT = 600;\r\nconst TARGET_BLANK = '_blank';\r\nconst FIREFOX_EMPTY_URL = 'http://localhost';\r\nclass AuthPopup {\r\n    constructor(window) {\r\n        this.window = window;\r\n        this.associatedEvent = null;\r\n    }\r\n    close() {\r\n        if (this.window) {\r\n            try {\r\n                this.window.close();\r\n            }\r\n            catch (e) { }\r\n        }\r\n    }\r\n}\r\nfunction _open(auth, url, name, width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT) {\r\n    const top = Math.min((window.screen.availHeight - height) / 2, 0).toString();\r\n    const left = Math.min((window.screen.availWidth - width) / 2, 0).toString();\r\n    let target = '';\r\n    const options = Object.assign(Object.assign({}, BASE_POPUP_OPTIONS), { width: width.toString(), height: height.toString(), top,\r\n        left });\r\n    // Chrome iOS 7 and 8 is returning an undefined popup win when target is\r\n    // specified, even though the popup is not necessarily blocked.\r\n    const ua = getUA().toLowerCase();\r\n    if (name) {\r\n        target = _isChromeIOS(ua) ? TARGET_BLANK : name;\r\n    }\r\n    if (_isFirefox(ua)) {\r\n        // Firefox complains when invalid URLs are popped out. Hacky way to bypass.\r\n        url = url || FIREFOX_EMPTY_URL;\r\n        // Firefox disables by default scrolling on popup windows, which can create\r\n        // issues when the user has many Google accounts, for instance.\r\n        options.scrollbars = 'yes';\r\n    }\r\n    const optionsString = Object.entries(options).reduce((accum, [key, value]) => `${accum}${key}=${value},`, '');\r\n    if (_isIOSStandalone(ua) && target !== '_self') {\r\n        openAsNewWindowIOS(url || '', target);\r\n        return new AuthPopup(null);\r\n    }\r\n    // about:blank getting sanitized causing browsers like IE/Edge to display\r\n    // brief error message before redirecting to handler.\r\n    const newWin = window.open(url || '', target, optionsString);\r\n    _assert(newWin, auth, \"popup-blocked\" /* POPUP_BLOCKED */);\r\n    // Flaky on IE edge, encapsulate with a try and catch.\r\n    try {\r\n        newWin.focus();\r\n    }\r\n    catch (e) { }\r\n    return new AuthPopup(newWin);\r\n}\r\nfunction openAsNewWindowIOS(url, target) {\r\n    const el = document.createElement('a');\r\n    el.href = url;\r\n    el.target = target;\r\n    const click = document.createEvent('MouseEvent');\r\n    click.initMouseEvent('click', true, true, window, 1, 0, 0, 0, 0, false, false, false, false, 1, null);\r\n    el.dispatchEvent(click);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Chooses a popup/redirect resolver to use. This prefers the override (which\r\n * is directly passed in), and falls back to the property set on the auth\r\n * object. If neither are available, this function errors w/ an argument error.\r\n */\r\nfunction _withDefaultResolver(auth, resolverOverride) {\r\n    if (resolverOverride) {\r\n        return _getInstance(resolverOverride);\r\n    }\r\n    _assert(auth._popupRedirectResolver, auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    return auth._popupRedirectResolver;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2019 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass IdpCredential extends AuthCredential {\r\n    constructor(params) {\r\n        super(\"custom\" /* CUSTOM */, \"custom\" /* CUSTOM */);\r\n        this.params = params;\r\n    }\r\n    _getIdTokenResponse(auth) {\r\n        return signInWithIdp(auth, this._buildIdpRequest());\r\n    }\r\n    _linkToIdToken(auth, idToken) {\r\n        return signInWithIdp(auth, this._buildIdpRequest(idToken));\r\n    }\r\n    _getReauthenticationResolver(auth) {\r\n        return signInWithIdp(auth, this._buildIdpRequest());\r\n    }\r\n    _buildIdpRequest(idToken) {\r\n        const request = {\r\n            requestUri: this.params.requestUri,\r\n            sessionId: this.params.sessionId,\r\n            postBody: this.params.postBody,\r\n            tenantId: this.params.tenantId,\r\n            pendingToken: this.params.pendingToken,\r\n            returnSecureToken: true,\r\n            returnIdpCredential: true\r\n        };\r\n        if (idToken) {\r\n            request.idToken = idToken;\r\n        }\r\n        return request;\r\n    }\r\n}\r\nfunction _signIn(params) {\r\n    return _signInWithCredential(params.auth, new IdpCredential(params), params.bypassAuthState);\r\n}\r\nfunction _reauth(params) {\r\n    const { auth, user } = params;\r\n    _assert(user, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n    return _reauthenticate(user, new IdpCredential(params), params.bypassAuthState);\r\n}\r\nasync function _link$1(params) {\r\n    const { auth, user } = params;\r\n    _assert(user, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n    return _link(user, new IdpCredential(params), params.bypassAuthState);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Popup event manager. Handles the popup's entire lifecycle; listens to auth\r\n * events\r\n */\r\nclass AbstractPopupRedirectOperation {\r\n    constructor(auth, filter, resolver, user, bypassAuthState = false) {\r\n        this.auth = auth;\r\n        this.resolver = resolver;\r\n        this.user = user;\r\n        this.bypassAuthState = bypassAuthState;\r\n        this.pendingPromise = null;\r\n        this.eventManager = null;\r\n        this.filter = Array.isArray(filter) ? filter : [filter];\r\n    }\r\n    execute() {\r\n        return new Promise(async (resolve, reject) => {\r\n            this.pendingPromise = { resolve, reject };\r\n            try {\r\n                this.eventManager = await this.resolver._initialize(this.auth);\r\n                await this.onExecution();\r\n                this.eventManager.registerConsumer(this);\r\n            }\r\n            catch (e) {\r\n                this.reject(e);\r\n            }\r\n        });\r\n    }\r\n    async onAuthEvent(event) {\r\n        const { urlResponse, sessionId, postBody, tenantId, error, type } = event;\r\n        if (error) {\r\n            this.reject(error);\r\n            return;\r\n        }\r\n        const params = {\r\n            auth: this.auth,\r\n            requestUri: urlResponse,\r\n            sessionId: sessionId,\r\n            tenantId: tenantId || undefined,\r\n            postBody: postBody || undefined,\r\n            user: this.user,\r\n            bypassAuthState: this.bypassAuthState\r\n        };\r\n        try {\r\n            this.resolve(await this.getIdpTask(type)(params));\r\n        }\r\n        catch (e) {\r\n            this.reject(e);\r\n        }\r\n    }\r\n    onError(error) {\r\n        this.reject(error);\r\n    }\r\n    getIdpTask(type) {\r\n        switch (type) {\r\n            case \"signInViaPopup\" /* SIGN_IN_VIA_POPUP */:\r\n            case \"signInViaRedirect\" /* SIGN_IN_VIA_REDIRECT */:\r\n                return _signIn;\r\n            case \"linkViaPopup\" /* LINK_VIA_POPUP */:\r\n            case \"linkViaRedirect\" /* LINK_VIA_REDIRECT */:\r\n                return _link$1;\r\n            case \"reauthViaPopup\" /* REAUTH_VIA_POPUP */:\r\n            case \"reauthViaRedirect\" /* REAUTH_VIA_REDIRECT */:\r\n                return _reauth;\r\n            default:\r\n                _fail(this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        }\r\n    }\r\n    resolve(cred) {\r\n        debugAssert(this.pendingPromise, 'Pending promise was never set');\r\n        this.pendingPromise.resolve(cred);\r\n        this.unregisterAndCleanUp();\r\n    }\r\n    reject(error) {\r\n        debugAssert(this.pendingPromise, 'Pending promise was never set');\r\n        this.pendingPromise.reject(error);\r\n        this.unregisterAndCleanUp();\r\n    }\r\n    unregisterAndCleanUp() {\r\n        if (this.eventManager) {\r\n            this.eventManager.unregisterConsumer(this);\r\n        }\r\n        this.pendingPromise = null;\r\n        this.cleanUp();\r\n    }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst PENDING_REDIRECT_KEY = 'pendingRedirect';\r\n// We only get one redirect outcome for any one auth, so just store it\r\n// in here.\r\nconst redirectOutcomeMap = new Map();\r\nclass RedirectAction extends AbstractPopupRedirectOperation {\r\n    constructor(auth, resolver, bypassAuthState = false) {\r\n        super(auth, [\r\n            \"signInViaRedirect\" /* SIGN_IN_VIA_REDIRECT */,\r\n            \"linkViaRedirect\" /* LINK_VIA_REDIRECT */,\r\n            \"reauthViaRedirect\" /* REAUTH_VIA_REDIRECT */,\r\n            \"unknown\" /* UNKNOWN */\r\n        ], resolver, undefined, bypassAuthState);\r\n        this.eventId = null;\r\n    }\r\n    /**\r\n     * Override the execute function; if we already have a redirect result, then\r\n     * just return it.\r\n     */\r\n    async execute() {\r\n        let readyOutcome = redirectOutcomeMap.get(this.auth._key());\r\n        if (!readyOutcome) {\r\n            try {\r\n                const hasPendingRedirect = await _getAndClearPendingRedirectStatus(this.resolver, this.auth);\r\n                const result = hasPendingRedirect ? await super.execute() : null;\r\n                readyOutcome = () => Promise.resolve(result);\r\n            }\r\n            catch (e) {\r\n                readyOutcome = () => Promise.reject(e);\r\n            }\r\n            redirectOutcomeMap.set(this.auth._key(), readyOutcome);\r\n        }\r\n        return readyOutcome();\r\n    }\r\n    async onAuthEvent(event) {\r\n        if (event.type === \"signInViaRedirect\" /* SIGN_IN_VIA_REDIRECT */) {\r\n            return super.onAuthEvent(event);\r\n        }\r\n        else if (event.type === \"unknown\" /* UNKNOWN */) {\r\n            // This is a sentinel value indicating there's no pending redirect\r\n            this.resolve(null);\r\n            return;\r\n        }\r\n        if (event.eventId) {\r\n            const user = await this.auth._redirectUserForId(event.eventId);\r\n            if (user) {\r\n                this.user = user;\r\n                return super.onAuthEvent(event);\r\n            }\r\n            else {\r\n                this.resolve(null);\r\n            }\r\n        }\r\n    }\r\n    async onExecution() { }\r\n    cleanUp() { }\r\n}\r\nasync function _getAndClearPendingRedirectStatus(resolver, auth) {\r\n    const key = pendingRedirectKey(auth);\r\n    const hasPendingRedirect = (await resolverPersistence(resolver)._get(key)) === 'true';\r\n    await resolverPersistence(resolver)._remove(key);\r\n    return hasPendingRedirect;\r\n}\r\nasync function _setPendingRedirectStatus(resolver, auth) {\r\n    return resolverPersistence(resolver)._set(pendingRedirectKey(auth), 'true');\r\n}\r\nfunction _clearRedirectOutcomes() {\r\n    redirectOutcomeMap.clear();\r\n}\r\nfunction resolverPersistence(resolver) {\r\n    return _getInstance(resolver._redirectPersistence);\r\n}\r\nfunction pendingRedirectKey(auth) {\r\n    return _persistenceKeyName(PENDING_REDIRECT_KEY, auth.config.apiKey, auth.name);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Authenticates a Firebase client using a full-page redirect flow.\r\n *\r\n * @remarks\r\n * To handle the results and errors for this operation, refer to {@link getRedirectResult}.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new FacebookAuthProvider();\r\n * // You can add additional scopes to the provider:\r\n * provider.addScope('user_birthday');\r\n * // Start a sign in process for an unauthenticated user.\r\n * await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * if (result) {\r\n *   // This is the signed-in user\r\n *   const user = result.user;\r\n *   // This gives you a Facebook Access Token.\r\n *   const credential = provider.credentialFromResult(auth, result);\r\n *   const token = credential.accessToken;\r\n * }\r\n * // As this API can be used for sign-in, linking and reauthentication,\r\n * // check the operationType to determine what triggered this redirect\r\n * // operation.\r\n * const operationType = result.operationType;\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\r\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\r\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\r\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\r\n *\r\n * @public\r\n */\r\nfunction signInWithRedirect(auth, provider, resolver) {\r\n    return _signInWithRedirect(auth, provider, resolver);\r\n}\r\nasync function _signInWithRedirect(auth, provider, resolver) {\r\n    const authInternal = _castAuth(auth);\r\n    _assert(provider instanceof FederatedAuthProvider, auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    const resolverInternal = _withDefaultResolver(authInternal, resolver);\r\n    await _setPendingRedirectStatus(resolverInternal, authInternal);\r\n    return resolverInternal._openRedirect(authInternal, provider, \"signInViaRedirect\" /* SIGN_IN_VIA_REDIRECT */);\r\n}\r\n/**\r\n * Reauthenticates the current user with the specified {@link OAuthProvider} using a full-page redirect flow.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new FacebookAuthProvider();\r\n * const result = await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * // Link using a redirect.\r\n * await linkWithRedirect(result.user, provider);\r\n * // This will again trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * ```\r\n *\r\n * @param user - The user.\r\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\r\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\r\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\r\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\r\n *\r\n * @public\r\n */\r\nfunction reauthenticateWithRedirect(user, provider, resolver) {\r\n    return _reauthenticateWithRedirect(user, provider, resolver);\r\n}\r\nasync function _reauthenticateWithRedirect(user, provider, resolver) {\r\n    const userInternal = getModularInstance(user);\r\n    _assert(provider instanceof FederatedAuthProvider, userInternal.auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    // Allow the resolver to error before persisting the redirect user\r\n    const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);\r\n    await _setPendingRedirectStatus(resolverInternal, userInternal.auth);\r\n    const eventId = await prepareUserForRedirect(userInternal);\r\n    return resolverInternal._openRedirect(userInternal.auth, provider, \"reauthViaRedirect\" /* REAUTH_VIA_REDIRECT */, eventId);\r\n}\r\n/**\r\n * Links the {@link OAuthProvider} to the user account using a full-page redirect flow.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using some other provider.\r\n * const result = await signInWithEmailAndPassword(auth, email, password);\r\n * // Link using a redirect.\r\n * const provider = new FacebookAuthProvider();\r\n * await linkWithRedirect(result.user, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * ```\r\n *\r\n * @param user - The user.\r\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\r\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\r\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\r\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\r\n *\r\n *\r\n * @public\r\n */\r\nfunction linkWithRedirect(user, provider, resolver) {\r\n    return _linkWithRedirect(user, provider, resolver);\r\n}\r\nasync function _linkWithRedirect(user, provider, resolver) {\r\n    const userInternal = getModularInstance(user);\r\n    _assert(provider instanceof FederatedAuthProvider, userInternal.auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    // Allow the resolver to error before persisting the redirect user\r\n    const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);\r\n    await _assertLinkedStatus(false, userInternal, provider.providerId);\r\n    await _setPendingRedirectStatus(resolverInternal, userInternal.auth);\r\n    const eventId = await prepareUserForRedirect(userInternal);\r\n    return resolverInternal._openRedirect(userInternal.auth, provider, \"linkViaRedirect\" /* LINK_VIA_REDIRECT */, eventId);\r\n}\r\n/**\r\n * Returns a {@link UserCredential} from the redirect-based sign-in flow.\r\n *\r\n * @remarks\r\n * If sign-in succeeded, returns the signed in user. If sign-in was unsuccessful, fails with an\r\n * error. If no redirect operation was called, returns a {@link UserCredential}\r\n * with a null `user`.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a redirect.\r\n * const provider = new FacebookAuthProvider();\r\n * // You can add additional scopes to the provider:\r\n * provider.addScope('user_birthday');\r\n * // Start a sign in process for an unauthenticated user.\r\n * await signInWithRedirect(auth, provider);\r\n * // This will trigger a full page redirect away from your app\r\n *\r\n * // After returning from the redirect when your app initializes you can obtain the result\r\n * const result = await getRedirectResult(auth);\r\n * if (result) {\r\n *   // This is the signed-in user\r\n *   const user = result.user;\r\n *   // This gives you a Facebook Access Token.\r\n *   const credential = provider.credentialFromResult(auth, result);\r\n *   const token = credential.accessToken;\r\n * }\r\n * // As this API can be used for sign-in, linking and reauthentication,\r\n * // check the operationType to determine what triggered this redirect\r\n * // operation.\r\n * const operationType = result.operationType;\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\r\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\r\n *\r\n * @public\r\n */\r\nasync function getRedirectResult(auth, resolver) {\r\n    await _castAuth(auth)._initializationPromise;\r\n    return _getRedirectResult(auth, resolver, false);\r\n}\r\nasync function _getRedirectResult(auth, resolverExtern, bypassAuthState = false) {\r\n    const authInternal = _castAuth(auth);\r\n    const resolver = _withDefaultResolver(authInternal, resolverExtern);\r\n    const action = new RedirectAction(authInternal, resolver, bypassAuthState);\r\n    const result = await action.execute();\r\n    if (result && !bypassAuthState) {\r\n        delete result.user._redirectEventId;\r\n        await authInternal._persistUserIfCurrent(result.user);\r\n        await authInternal._setRedirectUser(null, resolverExtern);\r\n    }\r\n    return result;\r\n}\r\nasync function prepareUserForRedirect(user) {\r\n    const eventId = _generateEventId(`${user.uid}:::`);\r\n    user._redirectEventId = eventId;\r\n    await user.auth._setRedirectUser(user);\r\n    await user.auth._persistUserIfCurrent(user);\r\n    return eventId;\r\n}\n\n/**\r\n * @license\r\n * Copyright 2021 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * URL for Authentication widget which will initiate the OAuth handshake\r\n *\r\n * @internal\r\n */\r\nconst WIDGET_PATH = '__/auth/handler';\r\n/**\r\n * URL for emulated environment\r\n *\r\n * @internal\r\n */\r\nconst EMULATOR_WIDGET_PATH = 'emulator/auth/handler';\r\nfunction _getRedirectUrl(auth, provider, authType, redirectUrl, eventId, additionalParams) {\r\n    _assert(auth.config.authDomain, auth, \"auth-domain-config-required\" /* MISSING_AUTH_DOMAIN */);\r\n    _assert(auth.config.apiKey, auth, \"invalid-api-key\" /* INVALID_API_KEY */);\r\n    const params = {\r\n        apiKey: auth.config.apiKey,\r\n        appName: auth.name,\r\n        authType,\r\n        redirectUrl,\r\n        v: SDK_VERSION,\r\n        eventId\r\n    };\r\n    if (provider instanceof FederatedAuthProvider) {\r\n        provider.setDefaultLanguage(auth.languageCode);\r\n        params.providerId = provider.providerId || '';\r\n        if (!isEmpty(provider.getCustomParameters())) {\r\n            params.customParameters = JSON.stringify(provider.getCustomParameters());\r\n        }\r\n        // TODO set additionalParams from the provider as well?\r\n        for (const [key, value] of Object.entries(additionalParams || {})) {\r\n            params[key] = value;\r\n        }\r\n    }\r\n    if (provider instanceof BaseOAuthProvider) {\r\n        const scopes = provider.getScopes().filter(scope => scope !== '');\r\n        if (scopes.length > 0) {\r\n            params.scopes = scopes.join(',');\r\n        }\r\n    }\r\n    if (auth.tenantId) {\r\n        params.tid = auth.tenantId;\r\n    }\r\n    // TODO: maybe set eid as endipointId\r\n    // TODO: maybe set fw as Frameworks.join(\",\")\r\n    const paramsDict = params;\r\n    for (const key of Object.keys(paramsDict)) {\r\n        if (paramsDict[key] === undefined) {\r\n            delete paramsDict[key];\r\n        }\r\n    }\r\n    return `${getHandlerBase(auth)}?${querystring(paramsDict).slice(1)}`;\r\n}\r\nfunction getHandlerBase({ config }) {\r\n    if (!config.emulator) {\r\n        return `https://${config.authDomain}/${WIDGET_PATH}`;\r\n    }\r\n    return _emulatorUrl(config, EMULATOR_WIDGET_PATH);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * The special web storage event\r\n *\r\n */\r\nconst WEB_STORAGE_SUPPORT_KEY = 'webStorageSupport';\r\nclass BrowserPopupRedirectResolver {\r\n    constructor() {\r\n        this.eventManagers = {};\r\n        this.iframes = {};\r\n        this.originValidationPromises = {};\r\n        this._redirectPersistence = browserSessionPersistence;\r\n        this._completeRedirectFn = _getRedirectResult;\r\n    }\r\n    // Wrapping in async even though we don't await anywhere in order\r\n    // to make sure errors are raised as promise rejections\r\n    async _openPopup(auth, provider, authType, eventId) {\r\n        var _a;\r\n        debugAssert((_a = this.eventManagers[auth._key()]) === null || _a === void 0 ? void 0 : _a.manager, '_initialize() not called before _openPopup()');\r\n        const url = _getRedirectUrl(auth, provider, authType, _getCurrentUrl(), eventId);\r\n        return _open(auth, url, _generateEventId());\r\n    }\r\n    async _openRedirect(auth, provider, authType, eventId) {\r\n        await this._originValidation(auth);\r\n        _setWindowLocation(_getRedirectUrl(auth, provider, authType, _getCurrentUrl(), eventId));\r\n        return new Promise(() => { });\r\n    }\r\n    _initialize(auth) {\r\n        const key = auth._key();\r\n        if (this.eventManagers[key]) {\r\n            const { manager, promise } = this.eventManagers[key];\r\n            if (manager) {\r\n                return Promise.resolve(manager);\r\n            }\r\n            else {\r\n                debugAssert(promise, 'If manager is not set, promise should be');\r\n                return promise;\r\n            }\r\n        }\r\n        const promise = this.initAndGetManager(auth);\r\n        this.eventManagers[key] = { promise };\r\n        return promise;\r\n    }\r\n    async initAndGetManager(auth) {\r\n        const iframe = await _openIframe(auth);\r\n        const manager = new AuthEventManager(auth);\r\n        iframe.register('authEvent', (iframeEvent) => {\r\n            _assert(iframeEvent === null || iframeEvent === void 0 ? void 0 : iframeEvent.authEvent, auth, \"invalid-auth-event\" /* INVALID_AUTH_EVENT */);\r\n            // TODO: Consider splitting redirect and popup events earlier on\r\n            const handled = manager.onEvent(iframeEvent.authEvent);\r\n            return { status: handled ? \"ACK\" /* ACK */ : \"ERROR\" /* ERROR */ };\r\n        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);\r\n        this.eventManagers[auth._key()] = { manager };\r\n        this.iframes[auth._key()] = iframe;\r\n        return manager;\r\n    }\r\n    _isIframeWebStorageSupported(auth, cb) {\r\n        const iframe = this.iframes[auth._key()];\r\n        iframe.send(WEB_STORAGE_SUPPORT_KEY, { type: WEB_STORAGE_SUPPORT_KEY }, result => {\r\n            var _a;\r\n            const isSupported = (_a = result === null || result === void 0 ? void 0 : result[0]) === null || _a === void 0 ? void 0 : _a[WEB_STORAGE_SUPPORT_KEY];\r\n            if (isSupported !== undefined) {\r\n                cb(!!isSupported);\r\n            }\r\n            _fail(auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        }, gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER);\r\n    }\r\n    _originValidation(auth) {\r\n        const key = auth._key();\r\n        if (!this.originValidationPromises[key]) {\r\n            this.originValidationPromises[key] = _validateOrigin(auth);\r\n        }\r\n        return this.originValidationPromises[key];\r\n    }\r\n    get _shouldInitProactively() {\r\n        // Mobile browsers and Safari need to optimistically initialize\r\n        return _isMobileBrowser() || _isSafari() || _isIOS();\r\n    }\r\n}\r\n/**\r\n * An implementation of {@link PopupRedirectResolver} suitable for browser\r\n * based applications.\r\n *\r\n * @public\r\n */\r\nconst browserPopupRedirectResolver = BrowserPopupRedirectResolver;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nfunction startSignInPhoneMfa(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v2/accounts/mfaSignIn:start\" /* START_PHONE_MFA_SIGN_IN */, Object.assign({ tenantId: auth.tenantId }, request));\r\n}\r\nfunction finalizeSignInPhoneMfa(auth, request) {\r\n    return _performApiRequest(auth, \"POST\" /* POST */, \"/v2/accounts/mfaSignIn:finalize\" /* FINALIZE_PHONE_MFA_SIGN_IN */, Object.assign({ tenantId: auth.tenantId }, request));\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nasync function getRecaptchaParams(auth) {\r\n    return ((await _performApiRequest(auth, \"GET\" /* GET */, \"/v1/recaptchaParams\" /* GET_RECAPTCHA_PARAM */)).recaptchaSiteKey || '');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst _SOLVE_TIME_MS = 500;\r\nconst _EXPIRATION_TIME_MS = 60000;\r\nconst _WIDGET_ID_START = 1000000000000;\r\nclass MockReCaptcha {\r\n    constructor(auth) {\r\n        this.auth = auth;\r\n        this.counter = _WIDGET_ID_START;\r\n        this._widgets = new Map();\r\n    }\r\n    render(container, parameters) {\r\n        const id = this.counter;\r\n        this._widgets.set(id, new MockWidget(container, this.auth.name, parameters || {}));\r\n        this.counter++;\r\n        return id;\r\n    }\r\n    reset(optWidgetId) {\r\n        var _a;\r\n        const id = optWidgetId || _WIDGET_ID_START;\r\n        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.delete());\r\n        this._widgets.delete(id);\r\n    }\r\n    getResponse(optWidgetId) {\r\n        var _a;\r\n        const id = optWidgetId || _WIDGET_ID_START;\r\n        return ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.getResponse()) || '';\r\n    }\r\n    async execute(optWidgetId) {\r\n        var _a;\r\n        const id = optWidgetId || _WIDGET_ID_START;\r\n        void ((_a = this._widgets.get(id)) === null || _a === void 0 ? void 0 : _a.execute());\r\n        return '';\r\n    }\r\n}\r\nclass MockWidget {\r\n    constructor(containerOrId, appName, params) {\r\n        this.params = params;\r\n        this.timerId = null;\r\n        this.deleted = false;\r\n        this.responseToken = null;\r\n        this.clickHandler = () => {\r\n            this.execute();\r\n        };\r\n        const container = typeof containerOrId === 'string'\r\n            ? document.getElementById(containerOrId)\r\n            : containerOrId;\r\n        _assert(container, \"argument-error\" /* ARGUMENT_ERROR */, { appName });\r\n        this.container = container;\r\n        this.isVisible = this.params.size !== 'invisible';\r\n        if (this.isVisible) {\r\n            this.execute();\r\n        }\r\n        else {\r\n            this.container.addEventListener('click', this.clickHandler);\r\n        }\r\n    }\r\n    getResponse() {\r\n        this.checkIfDeleted();\r\n        return this.responseToken;\r\n    }\r\n    delete() {\r\n        this.checkIfDeleted();\r\n        this.deleted = true;\r\n        if (this.timerId) {\r\n            clearTimeout(this.timerId);\r\n            this.timerId = null;\r\n        }\r\n        this.container.removeEventListener('click', this.clickHandler);\r\n    }\r\n    execute() {\r\n        this.checkIfDeleted();\r\n        if (this.timerId) {\r\n            return;\r\n        }\r\n        this.timerId = window.setTimeout(() => {\r\n            this.responseToken = generateRandomAlphaNumericString(50);\r\n            const { callback, 'expired-callback': expiredCallback } = this.params;\r\n            if (callback) {\r\n                try {\r\n                    callback(this.responseToken);\r\n                }\r\n                catch (e) { }\r\n            }\r\n            this.timerId = window.setTimeout(() => {\r\n                this.timerId = null;\r\n                this.responseToken = null;\r\n                if (expiredCallback) {\r\n                    try {\r\n                        expiredCallback();\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n                if (this.isVisible) {\r\n                    this.execute();\r\n                }\r\n            }, _EXPIRATION_TIME_MS);\r\n        }, _SOLVE_TIME_MS);\r\n    }\r\n    checkIfDeleted() {\r\n        if (this.deleted) {\r\n            throw new Error('reCAPTCHA mock was already deleted!');\r\n        }\r\n    }\r\n}\r\nfunction generateRandomAlphaNumericString(len) {\r\n    const chars = [];\r\n    const allowedChars = '1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\n    for (let i = 0; i < len; i++) {\r\n        chars.push(allowedChars.charAt(Math.floor(Math.random() * allowedChars.length)));\r\n    }\r\n    return chars.join('');\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n// ReCaptcha will load using the same callback, so the callback function needs\r\n// to be kept around\r\nconst _JSLOAD_CALLBACK = _generateCallbackName('rcb');\r\nconst NETWORK_TIMEOUT_DELAY = new Delay(30000, 60000);\r\nconst RECAPTCHA_BASE = 'https://www.google.com/recaptcha/api.js?';\r\n/**\r\n * Loader for the GReCaptcha library. There should only ever be one of this.\r\n */\r\nclass ReCaptchaLoaderImpl {\r\n    constructor() {\r\n        this.hostLanguage = '';\r\n        this.counter = 0;\r\n        this.librarySeparatelyLoaded = !!_window().grecaptcha;\r\n    }\r\n    load(auth, hl = '') {\r\n        _assert(isHostLanguageValid(hl), auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        if (this.shouldResolveImmediately(hl)) {\r\n            return Promise.resolve(_window().grecaptcha);\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            const networkTimeout = _window().setTimeout(() => {\r\n                reject(_createError(auth, \"network-request-failed\" /* NETWORK_REQUEST_FAILED */));\r\n            }, NETWORK_TIMEOUT_DELAY.get());\r\n            _window()[_JSLOAD_CALLBACK] = () => {\r\n                _window().clearTimeout(networkTimeout);\r\n                delete _window()[_JSLOAD_CALLBACK];\r\n                const recaptcha = _window().grecaptcha;\r\n                if (!recaptcha) {\r\n                    reject(_createError(auth, \"internal-error\" /* INTERNAL_ERROR */));\r\n                    return;\r\n                }\r\n                // Wrap the greptcha render function so that we know if the developer has\r\n                // called it separately\r\n                const render = recaptcha.render;\r\n                recaptcha.render = (container, params) => {\r\n                    const widgetId = render(container, params);\r\n                    this.counter++;\r\n                    return widgetId;\r\n                };\r\n                this.hostLanguage = hl;\r\n                resolve(recaptcha);\r\n            };\r\n            const url = `${RECAPTCHA_BASE}?${querystring({\r\n                onload: _JSLOAD_CALLBACK,\r\n                render: 'explicit',\r\n                hl\r\n            })}`;\r\n            _loadJS(url).catch(() => {\r\n                clearTimeout(networkTimeout);\r\n                reject(_createError(auth, \"internal-error\" /* INTERNAL_ERROR */));\r\n            });\r\n        });\r\n    }\r\n    clearedOneInstance() {\r\n        this.counter--;\r\n    }\r\n    shouldResolveImmediately(hl) {\r\n        // We can resolve immediately if:\r\n        //    grecaptcha is already defined AND (\r\n        //     1. the requested language codes are the same OR\r\n        //     2. there exists already a ReCaptcha on the page\r\n        //     3. the library was already loaded by the app\r\n        // In cases (2) and (3), we _can't_ reload as it would break the recaptchas\r\n        // that are already in the page\r\n        return (!!_window().grecaptcha &&\r\n            (hl === this.hostLanguage ||\r\n                this.counter > 0 ||\r\n                this.librarySeparatelyLoaded));\r\n    }\r\n}\r\nfunction isHostLanguageValid(hl) {\r\n    return hl.length <= 6 && /^\\s*[a-zA-Z0-9\\-]*\\s*$/.test(hl);\r\n}\r\nclass MockReCaptchaLoaderImpl {\r\n    async load(auth) {\r\n        return new MockReCaptcha(auth);\r\n    }\r\n    clearedOneInstance() { }\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst RECAPTCHA_VERIFIER_TYPE = 'recaptcha';\r\nconst DEFAULT_PARAMS = {\r\n    theme: 'light',\r\n    type: 'image'\r\n};\r\n/**\r\n * An {@link https://www.google.com/recaptcha/ | reCAPTCHA}-based application verifier.\r\n *\r\n * @public\r\n */\r\nclass RecaptchaVerifier {\r\n    /**\r\n     *\r\n     * @param containerOrId - The reCAPTCHA container parameter.\r\n     *\r\n     * @remarks\r\n     * This has different meaning depending on whether the reCAPTCHA is hidden or visible. For a\r\n     * visible reCAPTCHA the container must be empty. If a string is used, it has to correspond to\r\n     * an element ID. The corresponding element must also must be in the DOM at the time of\r\n     * initialization.\r\n     *\r\n     * @param parameters - The optional reCAPTCHA parameters.\r\n     *\r\n     * @remarks\r\n     * Check the reCAPTCHA docs for a comprehensive list. All parameters are accepted except for\r\n     * the sitekey. Firebase Auth backend provisions a reCAPTCHA for each project and will\r\n     * configure this upon rendering. For an invisible reCAPTCHA, a size key must have the value\r\n     * 'invisible'.\r\n     *\r\n     * @param authExtern - The corresponding Firebase Auth instance.\r\n     *\r\n     * @remarks\r\n     * If none is provided, the default Firebase Auth instance is used. A Firebase Auth instance\r\n     * must be initialized with an API key, otherwise an error will be thrown.\r\n     */\r\n    constructor(containerOrId, parameters = Object.assign({}, DEFAULT_PARAMS), authExtern) {\r\n        this.parameters = parameters;\r\n        /**\r\n         * The application verifier type.\r\n         *\r\n         * @remarks\r\n         * For a reCAPTCHA verifier, this is 'recaptcha'.\r\n         */\r\n        this.type = RECAPTCHA_VERIFIER_TYPE;\r\n        this.destroyed = false;\r\n        this.widgetId = null;\r\n        this.tokenChangeListeners = new Set();\r\n        this.renderPromise = null;\r\n        this.recaptcha = null;\r\n        this.auth = _castAuth(authExtern);\r\n        this.isInvisible = this.parameters.size === 'invisible';\r\n        _assert(typeof document !== 'undefined', this.auth, \"operation-not-supported-in-this-environment\" /* OPERATION_NOT_SUPPORTED */);\r\n        const container = typeof containerOrId === 'string'\r\n            ? document.getElementById(containerOrId)\r\n            : containerOrId;\r\n        _assert(container, this.auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        this.container = container;\r\n        this.parameters.callback = this.makeTokenCallback(this.parameters.callback);\r\n        this._recaptchaLoader = this.auth.settings.appVerificationDisabledForTesting\r\n            ? new MockReCaptchaLoaderImpl()\r\n            : new ReCaptchaLoaderImpl();\r\n        this.validateStartingState();\r\n        // TODO: Figure out if sdk version is needed\r\n    }\r\n    /**\r\n     * Waits for the user to solve the reCAPTCHA and resolves with the reCAPTCHA token.\r\n     *\r\n     * @returns A Promise for the reCAPTCHA token.\r\n     */\r\n    async verify() {\r\n        this.assertNotDestroyed();\r\n        const id = await this.render();\r\n        const recaptcha = this.getAssertedRecaptcha();\r\n        const response = recaptcha.getResponse(id);\r\n        if (response) {\r\n            return response;\r\n        }\r\n        return new Promise(resolve => {\r\n            const tokenChange = (token) => {\r\n                if (!token) {\r\n                    return; // Ignore token expirations.\r\n                }\r\n                this.tokenChangeListeners.delete(tokenChange);\r\n                resolve(token);\r\n            };\r\n            this.tokenChangeListeners.add(tokenChange);\r\n            if (this.isInvisible) {\r\n                recaptcha.execute(id);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Renders the reCAPTCHA widget on the page.\r\n     *\r\n     * @returns A Promise that resolves with the reCAPTCHA widget ID.\r\n     */\r\n    render() {\r\n        try {\r\n            this.assertNotDestroyed();\r\n        }\r\n        catch (e) {\r\n            // This method returns a promise. Since it's not async (we want to return the\r\n            // _same_ promise if rendering is still occurring), the API surface should\r\n            // reject with the error rather than just throw\r\n            return Promise.reject(e);\r\n        }\r\n        if (this.renderPromise) {\r\n            return this.renderPromise;\r\n        }\r\n        this.renderPromise = this.makeRenderPromise().catch(e => {\r\n            this.renderPromise = null;\r\n            throw e;\r\n        });\r\n        return this.renderPromise;\r\n    }\r\n    /** @internal */\r\n    _reset() {\r\n        this.assertNotDestroyed();\r\n        if (this.widgetId !== null) {\r\n            this.getAssertedRecaptcha().reset(this.widgetId);\r\n        }\r\n    }\r\n    /**\r\n     * Clears the reCAPTCHA widget from the page and destroys the instance.\r\n     */\r\n    clear() {\r\n        this.assertNotDestroyed();\r\n        this.destroyed = true;\r\n        this._recaptchaLoader.clearedOneInstance();\r\n        if (!this.isInvisible) {\r\n            this.container.childNodes.forEach(node => {\r\n                this.container.removeChild(node);\r\n            });\r\n        }\r\n    }\r\n    validateStartingState() {\r\n        _assert(!this.parameters.sitekey, this.auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        _assert(this.isInvisible || !this.container.hasChildNodes(), this.auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        _assert(typeof document !== 'undefined', this.auth, \"operation-not-supported-in-this-environment\" /* OPERATION_NOT_SUPPORTED */);\r\n    }\r\n    makeTokenCallback(existing) {\r\n        return token => {\r\n            this.tokenChangeListeners.forEach(listener => listener(token));\r\n            if (typeof existing === 'function') {\r\n                existing(token);\r\n            }\r\n            else if (typeof existing === 'string') {\r\n                const globalFunc = _window()[existing];\r\n                if (typeof globalFunc === 'function') {\r\n                    globalFunc(token);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    assertNotDestroyed() {\r\n        _assert(!this.destroyed, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n    }\r\n    async makeRenderPromise() {\r\n        await this.init();\r\n        if (!this.widgetId) {\r\n            let container = this.container;\r\n            if (!this.isInvisible) {\r\n                const guaranteedEmpty = document.createElement('div');\r\n                container.appendChild(guaranteedEmpty);\r\n                container = guaranteedEmpty;\r\n            }\r\n            this.widgetId = this.getAssertedRecaptcha().render(container, this.parameters);\r\n        }\r\n        return this.widgetId;\r\n    }\r\n    async init() {\r\n        _assert(_isHttpOrHttps() && !_isWorker(), this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        await domReady();\r\n        this.recaptcha = await this._recaptchaLoader.load(this.auth, this.auth.languageCode || undefined);\r\n        const siteKey = await getRecaptchaParams(this.auth);\r\n        _assert(siteKey, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        this.parameters.sitekey = siteKey;\r\n    }\r\n    getAssertedRecaptcha() {\r\n        _assert(this.recaptcha, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        return this.recaptcha;\r\n    }\r\n}\r\nfunction domReady() {\r\n    let resolver = null;\r\n    return new Promise(resolve => {\r\n        if (document.readyState === 'complete') {\r\n            resolve();\r\n            return;\r\n        }\r\n        // Document not ready, wait for load before resolving.\r\n        // Save resolver, so we can remove listener in case it was externally\r\n        // cancelled.\r\n        resolver = () => resolve();\r\n        window.addEventListener('load', resolver);\r\n    }).catch(e => {\r\n        if (resolver) {\r\n            window.removeEventListener('load', resolver);\r\n        }\r\n        throw e;\r\n    });\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nclass ConfirmationResultImpl {\r\n    constructor(verificationId, onConfirmation) {\r\n        this.verificationId = verificationId;\r\n        this.onConfirmation = onConfirmation;\r\n    }\r\n    confirm(verificationCode) {\r\n        const authCredential = PhoneAuthCredential._fromVerification(this.verificationId, verificationCode);\r\n        return this.onConfirmation(authCredential);\r\n    }\r\n}\r\n/**\r\n * Asynchronously signs in using a phone number.\r\n *\r\n * @remarks\r\n * This method sends a code via SMS to the given\r\n * phone number, and returns a {@link ConfirmationResult}. After the user\r\n * provides the code sent to their phone, call {@link ConfirmationResult.confirm}\r\n * with the code to sign the user in.\r\n *\r\n * For abuse prevention, this method also requires a {@link ApplicationVerifier}.\r\n * This SDK includes a reCAPTCHA-based implementation, {@link RecaptchaVerifier}.\r\n *\r\n * @example\r\n * ```javascript\r\n * // 'recaptcha-container' is the ID of an element in the DOM.\r\n * const applicationVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\r\n * const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);\r\n * // Obtain a verificationCode from the user.\r\n * const credential = await confirmationResult.confirm(verificationCode);\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param phoneNumber - The user's phone number in E.164 format (e.g. +16505550101).\r\n * @param appVerifier - The {@link ApplicationVerifier}.\r\n *\r\n * @public\r\n */\r\nasync function signInWithPhoneNumber$1(auth, phoneNumber, appVerifier) {\r\n    const authInternal = _castAuth(auth);\r\n    const verificationId = await _verifyPhoneNumber(authInternal, phoneNumber, getModularInstance(appVerifier));\r\n    return new ConfirmationResultImpl(verificationId, cred => signInWithCredential(authInternal, cred));\r\n}\r\n/**\r\n * Links the user account with the given phone number.\r\n *\r\n * @param user - The user.\r\n * @param phoneNumber - The user's phone number in E.164 format (e.g. +16505550101).\r\n * @param appVerifier - The {@link ApplicationVerifier}.\r\n *\r\n * @public\r\n */\r\nasync function linkWithPhoneNumber$1(user, phoneNumber, appVerifier) {\r\n    const userInternal = getModularInstance(user);\r\n    await _assertLinkedStatus(false, userInternal, \"phone\" /* PHONE */);\r\n    const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));\r\n    return new ConfirmationResultImpl(verificationId, cred => linkWithCredential(userInternal, cred));\r\n}\r\n/**\r\n * Re-authenticates a user using a fresh phne credential.\r\n *\r\n * @remarks Use before operations such as {@link updatePassword} that require tokens from recent sign-in attempts.\r\n *\r\n * @param user - The user.\r\n * @param phoneNumber - The user's phone number in E.164 format (e.g. +16505550101).\r\n * @param appVerifier - The {@link ApplicationVerifier}.\r\n *\r\n * @public\r\n */\r\nasync function reauthenticateWithPhoneNumber(user, phoneNumber, appVerifier) {\r\n    const userInternal = getModularInstance(user);\r\n    const verificationId = await _verifyPhoneNumber(userInternal.auth, phoneNumber, getModularInstance(appVerifier));\r\n    return new ConfirmationResultImpl(verificationId, cred => reauthenticateWithCredential(userInternal, cred));\r\n}\r\n/**\r\n * Returns a verification ID to be used in conjunction with the SMS code that is sent.\r\n *\r\n */\r\nasync function _verifyPhoneNumber(auth, options, verifier) {\r\n    var _a;\r\n    const recaptchaToken = await verifier.verify();\r\n    try {\r\n        _assert(typeof recaptchaToken === 'string', auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        _assert(verifier.type === RECAPTCHA_VERIFIER_TYPE, auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n        let phoneInfoOptions;\r\n        if (typeof options === 'string') {\r\n            phoneInfoOptions = {\r\n                phoneNumber: options\r\n            };\r\n        }\r\n        else {\r\n            phoneInfoOptions = options;\r\n        }\r\n        if ('session' in phoneInfoOptions) {\r\n            const session = phoneInfoOptions.session;\r\n            if ('phoneNumber' in phoneInfoOptions) {\r\n                _assert(session.type === \"enroll\" /* ENROLL */, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n                const response = await startEnrollPhoneMfa(auth, {\r\n                    idToken: session.credential,\r\n                    phoneEnrollmentInfo: {\r\n                        phoneNumber: phoneInfoOptions.phoneNumber,\r\n                        recaptchaToken\r\n                    }\r\n                });\r\n                return response.phoneSessionInfo.sessionInfo;\r\n            }\r\n            else {\r\n                _assert(session.type === \"signin\" /* SIGN_IN */, auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n                const mfaEnrollmentId = ((_a = phoneInfoOptions.multiFactorHint) === null || _a === void 0 ? void 0 : _a.uid) ||\r\n                    phoneInfoOptions.multiFactorUid;\r\n                _assert(mfaEnrollmentId, auth, \"missing-multi-factor-info\" /* MISSING_MFA_INFO */);\r\n                const response = await startSignInPhoneMfa(auth, {\r\n                    mfaPendingCredential: session.credential,\r\n                    mfaEnrollmentId,\r\n                    phoneSignInInfo: {\r\n                        recaptchaToken\r\n                    }\r\n                });\r\n                return response.phoneResponseInfo.sessionInfo;\r\n            }\r\n        }\r\n        else {\r\n            const { sessionInfo } = await sendPhoneVerificationCode(auth, {\r\n                phoneNumber: phoneInfoOptions.phoneNumber,\r\n                recaptchaToken\r\n            });\r\n            return sessionInfo;\r\n        }\r\n    }\r\n    finally {\r\n        verifier._reset();\r\n    }\r\n}\r\n/**\r\n * Updates the user's phone number.\r\n *\r\n * @example\r\n * ```\r\n * // 'recaptcha-container' is the ID of an element in the DOM.\r\n * const applicationVerifier = new RecaptchaVerifier('recaptcha-container');\r\n * const provider = new PhoneAuthProvider(auth);\r\n * const verificationId = await provider.verifyPhoneNumber('+16505550101', applicationVerifier);\r\n * // Obtain the verificationCode from the user.\r\n * const phoneCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\r\n * await updatePhoneNumber(user, phoneCredential);\r\n * ```\r\n *\r\n * @param user - The user.\r\n * @param credential - A credential authenticating the new phone number.\r\n *\r\n * @public\r\n */\r\nasync function updatePhoneNumber(user, credential) {\r\n    await _link(getModularInstance(user), credential);\r\n}\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * Provider for generating an {@link PhoneAuthCredential}.\r\n *\r\n * @example\r\n * ```javascript\r\n * // 'recaptcha-container' is the ID of an element in the DOM.\r\n * const applicationVerifier = new RecaptchaVerifier('recaptcha-container');\r\n * const provider = new PhoneAuthProvider(auth);\r\n * const verificationId = await provider.verifyPhoneNumber('+16505550101', applicationVerifier);\r\n * // Obtain the verificationCode from the user.\r\n * const phoneCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\r\n * const userCredential = await signInWithCredential(auth, phoneCredential);\r\n * ```\r\n *\r\n * @public\r\n */\r\nclass PhoneAuthProvider {\r\n    /**\r\n     * @param auth - The Firebase Auth instance in which sign-ins should occur.\r\n     *\r\n     */\r\n    constructor(auth) {\r\n        /** Always set to {@link ProviderId.PHONE}. */\r\n        this.providerId = PhoneAuthProvider.PROVIDER_ID;\r\n        this.auth = _castAuth(auth);\r\n    }\r\n    /**\r\n     *\r\n     * Starts a phone number authentication flow by sending a verification code to the given phone\r\n     * number.\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * const provider = new PhoneAuthProvider(auth);\r\n     * const verificationId = await provider.verifyPhoneNumber(phoneNumber, applicationVerifier);\r\n     * // Obtain verificationCode from the user.\r\n     * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\r\n     * const userCredential = await signInWithCredential(auth, authCredential);\r\n     * ```\r\n     *\r\n     * @example\r\n     * An alternative flow is provided using the `signInWithPhoneNumber` method.\r\n     * ```javascript\r\n     * const confirmationResult = signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);\r\n     * // Obtain verificationCode from the user.\r\n     * const userCredential = confirmationResult.confirm(verificationCode);\r\n     * ```\r\n     *\r\n     * @param phoneInfoOptions - The user's {@link PhoneInfoOptions}. The phone number should be in\r\n     * E.164 format (e.g. +16505550101).\r\n     * @param applicationVerifier - For abuse prevention, this method also requires a\r\n     * {@link ApplicationVerifier}. This SDK includes a reCAPTCHA-based implementation,\r\n     * {@link RecaptchaVerifier}.\r\n     *\r\n     * @returns A Promise for a verification ID that can be passed to\r\n     * {@link PhoneAuthProvider.credential} to identify this flow..\r\n     */\r\n    verifyPhoneNumber(phoneOptions, applicationVerifier) {\r\n        return _verifyPhoneNumber(this.auth, phoneOptions, getModularInstance(applicationVerifier));\r\n    }\r\n    /**\r\n     * Creates a phone auth credential, given the verification ID from\r\n     * {@link PhoneAuthProvider.verifyPhoneNumber} and the code that was sent to the user's\r\n     * mobile device.\r\n     *\r\n     * @example\r\n     * ```javascript\r\n     * const provider = new PhoneAuthProvider(auth);\r\n     * const verificationId = provider.verifyPhoneNumber(phoneNumber, applicationVerifier);\r\n     * // Obtain verificationCode from the user.\r\n     * const authCredential = PhoneAuthProvider.credential(verificationId, verificationCode);\r\n     * const userCredential = signInWithCredential(auth, authCredential);\r\n     * ```\r\n     *\r\n     * @example\r\n     * An alternative flow is provided using the `signInWithPhoneNumber` method.\r\n     * ```javascript\r\n     * const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber, applicationVerifier);\r\n     * // Obtain verificationCode from the user.\r\n     * const userCredential = await confirmationResult.confirm(verificationCode);\r\n     * ```\r\n     *\r\n     * @param verificationId - The verification ID returned from {@link PhoneAuthProvider.verifyPhoneNumber}.\r\n     * @param verificationCode - The verification code sent to the user's mobile device.\r\n     *\r\n     * @returns The auth provider credential.\r\n     */\r\n    static credential(verificationId, verificationCode) {\r\n        return PhoneAuthCredential._fromVerification(verificationId, verificationCode);\r\n    }\r\n    /**\r\n     * Generates an {@link AuthCredential} from a {@link UserCredential}.\r\n     * @param userCredential\r\n     */\r\n    static credentialFromResult(userCredential) {\r\n        const credential = userCredential;\r\n        return PhoneAuthProvider.credentialFromTaggedObject(credential);\r\n    }\r\n    /**\r\n     * Returns an {@link AuthCredential} when passed an error.\r\n     *\r\n     * @remarks\r\n     *\r\n     * This method works for errors like\r\n     * `auth/account-exists-with-different-credentials`. This is useful for\r\n     * recovering when attempting to set a user's phone number but the number\r\n     * in question is already tied to another account. For example, the following\r\n     * code tries to update the current user's phone number, and if that\r\n     * fails, links the user with the account associated with that number:\r\n     *\r\n     * ```js\r\n     * const provider = new PhoneAuthProvider(auth);\r\n     * const verificationId = await provider.verifyPhoneNumber(number, verifier);\r\n     * try {\r\n     *   const code = ''; // Prompt the user for the verification code\r\n     *   await updatePhoneNumber(\r\n     *       auth.currentUser,\r\n     *       PhoneAuthProvider.credential(verificationId, code));\r\n     * } catch (e) {\r\n     *   if (e.code === 'auth/account-exists-with-different-credential') {\r\n     *     const cred = PhoneAuthProvider.credentialFromError(e);\r\n     *     await linkWithCredential(auth.currentUser, cred);\r\n     *   }\r\n     * }\r\n     *\r\n     * // At this point, auth.currentUser.phoneNumber === number.\r\n     * ```\r\n     *\r\n     * @param error\r\n     */\r\n    static credentialFromError(error) {\r\n        return PhoneAuthProvider.credentialFromTaggedObject((error.customData || {}));\r\n    }\r\n    static credentialFromTaggedObject({ _tokenResponse: tokenResponse }) {\r\n        if (!tokenResponse) {\r\n            return null;\r\n        }\r\n        const { phoneNumber, temporaryProof } = tokenResponse;\r\n        if (phoneNumber && temporaryProof) {\r\n            return PhoneAuthCredential._fromTokenResponse(phoneNumber, temporaryProof);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n/** Always set to {@link ProviderId.PHONE}. */\r\nPhoneAuthProvider.PROVIDER_ID = \"phone\" /* PHONE */;\r\n/** Always set to {@link SignInMethod.PHONE}. */\r\nPhoneAuthProvider.PHONE_SIGN_IN_METHOD = \"phone\" /* PHONE */;\n\n/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst _POLL_WINDOW_CLOSE_TIMEOUT = new Delay(2000, 10000);\r\n/**\r\n * Authenticates a Firebase client using a popup-based OAuth authentication flow.\r\n *\r\n * @remarks\r\n * If succeeds, returns the signed in user along with the provider's credential. If sign in was\r\n * unsuccessful, returns an error object containing additional information about the error.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a popup.\r\n * const provider = new FacebookAuthProvider();\r\n * const result = await signInWithPopup(auth, provider);\r\n *\r\n * // The signed-in user info.\r\n * const user = result.user;\r\n * // This gives you a Facebook Access Token.\r\n * const credential = provider.credentialFromResult(auth, result);\r\n * const token = credential.accessToken;\r\n * ```\r\n *\r\n * @param auth - The Auth instance.\r\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\r\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\r\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\r\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\r\n *\r\n *\r\n * @public\r\n */\r\nasync function signInWithPopup(auth, provider, resolver) {\r\n    const authInternal = _castAuth(auth);\r\n    _assert(provider instanceof FederatedAuthProvider, auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    const resolverInternal = _withDefaultResolver(authInternal, resolver);\r\n    const action = new PopupOperation(authInternal, \"signInViaPopup\" /* SIGN_IN_VIA_POPUP */, provider, resolverInternal);\r\n    return action.executeNotNull();\r\n}\r\n/**\r\n * Reauthenticates the current user with the specified {@link OAuthProvider} using a pop-up based\r\n * OAuth flow.\r\n *\r\n * @remarks\r\n * If the reauthentication is successful, the returned result will contain the user and the\r\n * provider's credential.\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using a popup.\r\n * const provider = new FacebookAuthProvider();\r\n * const result = await signInWithPopup(auth, provider);\r\n * // Reauthenticate using a popup.\r\n * await reauthenticateWithPopup(result.user, provider);\r\n * ```\r\n *\r\n * @param user - The user.\r\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\r\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\r\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\r\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\r\n *\r\n * @public\r\n */\r\nasync function reauthenticateWithPopup(user, provider, resolver) {\r\n    const userInternal = getModularInstance(user);\r\n    _assert(provider instanceof FederatedAuthProvider, userInternal.auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);\r\n    const action = new PopupOperation(userInternal.auth, \"reauthViaPopup\" /* REAUTH_VIA_POPUP */, provider, resolverInternal, userInternal);\r\n    return action.executeNotNull();\r\n}\r\n/**\r\n * Links the authenticated provider to the user account using a pop-up based OAuth flow.\r\n *\r\n * @remarks\r\n * If the linking is successful, the returned result will contain the user and the provider's credential.\r\n *\r\n *\r\n * @example\r\n * ```javascript\r\n * // Sign in using some other provider.\r\n * const result = await signInWithEmailAndPassword(auth, email, password);\r\n * // Link using a popup.\r\n * const provider = new FacebookAuthProvider();\r\n * await linkWithPopup(result.user, provider);\r\n * ```\r\n *\r\n * @param user - The user.\r\n * @param provider - The provider to authenticate. The provider has to be an {@link OAuthProvider}.\r\n * Non-OAuth providers like {@link EmailAuthProvider} will throw an error.\r\n * @param resolver - An instance of {@link PopupRedirectResolver}, optional\r\n * if already supplied to {@link initializeAuth} or provided by {@link getAuth}.\r\n *\r\n * @public\r\n */\r\nasync function linkWithPopup(user, provider, resolver) {\r\n    const userInternal = getModularInstance(user);\r\n    _assert(provider instanceof FederatedAuthProvider, userInternal.auth, \"argument-error\" /* ARGUMENT_ERROR */);\r\n    const resolverInternal = _withDefaultResolver(userInternal.auth, resolver);\r\n    const action = new PopupOperation(userInternal.auth, \"linkViaPopup\" /* LINK_VIA_POPUP */, provider, resolverInternal, userInternal);\r\n    return action.executeNotNull();\r\n}\r\n/**\r\n * Popup event manager. Handles the popup's entire lifecycle; listens to auth\r\n * events\r\n *\r\n */\r\nclass PopupOperation extends AbstractPopupRedirectOperation {\r\n    constructor(auth, filter, provider, resolver, user) {\r\n        super(auth, filter, resolver, user);\r\n        this.provider = provider;\r\n        this.authWindow = null;\r\n        this.pollId = null;\r\n        if (PopupOperation.currentPopupAction) {\r\n            PopupOperation.currentPopupAction.cancel();\r\n        }\r\n        PopupOperation.currentPopupAction = this;\r\n    }\r\n    async executeNotNull() {\r\n        const result = await this.execute();\r\n        _assert(result, this.auth, \"internal-error\" /* INTERNAL_ERROR */);\r\n        return result;\r\n    }\r\n    async onExecution() {\r\n        debugAssert(this.filter.length === 1, 'Popup operations only handle one event');\r\n        const eventId = _generateEventId();\r\n        this.authWindow = await this.resolver._openPopup(this.auth, this.provider, this.filter[0], // There's always one, see constructor\r\n        eventId);\r\n        this.authWindow.associatedEvent = eventId;\r\n        // Check for web storage support and origin validation _after_ the popup is\r\n        // loaded. These operations are slow (~1 second or so) Rather than\r\n        // waiting on them before opening the window, optimistically open the popup\r\n        // and check for storage support at the same time. If storage support is\r\n        // not available, this will cause the whole thing to reject properly. It\r\n        // will also close the popup, but since the promise has already rejected,\r\n        // the popup closed by user poll will reject into the void.\r\n        this.resolver._originValidation(this.auth).catch(e => {\r\n            this.reject(e);\r\n        });\r\n        this.resolver._isIframeWebStorageSupported(this.auth, isSupported => {\r\n            if (!isSupported) {\r\n                this.reject(_createError(this.auth, \"web-storage-unsupported\" /* WEB_STORAGE_UNSUPPORTED */));\r\n            }\r\n        });\r\n        // Handle user closure. Notice this does *not* use await\r\n        this.pollUserCancellation();\r\n    }\r\n    get eventId() {\r\n        var _a;\r\n        return ((_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.associatedEvent) || null;\r\n    }\r\n    cancel() {\r\n        this.reject(_createError(this.auth, \"cancelled-popup-request\" /* EXPIRED_POPUP_REQUEST */));\r\n    }\r\n    cleanUp() {\r\n        if (this.authWindow) {\r\n            this.authWindow.close();\r\n        }\r\n        if (this.pollId) {\r\n            window.clearTimeout(this.pollId);\r\n        }\r\n        this.authWindow = null;\r\n        this.pollId = null;\r\n        PopupOperation.currentPopupAction = null;\r\n    }\r\n    pollUserCancellation() {\r\n        const poll = () => {\r\n            var _a, _b;\r\n            if ((_b = (_a = this.authWindow) === null || _a === void 0 ? void 0 : _a.window) === null || _b === void 0 ? void 0 : _b.closed) {\r\n                // Make sure that there is sufficient time for whatever action to\r\n                // complete. The window could have closed but the sign in network\r\n                // call could still be in flight.\r\n                this.pollId = window.setTimeout(() => {\r\n                    this.pollId = null;\r\n                    this.reject(_createError(this.auth, \"popup-closed-by-user\" /* POPUP_CLOSED_BY_USER */));\r\n                }, 2000 /* AUTH_EVENT */);\r\n                return;\r\n            }\r\n            this.pollId = window.setTimeout(poll, _POLL_WINDOW_CLOSE_TIMEOUT.get());\r\n        };\r\n        poll();\r\n    }\r\n}\r\n// Only one popup is ever shown at once. The lifecycle of the current popup\r\n// can be managed / cancelled by the constructor.\r\nPopupOperation.currentPopupAction = null;\n\nclass MultiFactorAssertionImpl {\r\n    constructor(factorId) {\r\n        this.factorId = factorId;\r\n    }\r\n    _process(auth, session, displayName) {\r\n        switch (session.type) {\r\n            case \"enroll\" /* ENROLL */:\r\n                return this._finalizeEnroll(auth, session.credential, displayName);\r\n            case \"signin\" /* SIGN_IN */:\r\n                return this._finalizeSignIn(auth, session.credential);\r\n            default:\r\n                return debugFail('unexpected MultiFactorSessionType');\r\n        }\r\n    }\r\n}\n\n/**\r\n * {@inheritdoc PhoneMultiFactorAssertion}\r\n *\r\n * @public\r\n */\r\nclass PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl {\r\n    constructor(credential) {\r\n        super(\"phone\" /* PHONE */);\r\n        this.credential = credential;\r\n    }\r\n    /** @internal */\r\n    static _fromCredential(credential) {\r\n        return new PhoneMultiFactorAssertionImpl(credential);\r\n    }\r\n    /** @internal */\r\n    _finalizeEnroll(auth, idToken, displayName) {\r\n        return finalizeEnrollPhoneMfa(auth, {\r\n            idToken,\r\n            displayName,\r\n            phoneVerificationInfo: this.credential._makeVerificationRequest()\r\n        });\r\n    }\r\n    /** @internal */\r\n    _finalizeSignIn(auth, mfaPendingCredential) {\r\n        return finalizeSignInPhoneMfa(auth, {\r\n            mfaPendingCredential,\r\n            phoneVerificationInfo: this.credential._makeVerificationRequest()\r\n        });\r\n    }\r\n}\r\n/**\r\n * Provider for generating a {@link PhoneMultiFactorAssertion}.\r\n *\r\n * @public\r\n */\r\nclass PhoneMultiFactorGenerator {\r\n    constructor() { }\r\n    /**\r\n     * Provides a {@link PhoneMultiFactorAssertion} to confirm ownership of the phone second factor.\r\n     *\r\n     * @param phoneAuthCredential - A credential provided by {@link PhoneAuthProvider.credential}.\r\n     * @returns A {@link PhoneMultiFactorAssertion} which can be used with\r\n     * {@link MultiFactorResolver.resolveSignIn}\r\n     */\r\n    static assertion(credential) {\r\n        return PhoneMultiFactorAssertionImpl._fromCredential(credential);\r\n    }\r\n}\n\n/**\r\n * Firebase Authentication\r\n *\r\n * @packageDocumentation\r\n */\r\n/**\r\n * Initializes an Auth instance with platform specific default dependencies.\r\n *\r\n * @param app - The Firebase App.\r\n *\r\n * @public\r\n */\r\nfunction getAuth(app = getApp()) {\r\n    const provider = _getProvider(app, 'auth-exp');\r\n    if (provider.isInitialized()) {\r\n        return provider.getImmediate();\r\n    }\r\n    return initializeAuth(app, {\r\n        popupRedirectResolver: browserPopupRedirectResolver,\r\n        persistence: [indexedDBLocalPersistence, browserLocalPersistence]\r\n    });\r\n}\r\nregisterAuth(\"Browser\" /* BROWSER */);\n\nexport { OAuthCredential as $, AuthEventManager as A, reauthenticateWithPopup as B, signInWithRedirect as C, linkWithRedirect as D, reauthenticateWithRedirect as E, FetchProvider as F, getRedirectResult as G, browserPopupRedirectResolver as H, PhoneMultiFactorGenerator as I, setPersistence as J, onIdTokenChanged as K, onAuthStateChanged as L, useDeviceLanguage as M, updateCurrentUser as N, signOut as O, PhoneAuthProvider as P, deleteUser as Q, RecaptchaVerifier as R, SAMLAuthCredential as S, debugErrorMap as T, UserImpl as U, prodErrorMap as V, initializeAuth as W, useAuthEmulator as X, AuthCredential as Y, EmailAuthCredential as Z, _getRedirectUrl as _, _isIOS7Or8 as a, PhoneAuthCredential as a0, inMemoryPersistence as a1, EmailAuthProvider as a2, FacebookAuthProvider as a3, GoogleAuthProvider as a4, GithubAuthProvider as a5, OAuthProvider as a6, SAMLAuthProvider as a7, TwitterAuthProvider as a8, signInAnonymously as a9, reload as aA, getMultiFactorResolver as aB, multiFactor as aC, signInWithCredential as aa, linkWithCredential as ab, reauthenticateWithCredential as ac, signInWithCustomToken$1 as ad, sendPasswordResetEmail$1 as ae, confirmPasswordReset as af, applyActionCode$1 as ag, checkActionCode as ah, verifyPasswordResetCode as ai, createUserWithEmailAndPassword as aj, signInWithEmailAndPassword as ak, sendSignInLinkToEmail$1 as al, isSignInWithEmailLink as am, signInWithEmailLink$1 as an, fetchSignInMethodsForEmail as ao, sendEmailVerification$1 as ap, verifyBeforeUpdateEmail as aq, ActionCodeURL as ar, parseActionCodeURL as as, updateProfile$1 as at, updateEmail as au, updatePassword as av, getIdToken as aw, getIdTokenResult as ax, unlink as ay, getAdditionalUserInfo as az, _isIOS as b, _isAndroid as c, debugAssert as d, _fail as e, _createError as f, _assert as g, _getInstance as h, browserLocalPersistence as i, _persistenceKeyName as j, browserSessionPersistence as k, _getRedirectResult as l, _clearRedirectOutcomes as m, AuthImpl as n, _castAuth as o, _getClientVersion as p, _generateEventId as q, AuthPopup as r, getAuth as s, indexedDBLocalPersistence as t, signInWithPhoneNumber$1 as u, linkWithPhoneNumber$1 as v, reauthenticateWithPhoneNumber as w, updatePhoneNumber as x, signInWithPopup as y, linkWithPopup as z };\n//# sourceMappingURL=index-558976c1.js.map\n","//! @version @js-joda/core - 3.2.0\n//! @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors\n//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nfunction createErrorType(name, init, superErrorClass) {\n  if (superErrorClass === void 0) {\n    superErrorClass = Error;\n  }\n\n  function JsJodaException(message) {\n    if (!Error.captureStackTrace) {\n      this.stack = new Error().stack;\n    } else {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    this.message = message;\n    init && init.apply(this, arguments);\n\n    this.toString = function () {\n      return this.name + \": \" + this.message;\n    };\n  }\n\n  JsJodaException.prototype = Object.create(superErrorClass.prototype);\n  JsJodaException.prototype.name = name;\n  JsJodaException.prototype.constructor = JsJodaException;\n  return JsJodaException;\n}\n\nvar DateTimeException = createErrorType('DateTimeException', messageWithCause);\nvar DateTimeParseException = createErrorType('DateTimeParseException', messageForDateTimeParseException);\nvar UnsupportedTemporalTypeException = createErrorType('UnsupportedTemporalTypeException', null, DateTimeException);\nvar ArithmeticException = createErrorType('ArithmeticException');\nvar IllegalArgumentException = createErrorType('IllegalArgumentException');\nvar IllegalStateException = createErrorType('IllegalStateException');\nvar NullPointerException = createErrorType('NullPointerException');\n\nfunction messageWithCause(message, cause) {\n  if (cause === void 0) {\n    cause = null;\n  }\n\n  var msg = message || this.name;\n\n  if (cause !== null && cause instanceof Error) {\n    msg += '\\n-------\\nCaused by: ' + cause.stack + '\\n-------\\n';\n  }\n\n  this.message = msg;\n}\n\nfunction messageForDateTimeParseException(message, text, index, cause) {\n  if (text === void 0) {\n    text = '';\n  }\n\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (cause === void 0) {\n    cause = null;\n  }\n\n  var msg = message || this.name;\n  msg += ': ' + text + ', at index: ' + index;\n\n  if (cause !== null && cause instanceof Error) {\n    msg += '\\n-------\\nCaused by: ' + cause.stack + '\\n-------\\n';\n  }\n\n  this.message = msg;\n\n  this.parsedString = function () {\n    return text;\n  };\n\n  this.errorIndex = function () {\n    return index;\n  };\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nfunction assert(assertion, msg, error) {\n  if (!assertion) {\n    if (error) {\n      throw new error(msg);\n    } else {\n      throw new Error(msg);\n    }\n  }\n}\nfunction requireNonNull(value, parameterName) {\n  if (value == null) {\n    throw new NullPointerException(parameterName + ' must not be null');\n  }\n\n  return value;\n}\nfunction requireInstance(value, _class, parameterName) {\n  if (!(value instanceof _class)) {\n    throw new IllegalArgumentException(parameterName + ' must be an instance of ' + (_class.name ? _class.name : _class) + (value && value.constructor && value.constructor.name ? ', but is ' + value.constructor.name : ''));\n  }\n\n  return value;\n}\nfunction abstractMethodFail(methodName) {\n  throw new TypeError('abstract method \"' + methodName + '\" is not implemented');\n}\n\nvar assert$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    assert: assert,\n    requireNonNull: requireNonNull,\n    requireInstance: requireInstance,\n    abstractMethodFail: abstractMethodFail\n});\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\nvar MIN_SAFE_INTEGER = -9007199254740991;\nvar MathUtil = function () {\n  function MathUtil() {}\n\n  MathUtil.intDiv = function intDiv(x, y) {\n    var r = x / y;\n    r = MathUtil.roundDown(r);\n    return MathUtil.safeZero(r);\n  };\n\n  MathUtil.intMod = function intMod(x, y) {\n    var r = x - MathUtil.intDiv(x, y) * y;\n    r = MathUtil.roundDown(r);\n    return MathUtil.safeZero(r);\n  };\n\n  MathUtil.roundDown = function roundDown(r) {\n    if (r < 0) {\n      return Math.ceil(r);\n    } else {\n      return Math.floor(r);\n    }\n  };\n\n  MathUtil.floorDiv = function floorDiv(x, y) {\n    var r = Math.floor(x / y);\n    return MathUtil.safeZero(r);\n  };\n\n  MathUtil.floorMod = function floorMod(x, y) {\n    var r = x - MathUtil.floorDiv(x, y) * y;\n    return MathUtil.safeZero(r);\n  };\n\n  MathUtil.safeAdd = function safeAdd(x, y) {\n    MathUtil.verifyInt(x);\n    MathUtil.verifyInt(y);\n\n    if (x === 0) {\n      return MathUtil.safeZero(y);\n    }\n\n    if (y === 0) {\n      return MathUtil.safeZero(x);\n    }\n\n    var r = MathUtil.safeToInt(x + y);\n\n    if (r === x || r === y) {\n      throw new ArithmeticException('Invalid addition beyond MAX_SAFE_INTEGER!');\n    }\n\n    return r;\n  };\n\n  MathUtil.safeSubtract = function safeSubtract(x, y) {\n    MathUtil.verifyInt(x);\n    MathUtil.verifyInt(y);\n\n    if (x === 0 && y === 0) {\n      return 0;\n    } else if (x === 0) {\n      return MathUtil.safeZero(-1 * y);\n    } else if (y === 0) {\n      return MathUtil.safeZero(x);\n    }\n\n    return MathUtil.safeToInt(x - y);\n  };\n\n  MathUtil.safeMultiply = function safeMultiply(x, y) {\n    MathUtil.verifyInt(x);\n    MathUtil.verifyInt(y);\n\n    if (x === 1) {\n      return MathUtil.safeZero(y);\n    }\n\n    if (y === 1) {\n      return MathUtil.safeZero(x);\n    }\n\n    if (x === 0 || y === 0) {\n      return 0;\n    }\n\n    var r = MathUtil.safeToInt(x * y);\n\n    if (r / y !== x || x === MIN_SAFE_INTEGER && y === -1 || y === MIN_SAFE_INTEGER && x === -1) {\n      throw new ArithmeticException('Multiplication overflows: ' + x + ' * ' + y);\n    }\n\n    return r;\n  };\n\n  MathUtil.parseInt = function (_parseInt) {\n    function parseInt(_x) {\n      return _parseInt.apply(this, arguments);\n    }\n\n    parseInt.toString = function () {\n      return _parseInt.toString();\n    };\n\n    return parseInt;\n  }(function (value) {\n    var r = parseInt(value);\n    return MathUtil.safeToInt(r);\n  });\n\n  MathUtil.safeToInt = function safeToInt(value) {\n    MathUtil.verifyInt(value);\n    return MathUtil.safeZero(value);\n  };\n\n  MathUtil.verifyInt = function verifyInt(value) {\n    if (value == null) {\n      throw new ArithmeticException(\"Invalid value: '\" + value + \"', using null or undefined as argument\");\n    }\n\n    if (isNaN(value)) {\n      throw new ArithmeticException('Invalid int value, using NaN as argument');\n    }\n\n    if (value % 1 !== 0) {\n      throw new ArithmeticException(\"Invalid value: '\" + value + \"' is a float\");\n    }\n\n    if (value > MAX_SAFE_INTEGER || value < MIN_SAFE_INTEGER) {\n      throw new ArithmeticException('Calculation overflows an int: ' + value);\n    }\n  };\n\n  MathUtil.safeZero = function safeZero(value) {\n    return value === 0 ? 0 : +value;\n  };\n\n  MathUtil.compareNumbers = function compareNumbers(a, b) {\n    if (a < b) {\n      return -1;\n    }\n\n    if (a > b) {\n      return 1;\n    }\n\n    return 0;\n  };\n\n  MathUtil.smi = function smi(int) {\n    return int >>> 1 & 0x40000000 | int & 0xBFFFFFFF;\n  };\n\n  MathUtil.hash = function hash(number) {\n    if (number !== number || number === Infinity) {\n      return 0;\n    }\n\n    var result = number;\n\n    while (number > 0xFFFFFFFF) {\n      number /= 0xFFFFFFFF;\n      result ^= number;\n    }\n\n    return MathUtil.smi(result);\n  };\n\n  MathUtil.hashCode = function hashCode() {\n    var result = 17;\n\n    for (var _len = arguments.length, numbers = new Array(_len), _key = 0; _key < _len; _key++) {\n      numbers[_key] = arguments[_key];\n    }\n\n    for (var _i = 0, _numbers = numbers; _i < _numbers.length; _i++) {\n      var n = _numbers[_i];\n      result = (result << 5) - result + MathUtil.hash(n);\n    }\n\n    return MathUtil.hash(result);\n  };\n\n  return MathUtil;\n}();\nMathUtil.MAX_SAFE_INTEGER = MAX_SAFE_INTEGER;\nMathUtil.MIN_SAFE_INTEGER = MIN_SAFE_INTEGER;\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar Enum = function () {\n  function Enum(name) {\n    this._name = name;\n  }\n\n  var _proto = Enum.prototype;\n\n  _proto.equals = function equals(other) {\n    return this === other;\n  };\n\n  _proto.toString = function toString() {\n    return this._name;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return Enum;\n}();\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar TemporalAmount = function () {\n  function TemporalAmount() {}\n\n  var _proto = TemporalAmount.prototype;\n\n  _proto.get = function get(unit) {\n    abstractMethodFail('get');\n  };\n\n  _proto.units = function units() {\n    abstractMethodFail('units');\n  };\n\n  _proto.addTo = function addTo(temporal) {\n    abstractMethodFail('addTo');\n  };\n\n  _proto.subtractFrom = function subtractFrom(temporal) {\n    abstractMethodFail('subtractFrom');\n  };\n\n  return TemporalAmount;\n}();\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar TemporalUnit = function () {\n  function TemporalUnit() {}\n\n  var _proto = TemporalUnit.prototype;\n\n  _proto.duration = function duration() {\n    abstractMethodFail('duration');\n  };\n\n  _proto.isDurationEstimated = function isDurationEstimated() {\n    abstractMethodFail('isDurationEstimated');\n  };\n\n  _proto.isDateBased = function isDateBased() {\n    abstractMethodFail('isDateBased');\n  };\n\n  _proto.isTimeBased = function isTimeBased() {\n    abstractMethodFail('isTimeBased');\n  };\n\n  _proto.isSupportedBy = function isSupportedBy(temporal) {\n    abstractMethodFail('isSupportedBy');\n  };\n\n  _proto.addTo = function addTo(dateTime, periodToAdd) {\n    abstractMethodFail('addTo');\n  };\n\n  _proto.between = function between(temporal1, temporal2) {\n    abstractMethodFail('between');\n  };\n\n  return TemporalUnit;\n}();\n\nvar Duration = function (_TemporalAmount) {\n  _inheritsLoose(Duration, _TemporalAmount);\n\n  function Duration(seconds, nanos) {\n    var _this;\n\n    _this = _TemporalAmount.call(this) || this;\n    _this._seconds = MathUtil.safeToInt(seconds);\n    _this._nanos = MathUtil.safeToInt(nanos);\n    return _this;\n  }\n\n  Duration.ofDays = function ofDays(days) {\n    return Duration._create(MathUtil.safeMultiply(days, LocalTime.SECONDS_PER_DAY), 0);\n  };\n\n  Duration.ofHours = function ofHours(hours) {\n    return Duration._create(MathUtil.safeMultiply(hours, LocalTime.SECONDS_PER_HOUR), 0);\n  };\n\n  Duration.ofMinutes = function ofMinutes(minutes) {\n    return Duration._create(MathUtil.safeMultiply(minutes, LocalTime.SECONDS_PER_MINUTE), 0);\n  };\n\n  Duration.ofSeconds = function ofSeconds(seconds, nanoAdjustment) {\n    if (nanoAdjustment === void 0) {\n      nanoAdjustment = 0;\n    }\n\n    var secs = MathUtil.safeAdd(seconds, MathUtil.floorDiv(nanoAdjustment, LocalTime.NANOS_PER_SECOND));\n    var nos = MathUtil.floorMod(nanoAdjustment, LocalTime.NANOS_PER_SECOND);\n    return Duration._create(secs, nos);\n  };\n\n  Duration.ofMillis = function ofMillis(millis) {\n    var secs = MathUtil.intDiv(millis, 1000);\n    var mos = MathUtil.intMod(millis, 1000);\n\n    if (mos < 0) {\n      mos += 1000;\n      secs--;\n    }\n\n    return Duration._create(secs, mos * 1000000);\n  };\n\n  Duration.ofNanos = function ofNanos(nanos) {\n    var secs = MathUtil.intDiv(nanos, LocalTime.NANOS_PER_SECOND);\n    var nos = MathUtil.intMod(nanos, LocalTime.NANOS_PER_SECOND);\n\n    if (nos < 0) {\n      nos += LocalTime.NANOS_PER_SECOND;\n      secs--;\n    }\n\n    return this._create(secs, nos);\n  };\n\n  Duration.of = function of(amount, unit) {\n    return Duration.ZERO.plus(amount, unit);\n  };\n\n  Duration.from = function from(amount) {\n    requireNonNull(amount, 'amount');\n    requireInstance(amount, TemporalAmount);\n    var duration = Duration.ZERO;\n    amount.units().forEach(function (unit) {\n      duration = duration.plus(amount.get(unit), unit);\n    });\n    return duration;\n  };\n\n  Duration.between = function between(startInclusive, endExclusive) {\n    requireNonNull(startInclusive, 'startInclusive');\n    requireNonNull(endExclusive, 'endExclusive');\n    var secs = startInclusive.until(endExclusive, ChronoUnit.SECONDS);\n    var nanos = 0;\n\n    if (startInclusive.isSupported(ChronoField.NANO_OF_SECOND) && endExclusive.isSupported(ChronoField.NANO_OF_SECOND)) {\n      try {\n        var startNos = startInclusive.getLong(ChronoField.NANO_OF_SECOND);\n        nanos = endExclusive.getLong(ChronoField.NANO_OF_SECOND) - startNos;\n\n        if (secs > 0 && nanos < 0) {\n          nanos += LocalTime.NANOS_PER_SECOND;\n        } else if (secs < 0 && nanos > 0) {\n          nanos -= LocalTime.NANOS_PER_SECOND;\n        } else if (secs === 0 && nanos !== 0) {\n          var adjustedEnd = endExclusive.with(ChronoField.NANO_OF_SECOND, startNos);\n          secs = startInclusive.until(adjustedEnd, ChronoUnit.SECONDS);\n        }\n      } catch (e) {}\n    }\n\n    return this.ofSeconds(secs, nanos);\n  };\n\n  Duration.parse = function parse(text) {\n    requireNonNull(text, 'text');\n    var PATTERN = new RegExp('([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?', 'i');\n    var matches = PATTERN.exec(text);\n\n    if (matches !== null) {\n      if ('T' === matches[3] === false) {\n        var negate = '-' === matches[1];\n        var dayMatch = matches[2];\n        var hourMatch = matches[4];\n        var minuteMatch = matches[5];\n        var secondMatch = matches[6];\n        var fractionMatch = matches[7];\n\n        if (dayMatch != null || hourMatch != null || minuteMatch != null || secondMatch != null) {\n          var daysAsSecs = Duration._parseNumber(text, dayMatch, LocalTime.SECONDS_PER_DAY, 'days');\n\n          var hoursAsSecs = Duration._parseNumber(text, hourMatch, LocalTime.SECONDS_PER_HOUR, 'hours');\n\n          var minsAsSecs = Duration._parseNumber(text, minuteMatch, LocalTime.SECONDS_PER_MINUTE, 'minutes');\n\n          var seconds = Duration._parseNumber(text, secondMatch, 1, 'seconds');\n\n          var negativeSecs = secondMatch != null && secondMatch.charAt(0) === '-';\n\n          var nanos = Duration._parseFraction(text, fractionMatch, negativeSecs ? -1 : 1);\n\n          try {\n            return Duration._create(negate, daysAsSecs, hoursAsSecs, minsAsSecs, seconds, nanos);\n          } catch (ex) {\n            throw new DateTimeParseException('Text cannot be parsed to a Duration: overflow', text, 0, ex);\n          }\n        }\n      }\n    }\n\n    throw new DateTimeParseException('Text cannot be parsed to a Duration', text, 0);\n  };\n\n  Duration._parseNumber = function _parseNumber(text, parsed, multiplier, errorText) {\n    if (parsed == null) {\n      return 0;\n    }\n\n    try {\n      if (parsed[0] === '+') {\n        parsed = parsed.substring(1);\n      }\n\n      return MathUtil.safeMultiply(parseFloat(parsed), multiplier);\n    } catch (ex) {\n      throw new DateTimeParseException('Text cannot be parsed to a Duration: ' + errorText, text, 0, ex);\n    }\n  };\n\n  Duration._parseFraction = function _parseFraction(text, parsed, negate) {\n    if (parsed == null || parsed.length === 0) {\n      return 0;\n    }\n\n    parsed = (parsed + '000000000').substring(0, 9);\n    return parseFloat(parsed) * negate;\n  };\n\n  Duration._create = function _create() {\n    if (arguments.length <= 2) {\n      return Duration._createSecondsNanos(arguments[0], arguments[1]);\n    } else {\n      return Duration._createNegateDaysHoursMinutesSecondsNanos(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n    }\n  };\n\n  Duration._createNegateDaysHoursMinutesSecondsNanos = function _createNegateDaysHoursMinutesSecondsNanos(negate, daysAsSecs, hoursAsSecs, minsAsSecs, secs, nanos) {\n    var seconds = MathUtil.safeAdd(daysAsSecs, MathUtil.safeAdd(hoursAsSecs, MathUtil.safeAdd(minsAsSecs, secs)));\n\n    if (negate) {\n      return Duration.ofSeconds(seconds, nanos).negated();\n    }\n\n    return Duration.ofSeconds(seconds, nanos);\n  };\n\n  Duration._createSecondsNanos = function _createSecondsNanos(seconds, nanoAdjustment) {\n    if (seconds === void 0) {\n      seconds = 0;\n    }\n\n    if (nanoAdjustment === void 0) {\n      nanoAdjustment = 0;\n    }\n\n    if (seconds === 0 && nanoAdjustment === 0) {\n      return Duration.ZERO;\n    }\n\n    return new Duration(seconds, nanoAdjustment);\n  };\n\n  var _proto = Duration.prototype;\n\n  _proto.get = function get(unit) {\n    if (unit === ChronoUnit.SECONDS) {\n      return this._seconds;\n    } else if (unit === ChronoUnit.NANOS) {\n      return this._nanos;\n    } else {\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n  };\n\n  _proto.units = function units() {\n    return [ChronoUnit.SECONDS, ChronoUnit.NANOS];\n  };\n\n  _proto.isZero = function isZero() {\n    return this._seconds === 0 && this._nanos === 0;\n  };\n\n  _proto.isNegative = function isNegative() {\n    return this._seconds < 0;\n  };\n\n  _proto.seconds = function seconds() {\n    return this._seconds;\n  };\n\n  _proto.nano = function nano() {\n    return this._nanos;\n  };\n\n  _proto.withSeconds = function withSeconds(seconds) {\n    return Duration._create(seconds, this._nanos);\n  };\n\n  _proto.withNanos = function withNanos(nanoOfSecond) {\n    ChronoField.NANO_OF_SECOND.checkValidIntValue(nanoOfSecond);\n    return Duration._create(this._seconds, nanoOfSecond);\n  };\n\n  _proto.plusDuration = function plusDuration(duration) {\n    requireNonNull(duration, 'duration');\n    return this.plus(duration.seconds(), duration.nano());\n  };\n\n  _proto.plus = function plus(durationOrNumber, unitOrNumber) {\n    if (arguments.length === 1) {\n      return this.plusDuration(durationOrNumber);\n    } else if (arguments.length === 2 && unitOrNumber instanceof TemporalUnit) {\n      return this.plusAmountUnit(durationOrNumber, unitOrNumber);\n    } else {\n      return this.plusSecondsNanos(durationOrNumber, unitOrNumber);\n    }\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    requireNonNull(amountToAdd, 'amountToAdd');\n    requireNonNull(unit, 'unit');\n\n    if (unit === ChronoUnit.DAYS) {\n      return this.plusSecondsNanos(MathUtil.safeMultiply(amountToAdd, LocalTime.SECONDS_PER_DAY), 0);\n    }\n\n    if (unit.isDurationEstimated()) {\n      throw new UnsupportedTemporalTypeException('Unit must not have an estimated duration');\n    }\n\n    if (amountToAdd === 0) {\n      return this;\n    }\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.NANOS:\n          return this.plusNanos(amountToAdd);\n\n        case ChronoUnit.MICROS:\n          return this.plusSecondsNanos(MathUtil.intDiv(amountToAdd, 1000000 * 1000) * 1000, MathUtil.intMod(amountToAdd, 1000000 * 1000) * 1000);\n\n        case ChronoUnit.MILLIS:\n          return this.plusMillis(amountToAdd);\n\n        case ChronoUnit.SECONDS:\n          return this.plusSeconds(amountToAdd);\n      }\n\n      return this.plusSecondsNanos(MathUtil.safeMultiply(unit.duration().seconds(), amountToAdd), 0);\n    }\n\n    var duration = unit.duration().multipliedBy(amountToAdd);\n    return this.plusSecondsNanos(duration.seconds(), duration.nano());\n  };\n\n  _proto.plusDays = function plusDays(daysToAdd) {\n    return this.plusSecondsNanos(MathUtil.safeMultiply(daysToAdd, LocalTime.SECONDS_PER_DAY), 0);\n  };\n\n  _proto.plusHours = function plusHours(hoursToAdd) {\n    return this.plusSecondsNanos(MathUtil.safeMultiply(hoursToAdd, LocalTime.SECONDS_PER_HOUR), 0);\n  };\n\n  _proto.plusMinutes = function plusMinutes(minutesToAdd) {\n    return this.plusSecondsNanos(MathUtil.safeMultiply(minutesToAdd, LocalTime.SECONDS_PER_MINUTE), 0);\n  };\n\n  _proto.plusSeconds = function plusSeconds(secondsToAdd) {\n    return this.plusSecondsNanos(secondsToAdd, 0);\n  };\n\n  _proto.plusMillis = function plusMillis(millisToAdd) {\n    return this.plusSecondsNanos(MathUtil.intDiv(millisToAdd, 1000), MathUtil.intMod(millisToAdd, 1000) * 1000000);\n  };\n\n  _proto.plusNanos = function plusNanos(nanosToAdd) {\n    return this.plusSecondsNanos(0, nanosToAdd);\n  };\n\n  _proto.plusSecondsNanos = function plusSecondsNanos(secondsToAdd, nanosToAdd) {\n    requireNonNull(secondsToAdd, 'secondsToAdd');\n    requireNonNull(nanosToAdd, 'nanosToAdd');\n\n    if (secondsToAdd === 0 && nanosToAdd === 0) {\n      return this;\n    }\n\n    var epochSec = MathUtil.safeAdd(this._seconds, secondsToAdd);\n    epochSec = MathUtil.safeAdd(epochSec, MathUtil.intDiv(nanosToAdd, LocalTime.NANOS_PER_SECOND));\n    nanosToAdd = MathUtil.intMod(nanosToAdd, LocalTime.NANOS_PER_SECOND);\n    var nanoAdjustment = MathUtil.safeAdd(this._nanos, nanosToAdd);\n    return Duration.ofSeconds(epochSec, nanoAdjustment);\n  };\n\n  _proto.minus = function minus(durationOrNumber, unit) {\n    if (arguments.length === 1) {\n      return this.minusDuration(durationOrNumber);\n    } else {\n      return this.minusAmountUnit(durationOrNumber, unit);\n    }\n  };\n\n  _proto.minusDuration = function minusDuration(duration) {\n    requireNonNull(duration, 'duration');\n    var secsToSubtract = duration.seconds();\n    var nanosToSubtract = duration.nano();\n\n    if (secsToSubtract === MIN_SAFE_INTEGER) {\n      return this.plus(MAX_SAFE_INTEGER, -nanosToSubtract);\n    }\n\n    return this.plus(-secsToSubtract, -nanosToSubtract);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    requireNonNull(amountToSubtract, 'amountToSubtract');\n    requireNonNull(unit, 'unit');\n    return amountToSubtract === MIN_SAFE_INTEGER ? this.plusAmountUnit(MAX_SAFE_INTEGER, unit) : this.plusAmountUnit(-amountToSubtract, unit);\n  };\n\n  _proto.minusDays = function minusDays(daysToSubtract) {\n    return daysToSubtract === MIN_SAFE_INTEGER ? this.plusDays(MAX_SAFE_INTEGER) : this.plusDays(-daysToSubtract);\n  };\n\n  _proto.minusHours = function minusHours(hoursToSubtract) {\n    return hoursToSubtract === MIN_SAFE_INTEGER ? this.plusHours(MAX_SAFE_INTEGER) : this.plusHours(-hoursToSubtract);\n  };\n\n  _proto.minusMinutes = function minusMinutes(minutesToSubtract) {\n    return minutesToSubtract === MIN_SAFE_INTEGER ? this.plusMinutes(MAX_SAFE_INTEGER) : this.plusMinutes(-minutesToSubtract);\n  };\n\n  _proto.minusSeconds = function minusSeconds(secondsToSubtract) {\n    return secondsToSubtract === MIN_SAFE_INTEGER ? this.plusSeconds(MAX_SAFE_INTEGER) : this.plusSeconds(-secondsToSubtract);\n  };\n\n  _proto.minusMillis = function minusMillis(millisToSubtract) {\n    return millisToSubtract === MIN_SAFE_INTEGER ? this.plusMillis(MAX_SAFE_INTEGER) : this.plusMillis(-millisToSubtract);\n  };\n\n  _proto.minusNanos = function minusNanos(nanosToSubtract) {\n    return nanosToSubtract === MIN_SAFE_INTEGER ? this.plusNanos(MAX_SAFE_INTEGER) : this.plusNanos(-nanosToSubtract);\n  };\n\n  _proto.multipliedBy = function multipliedBy(multiplicand) {\n    if (multiplicand === 0) {\n      return Duration.ZERO;\n    }\n\n    if (multiplicand === 1) {\n      return this;\n    }\n\n    var secs = MathUtil.safeMultiply(this._seconds, multiplicand);\n    var nos = MathUtil.safeMultiply(this._nanos, multiplicand);\n    secs = secs + MathUtil.intDiv(nos, LocalTime.NANOS_PER_SECOND);\n    nos = MathUtil.intMod(nos, LocalTime.NANOS_PER_SECOND);\n    return Duration.ofSeconds(secs, nos);\n  };\n\n  _proto.dividedBy = function dividedBy(divisor) {\n    if (divisor === 0) {\n      throw new ArithmeticException('Cannot divide by zero');\n    }\n\n    if (divisor === 1) {\n      return this;\n    }\n\n    var secs = MathUtil.intDiv(this._seconds, divisor);\n    var secsMod = MathUtil.roundDown((this._seconds / divisor - secs) * LocalTime.NANOS_PER_SECOND);\n    var nos = MathUtil.intDiv(this._nanos, divisor);\n    nos = secsMod + nos;\n    return Duration.ofSeconds(secs, nos);\n  };\n\n  _proto.negated = function negated() {\n    return this.multipliedBy(-1);\n  };\n\n  _proto.abs = function abs() {\n    return this.isNegative() ? this.negated() : this;\n  };\n\n  _proto.addTo = function addTo(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (this._seconds !== 0) {\n      temporal = temporal.plus(this._seconds, ChronoUnit.SECONDS);\n    }\n\n    if (this._nanos !== 0) {\n      temporal = temporal.plus(this._nanos, ChronoUnit.NANOS);\n    }\n\n    return temporal;\n  };\n\n  _proto.subtractFrom = function subtractFrom(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (this._seconds !== 0) {\n      temporal = temporal.minus(this._seconds, ChronoUnit.SECONDS);\n    }\n\n    if (this._nanos !== 0) {\n      temporal = temporal.minus(this._nanos, ChronoUnit.NANOS);\n    }\n\n    return temporal;\n  };\n\n  _proto.toDays = function toDays() {\n    return MathUtil.intDiv(this._seconds, LocalTime.SECONDS_PER_DAY);\n  };\n\n  _proto.toHours = function toHours() {\n    return MathUtil.intDiv(this._seconds, LocalTime.SECONDS_PER_HOUR);\n  };\n\n  _proto.toMinutes = function toMinutes() {\n    return MathUtil.intDiv(this._seconds, LocalTime.SECONDS_PER_MINUTE);\n  };\n\n  _proto.toMillis = function toMillis() {\n    var millis = Math.round(MathUtil.safeMultiply(this._seconds, 1000));\n    millis = MathUtil.safeAdd(millis, MathUtil.intDiv(this._nanos, 1000000));\n    return millis;\n  };\n\n  _proto.toNanos = function toNanos() {\n    var totalNanos = MathUtil.safeMultiply(this._seconds, LocalTime.NANOS_PER_SECOND);\n    totalNanos = MathUtil.safeAdd(totalNanos, this._nanos);\n    return totalNanos;\n  };\n\n  _proto.compareTo = function compareTo(otherDuration) {\n    requireNonNull(otherDuration, 'otherDuration');\n    requireInstance(otherDuration, Duration, 'otherDuration');\n    var cmp = MathUtil.compareNumbers(this._seconds, otherDuration.seconds());\n\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    return this._nanos - otherDuration.nano();\n  };\n\n  _proto.equals = function equals(otherDuration) {\n    if (this === otherDuration) {\n      return true;\n    }\n\n    if (otherDuration instanceof Duration) {\n      return this.seconds() === otherDuration.seconds() && this.nano() === otherDuration.nano();\n    }\n\n    return false;\n  };\n\n  _proto.toString = function toString() {\n    if (this === Duration.ZERO) {\n      return 'PT0S';\n    }\n\n    var hours = MathUtil.intDiv(this._seconds, LocalTime.SECONDS_PER_HOUR);\n    var minutes = MathUtil.intDiv(MathUtil.intMod(this._seconds, LocalTime.SECONDS_PER_HOUR), LocalTime.SECONDS_PER_MINUTE);\n    var secs = MathUtil.intMod(this._seconds, LocalTime.SECONDS_PER_MINUTE);\n    var rval = 'PT';\n\n    if (hours !== 0) {\n      rval += hours + 'H';\n    }\n\n    if (minutes !== 0) {\n      rval += minutes + 'M';\n    }\n\n    if (secs === 0 && this._nanos === 0 && rval.length > 2) {\n      return rval;\n    }\n\n    if (secs < 0 && this._nanos > 0) {\n      if (secs === -1) {\n        rval += '-0';\n      } else {\n        rval += secs + 1;\n      }\n    } else {\n      rval += secs;\n    }\n\n    if (this._nanos > 0) {\n      rval += '.';\n      var nanoString;\n\n      if (secs < 0) {\n        nanoString = '' + (2 * LocalTime.NANOS_PER_SECOND - this._nanos);\n      } else {\n        nanoString = '' + (LocalTime.NANOS_PER_SECOND + this._nanos);\n      }\n\n      nanoString = nanoString.slice(1, nanoString.length);\n      rval += nanoString;\n\n      while (rval.charAt(rval.length - 1) === '0') {\n        rval = rval.slice(0, rval.length - 1);\n      }\n    }\n\n    rval += 'S';\n    return rval;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return Duration;\n}(TemporalAmount);\nfunction _init() {\n  Duration.ZERO = new Duration(0, 0);\n}\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE.md in the root directory of this source tree)\n */\nvar YearConstants = function YearConstants() {};\nfunction _init$1() {\n  YearConstants.MIN_VALUE = -999999;\n  YearConstants.MAX_VALUE = 999999;\n}\n\nvar ChronoUnit = function (_TemporalUnit) {\n  _inheritsLoose(ChronoUnit, _TemporalUnit);\n\n  function ChronoUnit(name, estimatedDuration) {\n    var _this;\n\n    _this = _TemporalUnit.call(this) || this;\n    _this._name = name;\n    _this._duration = estimatedDuration;\n    return _this;\n  }\n\n  var _proto = ChronoUnit.prototype;\n\n  _proto.duration = function duration() {\n    return this._duration;\n  };\n\n  _proto.isDurationEstimated = function isDurationEstimated() {\n    return this.isDateBased() || this === ChronoUnit.FOREVER;\n  };\n\n  _proto.isDateBased = function isDateBased() {\n    return this.compareTo(ChronoUnit.DAYS) >= 0 && this !== ChronoUnit.FOREVER;\n  };\n\n  _proto.isTimeBased = function isTimeBased() {\n    return this.compareTo(ChronoUnit.DAYS) < 0;\n  };\n\n  _proto.isSupportedBy = function isSupportedBy(temporal) {\n    if (this === ChronoUnit.FOREVER) {\n      return false;\n    }\n\n    try {\n      temporal.plus(1, this);\n      return true;\n    } catch (e) {\n      try {\n        temporal.plus(-1, this);\n        return true;\n      } catch (e2) {\n        return false;\n      }\n    }\n  };\n\n  _proto.addTo = function addTo(temporal, amount) {\n    return temporal.plus(amount, this);\n  };\n\n  _proto.between = function between(temporal1, temporal2) {\n    return temporal1.until(temporal2, this);\n  };\n\n  _proto.toString = function toString() {\n    return this._name;\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    return this.duration().compareTo(other.duration());\n  };\n\n  return ChronoUnit;\n}(TemporalUnit);\nfunction _init$2() {\n  ChronoUnit.NANOS = new ChronoUnit('Nanos', Duration.ofNanos(1));\n  ChronoUnit.MICROS = new ChronoUnit('Micros', Duration.ofNanos(1000));\n  ChronoUnit.MILLIS = new ChronoUnit('Millis', Duration.ofNanos(1000000));\n  ChronoUnit.SECONDS = new ChronoUnit('Seconds', Duration.ofSeconds(1));\n  ChronoUnit.MINUTES = new ChronoUnit('Minutes', Duration.ofSeconds(60));\n  ChronoUnit.HOURS = new ChronoUnit('Hours', Duration.ofSeconds(3600));\n  ChronoUnit.HALF_DAYS = new ChronoUnit('HalfDays', Duration.ofSeconds(43200));\n  ChronoUnit.DAYS = new ChronoUnit('Days', Duration.ofSeconds(86400));\n  ChronoUnit.WEEKS = new ChronoUnit('Weeks', Duration.ofSeconds(7 * 86400));\n  ChronoUnit.MONTHS = new ChronoUnit('Months', Duration.ofSeconds(31556952 / 12));\n  ChronoUnit.YEARS = new ChronoUnit('Years', Duration.ofSeconds(31556952));\n  ChronoUnit.DECADES = new ChronoUnit('Decades', Duration.ofSeconds(31556952 * 10));\n  ChronoUnit.CENTURIES = new ChronoUnit('Centuries', Duration.ofSeconds(31556952 * 100));\n  ChronoUnit.MILLENNIA = new ChronoUnit('Millennia', Duration.ofSeconds(31556952 * 1000));\n  ChronoUnit.ERAS = new ChronoUnit('Eras', Duration.ofSeconds(31556952 * (YearConstants.MAX_VALUE + 1)));\n  ChronoUnit.FOREVER = new ChronoUnit('Forever', Duration.ofSeconds(MathUtil.MAX_SAFE_INTEGER, 999999999));\n}\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\n\nvar TemporalField = function () {\n  function TemporalField() {}\n\n  var _proto = TemporalField.prototype;\n\n  _proto.isDateBased = function isDateBased() {\n    abstractMethodFail('isDateBased');\n  };\n\n  _proto.isTimeBased = function isTimeBased() {\n    abstractMethodFail('isTimeBased');\n  };\n\n  _proto.baseUnit = function baseUnit() {\n    abstractMethodFail('baseUnit');\n  };\n\n  _proto.rangeUnit = function rangeUnit() {\n    abstractMethodFail('rangeUnit');\n  };\n\n  _proto.range = function range() {\n    abstractMethodFail('range');\n  };\n\n  _proto.rangeRefinedBy = function rangeRefinedBy(temporal) {\n    abstractMethodFail('rangeRefinedBy');\n  };\n\n  _proto.getFrom = function getFrom(temporal) {\n    abstractMethodFail('getFrom');\n  };\n\n  _proto.adjustInto = function adjustInto(temporal, newValue) {\n    abstractMethodFail('adjustInto');\n  };\n\n  _proto.isSupportedBy = function isSupportedBy(temporal) {\n    abstractMethodFail('isSupportedBy');\n  };\n\n  _proto.displayName = function displayName() {\n    abstractMethodFail('displayName');\n  };\n\n  _proto.equals = function equals(other) {\n    abstractMethodFail('equals');\n  };\n\n  _proto.name = function name() {\n    abstractMethodFail('name');\n  };\n\n  return TemporalField;\n}();\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar ValueRange = function () {\n  function ValueRange(minSmallest, minLargest, maxSmallest, maxLargest) {\n    assert(!(minSmallest > minLargest), 'Smallest minimum value \\'' + minSmallest + '\\' must be less than largest minimum value \\'' + minLargest + '\\'', IllegalArgumentException);\n    assert(!(maxSmallest > maxLargest), 'Smallest maximum value \\'' + maxSmallest + '\\' must be less than largest maximum value \\'' + maxLargest + '\\'', IllegalArgumentException);\n    assert(!(minLargest > maxLargest), 'Minimum value \\'' + minLargest + '\\' must be less than maximum value \\'' + maxLargest + '\\'', IllegalArgumentException);\n    this._minSmallest = minSmallest;\n    this._minLargest = minLargest;\n    this._maxLargest = maxLargest;\n    this._maxSmallest = maxSmallest;\n  }\n\n  var _proto = ValueRange.prototype;\n\n  _proto.isFixed = function isFixed() {\n    return this._minSmallest === this._minLargest && this._maxSmallest === this._maxLargest;\n  };\n\n  _proto.minimum = function minimum() {\n    return this._minSmallest;\n  };\n\n  _proto.largestMinimum = function largestMinimum() {\n    return this._minLargest;\n  };\n\n  _proto.maximum = function maximum() {\n    return this._maxLargest;\n  };\n\n  _proto.smallestMaximum = function smallestMaximum() {\n    return this._maxSmallest;\n  };\n\n  _proto.isValidValue = function isValidValue(value) {\n    return this.minimum() <= value && value <= this.maximum();\n  };\n\n  _proto.checkValidValue = function checkValidValue(value, field) {\n    var msg;\n\n    if (!this.isValidValue(value)) {\n      if (field != null) {\n        msg = 'Invalid value for ' + field + ' (valid values ' + this.toString() + '): ' + value;\n      } else {\n        msg = 'Invalid value (valid values ' + this.toString() + '): ' + value;\n      }\n\n      return assert(false, msg, DateTimeException);\n    }\n\n    return value;\n  };\n\n  _proto.checkValidIntValue = function checkValidIntValue(value, field) {\n    if (this.isValidIntValue(value) === false) {\n      throw new DateTimeException('Invalid int value for ' + field + ': ' + value);\n    }\n\n    return value;\n  };\n\n  _proto.isValidIntValue = function isValidIntValue(value) {\n    return this.isIntValue() && this.isValidValue(value);\n  };\n\n  _proto.isIntValue = function isIntValue() {\n    return this.minimum() >= MathUtil.MIN_SAFE_INTEGER && this.maximum() <= MathUtil.MAX_SAFE_INTEGER;\n  };\n\n  _proto.equals = function equals(other) {\n    if (other === this) {\n      return true;\n    }\n\n    if (other instanceof ValueRange) {\n      return this._minSmallest === other._minSmallest && this._minLargest === other._minLargest && this._maxSmallest === other._maxSmallest && this._maxLargest === other._maxLargest;\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return MathUtil.hashCode(this._minSmallest, this._minLargest, this._maxSmallest, this._maxLargest);\n  };\n\n  _proto.toString = function toString() {\n    var str = this.minimum() + (this.minimum() !== this.largestMinimum() ? '/' + this.largestMinimum() : '');\n    str += ' - ';\n    str += this.smallestMaximum() + (this.smallestMaximum() !== this.maximum() ? '/' + this.maximum() : '');\n    return str;\n  };\n\n  ValueRange.of = function of() {\n    if (arguments.length === 2) {\n      return new ValueRange(arguments[0], arguments[0], arguments[1], arguments[1]);\n    } else if (arguments.length === 3) {\n      return new ValueRange(arguments[0], arguments[0], arguments[1], arguments[2]);\n    } else if (arguments.length === 4) {\n      return new ValueRange(arguments[0], arguments[1], arguments[2], arguments[3]);\n    } else {\n      return assert(false, 'Invalid number of arguments ' + arguments.length, IllegalArgumentException);\n    }\n  };\n\n  return ValueRange;\n}();\n\nvar ChronoField = function (_TemporalField) {\n  _inheritsLoose(ChronoField, _TemporalField);\n\n  ChronoField.byName = function byName(fieldName) {\n    for (var prop in ChronoField) {\n      if (ChronoField[prop]) {\n        if (ChronoField[prop] instanceof ChronoField && ChronoField[prop].name() === fieldName) {\n          return ChronoField[prop];\n        }\n      }\n    }\n  };\n\n  function ChronoField(name, baseUnit, rangeUnit, range) {\n    var _this;\n\n    _this = _TemporalField.call(this) || this;\n    _this._name = name;\n    _this._baseUnit = baseUnit;\n    _this._rangeUnit = rangeUnit;\n    _this._range = range;\n    return _this;\n  }\n\n  var _proto = ChronoField.prototype;\n\n  _proto.name = function name() {\n    return this._name;\n  };\n\n  _proto.baseUnit = function baseUnit() {\n    return this._baseUnit;\n  };\n\n  _proto.rangeUnit = function rangeUnit() {\n    return this._rangeUnit;\n  };\n\n  _proto.range = function range() {\n    return this._range;\n  };\n\n  _proto.displayName = function displayName() {\n    return this.toString();\n  };\n\n  _proto.checkValidValue = function checkValidValue(value) {\n    return this.range().checkValidValue(value, this);\n  };\n\n  _proto.checkValidIntValue = function checkValidIntValue(value) {\n    return this.range().checkValidIntValue(value, this);\n  };\n\n  _proto.isDateBased = function isDateBased() {\n    var dateBased = this === ChronoField.DAY_OF_WEEK || this === ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH || this === ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR || this === ChronoField.DAY_OF_MONTH || this === ChronoField.DAY_OF_YEAR || this === ChronoField.EPOCH_DAY || this === ChronoField.ALIGNED_WEEK_OF_MONTH || this === ChronoField.ALIGNED_WEEK_OF_YEAR || this === ChronoField.MONTH_OF_YEAR || this === ChronoField.YEAR_OF_ERA || this === ChronoField.YEAR || this === ChronoField.ERA;\n    return dateBased;\n  };\n\n  _proto.isTimeBased = function isTimeBased() {\n    var timeBased = this === ChronoField.NANO_OF_SECOND || this === ChronoField.NANO_OF_DAY || this === ChronoField.MICRO_OF_SECOND || this === ChronoField.MICRO_OF_DAY || this === ChronoField.MILLI_OF_SECOND || this === ChronoField.MILLI_OF_DAY || this === ChronoField.SECOND_OF_MINUTE || this === ChronoField.SECOND_OF_DAY || this === ChronoField.MINUTE_OF_HOUR || this === ChronoField.MINUTE_OF_DAY || this === ChronoField.HOUR_OF_AMPM || this === ChronoField.CLOCK_HOUR_OF_AMPM || this === ChronoField.HOUR_OF_DAY || this === ChronoField.CLOCK_HOUR_OF_DAY || this === ChronoField.AMPM_OF_DAY;\n    return timeBased;\n  };\n\n  _proto.rangeRefinedBy = function rangeRefinedBy(temporal) {\n    return temporal.range(this);\n  };\n\n  _proto.getFrom = function getFrom(temporal) {\n    return temporal.getLong(this);\n  };\n\n  _proto.toString = function toString() {\n    return this.name();\n  };\n\n  _proto.equals = function equals(other) {\n    return this === other;\n  };\n\n  _proto.adjustInto = function adjustInto(temporal, newValue) {\n    return temporal.with(this, newValue);\n  };\n\n  _proto.isSupportedBy = function isSupportedBy(temporal) {\n    return temporal.isSupported(this);\n  };\n\n  return ChronoField;\n}(TemporalField);\nfunction _init$3() {\n  ChronoField.NANO_OF_SECOND = new ChronoField('NanoOfSecond', ChronoUnit.NANOS, ChronoUnit.SECONDS, ValueRange.of(0, 999999999));\n  ChronoField.NANO_OF_DAY = new ChronoField('NanoOfDay', ChronoUnit.NANOS, ChronoUnit.DAYS, ValueRange.of(0, 86400 * 1000000000 - 1));\n  ChronoField.MICRO_OF_SECOND = new ChronoField('MicroOfSecond', ChronoUnit.MICROS, ChronoUnit.SECONDS, ValueRange.of(0, 999999));\n  ChronoField.MICRO_OF_DAY = new ChronoField('MicroOfDay', ChronoUnit.MICROS, ChronoUnit.DAYS, ValueRange.of(0, 86400 * 1000000 - 1));\n  ChronoField.MILLI_OF_SECOND = new ChronoField('MilliOfSecond', ChronoUnit.MILLIS, ChronoUnit.SECONDS, ValueRange.of(0, 999));\n  ChronoField.MILLI_OF_DAY = new ChronoField('MilliOfDay', ChronoUnit.MILLIS, ChronoUnit.DAYS, ValueRange.of(0, 86400 * 1000 - 1));\n  ChronoField.SECOND_OF_MINUTE = new ChronoField('SecondOfMinute', ChronoUnit.SECONDS, ChronoUnit.MINUTES, ValueRange.of(0, 59));\n  ChronoField.SECOND_OF_DAY = new ChronoField('SecondOfDay', ChronoUnit.SECONDS, ChronoUnit.DAYS, ValueRange.of(0, 86400 - 1));\n  ChronoField.MINUTE_OF_HOUR = new ChronoField('MinuteOfHour', ChronoUnit.MINUTES, ChronoUnit.HOURS, ValueRange.of(0, 59));\n  ChronoField.MINUTE_OF_DAY = new ChronoField('MinuteOfDay', ChronoUnit.MINUTES, ChronoUnit.DAYS, ValueRange.of(0, 24 * 60 - 1));\n  ChronoField.HOUR_OF_AMPM = new ChronoField('HourOfAmPm', ChronoUnit.HOURS, ChronoUnit.HALF_DAYS, ValueRange.of(0, 11));\n  ChronoField.CLOCK_HOUR_OF_AMPM = new ChronoField('ClockHourOfAmPm', ChronoUnit.HOURS, ChronoUnit.HALF_DAYS, ValueRange.of(1, 12));\n  ChronoField.HOUR_OF_DAY = new ChronoField('HourOfDay', ChronoUnit.HOURS, ChronoUnit.DAYS, ValueRange.of(0, 23));\n  ChronoField.CLOCK_HOUR_OF_DAY = new ChronoField('ClockHourOfDay', ChronoUnit.HOURS, ChronoUnit.DAYS, ValueRange.of(1, 24));\n  ChronoField.AMPM_OF_DAY = new ChronoField('AmPmOfDay', ChronoUnit.HALF_DAYS, ChronoUnit.DAYS, ValueRange.of(0, 1));\n  ChronoField.DAY_OF_WEEK = new ChronoField('DayOfWeek', ChronoUnit.DAYS, ChronoUnit.WEEKS, ValueRange.of(1, 7));\n  ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH = new ChronoField('AlignedDayOfWeekInMonth', ChronoUnit.DAYS, ChronoUnit.WEEKS, ValueRange.of(1, 7));\n  ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR = new ChronoField('AlignedDayOfWeekInYear', ChronoUnit.DAYS, ChronoUnit.WEEKS, ValueRange.of(1, 7));\n  ChronoField.DAY_OF_MONTH = new ChronoField('DayOfMonth', ChronoUnit.DAYS, ChronoUnit.MONTHS, ValueRange.of(1, 28, 31), 'day');\n  ChronoField.DAY_OF_YEAR = new ChronoField('DayOfYear', ChronoUnit.DAYS, ChronoUnit.YEARS, ValueRange.of(1, 365, 366));\n  ChronoField.EPOCH_DAY = new ChronoField('EpochDay', ChronoUnit.DAYS, ChronoUnit.FOREVER, ValueRange.of(Math.floor(YearConstants.MIN_VALUE * 365.25), Math.floor(YearConstants.MAX_VALUE * 365.25)));\n  ChronoField.ALIGNED_WEEK_OF_MONTH = new ChronoField('AlignedWeekOfMonth', ChronoUnit.WEEKS, ChronoUnit.MONTHS, ValueRange.of(1, 4, 5));\n  ChronoField.ALIGNED_WEEK_OF_YEAR = new ChronoField('AlignedWeekOfYear', ChronoUnit.WEEKS, ChronoUnit.YEARS, ValueRange.of(1, 53));\n  ChronoField.MONTH_OF_YEAR = new ChronoField('MonthOfYear', ChronoUnit.MONTHS, ChronoUnit.YEARS, ValueRange.of(1, 12), 'month');\n  ChronoField.PROLEPTIC_MONTH = new ChronoField('ProlepticMonth', ChronoUnit.MONTHS, ChronoUnit.FOREVER, ValueRange.of(YearConstants.MIN_VALUE * 12, YearConstants.MAX_VALUE * 12 + 11));\n  ChronoField.YEAR_OF_ERA = new ChronoField('YearOfEra', ChronoUnit.YEARS, ChronoUnit.FOREVER, ValueRange.of(1, YearConstants.MAX_VALUE, YearConstants.MAX_VALUE + 1));\n  ChronoField.YEAR = new ChronoField('Year', ChronoUnit.YEARS, ChronoUnit.FOREVER, ValueRange.of(YearConstants.MIN_VALUE, YearConstants.MAX_VALUE), 'year');\n  ChronoField.ERA = new ChronoField('Era', ChronoUnit.ERAS, ChronoUnit.FOREVER, ValueRange.of(0, 1));\n  ChronoField.INSTANT_SECONDS = new ChronoField('InstantSeconds', ChronoUnit.SECONDS, ChronoUnit.FOREVER, ValueRange.of(MIN_SAFE_INTEGER, MAX_SAFE_INTEGER));\n  ChronoField.OFFSET_SECONDS = new ChronoField('OffsetSeconds', ChronoUnit.SECONDS, ChronoUnit.FOREVER, ValueRange.of(-18 * 3600, 18 * 3600));\n}\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar TemporalQueries = function () {\n  function TemporalQueries() {}\n\n  TemporalQueries.zoneId = function zoneId() {\n    return TemporalQueries.ZONE_ID;\n  };\n\n  TemporalQueries.chronology = function chronology() {\n    return TemporalQueries.CHRONO;\n  };\n\n  TemporalQueries.precision = function precision() {\n    return TemporalQueries.PRECISION;\n  };\n\n  TemporalQueries.zone = function zone() {\n    return TemporalQueries.ZONE;\n  };\n\n  TemporalQueries.offset = function offset() {\n    return TemporalQueries.OFFSET;\n  };\n\n  TemporalQueries.localDate = function localDate() {\n    return TemporalQueries.LOCAL_DATE;\n  };\n\n  TemporalQueries.localTime = function localTime() {\n    return TemporalQueries.LOCAL_TIME;\n  };\n\n  return TemporalQueries;\n}();\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar TemporalAccessor = function () {\n  function TemporalAccessor() {}\n\n  var _proto = TemporalAccessor.prototype;\n\n  _proto.query = function query(_query) {\n    if (_query === TemporalQueries.zoneId() || _query === TemporalQueries.chronology() || _query === TemporalQueries.precision()) {\n      return null;\n    }\n\n    return _query.queryFrom(this);\n  };\n\n  _proto.get = function get(field) {\n    return this.range(field).checkValidIntValue(this.getLong(field), field);\n  };\n\n  _proto.range = function range(field) {\n    if (field instanceof ChronoField) {\n      if (this.isSupported(field)) {\n        return field.range();\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.rangeRefinedBy(this);\n  };\n\n  return TemporalAccessor;\n}();\n\nvar TemporalQuery = function (_Enum) {\n  _inheritsLoose(TemporalQuery, _Enum);\n\n  function TemporalQuery() {\n    return _Enum.apply(this, arguments) || this;\n  }\n\n  var _proto = TemporalQuery.prototype;\n\n  _proto.queryFrom = function queryFrom(temporal) {\n    abstractMethodFail('queryFrom');\n  };\n\n  return TemporalQuery;\n}(Enum);\nfunction createTemporalQuery(name, queryFromFunction) {\n  var ExtendedTemporalQuery = function (_TemporalQuery) {\n    _inheritsLoose(ExtendedTemporalQuery, _TemporalQuery);\n\n    function ExtendedTemporalQuery() {\n      return _TemporalQuery.apply(this, arguments) || this;\n    }\n\n    return ExtendedTemporalQuery;\n  }(TemporalQuery);\n\n  ExtendedTemporalQuery.prototype.queryFrom = queryFromFunction;\n  return new ExtendedTemporalQuery(name);\n}\n\nvar DayOfWeek = function (_TemporalAccessor) {\n  _inheritsLoose(DayOfWeek, _TemporalAccessor);\n\n  function DayOfWeek(ordinal, name) {\n    var _this;\n\n    _this = _TemporalAccessor.call(this) || this;\n    _this._ordinal = ordinal;\n    _this._name = name;\n    return _this;\n  }\n\n  var _proto = DayOfWeek.prototype;\n\n  _proto.ordinal = function ordinal() {\n    return this._ordinal;\n  };\n\n  _proto.name = function name() {\n    return this._name;\n  };\n\n  DayOfWeek.values = function values() {\n    return ENUMS.slice();\n  };\n\n  DayOfWeek.valueOf = function valueOf(name) {\n    var ordinal = 0;\n\n    for (ordinal; ordinal < ENUMS.length; ordinal++) {\n      if (ENUMS[ordinal].name() === name) {\n        break;\n      }\n    }\n\n    return DayOfWeek.of(ordinal + 1);\n  };\n\n  DayOfWeek.of = function of(dayOfWeek) {\n    if (dayOfWeek < 1 || dayOfWeek > 7) {\n      throw new DateTimeException('Invalid value for DayOfWeek: ' + dayOfWeek);\n    }\n\n    return ENUMS[dayOfWeek - 1];\n  };\n\n  DayOfWeek.from = function from(temporal) {\n    assert(temporal != null, 'temporal', NullPointerException);\n\n    if (temporal instanceof DayOfWeek) {\n      return temporal;\n    }\n\n    try {\n      return DayOfWeek.of(temporal.get(ChronoField.DAY_OF_WEEK));\n    } catch (ex) {\n      if (ex instanceof DateTimeException) {\n        throw new DateTimeException('Unable to obtain DayOfWeek from TemporalAccessor: ' + temporal + ', type ' + (temporal.constructor != null ? temporal.constructor.name : ''), ex);\n      } else {\n        throw ex;\n      }\n    }\n  };\n\n  _proto.value = function value() {\n    return this._ordinal + 1;\n  };\n\n  _proto.displayName = function displayName(style, locale) {\n    throw new IllegalArgumentException('Pattern using (localized) text not implemented yet!');\n  };\n\n  _proto.isSupported = function isSupported(field) {\n    if (field instanceof ChronoField) {\n      return field === ChronoField.DAY_OF_WEEK;\n    }\n\n    return field != null && field.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    if (field === ChronoField.DAY_OF_WEEK) {\n      return field.range();\n    } else if (field instanceof ChronoField) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.rangeRefinedBy(this);\n  };\n\n  _proto.get = function get(field) {\n    if (field === ChronoField.DAY_OF_WEEK) {\n      return this.value();\n    }\n\n    return this.range(field).checkValidIntValue(this.getLong(field), field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    if (field === ChronoField.DAY_OF_WEEK) {\n      return this.value();\n    } else if (field instanceof ChronoField) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.plus = function plus(days) {\n    var amount = MathUtil.floorMod(days, 7);\n    return ENUMS[MathUtil.floorMod(this._ordinal + (amount + 7), 7)];\n  };\n\n  _proto.minus = function minus(days) {\n    return this.plus(-1 * MathUtil.floorMod(days, 7));\n  };\n\n  _proto.query = function query(_query) {\n    if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.DAYS;\n    } else if (_query === TemporalQueries.localDate() || _query === TemporalQueries.localTime() || _query === TemporalQueries.chronology() || _query === TemporalQueries.zone() || _query === TemporalQueries.zoneId() || _query === TemporalQueries.offset()) {\n      return null;\n    }\n\n    assert(_query != null, 'query', NullPointerException);\n    return _query.queryFrom(this);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    requireNonNull(temporal, 'temporal');\n    return temporal.with(ChronoField.DAY_OF_WEEK, this.value());\n  };\n\n  _proto.equals = function equals(other) {\n    return this === other;\n  };\n\n  _proto.toString = function toString() {\n    return this._name;\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, DayOfWeek, 'other');\n    return this._ordinal - other._ordinal;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return DayOfWeek;\n}(TemporalAccessor);\nvar ENUMS;\nfunction _init$4() {\n  DayOfWeek.MONDAY = new DayOfWeek(0, 'MONDAY');\n  DayOfWeek.TUESDAY = new DayOfWeek(1, 'TUESDAY');\n  DayOfWeek.WEDNESDAY = new DayOfWeek(2, 'WEDNESDAY');\n  DayOfWeek.THURSDAY = new DayOfWeek(3, 'THURSDAY');\n  DayOfWeek.FRIDAY = new DayOfWeek(4, 'FRIDAY');\n  DayOfWeek.SATURDAY = new DayOfWeek(5, 'SATURDAY');\n  DayOfWeek.SUNDAY = new DayOfWeek(6, 'SUNDAY');\n  DayOfWeek.FROM = createTemporalQuery('DayOfWeek.FROM', function (temporal) {\n    return DayOfWeek.from(temporal);\n  });\n  ENUMS = [DayOfWeek.MONDAY, DayOfWeek.TUESDAY, DayOfWeek.WEDNESDAY, DayOfWeek.THURSDAY, DayOfWeek.FRIDAY, DayOfWeek.SATURDAY, DayOfWeek.SUNDAY];\n}\n\nvar Month = function (_TemporalAccessor) {\n  _inheritsLoose(Month, _TemporalAccessor);\n\n  function Month(value, name) {\n    var _this;\n\n    _this = _TemporalAccessor.call(this) || this;\n    _this._value = MathUtil.safeToInt(value);\n    _this._name = name;\n    return _this;\n  }\n\n  var _proto = Month.prototype;\n\n  _proto.value = function value() {\n    return this._value;\n  };\n\n  _proto.ordinal = function ordinal() {\n    return this._value - 1;\n  };\n\n  _proto.name = function name() {\n    return this._name;\n  };\n\n  _proto.displayName = function displayName(style, locale) {\n    throw new IllegalArgumentException('Pattern using (localized) text not implemented yet!');\n  };\n\n  _proto.isSupported = function isSupported(field) {\n    if (null === field) {\n      return false;\n    }\n\n    if (field instanceof ChronoField) {\n      return field === ChronoField.MONTH_OF_YEAR;\n    }\n\n    return field != null && field.isSupportedBy(this);\n  };\n\n  _proto.get = function get(field) {\n    if (field === ChronoField.MONTH_OF_YEAR) {\n      return this.value();\n    }\n\n    return this.range(field).checkValidIntValue(this.getLong(field), field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    if (field === ChronoField.MONTH_OF_YEAR) {\n      return this.value();\n    } else if (field instanceof ChronoField) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.plus = function plus(months) {\n    var amount = MathUtil.intMod(months, 12) + 12;\n    var newMonthVal = MathUtil.intMod(this.value() + amount, 12);\n    newMonthVal = newMonthVal === 0 ? 12 : newMonthVal;\n    return Month.of(newMonthVal);\n  };\n\n  _proto.minus = function minus(months) {\n    return this.plus(-1 * MathUtil.intMod(months, 12));\n  };\n\n  _proto.length = function length(leapYear) {\n    switch (this) {\n      case Month.FEBRUARY:\n        return leapYear ? 29 : 28;\n\n      case Month.APRIL:\n      case Month.JUNE:\n      case Month.SEPTEMBER:\n      case Month.NOVEMBER:\n        return 30;\n\n      default:\n        return 31;\n    }\n  };\n\n  _proto.minLength = function minLength() {\n    switch (this) {\n      case Month.FEBRUARY:\n        return 28;\n\n      case Month.APRIL:\n      case Month.JUNE:\n      case Month.SEPTEMBER:\n      case Month.NOVEMBER:\n        return 30;\n\n      default:\n        return 31;\n    }\n  };\n\n  _proto.maxLength = function maxLength() {\n    switch (this) {\n      case Month.FEBRUARY:\n        return 29;\n\n      case Month.APRIL:\n      case Month.JUNE:\n      case Month.SEPTEMBER:\n      case Month.NOVEMBER:\n        return 30;\n\n      default:\n        return 31;\n    }\n  };\n\n  _proto.firstDayOfYear = function firstDayOfYear(leapYear) {\n    var leap = leapYear ? 1 : 0;\n\n    switch (this) {\n      case Month.JANUARY:\n        return 1;\n\n      case Month.FEBRUARY:\n        return 32;\n\n      case Month.MARCH:\n        return 60 + leap;\n\n      case Month.APRIL:\n        return 91 + leap;\n\n      case Month.MAY:\n        return 121 + leap;\n\n      case Month.JUNE:\n        return 152 + leap;\n\n      case Month.JULY:\n        return 182 + leap;\n\n      case Month.AUGUST:\n        return 213 + leap;\n\n      case Month.SEPTEMBER:\n        return 244 + leap;\n\n      case Month.OCTOBER:\n        return 274 + leap;\n\n      case Month.NOVEMBER:\n        return 305 + leap;\n\n      case Month.DECEMBER:\n      default:\n        return 335 + leap;\n    }\n  };\n\n  _proto.firstMonthOfQuarter = function firstMonthOfQuarter() {\n    switch (this) {\n      case Month.JANUARY:\n      case Month.FEBRUARY:\n      case Month.MARCH:\n        return Month.JANUARY;\n\n      case Month.APRIL:\n      case Month.MAY:\n      case Month.JUNE:\n        return Month.APRIL;\n\n      case Month.JULY:\n      case Month.AUGUST:\n      case Month.SEPTEMBER:\n        return Month.JULY;\n\n      case Month.OCTOBER:\n      case Month.NOVEMBER:\n      case Month.DECEMBER:\n      default:\n        return Month.OCTOBER;\n    }\n  };\n\n  _proto.query = function query(_query) {\n    assert(_query != null, 'query() parameter must not be null', DateTimeException);\n\n    if (_query === TemporalQueries.chronology()) {\n      return IsoChronology.INSTANCE;\n    } else if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.MONTHS;\n    }\n\n    return _TemporalAccessor.prototype.query.call(this, _query);\n  };\n\n  _proto.toString = function toString() {\n    switch (this) {\n      case Month.JANUARY:\n        return 'JANUARY';\n\n      case Month.FEBRUARY:\n        return 'FEBRUARY';\n\n      case Month.MARCH:\n        return 'MARCH';\n\n      case Month.APRIL:\n        return 'APRIL';\n\n      case Month.MAY:\n        return 'MAY';\n\n      case Month.JUNE:\n        return 'JUNE';\n\n      case Month.JULY:\n        return 'JULY';\n\n      case Month.AUGUST:\n        return 'AUGUST';\n\n      case Month.SEPTEMBER:\n        return 'SEPTEMBER';\n\n      case Month.OCTOBER:\n        return 'OCTOBER';\n\n      case Month.NOVEMBER:\n        return 'NOVEMBER';\n\n      case Month.DECEMBER:\n        return 'DECEMBER';\n\n      default:\n        return 'unknown Month, value: ' + this.value();\n    }\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return temporal.with(ChronoField.MONTH_OF_YEAR, this.value());\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, Month, 'other');\n    return this._value - other._value;\n  };\n\n  _proto.equals = function equals(other) {\n    return this === other;\n  };\n\n  Month.valueOf = function valueOf(name) {\n    var ordinal = 0;\n\n    for (ordinal; ordinal < MONTHS.length; ordinal++) {\n      if (MONTHS[ordinal].name() === name) {\n        break;\n      }\n    }\n\n    return Month.of(ordinal + 1);\n  };\n\n  Month.values = function values() {\n    return MONTHS.slice();\n  };\n\n  Month.of = function of(month) {\n    if (month < 1 || month > 12) {\n      assert(false, 'Invalid value for MonthOfYear: ' + month, DateTimeException);\n    }\n\n    return MONTHS[month - 1];\n  };\n\n  Month.from = function from(temporal) {\n    if (temporal instanceof Month) {\n      return temporal;\n    }\n\n    try {\n      return Month.of(temporal.get(ChronoField.MONTH_OF_YEAR));\n    } catch (ex) {\n      throw new DateTimeException('Unable to obtain Month from TemporalAccessor: ' + temporal + ' of type ' + (temporal && temporal.constructor != null ? temporal.constructor.name : ''), ex);\n    }\n  };\n\n  return Month;\n}(TemporalAccessor);\nvar MONTHS;\nfunction _init$5() {\n  Month.JANUARY = new Month(1, 'JANUARY');\n  Month.FEBRUARY = new Month(2, 'FEBRUARY');\n  Month.MARCH = new Month(3, 'MARCH');\n  Month.APRIL = new Month(4, 'APRIL');\n  Month.MAY = new Month(5, 'MAY');\n  Month.JUNE = new Month(6, 'JUNE');\n  Month.JULY = new Month(7, 'JULY');\n  Month.AUGUST = new Month(8, 'AUGUST');\n  Month.SEPTEMBER = new Month(9, 'SEPTEMBER');\n  Month.OCTOBER = new Month(10, 'OCTOBER');\n  Month.NOVEMBER = new Month(11, 'NOVEMBER');\n  Month.DECEMBER = new Month(12, 'DECEMBER');\n  MONTHS = [Month.JANUARY, Month.FEBRUARY, Month.MARCH, Month.APRIL, Month.MAY, Month.JUNE, Month.JULY, Month.AUGUST, Month.SEPTEMBER, Month.OCTOBER, Month.NOVEMBER, Month.DECEMBER];\n}\n\nvar PATTERN = /([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/;\nvar Period = function (_TemporalAmount) {\n  _inheritsLoose(Period, _TemporalAmount);\n\n  function Period(years, months, days) {\n    var _this;\n\n    _this = _TemporalAmount.call(this) || this;\n\n    var _years = MathUtil.safeToInt(years);\n\n    var _months = MathUtil.safeToInt(months);\n\n    var _days = MathUtil.safeToInt(days);\n\n    if (_years === 0 && _months === 0 && _days === 0) {\n      if (!Period.ZERO) {\n        _this._years = _years;\n        _this._months = _months;\n        _this._days = _days;\n        Period.ZERO = _assertThisInitialized(_this);\n      }\n\n      return Period.ZERO || _assertThisInitialized(_this);\n    }\n\n    _this._years = _years;\n    _this._months = _months;\n    _this._days = _days;\n    return _this;\n  }\n\n  Period.ofYears = function ofYears(years) {\n    return Period.create(years, 0, 0);\n  };\n\n  Period.ofMonths = function ofMonths(months) {\n    return Period.create(0, months, 0);\n  };\n\n  Period.ofWeeks = function ofWeeks(weeks) {\n    return Period.create(0, 0, MathUtil.safeMultiply(weeks, 7));\n  };\n\n  Period.ofDays = function ofDays(days) {\n    return Period.create(0, 0, days);\n  };\n\n  Period.of = function of(years, months, days) {\n    return Period.create(years, months, days);\n  };\n\n  Period.from = function from(amount) {\n    if (amount instanceof Period) {\n      return amount;\n    }\n\n    requireNonNull(amount, 'amount');\n    var years = 0;\n    var months = 0;\n    var days = 0;\n    var units = amount.units();\n\n    for (var i = 0; i < units.length; i++) {\n      var unit = units[i];\n      var unitAmount = amount.get(unit);\n\n      if (unit === ChronoUnit.YEARS) {\n        years = MathUtil.safeToInt(unitAmount);\n      } else if (unit === ChronoUnit.MONTHS) {\n        months = MathUtil.safeToInt(unitAmount);\n      } else if (unit === ChronoUnit.DAYS) {\n        days = MathUtil.safeToInt(unitAmount);\n      } else {\n        throw new DateTimeException('Unit must be Years, Months or Days, but was ' + unit);\n      }\n    }\n\n    return Period.create(years, months, days);\n  };\n\n  Period.between = function between(startDate, endDate) {\n    requireNonNull(startDate, 'startDate');\n    requireNonNull(endDate, 'endDate');\n    requireInstance(startDate, LocalDate, 'startDate');\n    requireInstance(endDate, LocalDate, 'endDate');\n    return startDate.until(endDate);\n  };\n\n  Period.parse = function parse(text) {\n    requireNonNull(text, 'text');\n\n    try {\n      return Period._parse(text);\n    } catch (ex) {\n      if (ex instanceof ArithmeticException) {\n        throw new DateTimeParseException('Text cannot be parsed to a Period', text, 0, ex);\n      } else {\n        throw ex;\n      }\n    }\n  };\n\n  Period._parse = function _parse(text) {\n    var matches = PATTERN.exec(text);\n\n    if (matches != null) {\n      var negate = '-' === matches[1] ? -1 : 1;\n      var yearMatch = matches[2];\n      var monthMatch = matches[3];\n      var weekMatch = matches[4];\n      var dayMatch = matches[5];\n\n      if (yearMatch != null || monthMatch != null || weekMatch != null || dayMatch != null) {\n        var years = Period._parseNumber(text, yearMatch, negate);\n\n        var months = Period._parseNumber(text, monthMatch, negate);\n\n        var weeks = Period._parseNumber(text, weekMatch, negate);\n\n        var days = Period._parseNumber(text, dayMatch, negate);\n\n        days = MathUtil.safeAdd(days, MathUtil.safeMultiply(weeks, 7));\n        return Period.create(years, months, days);\n      }\n    }\n\n    throw new DateTimeParseException('Text cannot be parsed to a Period', text, 0);\n  };\n\n  Period._parseNumber = function _parseNumber(text, str, negate) {\n    if (str == null) {\n      return 0;\n    }\n\n    var val = MathUtil.parseInt(str);\n    return MathUtil.safeMultiply(val, negate);\n  };\n\n  Period.create = function create(years, months, days) {\n    return new Period(years, months, days);\n  };\n\n  var _proto = Period.prototype;\n\n  _proto.units = function units() {\n    return [ChronoUnit.YEARS, ChronoUnit.MONTHS, ChronoUnit.DAYS];\n  };\n\n  _proto.chronology = function chronology() {\n    return IsoChronology.INSTANCE;\n  };\n\n  _proto.get = function get(unit) {\n    if (unit === ChronoUnit.YEARS) {\n      return this._years;\n    }\n\n    if (unit === ChronoUnit.MONTHS) {\n      return this._months;\n    }\n\n    if (unit === ChronoUnit.DAYS) {\n      return this._days;\n    }\n\n    throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n  };\n\n  _proto.isZero = function isZero() {\n    return this === Period.ZERO;\n  };\n\n  _proto.isNegative = function isNegative() {\n    return this._years < 0 || this._months < 0 || this._days < 0;\n  };\n\n  _proto.years = function years() {\n    return this._years;\n  };\n\n  _proto.months = function months() {\n    return this._months;\n  };\n\n  _proto.days = function days() {\n    return this._days;\n  };\n\n  _proto.withYears = function withYears(years) {\n    if (years === this._years) {\n      return this;\n    }\n\n    return Period.create(years, this._months, this._days);\n  };\n\n  _proto.withMonths = function withMonths(months) {\n    if (months === this._months) {\n      return this;\n    }\n\n    return Period.create(this._years, months, this._days);\n  };\n\n  _proto.withDays = function withDays(days) {\n    if (days === this._days) {\n      return this;\n    }\n\n    return Period.create(this._years, this._months, days);\n  };\n\n  _proto.plus = function plus(amountToAdd) {\n    var amount = Period.from(amountToAdd);\n    return Period.create(MathUtil.safeAdd(this._years, amount._years), MathUtil.safeAdd(this._months, amount._months), MathUtil.safeAdd(this._days, amount._days));\n  };\n\n  _proto.plusYears = function plusYears(yearsToAdd) {\n    if (yearsToAdd === 0) {\n      return this;\n    }\n\n    return Period.create(MathUtil.safeToInt(MathUtil.safeAdd(this._years, yearsToAdd)), this._months, this._days);\n  };\n\n  _proto.plusMonths = function plusMonths(monthsToAdd) {\n    if (monthsToAdd === 0) {\n      return this;\n    }\n\n    return Period.create(this._years, MathUtil.safeToInt(MathUtil.safeAdd(this._months, monthsToAdd)), this._days);\n  };\n\n  _proto.plusDays = function plusDays(daysToAdd) {\n    if (daysToAdd === 0) {\n      return this;\n    }\n\n    return Period.create(this._years, this._months, MathUtil.safeToInt(MathUtil.safeAdd(this._days, daysToAdd)));\n  };\n\n  _proto.minus = function minus(amountToSubtract) {\n    var amount = Period.from(amountToSubtract);\n    return Period.create(MathUtil.safeSubtract(this._years, amount._years), MathUtil.safeSubtract(this._months, amount._months), MathUtil.safeSubtract(this._days, amount._days));\n  };\n\n  _proto.minusYears = function minusYears(yearsToSubtract) {\n    return this.plusYears(-1 * yearsToSubtract);\n  };\n\n  _proto.minusMonths = function minusMonths(monthsToSubtract) {\n    return this.plusMonths(-1 * monthsToSubtract);\n  };\n\n  _proto.minusDays = function minusDays(daysToSubtract) {\n    return this.plusDays(-1 * daysToSubtract);\n  };\n\n  _proto.multipliedBy = function multipliedBy(scalar) {\n    if (this === Period.ZERO || scalar === 1) {\n      return this;\n    }\n\n    return Period.create(MathUtil.safeMultiply(this._years, scalar), MathUtil.safeMultiply(this._months, scalar), MathUtil.safeMultiply(this._days, scalar));\n  };\n\n  _proto.negated = function negated() {\n    return this.multipliedBy(-1);\n  };\n\n  _proto.normalized = function normalized() {\n    var totalMonths = this.toTotalMonths();\n    var splitYears = MathUtil.intDiv(totalMonths, 12);\n    var splitMonths = MathUtil.intMod(totalMonths, 12);\n\n    if (splitYears === this._years && splitMonths === this._months) {\n      return this;\n    }\n\n    return Period.create(MathUtil.safeToInt(splitYears), splitMonths, this._days);\n  };\n\n  _proto.toTotalMonths = function toTotalMonths() {\n    return this._years * 12 + this._months;\n  };\n\n  _proto.addTo = function addTo(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (this._years !== 0) {\n      if (this._months !== 0) {\n        temporal = temporal.plus(this.toTotalMonths(), ChronoUnit.MONTHS);\n      } else {\n        temporal = temporal.plus(this._years, ChronoUnit.YEARS);\n      }\n    } else if (this._months !== 0) {\n      temporal = temporal.plus(this._months, ChronoUnit.MONTHS);\n    }\n\n    if (this._days !== 0) {\n      temporal = temporal.plus(this._days, ChronoUnit.DAYS);\n    }\n\n    return temporal;\n  };\n\n  _proto.subtractFrom = function subtractFrom(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (this._years !== 0) {\n      if (this._months !== 0) {\n        temporal = temporal.minus(this.toTotalMonths(), ChronoUnit.MONTHS);\n      } else {\n        temporal = temporal.minus(this._years, ChronoUnit.YEARS);\n      }\n    } else if (this._months !== 0) {\n      temporal = temporal.minus(this._months, ChronoUnit.MONTHS);\n    }\n\n    if (this._days !== 0) {\n      temporal = temporal.minus(this._days, ChronoUnit.DAYS);\n    }\n\n    return temporal;\n  };\n\n  _proto.equals = function equals(obj) {\n    if (this === obj) {\n      return true;\n    }\n\n    if (obj instanceof Period) {\n      var other = obj;\n      return this._years === other._years && this._months === other._months && this._days === other._days;\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return MathUtil.hashCode(this._years, this._months, this._days);\n  };\n\n  _proto.toString = function toString() {\n    if (this === Period.ZERO) {\n      return 'P0D';\n    } else {\n      var buf = 'P';\n\n      if (this._years !== 0) {\n        buf += '' + this._years + 'Y';\n      }\n\n      if (this._months !== 0) {\n        buf += '' + this._months + 'M';\n      }\n\n      if (this._days !== 0) {\n        buf += '' + this._days + 'D';\n      }\n\n      return buf;\n    }\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return Period;\n}(TemporalAmount);\nfunction _init$6() {\n  Period.ofDays(0);\n}\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar ParsePosition = function () {\n  function ParsePosition(index) {\n    this._index = index;\n    this._errorIndex = -1;\n  }\n\n  var _proto = ParsePosition.prototype;\n\n  _proto.getIndex = function getIndex() {\n    return this._index;\n  };\n\n  _proto.setIndex = function setIndex(index) {\n    this._index = index;\n  };\n\n  _proto.getErrorIndex = function getErrorIndex() {\n    return this._errorIndex;\n  };\n\n  _proto.setErrorIndex = function setErrorIndex(errorIndex) {\n    this._errorIndex = errorIndex;\n  };\n\n  return ParsePosition;\n}();\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar EnumMap = function () {\n  function EnumMap() {\n    this._map = {};\n  }\n\n  var _proto = EnumMap.prototype;\n\n  _proto.putAll = function putAll(otherMap) {\n    for (var key in otherMap._map) {\n      this._map[key] = otherMap._map[key];\n    }\n\n    return this;\n  };\n\n  _proto.containsKey = function containsKey(key) {\n    return this._map.hasOwnProperty(key.name()) && this.get(key) !== undefined;\n  };\n\n  _proto.get = function get(key) {\n    return this._map[key.name()];\n  };\n\n  _proto.put = function put(key, val) {\n    return this.set(key, val);\n  };\n\n  _proto.set = function set(key, val) {\n    this._map[key.name()] = val;\n    return this;\n  };\n\n  _proto.retainAll = function retainAll(keyList) {\n    var map = {};\n\n    for (var i = 0; i < keyList.length; i++) {\n      var key = keyList[i].name();\n      map[key] = this._map[key];\n    }\n\n    this._map = map;\n    return this;\n  };\n\n  _proto.remove = function remove(key) {\n    var keyName = key.name();\n    var val = this._map[keyName];\n    this._map[keyName] = undefined;\n    return val;\n  };\n\n  _proto.keySet = function keySet() {\n    return this._map;\n  };\n\n  _proto.clear = function clear() {\n    this._map = {};\n  };\n\n  return EnumMap;\n}();\n\nvar ResolverStyle = function (_Enum) {\n  _inheritsLoose(ResolverStyle, _Enum);\n\n  function ResolverStyle() {\n    return _Enum.apply(this, arguments) || this;\n  }\n\n  return ResolverStyle;\n}(Enum);\nResolverStyle.STRICT = new ResolverStyle('STRICT');\nResolverStyle.SMART = new ResolverStyle('SMART');\nResolverStyle.LENIENT = new ResolverStyle('LENIENT');\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar TemporalAdjuster = function () {\n  function TemporalAdjuster() {}\n\n  var _proto = TemporalAdjuster.prototype;\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    abstractMethodFail('adjustInto');\n  };\n\n  return TemporalAdjuster;\n}();\n\nvar Temporal = function (_TemporalAccessor) {\n  _inheritsLoose(Temporal, _TemporalAccessor);\n\n  function Temporal() {\n    return _TemporalAccessor.apply(this, arguments) || this;\n  }\n\n  var _proto = Temporal.prototype;\n\n  _proto.isSupported = function isSupported(unit) {\n    abstractMethodFail('isSupported');\n  };\n\n  _proto.minus = function minus(p1, p2) {\n    if (arguments.length < 2) {\n      return this.minusAmount(p1);\n    } else {\n      return this.minusAmountUnit(p1, p2);\n    }\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    abstractMethodFail('minusAmount');\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    abstractMethodFail('minusAmountUnit');\n  };\n\n  _proto.plus = function plus(p1, p2) {\n    if (arguments.length < 2) {\n      return this.plusAmount(p1);\n    } else {\n      return this.plusAmountUnit(p1, p2);\n    }\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    abstractMethodFail('plusAmount');\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    abstractMethodFail('plusAmountUnit');\n  };\n\n  _proto.until = function until(endTemporal, unit) {\n    abstractMethodFail('until');\n  };\n\n  _proto.with = function _with(p1, p2) {\n    if (arguments.length < 2) {\n      return this.withAdjuster(p1);\n    } else {\n      return this.withFieldValue(p1, p2);\n    }\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    abstractMethodFail('withAdjuster');\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    abstractMethodFail('withFieldValue');\n  };\n\n  return Temporal;\n}(TemporalAccessor);\n\nvar DefaultInterfaceTemporal = function (_Temporal) {\n  _inheritsLoose(DefaultInterfaceTemporal, _Temporal);\n\n  function DefaultInterfaceTemporal() {\n    return _Temporal.apply(this, arguments) || this;\n  }\n\n  var _proto = DefaultInterfaceTemporal.prototype;\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n    requireInstance(adjuster, TemporalAdjuster, 'adjuster');\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    requireInstance(amount, TemporalAmount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    requireInstance(amount, TemporalAmount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    requireNonNull(amountToSubtract, 'amountToSubtract');\n    requireNonNull(unit, 'unit');\n    requireInstance(unit, TemporalUnit, 'unit');\n    return amountToSubtract === MIN_SAFE_INTEGER ? this.plusAmountUnit(MAX_SAFE_INTEGER, unit).plusAmountUnit(1, unit) : this.plusAmount(-amountToSubtract, unit);\n  };\n\n  return DefaultInterfaceTemporal;\n}(Temporal);\n\nvar ChronoLocalDate = function (_DefaultInterfaceTemp) {\n  _inheritsLoose(ChronoLocalDate, _DefaultInterfaceTemp);\n\n  function ChronoLocalDate() {\n    return _DefaultInterfaceTemp.apply(this, arguments) || this;\n  }\n\n  var _proto = ChronoLocalDate.prototype;\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (fieldOrUnit instanceof ChronoField) {\n      return fieldOrUnit.isDateBased();\n    } else if (fieldOrUnit instanceof ChronoUnit) {\n      return fieldOrUnit.isDateBased();\n    }\n\n    return fieldOrUnit != null && fieldOrUnit.isSupportedBy(this);\n  };\n\n  _proto.query = function query(_query) {\n    if (_query === TemporalQueries.chronology()) {\n      return this.chronology();\n    } else if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.DAYS;\n    } else if (_query === TemporalQueries.localDate()) {\n      return LocalDate.ofEpochDay(this.toEpochDay());\n    } else if (_query === TemporalQueries.localTime() || _query === TemporalQueries.zone() || _query === TemporalQueries.zoneId() || _query === TemporalQueries.offset()) {\n      return null;\n    }\n\n    return _DefaultInterfaceTemp.prototype.query.call(this, _query);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return temporal.with(ChronoField.EPOCH_DAY, this.toEpochDay());\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    requireInstance(formatter, DateTimeFormatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  return ChronoLocalDate;\n}(DefaultInterfaceTemporal);\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar StringUtil = function () {\n  function StringUtil() {}\n\n  StringUtil.startsWith = function startsWith(text, pattern) {\n    return text.indexOf(pattern) === 0;\n  };\n\n  StringUtil.hashCode = function hashCode(text) {\n    var len = text.length;\n\n    if (len === 0) {\n      return 0;\n    }\n\n    var hash = 0;\n\n    for (var i = 0; i < len; i++) {\n      var chr = text.charCodeAt(i);\n      hash = (hash << 5) - hash + chr;\n      hash |= 0;\n    }\n\n    return MathUtil.smi(hash);\n  };\n\n  return StringUtil;\n}();\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar ZoneId = function () {\n  function ZoneId() {}\n\n  ZoneId.systemDefault = function systemDefault() {\n    throw new DateTimeException('not supported operation');\n  };\n\n  ZoneId.getAvailableZoneIds = function getAvailableZoneIds() {\n    throw new DateTimeException('not supported operation');\n  };\n\n  ZoneId.of = function of(zoneId) {\n    throw new DateTimeException('not supported operation' + zoneId);\n  };\n\n  ZoneId.ofOffset = function ofOffset(prefix, offset) {\n    throw new DateTimeException('not supported operation' + prefix + offset);\n  };\n\n  ZoneId.from = function from(temporal) {\n    throw new DateTimeException('not supported operation' + temporal);\n  };\n\n  var _proto = ZoneId.prototype;\n\n  _proto.id = function id() {\n    abstractMethodFail('ZoneId.id');\n  };\n\n  _proto.rules = function rules() {\n    abstractMethodFail('ZoneId.rules');\n  };\n\n  _proto.normalized = function normalized() {\n    var rules = this.rules();\n\n    if (rules.isFixedOffset()) {\n      return rules.offset(Instant.EPOCH);\n    }\n\n    return this;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof ZoneId) {\n      return this.id() === other.id();\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return StringUtil.hashCode(this.id());\n  };\n\n  _proto.toString = function toString() {\n    return this.id();\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return ZoneId;\n}();\n\nvar ZoneRules = function () {\n  function ZoneRules() {}\n\n  ZoneRules.of = function of(offset) {\n    requireNonNull(offset, 'offset');\n    return new Fixed(offset);\n  };\n\n  var _proto = ZoneRules.prototype;\n\n  _proto.isFixedOffset = function isFixedOffset() {\n    abstractMethodFail('ZoneRules.isFixedOffset');\n  };\n\n  _proto.offset = function offset(instantOrLocalDateTime) {\n    if (instantOrLocalDateTime instanceof Instant) {\n      return this.offsetOfInstant(instantOrLocalDateTime);\n    } else {\n      return this.offsetOfLocalDateTime(instantOrLocalDateTime);\n    }\n  };\n\n  _proto.offsetOfInstant = function offsetOfInstant(instant) {\n    abstractMethodFail('ZoneRules.offsetInstant');\n  };\n\n  _proto.offsetOfEpochMilli = function offsetOfEpochMilli(epochMilli) {\n    abstractMethodFail('ZoneRules.offsetOfEpochMilli');\n  };\n\n  _proto.offsetOfLocalDateTime = function offsetOfLocalDateTime(localDateTime) {\n    abstractMethodFail('ZoneRules.offsetLocalDateTime');\n  };\n\n  _proto.validOffsets = function validOffsets(localDateTime) {\n    abstractMethodFail('ZoneRules.validOffsets');\n  };\n\n  _proto.transition = function transition(localDateTime) {\n    abstractMethodFail('ZoneRules.transition');\n  };\n\n  _proto.standardOffset = function standardOffset(instant) {\n    abstractMethodFail('ZoneRules.standardOffset');\n  };\n\n  _proto.daylightSavings = function daylightSavings(instant) {\n    abstractMethodFail('ZoneRules.daylightSavings');\n  };\n\n  _proto.isDaylightSavings = function isDaylightSavings(instant) {\n    abstractMethodFail('ZoneRules.isDaylightSavings');\n  };\n\n  _proto.isValidOffset = function isValidOffset(localDateTime, offset) {\n    abstractMethodFail('ZoneRules.isValidOffset');\n  };\n\n  _proto.nextTransition = function nextTransition(instant) {\n    abstractMethodFail('ZoneRules.nextTransition');\n  };\n\n  _proto.previousTransition = function previousTransition(instant) {\n    abstractMethodFail('ZoneRules.previousTransition');\n  };\n\n  _proto.transitions = function transitions() {\n    abstractMethodFail('ZoneRules.transitions');\n  };\n\n  _proto.transitionRules = function transitionRules() {\n    abstractMethodFail('ZoneRules.transitionRules');\n  };\n\n  _proto.toString = function toString() {\n    abstractMethodFail('ZoneRules.toString');\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return ZoneRules;\n}();\n\nvar Fixed = function (_ZoneRules) {\n  _inheritsLoose(Fixed, _ZoneRules);\n\n  function Fixed(offset) {\n    var _this;\n\n    _this = _ZoneRules.call(this) || this;\n    _this._offset = offset;\n    return _this;\n  }\n\n  var _proto2 = Fixed.prototype;\n\n  _proto2.isFixedOffset = function isFixedOffset() {\n    return true;\n  };\n\n  _proto2.offsetOfInstant = function offsetOfInstant() {\n    return this._offset;\n  };\n\n  _proto2.offsetOfEpochMilli = function offsetOfEpochMilli() {\n    return this._offset;\n  };\n\n  _proto2.offsetOfLocalDateTime = function offsetOfLocalDateTime() {\n    return this._offset;\n  };\n\n  _proto2.validOffsets = function validOffsets() {\n    return [this._offset];\n  };\n\n  _proto2.transition = function transition() {\n    return null;\n  };\n\n  _proto2.standardOffset = function standardOffset() {\n    return this._offset;\n  };\n\n  _proto2.daylightSavings = function daylightSavings() {\n    return Duration.ZERO;\n  };\n\n  _proto2.isDaylightSavings = function isDaylightSavings() {\n    return false;\n  };\n\n  _proto2.isValidOffset = function isValidOffset(localDateTime, offset) {\n    return this._offset.equals(offset);\n  };\n\n  _proto2.nextTransition = function nextTransition() {\n    return null;\n  };\n\n  _proto2.previousTransition = function previousTransition() {\n    return null;\n  };\n\n  _proto2.transitions = function transitions() {\n    return [];\n  };\n\n  _proto2.transitionRules = function transitionRules() {\n    return [];\n  };\n\n  _proto2.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof Fixed) {\n      return this._offset.equals(other._offset);\n    }\n\n    return false;\n  };\n\n  _proto2.toString = function toString() {\n    return 'FixedRules:' + this._offset.toString();\n  };\n\n  return Fixed;\n}(ZoneRules);\n\nvar SECONDS_CACHE = {};\nvar ID_CACHE = {};\nvar ZoneOffset = function (_ZoneId) {\n  _inheritsLoose(ZoneOffset, _ZoneId);\n\n  function ZoneOffset(totalSeconds) {\n    var _this;\n\n    _this = _ZoneId.call(this) || this;\n\n    ZoneOffset._validateTotalSeconds(totalSeconds);\n\n    _this._totalSeconds = MathUtil.safeToInt(totalSeconds);\n    _this._rules = ZoneRules.of(_assertThisInitialized(_this));\n    _this._id = ZoneOffset._buildId(totalSeconds);\n    return _this;\n  }\n\n  var _proto = ZoneOffset.prototype;\n\n  _proto.totalSeconds = function totalSeconds() {\n    return this._totalSeconds;\n  };\n\n  _proto.id = function id() {\n    return this._id;\n  };\n\n  ZoneOffset._buildId = function _buildId(totalSeconds) {\n    if (totalSeconds === 0) {\n      return 'Z';\n    } else {\n      var absTotalSeconds = Math.abs(totalSeconds);\n      var absHours = MathUtil.intDiv(absTotalSeconds, LocalTime.SECONDS_PER_HOUR);\n      var absMinutes = MathUtil.intMod(MathUtil.intDiv(absTotalSeconds, LocalTime.SECONDS_PER_MINUTE), LocalTime.MINUTES_PER_HOUR);\n      var buf = '' + (totalSeconds < 0 ? '-' : '+') + (absHours < 10 ? '0' : '') + absHours + (absMinutes < 10 ? ':0' : ':') + absMinutes;\n      var absSeconds = MathUtil.intMod(absTotalSeconds, LocalTime.SECONDS_PER_MINUTE);\n\n      if (absSeconds !== 0) {\n        buf += (absSeconds < 10 ? ':0' : ':') + absSeconds;\n      }\n\n      return buf;\n    }\n  };\n\n  ZoneOffset._validateTotalSeconds = function _validateTotalSeconds(totalSeconds) {\n    if (Math.abs(totalSeconds) > ZoneOffset.MAX_SECONDS) {\n      throw new DateTimeException('Zone offset not in valid range: -18:00 to +18:00');\n    }\n  };\n\n  ZoneOffset._validate = function _validate(hours, minutes, seconds) {\n    if (hours < -18 || hours > 18) {\n      throw new DateTimeException('Zone offset hours not in valid range: value ' + hours + ' is not in the range -18 to 18');\n    }\n\n    if (hours > 0) {\n      if (minutes < 0 || seconds < 0) {\n        throw new DateTimeException('Zone offset minutes and seconds must be positive because hours is positive');\n      }\n    } else if (hours < 0) {\n      if (minutes > 0 || seconds > 0) {\n        throw new DateTimeException('Zone offset minutes and seconds must be negative because hours is negative');\n      }\n    } else if (minutes > 0 && seconds < 0 || minutes < 0 && seconds > 0) {\n      throw new DateTimeException('Zone offset minutes and seconds must have the same sign');\n    }\n\n    if (Math.abs(minutes) > 59) {\n      throw new DateTimeException('Zone offset minutes not in valid range: abs(value) ' + Math.abs(minutes) + ' is not in the range 0 to 59');\n    }\n\n    if (Math.abs(seconds) > 59) {\n      throw new DateTimeException('Zone offset seconds not in valid range: abs(value) ' + Math.abs(seconds) + ' is not in the range 0 to 59');\n    }\n\n    if (Math.abs(hours) === 18 && (Math.abs(minutes) > 0 || Math.abs(seconds) > 0)) {\n      throw new DateTimeException('Zone offset not in valid range: -18:00 to +18:00');\n    }\n  };\n\n  ZoneOffset.of = function of(offsetId) {\n    requireNonNull(offsetId, 'offsetId');\n    var offset = ID_CACHE[offsetId];\n\n    if (offset != null) {\n      return offset;\n    }\n\n    var hours, minutes, seconds;\n\n    switch (offsetId.length) {\n      case 2:\n        offsetId = offsetId[0] + '0' + offsetId[1];\n\n      case 3:\n        hours = ZoneOffset._parseNumber(offsetId, 1, false);\n        minutes = 0;\n        seconds = 0;\n        break;\n\n      case 5:\n        hours = ZoneOffset._parseNumber(offsetId, 1, false);\n        minutes = ZoneOffset._parseNumber(offsetId, 3, false);\n        seconds = 0;\n        break;\n\n      case 6:\n        hours = ZoneOffset._parseNumber(offsetId, 1, false);\n        minutes = ZoneOffset._parseNumber(offsetId, 4, true);\n        seconds = 0;\n        break;\n\n      case 7:\n        hours = ZoneOffset._parseNumber(offsetId, 1, false);\n        minutes = ZoneOffset._parseNumber(offsetId, 3, false);\n        seconds = ZoneOffset._parseNumber(offsetId, 5, false);\n        break;\n\n      case 9:\n        hours = ZoneOffset._parseNumber(offsetId, 1, false);\n        minutes = ZoneOffset._parseNumber(offsetId, 4, true);\n        seconds = ZoneOffset._parseNumber(offsetId, 7, true);\n        break;\n\n      default:\n        throw new DateTimeException('Invalid ID for ZoneOffset, invalid format: ' + offsetId);\n    }\n\n    var first = offsetId[0];\n\n    if (first !== '+' && first !== '-') {\n      throw new DateTimeException('Invalid ID for ZoneOffset, plus/minus not found when expected: ' + offsetId);\n    }\n\n    if (first === '-') {\n      return ZoneOffset.ofHoursMinutesSeconds(-hours, -minutes, -seconds);\n    } else {\n      return ZoneOffset.ofHoursMinutesSeconds(hours, minutes, seconds);\n    }\n  };\n\n  ZoneOffset._parseNumber = function _parseNumber(offsetId, pos, precededByColon) {\n    if (precededByColon && offsetId[pos - 1] !== ':') {\n      throw new DateTimeException('Invalid ID for ZoneOffset, colon not found when expected: ' + offsetId);\n    }\n\n    var ch1 = offsetId[pos];\n    var ch2 = offsetId[pos + 1];\n\n    if (ch1 < '0' || ch1 > '9' || ch2 < '0' || ch2 > '9') {\n      throw new DateTimeException('Invalid ID for ZoneOffset, non numeric characters found: ' + offsetId);\n    }\n\n    return (ch1.charCodeAt(0) - 48) * 10 + (ch2.charCodeAt(0) - 48);\n  };\n\n  ZoneOffset.ofHours = function ofHours(hours) {\n    return ZoneOffset.ofHoursMinutesSeconds(hours, 0, 0);\n  };\n\n  ZoneOffset.ofHoursMinutes = function ofHoursMinutes(hours, minutes) {\n    return ZoneOffset.ofHoursMinutesSeconds(hours, minutes, 0);\n  };\n\n  ZoneOffset.ofHoursMinutesSeconds = function ofHoursMinutesSeconds(hours, minutes, seconds) {\n    ZoneOffset._validate(hours, minutes, seconds);\n\n    var totalSeconds = hours * LocalTime.SECONDS_PER_HOUR + minutes * LocalTime.SECONDS_PER_MINUTE + seconds;\n    return ZoneOffset.ofTotalSeconds(totalSeconds);\n  };\n\n  ZoneOffset.ofTotalMinutes = function ofTotalMinutes(totalMinutes) {\n    var totalSeconds = totalMinutes * LocalTime.SECONDS_PER_MINUTE;\n    return ZoneOffset.ofTotalSeconds(totalSeconds);\n  };\n\n  ZoneOffset.ofTotalSeconds = function ofTotalSeconds(totalSeconds) {\n    if (totalSeconds % (15 * LocalTime.SECONDS_PER_MINUTE) === 0) {\n      var totalSecs = totalSeconds;\n      var result = SECONDS_CACHE[totalSecs];\n\n      if (result == null) {\n        result = new ZoneOffset(totalSeconds);\n        SECONDS_CACHE[totalSecs] = result;\n        ID_CACHE[result.id()] = result;\n      }\n\n      return result;\n    } else {\n      return new ZoneOffset(totalSeconds);\n    }\n  };\n\n  _proto.rules = function rules() {\n    return this._rules;\n  };\n\n  _proto.get = function get(field) {\n    return this.getLong(field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    if (field === ChronoField.OFFSET_SECONDS) {\n      return this._totalSeconds;\n    } else if (field instanceof ChronoField) {\n      throw new DateTimeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.offset() || _query === TemporalQueries.zone()) {\n      return this;\n    } else if (_query === TemporalQueries.localDate() || _query === TemporalQueries.localTime() || _query === TemporalQueries.precision() || _query === TemporalQueries.chronology() || _query === TemporalQueries.zoneId()) {\n      return null;\n    }\n\n    return _query.queryFrom(this);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return temporal.with(ChronoField.OFFSET_SECONDS, this._totalSeconds);\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    return other._totalSeconds - this._totalSeconds;\n  };\n\n  _proto.equals = function equals(obj) {\n    if (this === obj) {\n      return true;\n    }\n\n    if (obj instanceof ZoneOffset) {\n      return this._totalSeconds === obj._totalSeconds;\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return this._totalSeconds;\n  };\n\n  _proto.toString = function toString() {\n    return this._id;\n  };\n\n  return ZoneOffset;\n}(ZoneId);\nfunction _init$7() {\n  ZoneOffset.MAX_SECONDS = 18 * LocalTime.SECONDS_PER_HOUR;\n  ZoneOffset.UTC = ZoneOffset.ofTotalSeconds(0);\n  ZoneOffset.MIN = ZoneOffset.ofTotalSeconds(-ZoneOffset.MAX_SECONDS);\n  ZoneOffset.MAX = ZoneOffset.ofTotalSeconds(ZoneOffset.MAX_SECONDS);\n}\n\nvar DateTimeBuilder = function (_TemporalAccessor) {\n  _inheritsLoose(DateTimeBuilder, _TemporalAccessor);\n\n  DateTimeBuilder.create = function create(field, value) {\n    var dtb = new DateTimeBuilder();\n\n    dtb._addFieldValue(field, value);\n\n    return dtb;\n  };\n\n  function DateTimeBuilder() {\n    var _this;\n\n    _this = _TemporalAccessor.call(this) || this;\n    _this.fieldValues = new EnumMap();\n    _this.chrono = null;\n    _this.zone = null;\n    _this.date = null;\n    _this.time = null;\n    _this.leapSecond = false;\n    _this.excessDays = null;\n    return _this;\n  }\n\n  var _proto = DateTimeBuilder.prototype;\n\n  _proto.getFieldValue0 = function getFieldValue0(field) {\n    return this.fieldValues.get(field);\n  };\n\n  _proto._addFieldValue = function _addFieldValue(field, value) {\n    requireNonNull(field, 'field');\n    var old = this.getFieldValue0(field);\n\n    if (old != null && old !== value) {\n      throw new DateTimeException('Conflict found: ' + field + ' ' + old + ' differs from ' + field + ' ' + value + ': ' + this);\n    }\n\n    return this._putFieldValue0(field, value);\n  };\n\n  _proto._putFieldValue0 = function _putFieldValue0(field, value) {\n    this.fieldValues.put(field, value);\n    return this;\n  };\n\n  _proto.resolve = function resolve(resolverStyle, resolverFields) {\n    if (resolverFields != null) {\n      this.fieldValues.retainAll(resolverFields);\n    }\n\n    this._mergeDate(resolverStyle);\n\n    this._mergeTime(resolverStyle);\n\n    this._resolveTimeInferZeroes(resolverStyle);\n\n    if (this.excessDays != null && this.excessDays.isZero() === false && this.date != null && this.time != null) {\n      this.date = this.date.plus(this.excessDays);\n      this.excessDays = Period.ZERO;\n    }\n\n    this._resolveInstant();\n\n    return this;\n  };\n\n  _proto._mergeDate = function _mergeDate(resolverStyle) {\n    this._checkDate(IsoChronology.INSTANCE.resolveDate(this.fieldValues, resolverStyle));\n  };\n\n  _proto._checkDate = function _checkDate(date) {\n    if (date != null) {\n      this._addObject(date);\n\n      for (var fieldName in this.fieldValues.keySet()) {\n        var field = ChronoField.byName(fieldName);\n\n        if (field) {\n          if (this.fieldValues.get(field) !== undefined) {\n            if (field.isDateBased()) {\n              var val1 = void 0;\n\n              try {\n                val1 = date.getLong(field);\n              } catch (ex) {\n                if (ex instanceof DateTimeException) {\n                  continue;\n                } else {\n                  throw ex;\n                }\n              }\n\n              var val2 = this.fieldValues.get(field);\n\n              if (val1 !== val2) {\n                throw new DateTimeException('Conflict found: Field ' + field + ' ' + val1 + ' differs from ' + field + ' ' + val2 + ' derived from ' + date);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  _proto._mergeTime = function _mergeTime(resolverStyle) {\n    if (this.fieldValues.containsKey(ChronoField.CLOCK_HOUR_OF_DAY)) {\n      var ch = this.fieldValues.remove(ChronoField.CLOCK_HOUR_OF_DAY);\n\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        if (resolverStyle === ResolverStyle.SMART && ch === 0) ; else {\n          ChronoField.CLOCK_HOUR_OF_DAY.checkValidValue(ch);\n        }\n      }\n\n      this._addFieldValue(ChronoField.HOUR_OF_DAY, ch === 24 ? 0 : ch);\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.CLOCK_HOUR_OF_AMPM)) {\n      var _ch = this.fieldValues.remove(ChronoField.CLOCK_HOUR_OF_AMPM);\n\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        if (resolverStyle === ResolverStyle.SMART && _ch === 0) ; else {\n          ChronoField.CLOCK_HOUR_OF_AMPM.checkValidValue(_ch);\n        }\n      }\n\n      this._addFieldValue(ChronoField.HOUR_OF_AMPM, _ch === 12 ? 0 : _ch);\n    }\n\n    if (resolverStyle !== ResolverStyle.LENIENT) {\n      if (this.fieldValues.containsKey(ChronoField.AMPM_OF_DAY)) {\n        ChronoField.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(ChronoField.AMPM_OF_DAY));\n      }\n\n      if (this.fieldValues.containsKey(ChronoField.HOUR_OF_AMPM)) {\n        ChronoField.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(ChronoField.HOUR_OF_AMPM));\n      }\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.AMPM_OF_DAY) && this.fieldValues.containsKey(ChronoField.HOUR_OF_AMPM)) {\n      var ap = this.fieldValues.remove(ChronoField.AMPM_OF_DAY);\n      var hap = this.fieldValues.remove(ChronoField.HOUR_OF_AMPM);\n\n      this._addFieldValue(ChronoField.HOUR_OF_DAY, ap * 12 + hap);\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.NANO_OF_DAY)) {\n      var nod = this.fieldValues.remove(ChronoField.NANO_OF_DAY);\n\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        ChronoField.NANO_OF_DAY.checkValidValue(nod);\n      }\n\n      this._addFieldValue(ChronoField.SECOND_OF_DAY, MathUtil.intDiv(nod, 1000000000));\n\n      this._addFieldValue(ChronoField.NANO_OF_SECOND, MathUtil.intMod(nod, 1000000000));\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.MICRO_OF_DAY)) {\n      var cod = this.fieldValues.remove(ChronoField.MICRO_OF_DAY);\n\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        ChronoField.MICRO_OF_DAY.checkValidValue(cod);\n      }\n\n      this._addFieldValue(ChronoField.SECOND_OF_DAY, MathUtil.intDiv(cod, 1000000));\n\n      this._addFieldValue(ChronoField.MICRO_OF_SECOND, MathUtil.intMod(cod, 1000000));\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.MILLI_OF_DAY)) {\n      var lod = this.fieldValues.remove(ChronoField.MILLI_OF_DAY);\n\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        ChronoField.MILLI_OF_DAY.checkValidValue(lod);\n      }\n\n      this._addFieldValue(ChronoField.SECOND_OF_DAY, MathUtil.intDiv(lod, 1000));\n\n      this._addFieldValue(ChronoField.MILLI_OF_SECOND, MathUtil.intMod(lod, 1000));\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.SECOND_OF_DAY)) {\n      var sod = this.fieldValues.remove(ChronoField.SECOND_OF_DAY);\n\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        ChronoField.SECOND_OF_DAY.checkValidValue(sod);\n      }\n\n      this._addFieldValue(ChronoField.HOUR_OF_DAY, MathUtil.intDiv(sod, 3600));\n\n      this._addFieldValue(ChronoField.MINUTE_OF_HOUR, MathUtil.intMod(MathUtil.intDiv(sod, 60), 60));\n\n      this._addFieldValue(ChronoField.SECOND_OF_MINUTE, MathUtil.intMod(sod, 60));\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.MINUTE_OF_DAY)) {\n      var mod = this.fieldValues.remove(ChronoField.MINUTE_OF_DAY);\n\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        ChronoField.MINUTE_OF_DAY.checkValidValue(mod);\n      }\n\n      this._addFieldValue(ChronoField.HOUR_OF_DAY, MathUtil.intDiv(mod, 60));\n\n      this._addFieldValue(ChronoField.MINUTE_OF_HOUR, MathUtil.intMod(mod, 60));\n    }\n\n    if (resolverStyle !== ResolverStyle.LENIENT) {\n      if (this.fieldValues.containsKey(ChronoField.MILLI_OF_SECOND)) {\n        ChronoField.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(ChronoField.MILLI_OF_SECOND));\n      }\n\n      if (this.fieldValues.containsKey(ChronoField.MICRO_OF_SECOND)) {\n        ChronoField.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(ChronoField.MICRO_OF_SECOND));\n      }\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.MILLI_OF_SECOND) && this.fieldValues.containsKey(ChronoField.MICRO_OF_SECOND)) {\n      var los = this.fieldValues.remove(ChronoField.MILLI_OF_SECOND);\n      var cos = this.fieldValues.get(ChronoField.MICRO_OF_SECOND);\n\n      this._putFieldValue0(ChronoField.MICRO_OF_SECOND, los * 1000 + MathUtil.intMod(cos, 1000));\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.MICRO_OF_SECOND) && this.fieldValues.containsKey(ChronoField.NANO_OF_SECOND)) {\n      var nos = this.fieldValues.get(ChronoField.NANO_OF_SECOND);\n\n      this._putFieldValue0(ChronoField.MICRO_OF_SECOND, MathUtil.intDiv(nos, 1000));\n\n      this.fieldValues.remove(ChronoField.MICRO_OF_SECOND);\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.MILLI_OF_SECOND) && this.fieldValues.containsKey(ChronoField.NANO_OF_SECOND)) {\n      var _nos = this.fieldValues.get(ChronoField.NANO_OF_SECOND);\n\n      this._putFieldValue0(ChronoField.MILLI_OF_SECOND, MathUtil.intDiv(_nos, 1000000));\n\n      this.fieldValues.remove(ChronoField.MILLI_OF_SECOND);\n    }\n\n    if (this.fieldValues.containsKey(ChronoField.MICRO_OF_SECOND)) {\n      var _cos = this.fieldValues.remove(ChronoField.MICRO_OF_SECOND);\n\n      this._putFieldValue0(ChronoField.NANO_OF_SECOND, _cos * 1000);\n    } else if (this.fieldValues.containsKey(ChronoField.MILLI_OF_SECOND)) {\n      var _los = this.fieldValues.remove(ChronoField.MILLI_OF_SECOND);\n\n      this._putFieldValue0(ChronoField.NANO_OF_SECOND, _los * 1000000);\n    }\n  };\n\n  _proto._resolveTimeInferZeroes = function _resolveTimeInferZeroes(resolverStyle) {\n    var hod = this.fieldValues.get(ChronoField.HOUR_OF_DAY);\n    var moh = this.fieldValues.get(ChronoField.MINUTE_OF_HOUR);\n    var som = this.fieldValues.get(ChronoField.SECOND_OF_MINUTE);\n    var nos = this.fieldValues.get(ChronoField.NANO_OF_SECOND);\n\n    if (hod == null) {\n      return;\n    }\n\n    if (moh == null && (som != null || nos != null)) {\n      return;\n    }\n\n    if (moh != null && som == null && nos != null) {\n      return;\n    }\n\n    if (resolverStyle !== ResolverStyle.LENIENT) {\n      if (hod != null) {\n        if (resolverStyle === ResolverStyle.SMART && hod === 24 && (moh == null || moh === 0) && (som == null || som === 0) && (nos == null || nos === 0)) {\n          hod = 0;\n          this.excessDays = Period.ofDays(1);\n        }\n\n        var hodVal = ChronoField.HOUR_OF_DAY.checkValidIntValue(hod);\n\n        if (moh != null) {\n          var mohVal = ChronoField.MINUTE_OF_HOUR.checkValidIntValue(moh);\n\n          if (som != null) {\n            var somVal = ChronoField.SECOND_OF_MINUTE.checkValidIntValue(som);\n\n            if (nos != null) {\n              var nosVal = ChronoField.NANO_OF_SECOND.checkValidIntValue(nos);\n\n              this._addObject(LocalTime.of(hodVal, mohVal, somVal, nosVal));\n            } else {\n              this._addObject(LocalTime.of(hodVal, mohVal, somVal));\n            }\n          } else {\n            if (nos == null) {\n              this._addObject(LocalTime.of(hodVal, mohVal));\n            }\n          }\n        } else {\n          if (som == null && nos == null) {\n            this._addObject(LocalTime.of(hodVal, 0));\n          }\n        }\n      }\n    } else {\n      if (hod != null) {\n        var _hodVal = hod;\n\n        if (moh != null) {\n          if (som != null) {\n            if (nos == null) {\n              nos = 0;\n            }\n\n            var totalNanos = MathUtil.safeMultiply(_hodVal, 3600000000000);\n            totalNanos = MathUtil.safeAdd(totalNanos, MathUtil.safeMultiply(moh, 60000000000));\n            totalNanos = MathUtil.safeAdd(totalNanos, MathUtil.safeMultiply(som, 1000000000));\n            totalNanos = MathUtil.safeAdd(totalNanos, nos);\n            var excessDays = MathUtil.floorDiv(totalNanos, 86400000000000);\n            var nod = MathUtil.floorMod(totalNanos, 86400000000000);\n\n            this._addObject(LocalTime.ofNanoOfDay(nod));\n\n            this.excessDays = Period.ofDays(excessDays);\n          } else {\n            var totalSecs = MathUtil.safeMultiply(_hodVal, 3600);\n            totalSecs = MathUtil.safeAdd(totalSecs, MathUtil.safeMultiply(moh, 60));\n\n            var _excessDays = MathUtil.floorDiv(totalSecs, 86400);\n\n            var sod = MathUtil.floorMod(totalSecs, 86400);\n\n            this._addObject(LocalTime.ofSecondOfDay(sod));\n\n            this.excessDays = Period.ofDays(_excessDays);\n          }\n        } else {\n          var _excessDays2 = MathUtil.safeToInt(MathUtil.floorDiv(_hodVal, 24));\n\n          _hodVal = MathUtil.floorMod(_hodVal, 24);\n\n          this._addObject(LocalTime.of(_hodVal, 0));\n\n          this.excessDays = Period.ofDays(_excessDays2);\n        }\n      }\n    }\n\n    this.fieldValues.remove(ChronoField.HOUR_OF_DAY);\n    this.fieldValues.remove(ChronoField.MINUTE_OF_HOUR);\n    this.fieldValues.remove(ChronoField.SECOND_OF_MINUTE);\n    this.fieldValues.remove(ChronoField.NANO_OF_SECOND);\n  };\n\n  _proto._addObject = function _addObject(dateOrTime) {\n    if (dateOrTime instanceof ChronoLocalDate) {\n      this.date = dateOrTime;\n    } else if (dateOrTime instanceof LocalTime) {\n      this.time = dateOrTime;\n    }\n  };\n\n  _proto._resolveInstant = function _resolveInstant() {\n    if (this.date != null && this.time != null) {\n      var offsetSecs = this.fieldValues.get(ChronoField.OFFSET_SECONDS);\n\n      if (offsetSecs != null) {\n        var offset = ZoneOffset.ofTotalSeconds(offsetSecs);\n        var instant = this.date.atTime(this.time).atZone(offset).getLong(ChronoField.INSTANT_SECONDS);\n        this.fieldValues.put(ChronoField.INSTANT_SECONDS, instant);\n      } else if (this.zone != null) {\n        var _instant = this.date.atTime(this.time).atZone(this.zone).getLong(ChronoField.INSTANT_SECONDS);\n\n        this.fieldValues.put(ChronoField.INSTANT_SECONDS, _instant);\n      }\n    }\n  };\n\n  _proto.build = function build(type) {\n    return type.queryFrom(this);\n  };\n\n  _proto.isSupported = function isSupported(field) {\n    if (field == null) {\n      return false;\n    }\n\n    return this.fieldValues.containsKey(field) && this.fieldValues.get(field) !== undefined || this.date != null && this.date.isSupported(field) || this.time != null && this.time.isSupported(field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    requireNonNull(field, 'field');\n    var value = this.getFieldValue0(field);\n\n    if (value == null) {\n      if (this.date != null && this.date.isSupported(field)) {\n        return this.date.getLong(field);\n      }\n\n      if (this.time != null && this.time.isSupported(field)) {\n        return this.time.getLong(field);\n      }\n\n      throw new DateTimeException('Field not found: ' + field);\n    }\n\n    return value;\n  };\n\n  _proto.query = function query(_query) {\n    if (_query === TemporalQueries.zoneId()) {\n      return this.zone;\n    } else if (_query === TemporalQueries.chronology()) {\n      return this.chrono;\n    } else if (_query === TemporalQueries.localDate()) {\n      return this.date != null ? LocalDate.from(this.date) : null;\n    } else if (_query === TemporalQueries.localTime()) {\n      return this.time;\n    } else if (_query === TemporalQueries.zone() || _query === TemporalQueries.offset()) {\n      return _query.queryFrom(this);\n    } else if (_query === TemporalQueries.precision()) {\n      return null;\n    }\n\n    return _query.queryFrom(this);\n  };\n\n  return DateTimeBuilder;\n}(TemporalAccessor);\n\nvar DateTimeParseContext = function () {\n  function DateTimeParseContext() {\n    if (arguments.length === 1) {\n      if (arguments[0] instanceof DateTimeParseContext) {\n        this._constructorSelf.apply(this, arguments);\n\n        return;\n      } else {\n        this._constructorFormatter.apply(this, arguments);\n      }\n    } else {\n      this._constructorParam.apply(this, arguments);\n    }\n\n    this._caseSensitive = true;\n    this._strict = true;\n    this._parsed = [new Parsed(this)];\n  }\n\n  var _proto = DateTimeParseContext.prototype;\n\n  _proto._constructorParam = function _constructorParam(locale, symbols, chronology) {\n    this._locale = locale;\n    this._symbols = symbols;\n    this._overrideChronology = chronology;\n  };\n\n  _proto._constructorFormatter = function _constructorFormatter(formatter) {\n    this._locale = formatter.locale();\n    this._symbols = formatter.decimalStyle();\n    this._overrideChronology = formatter.chronology();\n  };\n\n  _proto._constructorSelf = function _constructorSelf(other) {\n    this._locale = other._locale;\n    this._symbols = other._symbols;\n    this._overrideChronology = other._overrideChronology;\n    this._overrideZone = other._overrideZone;\n    this._caseSensitive = other._caseSensitive;\n    this._strict = other._strict;\n    this._parsed = [new Parsed(this)];\n  };\n\n  _proto.copy = function copy() {\n    return new DateTimeParseContext(this);\n  };\n\n  _proto.symbols = function symbols() {\n    return this._symbols;\n  };\n\n  _proto.isStrict = function isStrict() {\n    return this._strict;\n  };\n\n  _proto.setStrict = function setStrict(strict) {\n    this._strict = strict;\n  };\n\n  _proto.locale = function locale() {\n    return this._locale;\n  };\n\n  _proto.setLocale = function setLocale(locale) {\n    this._locale = locale;\n  };\n\n  _proto.startOptional = function startOptional() {\n    this._parsed.push(this.currentParsed().copy());\n  };\n\n  _proto.endOptional = function endOptional(successful) {\n    if (successful) {\n      this._parsed.splice(this._parsed.length - 2, 1);\n    } else {\n      this._parsed.splice(this._parsed.length - 1, 1);\n    }\n  };\n\n  _proto.isCaseSensitive = function isCaseSensitive() {\n    return this._caseSensitive;\n  };\n\n  _proto.setCaseSensitive = function setCaseSensitive(caseSensitive) {\n    this._caseSensitive = caseSensitive;\n  };\n\n  _proto.subSequenceEquals = function subSequenceEquals(cs1, offset1, cs2, offset2, length) {\n    if (offset1 + length > cs1.length || offset2 + length > cs2.length) {\n      return false;\n    }\n\n    if (!this.isCaseSensitive()) {\n      cs1 = cs1.toLowerCase();\n      cs2 = cs2.toLowerCase();\n    }\n\n    for (var i = 0; i < length; i++) {\n      var ch1 = cs1[offset1 + i];\n      var ch2 = cs2[offset2 + i];\n\n      if (ch1 !== ch2) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  _proto.charEquals = function charEquals(ch1, ch2) {\n    if (this.isCaseSensitive()) {\n      return ch1 === ch2;\n    }\n\n    return this.charEqualsIgnoreCase(ch1, ch2);\n  };\n\n  _proto.charEqualsIgnoreCase = function charEqualsIgnoreCase(c1, c2) {\n    return c1 === c2 || c1.toLowerCase() === c2.toLowerCase();\n  };\n\n  _proto.setParsedField = function setParsedField(field, value, errorPos, successPos) {\n    var currentParsedFieldValues = this.currentParsed().fieldValues;\n    var old = currentParsedFieldValues.get(field);\n    currentParsedFieldValues.set(field, value);\n    return old != null && old !== value ? ~errorPos : successPos;\n  };\n\n  _proto.setParsedZone = function setParsedZone(zone) {\n    requireNonNull(zone, 'zone');\n    this.currentParsed().zone = zone;\n  };\n\n  _proto.getParsed = function getParsed(field) {\n    return this.currentParsed().fieldValues.get(field);\n  };\n\n  _proto.toParsed = function toParsed() {\n    return this.currentParsed();\n  };\n\n  _proto.currentParsed = function currentParsed() {\n    return this._parsed[this._parsed.length - 1];\n  };\n\n  _proto.setParsedLeapSecond = function setParsedLeapSecond() {\n    this.currentParsed().leapSecond = true;\n  };\n\n  _proto.getEffectiveChronology = function getEffectiveChronology() {\n    var chrono = this.currentParsed().chrono;\n\n    if (chrono == null) {\n      chrono = this._overrideChronology;\n\n      if (chrono == null) {\n        chrono = IsoChronology.INSTANCE;\n      }\n    }\n\n    return chrono;\n  };\n\n  return DateTimeParseContext;\n}();\n\nvar Parsed = function (_Temporal) {\n  _inheritsLoose(Parsed, _Temporal);\n\n  function Parsed(dateTimeParseContext) {\n    var _this;\n\n    _this = _Temporal.call(this) || this;\n    _this.chrono = null;\n    _this.zone = null;\n    _this.fieldValues = new EnumMap();\n    _this.leapSecond = false;\n    _this.dateTimeParseContext = dateTimeParseContext;\n    return _this;\n  }\n\n  var _proto2 = Parsed.prototype;\n\n  _proto2.copy = function copy() {\n    var cloned = new Parsed();\n    cloned.chrono = this.chrono;\n    cloned.zone = this.zone;\n    cloned.fieldValues.putAll(this.fieldValues);\n    cloned.leapSecond = this.leapSecond;\n    cloned.dateTimeParseContext = this.dateTimeParseContext;\n    return cloned;\n  };\n\n  _proto2.toString = function toString() {\n    return this.fieldValues + \", \" + this.chrono + \", \" + this.zone;\n  };\n\n  _proto2.isSupported = function isSupported(field) {\n    return this.fieldValues.containsKey(field);\n  };\n\n  _proto2.get = function get(field) {\n    var val = this.fieldValues.get(field);\n    assert(val != null);\n    return val;\n  };\n\n  _proto2.query = function query(_query) {\n    if (_query === TemporalQueries.chronology()) {\n      return this.chrono;\n    }\n\n    if (_query === TemporalQueries.zoneId() || _query === TemporalQueries.zone()) {\n      return this.zone;\n    }\n\n    return _Temporal.prototype.query.call(this, _query);\n  };\n\n  _proto2.toBuilder = function toBuilder() {\n    var builder = new DateTimeBuilder();\n    builder.fieldValues.putAll(this.fieldValues);\n    builder.chrono = this.dateTimeParseContext.getEffectiveChronology();\n\n    if (this.zone != null) {\n      builder.zone = this.zone;\n    } else {\n      builder.zone = this.overrideZone;\n    }\n\n    builder.leapSecond = this.leapSecond;\n    builder.excessDays = this.excessDays;\n    return builder;\n  };\n\n  return Parsed;\n}(Temporal);\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar DateTimePrintContext = function () {\n  function DateTimePrintContext(temporal, localeOrFormatter, symbols) {\n    if (arguments.length === 2 && arguments[1] instanceof DateTimeFormatter) {\n      this._temporal = DateTimePrintContext.adjust(temporal, localeOrFormatter);\n      this._locale = localeOrFormatter.locale();\n      this._symbols = localeOrFormatter.decimalStyle();\n    } else {\n      this._temporal = temporal;\n      this._locale = localeOrFormatter;\n      this._symbols = symbols;\n    }\n\n    this._optional = 0;\n  }\n\n  DateTimePrintContext.adjust = function adjust(temporal, formatter) {\n    return temporal;\n  };\n\n  var _proto = DateTimePrintContext.prototype;\n\n  _proto.symbols = function symbols() {\n    return this._symbols;\n  };\n\n  _proto.startOptional = function startOptional() {\n    this._optional++;\n  };\n\n  _proto.endOptional = function endOptional() {\n    this._optional--;\n  };\n\n  _proto.getValueQuery = function getValueQuery(query) {\n    var result = this._temporal.query(query);\n\n    if (result == null && this._optional === 0) {\n      throw new DateTimeException('Unable to extract value: ' + this._temporal);\n    }\n\n    return result;\n  };\n\n  _proto.getValue = function getValue(field) {\n    try {\n      return this._temporal.getLong(field);\n    } catch (ex) {\n      if (ex instanceof DateTimeException && this._optional > 0) {\n        return null;\n      }\n\n      throw ex;\n    }\n  };\n\n  _proto.temporal = function temporal() {\n    return this._temporal;\n  };\n\n  _proto.locale = function locale() {\n    return this._locale;\n  };\n\n  _proto.setDateTime = function setDateTime(temporal) {\n    this._temporal = temporal;\n  };\n\n  _proto.setLocale = function setLocale(locale) {\n    this._locale = locale;\n  };\n\n  return DateTimePrintContext;\n}();\n\nvar IsoFields = {};\nvar QUARTER_DAYS = [0, 90, 181, 273, 0, 91, 182, 274];\n\nvar Field = function (_TemporalField) {\n  _inheritsLoose(Field, _TemporalField);\n\n  function Field() {\n    return _TemporalField.apply(this, arguments) || this;\n  }\n\n  var _proto = Field.prototype;\n\n  _proto.isDateBased = function isDateBased() {\n    return true;\n  };\n\n  _proto.isTimeBased = function isTimeBased() {\n    return false;\n  };\n\n  _proto._isIso = function _isIso() {\n    return true;\n  };\n\n  Field._getWeekRangeByLocalDate = function _getWeekRangeByLocalDate(date) {\n    var wby = Field._getWeekBasedYear(date);\n\n    return ValueRange.of(1, Field._getWeekRangeByYear(wby));\n  };\n\n  Field._getWeekRangeByYear = function _getWeekRangeByYear(wby) {\n    var date = LocalDate.of(wby, 1, 1);\n\n    if (date.dayOfWeek() === DayOfWeek.THURSDAY || date.dayOfWeek() === DayOfWeek.WEDNESDAY && date.isLeapYear()) {\n      return 53;\n    }\n\n    return 52;\n  };\n\n  Field._getWeek = function _getWeek(date) {\n    var dow0 = date.dayOfWeek().ordinal();\n    var doy0 = date.dayOfYear() - 1;\n    var doyThu0 = doy0 + (3 - dow0);\n    var alignedWeek = MathUtil.intDiv(doyThu0, 7);\n    var firstThuDoy0 = doyThu0 - alignedWeek * 7;\n    var firstMonDoy0 = firstThuDoy0 - 3;\n\n    if (firstMonDoy0 < -3) {\n      firstMonDoy0 += 7;\n    }\n\n    if (doy0 < firstMonDoy0) {\n      return Field._getWeekRangeByLocalDate(date.withDayOfYear(180).minusYears(1)).maximum();\n    }\n\n    var week = MathUtil.intDiv(doy0 - firstMonDoy0, 7) + 1;\n\n    if (week === 53) {\n      if ((firstMonDoy0 === -3 || firstMonDoy0 === -2 && date.isLeapYear()) === false) {\n        week = 1;\n      }\n    }\n\n    return week;\n  };\n\n  Field._getWeekBasedYear = function _getWeekBasedYear(date) {\n    var year = date.year();\n    var doy = date.dayOfYear();\n\n    if (doy <= 3) {\n      var dow = date.dayOfWeek().ordinal();\n\n      if (doy - dow < -2) {\n        year--;\n      }\n    } else if (doy >= 363) {\n      var _dow = date.dayOfWeek().ordinal();\n\n      doy = doy - 363 - (date.isLeapYear() ? 1 : 0);\n\n      if (doy - _dow >= 0) {\n        year++;\n      }\n    }\n\n    return year;\n  };\n\n  _proto.displayName = function displayName() {\n    return this.toString();\n  };\n\n  _proto.resolve = function resolve() {\n    return null;\n  };\n\n  _proto.name = function name() {\n    return this.toString();\n  };\n\n  return Field;\n}(TemporalField);\n\nvar DAY_OF_QUARTER_FIELD = function (_Field) {\n  _inheritsLoose(DAY_OF_QUARTER_FIELD, _Field);\n\n  function DAY_OF_QUARTER_FIELD() {\n    return _Field.apply(this, arguments) || this;\n  }\n\n  var _proto2 = DAY_OF_QUARTER_FIELD.prototype;\n\n  _proto2.toString = function toString() {\n    return 'DayOfQuarter';\n  };\n\n  _proto2.baseUnit = function baseUnit() {\n    return ChronoUnit.DAYS;\n  };\n\n  _proto2.rangeUnit = function rangeUnit() {\n    return QUARTER_YEARS;\n  };\n\n  _proto2.range = function range() {\n    return ValueRange.of(1, 90, 92);\n  };\n\n  _proto2.isSupportedBy = function isSupportedBy(temporal) {\n    return temporal.isSupported(ChronoField.DAY_OF_YEAR) && temporal.isSupported(ChronoField.MONTH_OF_YEAR) && temporal.isSupported(ChronoField.YEAR) && this._isIso(temporal);\n  };\n\n  _proto2.rangeRefinedBy = function rangeRefinedBy(temporal) {\n    if (temporal.isSupported(this) === false) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: DayOfQuarter');\n    }\n\n    var qoy = temporal.getLong(QUARTER_OF_YEAR);\n\n    if (qoy === 1) {\n      var year = temporal.getLong(ChronoField.YEAR);\n      return IsoChronology.isLeapYear(year) ? ValueRange.of(1, 91) : ValueRange.of(1, 90);\n    } else if (qoy === 2) {\n      return ValueRange.of(1, 91);\n    } else if (qoy === 3 || qoy === 4) {\n      return ValueRange.of(1, 92);\n    }\n\n    return this.range();\n  };\n\n  _proto2.getFrom = function getFrom(temporal) {\n    if (temporal.isSupported(this) === false) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: DayOfQuarter');\n    }\n\n    var doy = temporal.get(ChronoField.DAY_OF_YEAR);\n    var moy = temporal.get(ChronoField.MONTH_OF_YEAR);\n    var year = temporal.getLong(ChronoField.YEAR);\n    return doy - QUARTER_DAYS[MathUtil.intDiv(moy - 1, 3) + (IsoChronology.isLeapYear(year) ? 4 : 0)];\n  };\n\n  _proto2.adjustInto = function adjustInto(temporal, newValue) {\n    var curValue = this.getFrom(temporal);\n    this.range().checkValidValue(newValue, this);\n    return temporal.with(ChronoField.DAY_OF_YEAR, temporal.getLong(ChronoField.DAY_OF_YEAR) + (newValue - curValue));\n  };\n\n  _proto2.resolve = function resolve(fieldValues, partialTemporal, resolverStyle) {\n    var yearLong = fieldValues.get(ChronoField.YEAR);\n    var qoyLong = fieldValues.get(QUARTER_OF_YEAR);\n\n    if (yearLong == null || qoyLong == null) {\n      return null;\n    }\n\n    var y = ChronoField.YEAR.checkValidIntValue(yearLong);\n    var doq = fieldValues.get(DAY_OF_QUARTER);\n    var date;\n\n    if (resolverStyle === ResolverStyle.LENIENT) {\n      var qoy = qoyLong;\n      date = LocalDate.of(y, 1, 1);\n      date = date.plusMonths(MathUtil.safeMultiply(MathUtil.safeSubtract(qoy, 1), 3));\n      date = date.plusDays(MathUtil.safeSubtract(doq, 1));\n    } else {\n      var _qoy = QUARTER_OF_YEAR.range().checkValidIntValue(qoyLong, QUARTER_OF_YEAR);\n\n      if (resolverStyle === ResolverStyle.STRICT) {\n        var max = 92;\n\n        if (_qoy === 1) {\n          max = IsoChronology.isLeapYear(y) ? 91 : 90;\n        } else if (_qoy === 2) {\n          max = 91;\n        }\n\n        ValueRange.of(1, max).checkValidValue(doq, this);\n      } else {\n        this.range().checkValidValue(doq, this);\n      }\n\n      date = LocalDate.of(y, (_qoy - 1) * 3 + 1, 1).plusDays(doq - 1);\n    }\n\n    fieldValues.remove(this);\n    fieldValues.remove(ChronoField.YEAR);\n    fieldValues.remove(QUARTER_OF_YEAR);\n    return date;\n  };\n\n  return DAY_OF_QUARTER_FIELD;\n}(Field);\n\nvar QUARTER_OF_YEAR_FIELD = function (_Field2) {\n  _inheritsLoose(QUARTER_OF_YEAR_FIELD, _Field2);\n\n  function QUARTER_OF_YEAR_FIELD() {\n    return _Field2.apply(this, arguments) || this;\n  }\n\n  var _proto3 = QUARTER_OF_YEAR_FIELD.prototype;\n\n  _proto3.toString = function toString() {\n    return 'QuarterOfYear';\n  };\n\n  _proto3.baseUnit = function baseUnit() {\n    return QUARTER_YEARS;\n  };\n\n  _proto3.rangeUnit = function rangeUnit() {\n    return ChronoUnit.YEARS;\n  };\n\n  _proto3.range = function range() {\n    return ValueRange.of(1, 4);\n  };\n\n  _proto3.isSupportedBy = function isSupportedBy(temporal) {\n    return temporal.isSupported(ChronoField.MONTH_OF_YEAR) && this._isIso(temporal);\n  };\n\n  _proto3.rangeRefinedBy = function rangeRefinedBy(temporal) {\n    return this.range();\n  };\n\n  _proto3.getFrom = function getFrom(temporal) {\n    if (temporal.isSupported(this) === false) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: QuarterOfYear');\n    }\n\n    var moy = temporal.getLong(ChronoField.MONTH_OF_YEAR);\n    return MathUtil.intDiv(moy + 2, 3);\n  };\n\n  _proto3.adjustInto = function adjustInto(temporal, newValue) {\n    var curValue = this.getFrom(temporal);\n    this.range().checkValidValue(newValue, this);\n    return temporal.with(ChronoField.MONTH_OF_YEAR, temporal.getLong(ChronoField.MONTH_OF_YEAR) + (newValue - curValue) * 3);\n  };\n\n  return QUARTER_OF_YEAR_FIELD;\n}(Field);\n\nvar WEEK_OF_WEEK_BASED_YEAR_FIELD = function (_Field3) {\n  _inheritsLoose(WEEK_OF_WEEK_BASED_YEAR_FIELD, _Field3);\n\n  function WEEK_OF_WEEK_BASED_YEAR_FIELD() {\n    return _Field3.apply(this, arguments) || this;\n  }\n\n  var _proto4 = WEEK_OF_WEEK_BASED_YEAR_FIELD.prototype;\n\n  _proto4.toString = function toString() {\n    return 'WeekOfWeekBasedYear';\n  };\n\n  _proto4.baseUnit = function baseUnit() {\n    return ChronoUnit.WEEKS;\n  };\n\n  _proto4.rangeUnit = function rangeUnit() {\n    return WEEK_BASED_YEARS;\n  };\n\n  _proto4.range = function range() {\n    return ValueRange.of(1, 52, 53);\n  };\n\n  _proto4.isSupportedBy = function isSupportedBy(temporal) {\n    return temporal.isSupported(ChronoField.EPOCH_DAY) && this._isIso(temporal);\n  };\n\n  _proto4.rangeRefinedBy = function rangeRefinedBy(temporal) {\n    if (temporal.isSupported(this) === false) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: WeekOfWeekBasedYear');\n    }\n\n    return Field._getWeekRangeByLocalDate(LocalDate.from(temporal));\n  };\n\n  _proto4.getFrom = function getFrom(temporal) {\n    if (temporal.isSupported(this) === false) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: WeekOfWeekBasedYear');\n    }\n\n    return Field._getWeek(LocalDate.from(temporal));\n  };\n\n  _proto4.adjustInto = function adjustInto(temporal, newValue) {\n    this.range().checkValidValue(newValue, this);\n    return temporal.plus(MathUtil.safeSubtract(newValue, this.getFrom(temporal)), ChronoUnit.WEEKS);\n  };\n\n  _proto4.resolve = function resolve(fieldValues, partialTemporal, resolverStyle) {\n    var wbyLong = fieldValues.get(WEEK_BASED_YEAR);\n    var dowLong = fieldValues.get(ChronoField.DAY_OF_WEEK);\n\n    if (wbyLong == null || dowLong == null) {\n      return null;\n    }\n\n    var wby = WEEK_BASED_YEAR.range().checkValidIntValue(wbyLong, WEEK_BASED_YEAR);\n    var wowby = fieldValues.get(WEEK_OF_WEEK_BASED_YEAR);\n    var date;\n\n    if (resolverStyle === ResolverStyle.LENIENT) {\n      var dow = dowLong;\n      var weeks = 0;\n\n      if (dow > 7) {\n        weeks = MathUtil.intDiv(dow - 1, 7);\n        dow = MathUtil.intMod(dow - 1, 7) + 1;\n      } else if (dow < 1) {\n        weeks = MathUtil.intDiv(dow, 7) - 1;\n        dow = MathUtil.intMod(dow, 7) + 7;\n      }\n\n      date = LocalDate.of(wby, 1, 4).plusWeeks(wowby - 1).plusWeeks(weeks).with(ChronoField.DAY_OF_WEEK, dow);\n    } else {\n      var _dow2 = ChronoField.DAY_OF_WEEK.checkValidIntValue(dowLong);\n\n      if (resolverStyle === ResolverStyle.STRICT) {\n        var temp = LocalDate.of(wby, 1, 4);\n\n        var range = Field._getWeekRangeByLocalDate(temp);\n\n        range.checkValidValue(wowby, this);\n      } else {\n        this.range().checkValidValue(wowby, this);\n      }\n\n      date = LocalDate.of(wby, 1, 4).plusWeeks(wowby - 1).with(ChronoField.DAY_OF_WEEK, _dow2);\n    }\n\n    fieldValues.remove(this);\n    fieldValues.remove(WEEK_BASED_YEAR);\n    fieldValues.remove(ChronoField.DAY_OF_WEEK);\n    return date;\n  };\n\n  _proto4.displayName = function displayName() {\n    return 'Week';\n  };\n\n  return WEEK_OF_WEEK_BASED_YEAR_FIELD;\n}(Field);\n\nvar WEEK_BASED_YEAR_FIELD = function (_Field4) {\n  _inheritsLoose(WEEK_BASED_YEAR_FIELD, _Field4);\n\n  function WEEK_BASED_YEAR_FIELD() {\n    return _Field4.apply(this, arguments) || this;\n  }\n\n  var _proto5 = WEEK_BASED_YEAR_FIELD.prototype;\n\n  _proto5.toString = function toString() {\n    return 'WeekBasedYear';\n  };\n\n  _proto5.baseUnit = function baseUnit() {\n    return WEEK_BASED_YEARS;\n  };\n\n  _proto5.rangeUnit = function rangeUnit() {\n    return ChronoUnit.FOREVER;\n  };\n\n  _proto5.range = function range() {\n    return ChronoField.YEAR.range();\n  };\n\n  _proto5.isSupportedBy = function isSupportedBy(temporal) {\n    return temporal.isSupported(ChronoField.EPOCH_DAY) && this._isIso(temporal);\n  };\n\n  _proto5.rangeRefinedBy = function rangeRefinedBy(temporal) {\n    return ChronoField.YEAR.range();\n  };\n\n  _proto5.getFrom = function getFrom(temporal) {\n    if (temporal.isSupported(this) === false) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: WeekBasedYear');\n    }\n\n    return Field._getWeekBasedYear(LocalDate.from(temporal));\n  };\n\n  _proto5.adjustInto = function adjustInto(temporal, newValue) {\n    if (this.isSupportedBy(temporal) === false) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: WeekBasedYear');\n    }\n\n    var newWby = this.range().checkValidIntValue(newValue, WEEK_BASED_YEAR);\n    var date = LocalDate.from(temporal);\n    var dow = date.get(ChronoField.DAY_OF_WEEK);\n\n    var week = Field._getWeek(date);\n\n    if (week === 53 && Field._getWeekRangeByYear(newWby) === 52) {\n      week = 52;\n    }\n\n    var resolved = LocalDate.of(newWby, 1, 4);\n    var days = dow - resolved.get(ChronoField.DAY_OF_WEEK) + (week - 1) * 7;\n    resolved = resolved.plusDays(days);\n    return temporal.with(resolved);\n  };\n\n  return WEEK_BASED_YEAR_FIELD;\n}(Field);\n\nvar Unit = function (_TemporalUnit) {\n  _inheritsLoose(Unit, _TemporalUnit);\n\n  function Unit(name, estimatedDuration) {\n    var _this;\n\n    _this = _TemporalUnit.call(this) || this;\n    _this._name = name;\n    _this._duration = estimatedDuration;\n    return _this;\n  }\n\n  var _proto6 = Unit.prototype;\n\n  _proto6.duration = function duration() {\n    return this._duration;\n  };\n\n  _proto6.isDurationEstimated = function isDurationEstimated() {\n    return true;\n  };\n\n  _proto6.isDateBased = function isDateBased() {\n    return true;\n  };\n\n  _proto6.isTimeBased = function isTimeBased() {\n    return false;\n  };\n\n  _proto6.isSupportedBy = function isSupportedBy(temporal) {\n    return temporal.isSupported(ChronoField.EPOCH_DAY);\n  };\n\n  _proto6.addTo = function addTo(temporal, periodToAdd) {\n    switch (this) {\n      case WEEK_BASED_YEARS:\n        {\n          var added = MathUtil.safeAdd(temporal.get(WEEK_BASED_YEAR), periodToAdd);\n          return temporal.with(WEEK_BASED_YEAR, added);\n        }\n\n      case QUARTER_YEARS:\n        return temporal.plus(MathUtil.intDiv(periodToAdd, 256), ChronoUnit.YEARS).plus(MathUtil.intMod(periodToAdd, 256) * 3, ChronoUnit.MONTHS);\n\n      default:\n        throw new IllegalStateException('Unreachable');\n    }\n  };\n\n  _proto6.between = function between(temporal1, temporal2) {\n    switch (this) {\n      case WEEK_BASED_YEARS:\n        return MathUtil.safeSubtract(temporal2.getLong(WEEK_BASED_YEAR), temporal1.getLong(WEEK_BASED_YEAR));\n\n      case QUARTER_YEARS:\n        return MathUtil.intDiv(temporal1.until(temporal2, ChronoUnit.MONTHS), 3);\n\n      default:\n        throw new IllegalStateException('Unreachable');\n    }\n  };\n\n  _proto6.toString = function toString() {\n    return name;\n  };\n\n  return Unit;\n}(TemporalUnit);\n\nvar DAY_OF_QUARTER = null;\nvar QUARTER_OF_YEAR = null;\nvar WEEK_OF_WEEK_BASED_YEAR = null;\nvar WEEK_BASED_YEAR = null;\nvar WEEK_BASED_YEARS = null;\nvar QUARTER_YEARS = null;\nfunction _init$8() {\n  DAY_OF_QUARTER = new DAY_OF_QUARTER_FIELD();\n  QUARTER_OF_YEAR = new QUARTER_OF_YEAR_FIELD();\n  WEEK_OF_WEEK_BASED_YEAR = new WEEK_OF_WEEK_BASED_YEAR_FIELD();\n  WEEK_BASED_YEAR = new WEEK_BASED_YEAR_FIELD();\n  WEEK_BASED_YEARS = new Unit('WeekBasedYears', Duration.ofSeconds(31556952));\n  QUARTER_YEARS = new Unit('QuarterYears', Duration.ofSeconds(31556952 / 4));\n  IsoFields.DAY_OF_QUARTER = DAY_OF_QUARTER;\n  IsoFields.QUARTER_OF_YEAR = QUARTER_OF_YEAR;\n  IsoFields.WEEK_OF_WEEK_BASED_YEAR = WEEK_OF_WEEK_BASED_YEAR;\n  IsoFields.WEEK_BASED_YEAR = WEEK_BASED_YEAR;\n  IsoFields.WEEK_BASED_YEARS = WEEK_BASED_YEARS;\n  IsoFields.QUARTER_YEARS = QUARTER_YEARS;\n\n  LocalDate.prototype.isoWeekOfWeekyear = function () {\n    return this.get(IsoFields.WEEK_OF_WEEK_BASED_YEAR);\n  };\n\n  LocalDate.prototype.isoWeekyear = function () {\n    return this.get(IsoFields.WEEK_BASED_YEAR);\n  };\n}\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar DecimalStyle = function () {\n  function DecimalStyle(zeroChar, positiveSignChar, negativeSignChar, decimalPointChar) {\n    this._zeroDigit = zeroChar;\n    this._zeroDigitCharCode = zeroChar.charCodeAt(0);\n    this._positiveSign = positiveSignChar;\n    this._negativeSign = negativeSignChar;\n    this._decimalSeparator = decimalPointChar;\n  }\n\n  var _proto = DecimalStyle.prototype;\n\n  _proto.positiveSign = function positiveSign() {\n    return this._positiveSign;\n  };\n\n  _proto.withPositiveSign = function withPositiveSign(positiveSign) {\n    if (positiveSign === this._positiveSign) {\n      return this;\n    }\n\n    return new DecimalStyle(this._zeroDigit, positiveSign, this._negativeSign, this._decimalSeparator);\n  };\n\n  _proto.negativeSign = function negativeSign() {\n    return this._negativeSign;\n  };\n\n  _proto.withNegativeSign = function withNegativeSign(negativeSign) {\n    if (negativeSign === this._negativeSign) {\n      return this;\n    }\n\n    return new DecimalStyle(this._zeroDigit, this._positiveSign, negativeSign, this._decimalSeparator);\n  };\n\n  _proto.zeroDigit = function zeroDigit() {\n    return this._zeroDigit;\n  };\n\n  _proto.withZeroDigit = function withZeroDigit(zeroDigit) {\n    if (zeroDigit === this._zeroDigit) {\n      return this;\n    }\n\n    return new DecimalStyle(zeroDigit, this._positiveSign, this._negativeSign, this._decimalSeparator);\n  };\n\n  _proto.decimalSeparator = function decimalSeparator() {\n    return this._decimalSeparator;\n  };\n\n  _proto.withDecimalSeparator = function withDecimalSeparator(decimalSeparator) {\n    if (decimalSeparator === this._decimalSeparator) {\n      return this;\n    }\n\n    return new DecimalStyle(this._zeroDigit, this._positiveSign, this._negativeSign, decimalSeparator);\n  };\n\n  _proto.convertToDigit = function convertToDigit(char) {\n    var val = char.charCodeAt(0) - this._zeroDigitCharCode;\n\n    return val >= 0 && val <= 9 ? val : -1;\n  };\n\n  _proto.convertNumberToI18N = function convertNumberToI18N(numericText) {\n    if (this._zeroDigit === '0') {\n      return numericText;\n    }\n\n    var diff = this._zeroDigitCharCode - '0'.charCodeAt(0);\n    var convertedText = '';\n\n    for (var i = 0; i < numericText.length; i++) {\n      convertedText += String.fromCharCode(numericText.charCodeAt(i) + diff);\n    }\n\n    return convertedText;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof DecimalStyle) {\n      return this._zeroDigit === other._zeroDigit && this._positiveSign === other._positiveSign && this._negativeSign === other._negativeSign && this._decimalSeparator === other._decimalSeparator;\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return this._zeroDigit + this._positiveSign + this._negativeSign + this._decimalSeparator;\n  };\n\n  _proto.toString = function toString() {\n    return 'DecimalStyle[' + this._zeroDigit + this._positiveSign + this._negativeSign + this._decimalSeparator + ']';\n  };\n\n  DecimalStyle.of = function of() {\n    throw new Error('not yet supported');\n  };\n\n  DecimalStyle.availableLocales = function availableLocales() {\n    throw new Error('not yet supported');\n  };\n\n  return DecimalStyle;\n}();\nDecimalStyle.STANDARD = new DecimalStyle('0', '+', '-', '.');\n\nvar SignStyle = function (_Enum) {\n  _inheritsLoose(SignStyle, _Enum);\n\n  function SignStyle() {\n    return _Enum.apply(this, arguments) || this;\n  }\n\n  var _proto = SignStyle.prototype;\n\n  _proto.parse = function parse(positive, strict, fixedWidth) {\n    switch (this) {\n      case SignStyle.NORMAL:\n        return !positive || !strict;\n\n      case SignStyle.ALWAYS:\n      case SignStyle.EXCEEDS_PAD:\n        return true;\n\n      default:\n        return !strict && !fixedWidth;\n    }\n  };\n\n  return SignStyle;\n}(Enum);\nSignStyle.NORMAL = new SignStyle('NORMAL');\nSignStyle.NEVER = new SignStyle('NEVER');\nSignStyle.ALWAYS = new SignStyle('ALWAYS');\nSignStyle.EXCEEDS_PAD = new SignStyle('EXCEEDS_PAD');\nSignStyle.NOT_NEGATIVE = new SignStyle('NOT_NEGATIVE');\n\nvar TextStyle = function (_Enum) {\n  _inheritsLoose(TextStyle, _Enum);\n\n  function TextStyle() {\n    return _Enum.apply(this, arguments) || this;\n  }\n\n  var _proto = TextStyle.prototype;\n\n  _proto.isStandalone = function isStandalone() {\n    switch (this) {\n      case TextStyle.FULL_STANDALONE:\n      case TextStyle.SHORT_STANDALONE:\n      case TextStyle.NARROW_STANDALONE:\n        return true;\n\n      default:\n        return false;\n    }\n  };\n\n  _proto.asStandalone = function asStandalone() {\n    switch (this) {\n      case TextStyle.FULL:\n        return TextStyle.FULL_STANDALONE;\n\n      case TextStyle.SHORT:\n        return TextStyle.SHORT_STANDALONE;\n\n      case TextStyle.NARROW:\n        return TextStyle.NARROW_STANDALONE;\n\n      default:\n        return this;\n    }\n  };\n\n  _proto.asNormal = function asNormal() {\n    switch (this) {\n      case TextStyle.FULL_STANDALONE:\n        return TextStyle.FULL;\n\n      case TextStyle.SHORT_STANDALONE:\n        return TextStyle.SHORT;\n\n      case TextStyle.NARROW_STANDALONE:\n        return TextStyle.NARROW;\n\n      default:\n        return this;\n    }\n  };\n\n  return TextStyle;\n}(Enum);\nTextStyle.FULL = new TextStyle('FULL');\nTextStyle.FULL_STANDALONE = new TextStyle('FULL_STANDALONE');\nTextStyle.SHORT = new TextStyle('SHORT');\nTextStyle.SHORT_STANDALONE = new TextStyle('SHORT_STANDALONE');\nTextStyle.NARROW = new TextStyle('NARROW');\nTextStyle.NARROW_STANDALONE = new TextStyle('NARROW_STANDALONE');\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar CharLiteralPrinterParser = function () {\n  function CharLiteralPrinterParser(literal) {\n    if (literal.length > 1) {\n      throw new IllegalArgumentException('invalid literal, too long: \"' + literal + '\"');\n    }\n\n    this._literal = literal;\n  }\n\n  var _proto = CharLiteralPrinterParser.prototype;\n\n  _proto.print = function print(context, buf) {\n    buf.append(this._literal);\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    var length = text.length;\n\n    if (position === length) {\n      return ~position;\n    }\n\n    var ch = text.charAt(position);\n\n    if (context.charEquals(this._literal, ch) === false) {\n      return ~position;\n    }\n\n    return position + this._literal.length;\n  };\n\n  _proto.toString = function toString() {\n    if (this._literal === '\\'') {\n      return \"''\";\n    }\n\n    return \"'\" + this._literal + \"'\";\n  };\n\n  return CharLiteralPrinterParser;\n}();\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar CompositePrinterParser = function () {\n  function CompositePrinterParser(printerParsers, optional) {\n    this._printerParsers = printerParsers;\n    this._optional = optional;\n  }\n\n  var _proto = CompositePrinterParser.prototype;\n\n  _proto.withOptional = function withOptional(optional) {\n    if (optional === this._optional) {\n      return this;\n    }\n\n    return new CompositePrinterParser(this._printerParsers, optional);\n  };\n\n  _proto.print = function print(context, buf) {\n    var length = buf.length();\n\n    if (this._optional) {\n      context.startOptional();\n    }\n\n    try {\n      for (var i = 0; i < this._printerParsers.length; i++) {\n        var pp = this._printerParsers[i];\n\n        if (pp.print(context, buf) === false) {\n          buf.setLength(length);\n          return true;\n        }\n      }\n    } finally {\n      if (this._optional) {\n        context.endOptional();\n      }\n    }\n\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    if (this._optional) {\n      context.startOptional();\n      var pos = position;\n\n      for (var i = 0; i < this._printerParsers.length; i++) {\n        var pp = this._printerParsers[i];\n        pos = pp.parse(context, text, pos);\n\n        if (pos < 0) {\n          context.endOptional(false);\n          return position;\n        }\n      }\n\n      context.endOptional(true);\n      return pos;\n    } else {\n      for (var _i = 0; _i < this._printerParsers.length; _i++) {\n        var _pp = this._printerParsers[_i];\n        position = _pp.parse(context, text, position);\n\n        if (position < 0) {\n          break;\n        }\n      }\n\n      return position;\n    }\n  };\n\n  _proto.toString = function toString() {\n    var buf = '';\n\n    if (this._printerParsers != null) {\n      buf += this._optional ? '[' : '(';\n\n      for (var i = 0; i < this._printerParsers.length; i++) {\n        var pp = this._printerParsers[i];\n        buf += pp.toString();\n      }\n\n      buf += this._optional ? ']' : ')';\n    }\n\n    return buf;\n  };\n\n  return CompositePrinterParser;\n}();\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar FractionPrinterParser = function () {\n  function FractionPrinterParser(field, minWidth, maxWidth, decimalPoint) {\n    requireNonNull(field, 'field');\n\n    if (field.range().isFixed() === false) {\n      throw new IllegalArgumentException('Field must have a fixed set of values: ' + field);\n    }\n\n    if (minWidth < 0 || minWidth > 9) {\n      throw new IllegalArgumentException('Minimum width must be from 0 to 9 inclusive but was ' + minWidth);\n    }\n\n    if (maxWidth < 1 || maxWidth > 9) {\n      throw new IllegalArgumentException('Maximum width must be from 1 to 9 inclusive but was ' + maxWidth);\n    }\n\n    if (maxWidth < minWidth) {\n      throw new IllegalArgumentException('Maximum width must exceed or equal the minimum width but ' + maxWidth + ' < ' + minWidth);\n    }\n\n    this.field = field;\n    this.minWidth = minWidth;\n    this.maxWidth = maxWidth;\n    this.decimalPoint = decimalPoint;\n  }\n\n  var _proto = FractionPrinterParser.prototype;\n\n  _proto.print = function print(context, buf) {\n    var value = context.getValue(this.field);\n\n    if (value === null) {\n      return false;\n    }\n\n    var symbols = context.symbols();\n\n    if (value === 0) {\n      if (this.minWidth > 0) {\n        if (this.decimalPoint) {\n          buf.append(symbols.decimalSeparator());\n        }\n\n        for (var i = 0; i < this.minWidth; i++) {\n          buf.append(symbols.zeroDigit());\n        }\n      }\n    } else {\n      var fraction = this.convertToFraction(value, symbols.zeroDigit());\n      var outputScale = Math.min(Math.max(fraction.length, this.minWidth), this.maxWidth);\n      fraction = fraction.substr(0, outputScale);\n\n      if (fraction * 1 > 0) {\n        while (fraction.length > this.minWidth && fraction[fraction.length - 1] === '0') {\n          fraction = fraction.substr(0, fraction.length - 1);\n        }\n      }\n\n      var str = fraction;\n      str = symbols.convertNumberToI18N(str);\n\n      if (this.decimalPoint) {\n        buf.append(symbols.decimalSeparator());\n      }\n\n      buf.append(str);\n    }\n\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    var effectiveMin = context.isStrict() ? this.minWidth : 0;\n    var effectiveMax = context.isStrict() ? this.maxWidth : 9;\n    var length = text.length;\n\n    if (position === length) {\n      return effectiveMin > 0 ? ~position : position;\n    }\n\n    if (this.decimalPoint) {\n      if (text[position] !== context.symbols().decimalSeparator()) {\n        return effectiveMin > 0 ? ~position : position;\n      }\n\n      position++;\n    }\n\n    var minEndPos = position + effectiveMin;\n\n    if (minEndPos > length) {\n      return ~position;\n    }\n\n    var maxEndPos = Math.min(position + effectiveMax, length);\n    var total = 0;\n    var pos = position;\n\n    while (pos < maxEndPos) {\n      var ch = text.charAt(pos++);\n      var digit = context.symbols().convertToDigit(ch);\n\n      if (digit < 0) {\n        if (pos < minEndPos) {\n          return ~position;\n        }\n\n        pos--;\n        break;\n      }\n\n      total = total * 10 + digit;\n    }\n\n    var moveLeft = pos - position;\n    var scale = Math.pow(10, moveLeft);\n    var value = this.convertFromFraction(total, scale);\n    return context.setParsedField(this.field, value, position, pos);\n  };\n\n  _proto.convertToFraction = function convertToFraction(value, zeroDigit) {\n    var range = this.field.range();\n    range.checkValidValue(value, this.field);\n\n    var _min = range.minimum();\n\n    var _range = range.maximum() - _min + 1;\n\n    var _value = value - _min;\n\n    var _scaled = MathUtil.intDiv(_value * 1000000000, _range);\n\n    var fraction = '' + _scaled;\n\n    while (fraction.length < 9) {\n      fraction = zeroDigit + fraction;\n    }\n\n    return fraction;\n  };\n\n  _proto.convertFromFraction = function convertFromFraction(total, scale) {\n    var range = this.field.range();\n\n    var _min = range.minimum();\n\n    var _range = range.maximum() - _min + 1;\n\n    var _value = MathUtil.intDiv(total * _range, scale);\n\n    return _value;\n  };\n\n  _proto.toString = function toString() {\n    var decimal = this.decimalPoint ? ',DecimalPoint' : '';\n    return 'Fraction(' + this.field + ',' + this.minWidth + ',' + this.maxWidth + decimal + ')';\n  };\n\n  return FractionPrinterParser;\n}();\n\nvar MAX_WIDTH = 15;\nvar EXCEED_POINTS = [0, 10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000];\nvar NumberPrinterParser = function () {\n  function NumberPrinterParser(field, minWidth, maxWidth, signStyle, subsequentWidth) {\n    if (subsequentWidth === void 0) {\n      subsequentWidth = 0;\n    }\n\n    this._field = field;\n    this._minWidth = minWidth;\n    this._maxWidth = maxWidth;\n    this._signStyle = signStyle;\n    this._subsequentWidth = subsequentWidth;\n  }\n\n  var _proto = NumberPrinterParser.prototype;\n\n  _proto.field = function field() {\n    return this._field;\n  };\n\n  _proto.minWidth = function minWidth() {\n    return this._minWidth;\n  };\n\n  _proto.maxWidth = function maxWidth() {\n    return this._maxWidth;\n  };\n\n  _proto.signStyle = function signStyle() {\n    return this._signStyle;\n  };\n\n  _proto.withFixedWidth = function withFixedWidth() {\n    if (this._subsequentWidth === -1) {\n      return this;\n    }\n\n    return new NumberPrinterParser(this._field, this._minWidth, this._maxWidth, this._signStyle, -1);\n  };\n\n  _proto.withSubsequentWidth = function withSubsequentWidth(subsequentWidth) {\n    return new NumberPrinterParser(this._field, this._minWidth, this._maxWidth, this._signStyle, this._subsequentWidth + subsequentWidth);\n  };\n\n  _proto._isFixedWidth = function _isFixedWidth() {\n    return this._subsequentWidth === -1 || this._subsequentWidth > 0 && this._minWidth === this._maxWidth && this._signStyle === SignStyle.NOT_NEGATIVE;\n  };\n\n  _proto.print = function print(context, buf) {\n    var contextValue = context.getValue(this._field);\n\n    if (contextValue == null) {\n      return false;\n    }\n\n    var value = this._getValue(context, contextValue);\n\n    var symbols = context.symbols();\n    var str = '' + Math.abs(value);\n\n    if (str.length > this._maxWidth) {\n      throw new DateTimeException('Field ' + this._field + ' cannot be printed as the value ' + value + ' exceeds the maximum print width of ' + this._maxWidth);\n    }\n\n    str = symbols.convertNumberToI18N(str);\n\n    if (value >= 0) {\n      switch (this._signStyle) {\n        case SignStyle.EXCEEDS_PAD:\n          if (this._minWidth < MAX_WIDTH && value >= EXCEED_POINTS[this._minWidth]) {\n            buf.append(symbols.positiveSign());\n          }\n\n          break;\n\n        case SignStyle.ALWAYS:\n          buf.append(symbols.positiveSign());\n          break;\n      }\n    } else {\n      switch (this._signStyle) {\n        case SignStyle.NORMAL:\n        case SignStyle.EXCEEDS_PAD:\n        case SignStyle.ALWAYS:\n          buf.append(symbols.negativeSign());\n          break;\n\n        case SignStyle.NOT_NEGATIVE:\n          throw new DateTimeException('Field ' + this._field + ' cannot be printed as the value ' + value + ' cannot be negative according to the SignStyle');\n      }\n    }\n\n    for (var i = 0; i < this._minWidth - str.length; i++) {\n      buf.append(symbols.zeroDigit());\n    }\n\n    buf.append(str);\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    var length = text.length;\n\n    if (position === length) {\n      return ~position;\n    }\n\n    assert(position >= 0 && position < length);\n    var sign = text.charAt(position);\n    var negative = false;\n    var positive = false;\n\n    if (sign === context.symbols().positiveSign()) {\n      if (this._signStyle.parse(true, context.isStrict(), this._minWidth === this._maxWidth) === false) {\n        return ~position;\n      }\n\n      positive = true;\n      position++;\n    } else if (sign === context.symbols().negativeSign()) {\n      if (this._signStyle.parse(false, context.isStrict(), this._minWidth === this._maxWidth) === false) {\n        return ~position;\n      }\n\n      negative = true;\n      position++;\n    } else {\n      if (this._signStyle === SignStyle.ALWAYS && context.isStrict()) {\n        return ~position;\n      }\n    }\n\n    var effMinWidth = context.isStrict() || this._isFixedWidth() ? this._minWidth : 1;\n    var minEndPos = position + effMinWidth;\n\n    if (minEndPos > length) {\n      return ~position;\n    }\n\n    var effMaxWidth = (context.isStrict() || this._isFixedWidth() ? this._maxWidth : 9) + Math.max(this._subsequentWidth, 0);\n    var total = 0;\n    var pos = position;\n\n    for (var pass = 0; pass < 2; pass++) {\n      var maxEndPos = Math.min(pos + effMaxWidth, length);\n\n      while (pos < maxEndPos) {\n        var ch = text.charAt(pos++);\n        var digit = context.symbols().convertToDigit(ch);\n\n        if (digit < 0) {\n          pos--;\n\n          if (pos < minEndPos) {\n            return ~position;\n          }\n\n          break;\n        }\n\n        if (pos - position > MAX_WIDTH) {\n          throw new ArithmeticException('number text exceeds length');\n        } else {\n          total = total * 10 + digit;\n        }\n      }\n\n      if (this._subsequentWidth > 0 && pass === 0) {\n        var parseLen = pos - position;\n        effMaxWidth = Math.max(effMinWidth, parseLen - this._subsequentWidth);\n        pos = position;\n        total = 0;\n      } else {\n        break;\n      }\n    }\n\n    if (negative) {\n      if (total === 0 && context.isStrict()) {\n        return ~(position - 1);\n      }\n\n      if (total !== 0) {\n        total = -total;\n      }\n    } else if (this._signStyle === SignStyle.EXCEEDS_PAD && context.isStrict()) {\n      var _parseLen = pos - position;\n\n      if (positive) {\n        if (_parseLen <= this._minWidth) {\n          return ~(position - 1);\n        }\n      } else {\n        if (_parseLen > this._minWidth) {\n          return ~position;\n        }\n      }\n    }\n\n    return this._setValue(context, total, position, pos);\n  };\n\n  _proto._getValue = function _getValue(context, value) {\n    return value;\n  };\n\n  _proto._setValue = function _setValue(context, value, errorPos, successPos) {\n    return context.setParsedField(this._field, value, errorPos, successPos);\n  };\n\n  _proto.toString = function toString() {\n    if (this._minWidth === 1 && this._maxWidth === MAX_WIDTH && this._signStyle === SignStyle.NORMAL) {\n      return 'Value(' + this._field + ')';\n    }\n\n    if (this._minWidth === this._maxWidth && this._signStyle === SignStyle.NOT_NEGATIVE) {\n      return 'Value(' + this._field + ',' + this._minWidth + ')';\n    }\n\n    return 'Value(' + this._field + ',' + this._minWidth + ',' + this._maxWidth + ',' + this._signStyle + ')';\n  };\n\n  return NumberPrinterParser;\n}();\nvar ReducedPrinterParser = function (_NumberPrinterParser) {\n  _inheritsLoose(ReducedPrinterParser, _NumberPrinterParser);\n\n  function ReducedPrinterParser(field, width, maxWidth, baseValue, baseDate) {\n    var _this;\n\n    _this = _NumberPrinterParser.call(this, field, width, maxWidth, SignStyle.NOT_NEGATIVE) || this;\n\n    if (width < 1 || width > 10) {\n      throw new IllegalArgumentException('The width must be from 1 to 10 inclusive but was ' + width);\n    }\n\n    if (maxWidth < 1 || maxWidth > 10) {\n      throw new IllegalArgumentException('The maxWidth must be from 1 to 10 inclusive but was ' + maxWidth);\n    }\n\n    if (maxWidth < width) {\n      throw new IllegalArgumentException('The maxWidth must be greater than the width');\n    }\n\n    if (baseDate === null) {\n      if (field.range().isValidValue(baseValue) === false) {\n        throw new IllegalArgumentException('The base value must be within the range of the field');\n      }\n\n      if (baseValue + EXCEED_POINTS[width] > MathUtil.MAX_SAFE_INTEGER) {\n        throw new DateTimeException('Unable to add printer-parser as the range exceeds the capacity of an int');\n      }\n    }\n\n    _this._baseValue = baseValue;\n    _this._baseDate = baseDate;\n    return _this;\n  }\n\n  var _proto2 = ReducedPrinterParser.prototype;\n\n  _proto2._getValue = function _getValue(context, value) {\n    var absValue = Math.abs(value);\n    var baseValue = this._baseValue;\n\n    if (this._baseDate !== null) {\n      context.temporal();\n      var chrono = IsoChronology.INSTANCE;\n      baseValue = chrono.date(this._baseDate).get(this._field);\n    }\n\n    if (value >= baseValue && value < baseValue + EXCEED_POINTS[this._minWidth]) {\n      return absValue % EXCEED_POINTS[this._minWidth];\n    }\n\n    return absValue % EXCEED_POINTS[this._maxWidth];\n  };\n\n  _proto2._setValue = function _setValue(context, value, errorPos, successPos) {\n    var baseValue = this._baseValue;\n\n    if (this._baseDate != null) {\n      var chrono = context.getEffectiveChronology();\n      baseValue = chrono.date(this._baseDate).get(this._field);\n    }\n\n    var parseLen = successPos - errorPos;\n\n    if (parseLen === this._minWidth && value >= 0) {\n      var range = EXCEED_POINTS[this._minWidth];\n      var lastPart = baseValue % range;\n      var basePart = baseValue - lastPart;\n\n      if (baseValue > 0) {\n        value = basePart + value;\n      } else {\n        value = basePart - value;\n      }\n\n      if (value < baseValue) {\n        value += range;\n      }\n    }\n\n    return context.setParsedField(this._field, value, errorPos, successPos);\n  };\n\n  _proto2.withFixedWidth = function withFixedWidth() {\n    if (this._subsequentWidth === -1) {\n      return this;\n    }\n\n    return new ReducedPrinterParser(this._field, this._minWidth, this._maxWidth, this._baseValue, this._baseDate, -1);\n  };\n\n  _proto2.withSubsequentWidth = function withSubsequentWidth(subsequentWidth) {\n    return new ReducedPrinterParser(this._field, this._minWidth, this._maxWidth, this._baseValue, this._baseDate, this._subsequentWidth + subsequentWidth);\n  };\n\n  _proto2.isFixedWidth = function isFixedWidth(context) {\n    if (context.isStrict() === false) {\n      return false;\n    }\n\n    return _NumberPrinterParser.prototype.isFixedWidth.call(this, context);\n  };\n\n  _proto2.toString = function toString() {\n    return 'ReducedValue(' + this._field + ',' + this._minWidth + ',' + this._maxWidth + ',' + (this._baseDate != null ? this._baseDate : this._baseValue) + ')';\n  };\n\n  return ReducedPrinterParser;\n}(NumberPrinterParser);\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar PATTERNS = ['+HH', '+HHmm', '+HH:mm', '+HHMM', '+HH:MM', '+HHMMss', '+HH:MM:ss', '+HHMMSS', '+HH:MM:SS'];\nvar OffsetIdPrinterParser = function () {\n  function OffsetIdPrinterParser(noOffsetText, pattern) {\n    requireNonNull(noOffsetText, 'noOffsetText');\n    requireNonNull(pattern, 'pattern');\n    this.noOffsetText = noOffsetText;\n    this.type = this._checkPattern(pattern);\n  }\n\n  var _proto = OffsetIdPrinterParser.prototype;\n\n  _proto._checkPattern = function _checkPattern(pattern) {\n    for (var i = 0; i < PATTERNS.length; i++) {\n      if (PATTERNS[i] === pattern) {\n        return i;\n      }\n    }\n\n    throw new IllegalArgumentException('Invalid zone offset pattern: ' + pattern);\n  };\n\n  _proto.print = function print(context, buf) {\n    var offsetSecs = context.getValue(ChronoField.OFFSET_SECONDS);\n\n    if (offsetSecs == null) {\n      return false;\n    }\n\n    var totalSecs = MathUtil.safeToInt(offsetSecs);\n\n    if (totalSecs === 0) {\n      buf.append(this.noOffsetText);\n    } else {\n      var absHours = Math.abs(MathUtil.intMod(MathUtil.intDiv(totalSecs, 3600), 100));\n      var absMinutes = Math.abs(MathUtil.intMod(MathUtil.intDiv(totalSecs, 60), 60));\n      var absSeconds = Math.abs(MathUtil.intMod(totalSecs, 60));\n      var bufPos = buf.length();\n      var output = absHours;\n      buf.append(totalSecs < 0 ? '-' : '+').appendChar(MathUtil.intDiv(absHours, 10) + '0').appendChar(MathUtil.intMod(absHours, 10) + '0');\n\n      if (this.type >= 3 || this.type >= 1 && absMinutes > 0) {\n        buf.append(this.type % 2 === 0 ? ':' : '').appendChar(MathUtil.intDiv(absMinutes, 10) + '0').appendChar(absMinutes % 10 + '0');\n        output += absMinutes;\n\n        if (this.type >= 7 || this.type >= 5 && absSeconds > 0) {\n          buf.append(this.type % 2 === 0 ? ':' : '').appendChar(MathUtil.intDiv(absSeconds, 10) + '0').appendChar(absSeconds % 10 + '0');\n          output += absSeconds;\n        }\n      }\n\n      if (output === 0) {\n        buf.setLength(bufPos);\n        buf.append(this.noOffsetText);\n      }\n    }\n\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    var length = text.length;\n    var noOffsetLen = this.noOffsetText.length;\n\n    if (noOffsetLen === 0) {\n      if (position === length) {\n        return context.setParsedField(ChronoField.OFFSET_SECONDS, 0, position, position);\n      }\n    } else {\n      if (position === length) {\n        return ~position;\n      }\n\n      if (context.subSequenceEquals(text, position, this.noOffsetText, 0, noOffsetLen)) {\n        return context.setParsedField(ChronoField.OFFSET_SECONDS, 0, position, position + noOffsetLen);\n      }\n    }\n\n    var sign = text[position];\n\n    if (sign === '+' || sign === '-') {\n      var negative = sign === '-' ? -1 : 1;\n      var array = [0, 0, 0, 0];\n      array[0] = position + 1;\n\n      if ((this._parseNumber(array, 1, text, true) || this._parseNumber(array, 2, text, this.type >= 3) || this._parseNumber(array, 3, text, false)) === false) {\n        var offsetSecs = MathUtil.safeZero(negative * (array[1] * 3600 + array[2] * 60 + array[3]));\n        return context.setParsedField(ChronoField.OFFSET_SECONDS, offsetSecs, position, array[0]);\n      }\n    }\n\n    if (noOffsetLen === 0) {\n      return context.setParsedField(ChronoField.OFFSET_SECONDS, 0, position, position + noOffsetLen);\n    }\n\n    return ~position;\n  };\n\n  _proto._parseNumber = function _parseNumber(array, arrayIndex, parseText, required) {\n    if ((this.type + 3) / 2 < arrayIndex) {\n      return false;\n    }\n\n    var pos = array[0];\n\n    if (this.type % 2 === 0 && arrayIndex > 1) {\n      if (pos + 1 > parseText.length || parseText[pos] !== ':') {\n        return required;\n      }\n\n      pos++;\n    }\n\n    if (pos + 2 > parseText.length) {\n      return required;\n    }\n\n    var ch1 = parseText[pos++];\n    var ch2 = parseText[pos++];\n\n    if (ch1 < '0' || ch1 > '9' || ch2 < '0' || ch2 > '9') {\n      return required;\n    }\n\n    var value = (ch1.charCodeAt(0) - 48) * 10 + (ch2.charCodeAt(0) - 48);\n\n    if (value < 0 || value > 59) {\n      return required;\n    }\n\n    array[arrayIndex] = value;\n    array[0] = pos;\n    return false;\n  };\n\n  _proto.toString = function toString() {\n    var converted = this.noOffsetText.replace('\\'', '\\'\\'');\n    return 'Offset(' + PATTERNS[this.type] + ',\\'' + converted + '\\')';\n  };\n\n  return OffsetIdPrinterParser;\n}();\nOffsetIdPrinterParser.INSTANCE_ID = new OffsetIdPrinterParser('Z', '+HH:MM:ss');\nOffsetIdPrinterParser.PATTERNS = PATTERNS;\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar PadPrinterParserDecorator = function () {\n  function PadPrinterParserDecorator(printerParser, padWidth, padChar) {\n    this._printerParser = printerParser;\n    this._padWidth = padWidth;\n    this._padChar = padChar;\n  }\n\n  var _proto = PadPrinterParserDecorator.prototype;\n\n  _proto.print = function print(context, buf) {\n    var preLen = buf.length();\n\n    if (this._printerParser.print(context, buf) === false) {\n      return false;\n    }\n\n    var len = buf.length() - preLen;\n\n    if (len > this._padWidth) {\n      throw new DateTimeException(\"Cannot print as output of \" + len + \" characters exceeds pad width of \" + this._padWidth);\n    }\n\n    for (var i = 0; i < this._padWidth - len; i++) {\n      buf.insert(preLen, this._padChar);\n    }\n\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    var strict = context.isStrict();\n    var caseSensitive = context.isCaseSensitive();\n    assert(!(position > text.length));\n    assert(position >= 0);\n\n    if (position === text.length) {\n      return ~position;\n    }\n\n    var endPos = position + this._padWidth;\n\n    if (endPos > text.length) {\n      if (strict) {\n        return ~position;\n      }\n\n      endPos = text.length;\n    }\n\n    var pos = position;\n\n    while (pos < endPos && (caseSensitive ? text[pos] === this._padChar : context.charEquals(text[pos], this._padChar))) {\n      pos++;\n    }\n\n    text = text.substring(0, endPos);\n\n    var resultPos = this._printerParser.parse(context, text, pos);\n\n    if (resultPos !== endPos && strict) {\n      return ~(position + pos);\n    }\n\n    return resultPos;\n  };\n\n  _proto.toString = function toString() {\n    return \"Pad(\" + this._printerParser + \",\" + this._padWidth + (this._padChar === ' ' ? ')' : ',\\'' + this._padChar + '\\')');\n  };\n\n  return PadPrinterParserDecorator;\n}();\n\nvar SettingsParser = function (_Enum) {\n  _inheritsLoose(SettingsParser, _Enum);\n\n  function SettingsParser() {\n    return _Enum.apply(this, arguments) || this;\n  }\n\n  var _proto = SettingsParser.prototype;\n\n  _proto.print = function print() {\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    switch (this) {\n      case SettingsParser.SENSITIVE:\n        context.setCaseSensitive(true);\n        break;\n\n      case SettingsParser.INSENSITIVE:\n        context.setCaseSensitive(false);\n        break;\n\n      case SettingsParser.STRICT:\n        context.setStrict(true);\n        break;\n\n      case SettingsParser.LENIENT:\n        context.setStrict(false);\n        break;\n    }\n\n    return position;\n  };\n\n  _proto.toString = function toString() {\n    switch (this) {\n      case SettingsParser.SENSITIVE:\n        return 'ParseCaseSensitive(true)';\n\n      case SettingsParser.INSENSITIVE:\n        return 'ParseCaseSensitive(false)';\n\n      case SettingsParser.STRICT:\n        return 'ParseStrict(true)';\n\n      case SettingsParser.LENIENT:\n        return 'ParseStrict(false)';\n    }\n  };\n\n  return SettingsParser;\n}(Enum);\nSettingsParser.SENSITIVE = new SettingsParser('SENSITIVE');\nSettingsParser.INSENSITIVE = new SettingsParser('INSENSITIVE');\nSettingsParser.STRICT = new SettingsParser('STRICT');\nSettingsParser.LENIENT = new SettingsParser('LENIENT');\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar StringLiteralPrinterParser = function () {\n  function StringLiteralPrinterParser(literal) {\n    this._literal = literal;\n  }\n\n  var _proto = StringLiteralPrinterParser.prototype;\n\n  _proto.print = function print(context, buf) {\n    buf.append(this._literal);\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    var length = text.length;\n    assert(!(position > length || position < 0));\n\n    if (context.subSequenceEquals(text, position, this._literal, 0, this._literal.length) === false) {\n      return ~position;\n    }\n\n    return position + this._literal.length;\n  };\n\n  _proto.toString = function toString() {\n    var converted = this._literal.replace(\"'\", \"''\");\n\n    return '\\'' + converted + '\\'';\n  };\n\n  return StringLiteralPrinterParser;\n}();\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter, Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar ZoneRulesProvider = function () {\n  function ZoneRulesProvider() {}\n\n  ZoneRulesProvider.getRules = function getRules(zoneId) {\n    throw new DateTimeException('unsupported ZoneId:' + zoneId);\n  };\n\n  ZoneRulesProvider.getAvailableZoneIds = function getAvailableZoneIds() {\n    return [];\n  };\n\n  return ZoneRulesProvider;\n}();\n\nvar ZoneRegion = function (_ZoneId) {\n  _inheritsLoose(ZoneRegion, _ZoneId);\n\n  ZoneRegion.ofId = function ofId(zoneId) {\n    var rules = ZoneRulesProvider.getRules(zoneId);\n    return new ZoneRegion(zoneId, rules);\n  };\n\n  function ZoneRegion(id, rules) {\n    var _this;\n\n    _this = _ZoneId.call(this) || this;\n    _this._id = id;\n    _this._rules = rules;\n    return _this;\n  }\n\n  var _proto = ZoneRegion.prototype;\n\n  _proto.id = function id() {\n    return this._id;\n  };\n\n  _proto.rules = function rules() {\n    return this._rules;\n  };\n\n  return ZoneRegion;\n}(ZoneId);\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar ZoneIdPrinterParser = function () {\n  function ZoneIdPrinterParser(query, description) {\n    this.query = query;\n    this.description = description;\n  }\n\n  var _proto = ZoneIdPrinterParser.prototype;\n\n  _proto.print = function print(context, buf) {\n    var zone = context.getValueQuery(this.query);\n\n    if (zone == null) {\n      return false;\n    }\n\n    buf.append(zone.id());\n    return true;\n  };\n\n  _proto.parse = function parse(context, text, position) {\n    var length = text.length;\n\n    if (position > length) {\n      return ~position;\n    }\n\n    if (position === length) {\n      return ~position;\n    }\n\n    var nextChar = text.charAt(position);\n\n    if (nextChar === '+' || nextChar === '-') {\n      var newContext = context.copy();\n      var endPos = OffsetIdPrinterParser.INSTANCE_ID.parse(newContext, text, position);\n\n      if (endPos < 0) {\n        return endPos;\n      }\n\n      var offset = newContext.getParsed(ChronoField.OFFSET_SECONDS);\n      var zone = ZoneOffset.ofTotalSeconds(offset);\n      context.setParsedZone(zone);\n      return endPos;\n    } else if (length >= position + 2) {\n      var nextNextChar = text.charAt(position + 1);\n\n      if (context.charEquals(nextChar, 'U') && context.charEquals(nextNextChar, 'T')) {\n        if (length >= position + 3 && context.charEquals(text.charAt(position + 2), 'C')) {\n          return this._parsePrefixedOffset(context, text, position, position + 3);\n        }\n\n        return this._parsePrefixedOffset(context, text, position, position + 2);\n      } else if (context.charEquals(nextChar, 'G') && length >= position + 3 && context.charEquals(nextNextChar, 'M') && context.charEquals(text.charAt(position + 2), 'T')) {\n        return this._parsePrefixedOffset(context, text, position, position + 3);\n      }\n    }\n\n    if (text.substr(position, 6) === 'SYSTEM') {\n      context.setParsedZone(ZoneId.systemDefault());\n      return position + 6;\n    }\n\n    if (context.charEquals(nextChar, 'Z')) {\n      context.setParsedZone(ZoneOffset.UTC);\n      return position + 1;\n    }\n\n    var availableZoneIds = ZoneRulesProvider.getAvailableZoneIds();\n\n    if (zoneIdTree.size !== availableZoneIds.length) {\n      zoneIdTree = ZoneIdTree.createTreeMap(availableZoneIds);\n    }\n\n    var maxParseLength = length - position;\n    var treeMap = zoneIdTree.treeMap;\n    var parsedZoneId = null;\n    var parseLength = 0;\n\n    while (treeMap != null) {\n      var parsedSubZoneId = text.substr(position, Math.min(treeMap.length, maxParseLength));\n      treeMap = treeMap.get(parsedSubZoneId);\n\n      if (treeMap != null && treeMap.isLeaf) {\n        parsedZoneId = parsedSubZoneId;\n        parseLength = treeMap.length;\n      }\n    }\n\n    if (parsedZoneId != null) {\n      context.setParsedZone(ZoneRegion.ofId(parsedZoneId));\n      return position + parseLength;\n    }\n\n    return ~position;\n  };\n\n  _proto._parsePrefixedOffset = function _parsePrefixedOffset(context, text, prefixPos, position) {\n    var prefix = text.substring(prefixPos, position).toUpperCase();\n    var newContext = context.copy();\n\n    if (position < text.length && context.charEquals(text.charAt(position), 'Z')) {\n      context.setParsedZone(ZoneId.ofOffset(prefix, ZoneOffset.UTC));\n      return position;\n    }\n\n    var endPos = OffsetIdPrinterParser.INSTANCE_ID.parse(newContext, text, position);\n\n    if (endPos < 0) {\n      context.setParsedZone(ZoneId.ofOffset(prefix, ZoneOffset.UTC));\n      return position;\n    }\n\n    var offsetSecs = newContext.getParsed(ChronoField.OFFSET_SECONDS);\n    var offset = ZoneOffset.ofTotalSeconds(offsetSecs);\n    context.setParsedZone(ZoneId.ofOffset(prefix, offset));\n    return endPos;\n  };\n\n  _proto.toString = function toString() {\n    return this.description;\n  };\n\n  return ZoneIdPrinterParser;\n}();\n\nvar ZoneIdTree = function () {\n  ZoneIdTree.createTreeMap = function createTreeMap(availableZoneIds) {\n    var sortedZoneIds = availableZoneIds.sort(function (a, b) {\n      return a.length - b.length;\n    });\n    var treeMap = new ZoneIdTreeMap(sortedZoneIds[0].length, false);\n\n    for (var i = 0; i < sortedZoneIds.length; i++) {\n      treeMap.add(sortedZoneIds[i]);\n    }\n\n    return new ZoneIdTree(sortedZoneIds.length, treeMap);\n  };\n\n  function ZoneIdTree(size, treeMap) {\n    this.size = size;\n    this.treeMap = treeMap;\n  }\n\n  return ZoneIdTree;\n}();\n\nvar ZoneIdTreeMap = function () {\n  function ZoneIdTreeMap(length, isLeaf) {\n    if (length === void 0) {\n      length = 0;\n    }\n\n    if (isLeaf === void 0) {\n      isLeaf = false;\n    }\n\n    this.length = length;\n    this.isLeaf = isLeaf;\n    this._treeMap = {};\n  }\n\n  var _proto2 = ZoneIdTreeMap.prototype;\n\n  _proto2.add = function add(zoneId) {\n    var idLength = zoneId.length;\n\n    if (idLength === this.length) {\n      this._treeMap[zoneId] = new ZoneIdTreeMap(idLength, true);\n    } else if (idLength > this.length) {\n      var subZoneId = zoneId.substr(0, this.length);\n      var subTreeMap = this._treeMap[subZoneId];\n\n      if (subTreeMap == null) {\n        subTreeMap = new ZoneIdTreeMap(idLength, false);\n        this._treeMap[subZoneId] = subTreeMap;\n      }\n\n      subTreeMap.add(zoneId);\n    }\n  };\n\n  _proto2.get = function get(zoneId) {\n    return this._treeMap[zoneId];\n  };\n\n  return ZoneIdTreeMap;\n}();\n\nvar zoneIdTree = new ZoneIdTree([]);\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar MAX_WIDTH$1 = 15;\nvar DateTimeFormatterBuilder = function () {\n  function DateTimeFormatterBuilder() {\n    this._active = this;\n    this._parent = null;\n    this._printerParsers = [];\n    this._optional = false;\n    this._padNextWidth = 0;\n    this._padNextChar = null;\n    this._valueParserIndex = -1;\n  }\n\n  DateTimeFormatterBuilder._of = function _of(parent, optional) {\n    requireNonNull(parent, 'parent');\n    requireNonNull(optional, 'optional');\n    var dtFormatterBuilder = new DateTimeFormatterBuilder();\n    dtFormatterBuilder._parent = parent;\n    dtFormatterBuilder._optional = optional;\n    return dtFormatterBuilder;\n  };\n\n  var _proto = DateTimeFormatterBuilder.prototype;\n\n  _proto.parseCaseSensitive = function parseCaseSensitive() {\n    this._appendInternalPrinterParser(SettingsParser.SENSITIVE);\n\n    return this;\n  };\n\n  _proto.parseCaseInsensitive = function parseCaseInsensitive() {\n    this._appendInternalPrinterParser(SettingsParser.INSENSITIVE);\n\n    return this;\n  };\n\n  _proto.parseStrict = function parseStrict() {\n    this._appendInternalPrinterParser(SettingsParser.STRICT);\n\n    return this;\n  };\n\n  _proto.parseLenient = function parseLenient() {\n    this._appendInternalPrinterParser(SettingsParser.LENIENT);\n\n    return this;\n  };\n\n  _proto.appendValue = function appendValue() {\n    if (arguments.length === 1) {\n      return this._appendValue1.apply(this, arguments);\n    } else if (arguments.length === 2) {\n      return this._appendValue2.apply(this, arguments);\n    } else {\n      return this._appendValue4.apply(this, arguments);\n    }\n  };\n\n  _proto._appendValue1 = function _appendValue1(field) {\n    requireNonNull(field);\n\n    this._appendValuePrinterParser(new NumberPrinterParser(field, 1, MAX_WIDTH$1, SignStyle.NORMAL));\n\n    return this;\n  };\n\n  _proto._appendValue2 = function _appendValue2(field, width) {\n    requireNonNull(field);\n\n    if (width < 1 || width > MAX_WIDTH$1) {\n      throw new IllegalArgumentException(\"The width must be from 1 to \" + MAX_WIDTH$1 + \" inclusive but was \" + width);\n    }\n\n    var pp = new NumberPrinterParser(field, width, width, SignStyle.NOT_NEGATIVE);\n\n    this._appendValuePrinterParser(pp);\n\n    return this;\n  };\n\n  _proto._appendValue4 = function _appendValue4(field, minWidth, maxWidth, signStyle) {\n    requireNonNull(field);\n    requireNonNull(signStyle);\n\n    if (minWidth === maxWidth && signStyle === SignStyle.NOT_NEGATIVE) {\n      return this._appendValue2(field, maxWidth);\n    }\n\n    if (minWidth < 1 || minWidth > MAX_WIDTH$1) {\n      throw new IllegalArgumentException(\"The minimum width must be from 1 to \" + MAX_WIDTH$1 + \" inclusive but was \" + minWidth);\n    }\n\n    if (maxWidth < 1 || maxWidth > MAX_WIDTH$1) {\n      throw new IllegalArgumentException(\"The minimum width must be from 1 to \" + MAX_WIDTH$1 + \" inclusive but was \" + maxWidth);\n    }\n\n    if (maxWidth < minWidth) {\n      throw new IllegalArgumentException(\"The maximum width must exceed or equal the minimum width but \" + maxWidth + \" < \" + minWidth);\n    }\n\n    var pp = new NumberPrinterParser(field, minWidth, maxWidth, signStyle);\n\n    this._appendValuePrinterParser(pp);\n\n    return this;\n  };\n\n  _proto.appendValueReduced = function appendValueReduced() {\n    if (arguments.length === 4 && arguments[3] instanceof ChronoLocalDate) {\n      return this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this, arguments);\n    } else {\n      return this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this, arguments);\n    }\n  };\n\n  _proto._appendValueReducedFieldWidthMaxWidthBaseValue = function _appendValueReducedFieldWidthMaxWidthBaseValue(field, width, maxWidth, baseValue) {\n    requireNonNull(field, 'field');\n    var pp = new ReducedPrinterParser(field, width, maxWidth, baseValue, null);\n\n    this._appendValuePrinterParser(pp);\n\n    return this;\n  };\n\n  _proto._appendValueReducedFieldWidthMaxWidthBaseDate = function _appendValueReducedFieldWidthMaxWidthBaseDate(field, width, maxWidth, baseDate) {\n    requireNonNull(field, 'field');\n    requireNonNull(baseDate, 'baseDate');\n    requireInstance(baseDate, ChronoLocalDate, 'baseDate');\n    var pp = new ReducedPrinterParser(field, width, maxWidth, 0, baseDate);\n\n    this._appendValuePrinterParser(pp);\n\n    return this;\n  };\n\n  _proto._appendValuePrinterParser = function _appendValuePrinterParser(pp) {\n    assert(pp != null);\n\n    if (this._active._valueParserIndex >= 0 && this._active._printerParsers[this._active._valueParserIndex] instanceof NumberPrinterParser) {\n      var activeValueParser = this._active._valueParserIndex;\n      var basePP = this._active._printerParsers[activeValueParser];\n\n      if (pp.minWidth() === pp.maxWidth() && pp.signStyle() === SignStyle.NOT_NEGATIVE) {\n        basePP = basePP.withSubsequentWidth(pp.maxWidth());\n\n        this._appendInternal(pp.withFixedWidth());\n\n        this._active._valueParserIndex = activeValueParser;\n      } else {\n        basePP = basePP.withFixedWidth();\n        this._active._valueParserIndex = this._appendInternal(pp);\n      }\n\n      this._active._printerParsers[activeValueParser] = basePP;\n    } else {\n      this._active._valueParserIndex = this._appendInternal(pp);\n    }\n\n    return this;\n  };\n\n  _proto.appendFraction = function appendFraction(field, minWidth, maxWidth, decimalPoint) {\n    this._appendInternal(new FractionPrinterParser(field, minWidth, maxWidth, decimalPoint));\n\n    return this;\n  };\n\n  _proto.appendInstant = function appendInstant(fractionalDigits) {\n    if (fractionalDigits === void 0) {\n      fractionalDigits = -2;\n    }\n\n    if (fractionalDigits < -2 || fractionalDigits > 9) {\n      throw new IllegalArgumentException('Invalid fractional digits: ' + fractionalDigits);\n    }\n\n    this._appendInternal(new InstantPrinterParser(fractionalDigits));\n\n    return this;\n  };\n\n  _proto.appendOffsetId = function appendOffsetId() {\n    this._appendInternal(OffsetIdPrinterParser.INSTANCE_ID);\n\n    return this;\n  };\n\n  _proto.appendOffset = function appendOffset(pattern, noOffsetText) {\n    this._appendInternalPrinterParser(new OffsetIdPrinterParser(noOffsetText, pattern));\n\n    return this;\n  };\n\n  _proto.appendZoneId = function appendZoneId() {\n    this._appendInternal(new ZoneIdPrinterParser(TemporalQueries.zoneId(), 'ZoneId()'));\n\n    return this;\n  };\n\n  _proto.appendPattern = function appendPattern(pattern) {\n    requireNonNull(pattern, 'pattern');\n\n    this._parsePattern(pattern);\n\n    return this;\n  };\n\n  _proto.appendZoneText = function appendZoneText() {\n    throw new IllegalArgumentException('Pattern using (localized) text not implemented, use js-joda-locale plugin!');\n  };\n\n  _proto.appendText = function appendText() {\n    throw new IllegalArgumentException('Pattern using (localized) text not implemented, use js-joda-locale plugin!');\n  };\n\n  _proto.appendLocalizedOffset = function appendLocalizedOffset() {\n    throw new IllegalArgumentException('Pattern using (localized) text not implemented, use js-joda-locale plugin!');\n  };\n\n  _proto.appendWeekField = function appendWeekField() {\n    throw new IllegalArgumentException('Pattern using (localized) text not implemented, use js-joda-locale plugin!');\n  };\n\n  _proto._parsePattern = function _parsePattern(pattern) {\n    var FIELD_MAP = {\n      'G': ChronoField.ERA,\n      'y': ChronoField.YEAR_OF_ERA,\n      'u': ChronoField.YEAR,\n      'Q': IsoFields.QUARTER_OF_YEAR,\n      'q': IsoFields.QUARTER_OF_YEAR,\n      'M': ChronoField.MONTH_OF_YEAR,\n      'L': ChronoField.MONTH_OF_YEAR,\n      'D': ChronoField.DAY_OF_YEAR,\n      'd': ChronoField.DAY_OF_MONTH,\n      'F': ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH,\n      'E': ChronoField.DAY_OF_WEEK,\n      'c': ChronoField.DAY_OF_WEEK,\n      'e': ChronoField.DAY_OF_WEEK,\n      'a': ChronoField.AMPM_OF_DAY,\n      'H': ChronoField.HOUR_OF_DAY,\n      'k': ChronoField.CLOCK_HOUR_OF_DAY,\n      'K': ChronoField.HOUR_OF_AMPM,\n      'h': ChronoField.CLOCK_HOUR_OF_AMPM,\n      'm': ChronoField.MINUTE_OF_HOUR,\n      's': ChronoField.SECOND_OF_MINUTE,\n      'S': ChronoField.NANO_OF_SECOND,\n      'A': ChronoField.MILLI_OF_DAY,\n      'n': ChronoField.NANO_OF_SECOND,\n      'N': ChronoField.NANO_OF_DAY\n    };\n\n    for (var pos = 0; pos < pattern.length; pos++) {\n      var cur = pattern.charAt(pos);\n\n      if (cur >= 'A' && cur <= 'Z' || cur >= 'a' && cur <= 'z') {\n        var start = pos++;\n\n        for (; pos < pattern.length && pattern.charAt(pos) === cur; pos++) {\n        }\n\n        var count = pos - start;\n\n        if (cur === 'p') {\n          var pad = 0;\n\n          if (pos < pattern.length) {\n            cur = pattern.charAt(pos);\n\n            if (cur >= 'A' && cur <= 'Z' || cur >= 'a' && cur <= 'z') {\n              pad = count;\n              start = pos++;\n\n              for (; pos < pattern.length && pattern.charAt(pos) === cur; pos++) {\n              }\n\n              count = pos - start;\n            }\n          }\n\n          if (pad === 0) {\n            throw new IllegalArgumentException('Pad letter \\'p\\' must be followed by valid pad pattern: ' + pattern);\n          }\n\n          this.padNext(pad);\n        }\n\n        var field = FIELD_MAP[cur];\n\n        if (field != null) {\n          this._parseField(cur, count, field);\n        } else if (cur === 'z') {\n          if (count > 4) {\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n          } else if (count === 4) {\n            this.appendZoneText(TextStyle.FULL);\n          } else {\n            this.appendZoneText(TextStyle.SHORT);\n          }\n        } else if (cur === 'V') {\n          if (count !== 2) {\n            throw new IllegalArgumentException('Pattern letter count must be 2: ' + cur);\n          }\n\n          this.appendZoneId();\n        } else if (cur === 'Z') {\n          if (count < 4) {\n            this.appendOffset('+HHMM', '+0000');\n          } else if (count === 4) {\n            this.appendLocalizedOffset(TextStyle.FULL);\n          } else if (count === 5) {\n            this.appendOffset('+HH:MM:ss', 'Z');\n          } else {\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n          }\n        } else if (cur === 'O') {\n          if (count === 1) {\n            this.appendLocalizedOffset(TextStyle.SHORT);\n          } else if (count === 4) {\n            this.appendLocalizedOffset(TextStyle.FULL);\n          } else {\n            throw new IllegalArgumentException('Pattern letter count must be 1 or 4: ' + cur);\n          }\n        } else if (cur === 'X') {\n          if (count > 5) {\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n          }\n\n          this.appendOffset(OffsetIdPrinterParser.PATTERNS[count + (count === 1 ? 0 : 1)], 'Z');\n        } else if (cur === 'x') {\n          if (count > 5) {\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n          }\n\n          var zero = count === 1 ? '+00' : count % 2 === 0 ? '+0000' : '+00:00';\n          this.appendOffset(OffsetIdPrinterParser.PATTERNS[count + (count === 1 ? 0 : 1)], zero);\n        } else if (cur === 'W') {\n          if (count > 1) {\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n          }\n\n          this.appendWeekField('W', count);\n        } else if (cur === 'w') {\n          if (count > 2) {\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n          }\n\n          this.appendWeekField('w', count);\n        } else if (cur === 'Y') {\n          this.appendWeekField('Y', count);\n        } else {\n          throw new IllegalArgumentException('Unknown pattern letter: ' + cur);\n        }\n\n        pos--;\n      } else if (cur === '\\'') {\n        var _start = pos++;\n\n        for (; pos < pattern.length; pos++) {\n          if (pattern.charAt(pos) === '\\'') {\n            if (pos + 1 < pattern.length && pattern.charAt(pos + 1) === '\\'') {\n              pos++;\n            } else {\n              break;\n            }\n          }\n        }\n\n        if (pos >= pattern.length) {\n          throw new IllegalArgumentException('Pattern ends with an incomplete string literal: ' + pattern);\n        }\n\n        var str = pattern.substring(_start + 1, pos);\n\n        if (str.length === 0) {\n          this.appendLiteral('\\'');\n        } else {\n          this.appendLiteral(str.replace('\\'\\'', '\\''));\n        }\n      } else if (cur === '[') {\n        this.optionalStart();\n      } else if (cur === ']') {\n        if (this._active._parent === null) {\n          throw new IllegalArgumentException('Pattern invalid as it contains ] without previous [');\n        }\n\n        this.optionalEnd();\n      } else if (cur === '{' || cur === '}' || cur === '#') {\n        throw new IllegalArgumentException('Pattern includes reserved character: \\'' + cur + '\\'');\n      } else {\n        this.appendLiteral(cur);\n      }\n    }\n  };\n\n  _proto._parseField = function _parseField(cur, count, field) {\n    switch (cur) {\n      case 'u':\n      case 'y':\n        if (count === 2) {\n          this.appendValueReduced(field, 2, 2, ReducedPrinterParser.BASE_DATE);\n        } else if (count < 4) {\n          this.appendValue(field, count, MAX_WIDTH$1, SignStyle.NORMAL);\n        } else {\n          this.appendValue(field, count, MAX_WIDTH$1, SignStyle.EXCEEDS_PAD);\n        }\n\n        break;\n\n      case 'M':\n      case 'Q':\n        switch (count) {\n          case 1:\n            this.appendValue(field);\n            break;\n\n          case 2:\n            this.appendValue(field, 2);\n            break;\n\n          case 3:\n            this.appendText(field, TextStyle.SHORT);\n            break;\n\n          case 4:\n            this.appendText(field, TextStyle.FULL);\n            break;\n\n          case 5:\n            this.appendText(field, TextStyle.NARROW);\n            break;\n\n          default:\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'L':\n      case 'q':\n        switch (count) {\n          case 1:\n            this.appendValue(field);\n            break;\n\n          case 2:\n            this.appendValue(field, 2);\n            break;\n\n          case 3:\n            this.appendText(field, TextStyle.SHORT_STANDALONE);\n            break;\n\n          case 4:\n            this.appendText(field, TextStyle.FULL_STANDALONE);\n            break;\n\n          case 5:\n            this.appendText(field, TextStyle.NARROW_STANDALONE);\n            break;\n\n          default:\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'e':\n        switch (count) {\n          case 1:\n          case 2:\n            this.appendWeekField('e', count);\n            break;\n\n          case 3:\n            this.appendText(field, TextStyle.SHORT);\n            break;\n\n          case 4:\n            this.appendText(field, TextStyle.FULL);\n            break;\n\n          case 5:\n            this.appendText(field, TextStyle.NARROW);\n            break;\n\n          default:\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'c':\n        switch (count) {\n          case 1:\n            this.appendWeekField('c', count);\n            break;\n\n          case 2:\n            throw new IllegalArgumentException('Invalid number of pattern letters: ' + cur);\n\n          case 3:\n            this.appendText(field, TextStyle.SHORT_STANDALONE);\n            break;\n\n          case 4:\n            this.appendText(field, TextStyle.FULL_STANDALONE);\n            break;\n\n          case 5:\n            this.appendText(field, TextStyle.NARROW_STANDALONE);\n            break;\n\n          default:\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'a':\n        if (count === 1) {\n          this.appendText(field, TextStyle.SHORT);\n        } else {\n          throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'E':\n      case 'G':\n        switch (count) {\n          case 1:\n          case 2:\n          case 3:\n            this.appendText(field, TextStyle.SHORT);\n            break;\n\n          case 4:\n            this.appendText(field, TextStyle.FULL);\n            break;\n\n          case 5:\n            this.appendText(field, TextStyle.NARROW);\n            break;\n\n          default:\n            throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'S':\n        this.appendFraction(ChronoField.NANO_OF_SECOND, count, count, false);\n        break;\n\n      case 'F':\n        if (count === 1) {\n          this.appendValue(field);\n        } else {\n          throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'd':\n      case 'h':\n      case 'H':\n      case 'k':\n      case 'K':\n      case 'm':\n      case 's':\n        if (count === 1) {\n          this.appendValue(field);\n        } else if (count === 2) {\n          this.appendValue(field, count);\n        } else {\n          throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      case 'D':\n        if (count === 1) {\n          this.appendValue(field);\n        } else if (count <= 3) {\n          this.appendValue(field, count);\n        } else {\n          throw new IllegalArgumentException('Too many pattern letters: ' + cur);\n        }\n\n        break;\n\n      default:\n        if (count === 1) {\n          this.appendValue(field);\n        } else {\n          this.appendValue(field, count);\n        }\n\n        break;\n    }\n  };\n\n  _proto.padNext = function padNext() {\n    if (arguments.length === 1) {\n      return this._padNext1.apply(this, arguments);\n    } else {\n      return this._padNext2.apply(this, arguments);\n    }\n  };\n\n  _proto._padNext1 = function _padNext1(padWidth) {\n    return this._padNext2(padWidth, ' ');\n  };\n\n  _proto._padNext2 = function _padNext2(padWidth, padChar) {\n    if (padWidth < 1) {\n      throw new IllegalArgumentException('The pad width must be at least one but was ' + padWidth);\n    }\n\n    this._active._padNextWidth = padWidth;\n    this._active._padNextChar = padChar;\n    this._active._valueParserIndex = -1;\n    return this;\n  };\n\n  _proto.optionalStart = function optionalStart() {\n    this._active._valueParserIndex = -1;\n    this._active = DateTimeFormatterBuilder._of(this._active, true);\n    return this;\n  };\n\n  _proto.optionalEnd = function optionalEnd() {\n    if (this._active._parent == null) {\n      throw new IllegalStateException('Cannot call optionalEnd() as there was no previous call to optionalStart()');\n    }\n\n    if (this._active._printerParsers.length > 0) {\n      var cpp = new CompositePrinterParser(this._active._printerParsers, this._active._optional);\n      this._active = this._active._parent;\n\n      this._appendInternal(cpp);\n    } else {\n      this._active = this._active._parent;\n    }\n\n    return this;\n  };\n\n  _proto._appendInternal = function _appendInternal(pp) {\n    assert(pp != null);\n\n    if (this._active._padNextWidth > 0) {\n      if (pp != null) {\n        pp = new PadPrinterParserDecorator(pp, this._active._padNextWidth, this._active._padNextChar);\n      }\n\n      this._active._padNextWidth = 0;\n      this._active._padNextChar = 0;\n    }\n\n    this._active._printerParsers.push(pp);\n\n    this._active._valueParserIndex = -1;\n    return this._active._printerParsers.length - 1;\n  };\n\n  _proto.appendLiteral = function appendLiteral(literal) {\n    assert(literal != null);\n\n    if (literal.length > 0) {\n      if (literal.length === 1) {\n        this._appendInternalPrinterParser(new CharLiteralPrinterParser(literal.charAt(0)));\n      } else {\n        this._appendInternalPrinterParser(new StringLiteralPrinterParser(literal));\n      }\n    }\n\n    return this;\n  };\n\n  _proto._appendInternalPrinterParser = function _appendInternalPrinterParser(pp) {\n    assert(pp != null);\n\n    if (this._active._padNextWidth > 0) {\n      if (pp != null) {\n        pp = new PadPrinterParserDecorator(pp, this._active._padNextWidth, this._active._padNextChar);\n      }\n\n      this._active._padNextWidth = 0;\n      this._active._padNextChar = 0;\n    }\n\n    this._active._printerParsers.push(pp);\n\n    this._active._valueParserIndex = -1;\n    return this._active._printerParsers.length - 1;\n  };\n\n  _proto.append = function append(formatter) {\n    requireNonNull(formatter, 'formatter');\n\n    this._appendInternal(formatter._toPrinterParser(false));\n\n    return this;\n  };\n\n  _proto.toFormatter = function toFormatter(resolverStyle) {\n    if (resolverStyle === void 0) {\n      resolverStyle = ResolverStyle.SMART;\n    }\n\n    while (this._active._parent != null) {\n      this.optionalEnd();\n    }\n\n    var pp = new CompositePrinterParser(this._printerParsers, false);\n    return new DateTimeFormatter(pp, null, DecimalStyle.STANDARD, resolverStyle, null, null, null);\n  };\n\n  return DateTimeFormatterBuilder;\n}();\nvar SECONDS_PER_10000_YEARS = 146097 * 25 * 86400;\nvar SECONDS_0000_TO_1970 = (146097 * 5 - (30 * 365 + 7)) * 86400;\n\nvar InstantPrinterParser = function () {\n  function InstantPrinterParser(fractionalDigits) {\n    this.fractionalDigits = fractionalDigits;\n  }\n\n  var _proto2 = InstantPrinterParser.prototype;\n\n  _proto2.print = function print(context, buf) {\n    var inSecs = context.getValue(ChronoField.INSTANT_SECONDS);\n    var inNanos = 0;\n\n    if (context.temporal().isSupported(ChronoField.NANO_OF_SECOND)) {\n      inNanos = context.temporal().getLong(ChronoField.NANO_OF_SECOND);\n    }\n\n    if (inSecs == null) {\n      return false;\n    }\n\n    var inSec = inSecs;\n    var inNano = ChronoField.NANO_OF_SECOND.checkValidIntValue(inNanos);\n\n    if (inSec >= -SECONDS_0000_TO_1970) {\n      var zeroSecs = inSec - SECONDS_PER_10000_YEARS + SECONDS_0000_TO_1970;\n      var hi = MathUtil.floorDiv(zeroSecs, SECONDS_PER_10000_YEARS) + 1;\n      var lo = MathUtil.floorMod(zeroSecs, SECONDS_PER_10000_YEARS);\n      var ldt = LocalDateTime.ofEpochSecond(lo - SECONDS_0000_TO_1970, 0, ZoneOffset.UTC);\n\n      if (hi > 0) {\n        buf.append('+').append(hi);\n      }\n\n      buf.append(ldt);\n\n      if (ldt.second() === 0) {\n        buf.append(':00');\n      }\n    } else {\n      var _zeroSecs = inSec + SECONDS_0000_TO_1970;\n\n      var _hi = MathUtil.intDiv(_zeroSecs, SECONDS_PER_10000_YEARS);\n\n      var _lo = MathUtil.intMod(_zeroSecs, SECONDS_PER_10000_YEARS);\n\n      var _ldt = LocalDateTime.ofEpochSecond(_lo - SECONDS_0000_TO_1970, 0, ZoneOffset.UTC);\n\n      var pos = buf.length();\n      buf.append(_ldt);\n\n      if (_ldt.second() === 0) {\n        buf.append(':00');\n      }\n\n      if (_hi < 0) {\n        if (_ldt.year() === -10000) {\n          buf.replace(pos, pos + 2, '' + (_hi - 1));\n        } else if (_lo === 0) {\n          buf.insert(pos, _hi);\n        } else {\n          buf.insert(pos + 1, Math.abs(_hi));\n        }\n      }\n    }\n\n    if (this.fractionalDigits === -2) {\n      if (inNano !== 0) {\n        buf.append('.');\n\n        if (MathUtil.intMod(inNano, 1000000) === 0) {\n          buf.append(('' + (MathUtil.intDiv(inNano, 1000000) + 1000)).substring(1));\n        } else if (MathUtil.intMod(inNano, 1000) === 0) {\n          buf.append(('' + (MathUtil.intDiv(inNano, 1000) + 1000000)).substring(1));\n        } else {\n          buf.append(('' + (inNano + 1000000000)).substring(1));\n        }\n      }\n    } else if (this.fractionalDigits > 0 || this.fractionalDigits === -1 && inNano > 0) {\n      buf.append('.');\n      var div = 100000000;\n\n      for (var i = 0; this.fractionalDigits === -1 && inNano > 0 || i < this.fractionalDigits; i++) {\n        var digit = MathUtil.intDiv(inNano, div);\n        buf.append(digit);\n        inNano = inNano - digit * div;\n        div = MathUtil.intDiv(div, 10);\n      }\n    }\n\n    buf.append('Z');\n    return true;\n  };\n\n  _proto2.parse = function parse(context, text, position) {\n    var newContext = context.copy();\n    var minDigits = this.fractionalDigits < 0 ? 0 : this.fractionalDigits;\n    var maxDigits = this.fractionalDigits < 0 ? 9 : this.fractionalDigits;\n\n    var parser = new DateTimeFormatterBuilder().append(DateTimeFormatter.ISO_LOCAL_DATE).appendLiteral('T').appendValue(ChronoField.HOUR_OF_DAY, 2).appendLiteral(':').appendValue(ChronoField.MINUTE_OF_HOUR, 2).appendLiteral(':').appendValue(ChronoField.SECOND_OF_MINUTE, 2).appendFraction(ChronoField.NANO_OF_SECOND, minDigits, maxDigits, true).appendLiteral('Z').toFormatter()._toPrinterParser(false);\n\n    var pos = parser.parse(newContext, text, position);\n\n    if (pos < 0) {\n      return pos;\n    }\n\n    var yearParsed = newContext.getParsed(ChronoField.YEAR);\n    var month = newContext.getParsed(ChronoField.MONTH_OF_YEAR);\n    var day = newContext.getParsed(ChronoField.DAY_OF_MONTH);\n    var hour = newContext.getParsed(ChronoField.HOUR_OF_DAY);\n    var min = newContext.getParsed(ChronoField.MINUTE_OF_HOUR);\n    var secVal = newContext.getParsed(ChronoField.SECOND_OF_MINUTE);\n    var nanoVal = newContext.getParsed(ChronoField.NANO_OF_SECOND);\n    var sec = secVal != null ? secVal : 0;\n    var nano = nanoVal != null ? nanoVal : 0;\n    var year = MathUtil.intMod(yearParsed, 10000);\n    var days = 0;\n\n    if (hour === 24 && min === 0 && sec === 0 && nano === 0) {\n      hour = 0;\n      days = 1;\n    } else if (hour === 23 && min === 59 && sec === 60) {\n      context.setParsedLeapSecond();\n      sec = 59;\n    }\n\n    var instantSecs;\n\n    try {\n      var ldt = LocalDateTime.of(year, month, day, hour, min, sec, 0).plusDays(days);\n      instantSecs = ldt.toEpochSecond(ZoneOffset.UTC);\n      instantSecs += MathUtil.safeMultiply(MathUtil.intDiv(yearParsed, 10000), SECONDS_PER_10000_YEARS);\n    } catch (ex) {\n      return ~position;\n    }\n\n    var successPos = pos;\n    successPos = context.setParsedField(ChronoField.INSTANT_SECONDS, instantSecs, position, successPos);\n    return context.setParsedField(ChronoField.NANO_OF_SECOND, nano, position, successPos);\n  };\n\n  _proto2.toString = function toString() {\n    return 'Instant()';\n  };\n\n  return InstantPrinterParser;\n}();\n\nfunction _init$9() {\n  ReducedPrinterParser.BASE_DATE = LocalDate.of(2000, 1, 1);\n  DateTimeFormatterBuilder.CompositePrinterParser = CompositePrinterParser;\n  DateTimeFormatterBuilder.PadPrinterParserDecorator = PadPrinterParserDecorator;\n  DateTimeFormatterBuilder.SettingsParser = SettingsParser;\n  DateTimeFormatterBuilder.CharLiteralPrinterParser = StringLiteralPrinterParser;\n  DateTimeFormatterBuilder.StringLiteralPrinterParser = StringLiteralPrinterParser;\n  DateTimeFormatterBuilder.CharLiteralPrinterParser = CharLiteralPrinterParser;\n  DateTimeFormatterBuilder.NumberPrinterParser = NumberPrinterParser;\n  DateTimeFormatterBuilder.ReducedPrinterParser = ReducedPrinterParser;\n  DateTimeFormatterBuilder.FractionPrinterParser = FractionPrinterParser;\n  DateTimeFormatterBuilder.OffsetIdPrinterParser = OffsetIdPrinterParser;\n  DateTimeFormatterBuilder.ZoneIdPrinterParser = ZoneIdPrinterParser;\n}\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar StringBuilder = function () {\n  function StringBuilder() {\n    this._str = '';\n  }\n\n  var _proto = StringBuilder.prototype;\n\n  _proto.append = function append(str) {\n    this._str += str;\n    return this;\n  };\n\n  _proto.appendChar = function appendChar(str) {\n    this._str += str[0];\n    return this;\n  };\n\n  _proto.insert = function insert(offset, str) {\n    this._str = this._str.slice(0, offset) + str + this._str.slice(offset);\n    return this;\n  };\n\n  _proto.replace = function replace(start, end, str) {\n    this._str = this._str.slice(0, start) + str + this._str.slice(end);\n    return this;\n  };\n\n  _proto.length = function length() {\n    return this._str.length;\n  };\n\n  _proto.setLength = function setLength(length) {\n    this._str = this._str.slice(0, length);\n    return this;\n  };\n\n  _proto.toString = function toString() {\n    return this._str;\n  };\n\n  return StringBuilder;\n}();\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar DateTimeFormatter = function () {\n  DateTimeFormatter.parsedExcessDays = function parsedExcessDays() {\n    return DateTimeFormatter.PARSED_EXCESS_DAYS;\n  };\n\n  DateTimeFormatter.parsedLeapSecond = function parsedLeapSecond() {\n    return DateTimeFormatter.PARSED_LEAP_SECOND;\n  };\n\n  DateTimeFormatter.ofPattern = function ofPattern(pattern) {\n    return new DateTimeFormatterBuilder().appendPattern(pattern).toFormatter();\n  };\n\n  function DateTimeFormatter(printerParser, locale, decimalStyle, resolverStyle, resolverFields, chrono, zone) {\n    if (chrono === void 0) {\n      chrono = IsoChronology.INSTANCE;\n    }\n\n    assert(printerParser != null);\n    assert(decimalStyle != null);\n    assert(resolverStyle != null);\n    this._printerParser = printerParser;\n    this._locale = locale;\n    this._decimalStyle = decimalStyle;\n    this._resolverStyle = resolverStyle;\n    this._resolverFields = resolverFields;\n    this._chrono = chrono;\n    this._zone = zone;\n  }\n\n  var _proto = DateTimeFormatter.prototype;\n\n  _proto.locale = function locale() {\n    return this._locale;\n  };\n\n  _proto.decimalStyle = function decimalStyle() {\n    return this._decimalStyle;\n  };\n\n  _proto.chronology = function chronology() {\n    return this._chrono;\n  };\n\n  _proto.withChronology = function withChronology(chrono) {\n    if (this._chrono != null && this._chrono.equals(chrono)) {\n      return this;\n    }\n\n    return new DateTimeFormatter(this._printerParser, this._locale, this._decimalStyle, this._resolverStyle, this._resolverFields, chrono, this._zone);\n  };\n\n  _proto.withLocale = function withLocale() {\n    return this;\n  };\n\n  _proto.withResolverStyle = function withResolverStyle(resolverStyle) {\n    requireNonNull(resolverStyle, 'resolverStyle');\n\n    if (resolverStyle.equals(this._resolverStyle)) {\n      return this;\n    }\n\n    return new DateTimeFormatter(this._printerParser, this._locale, this._decimalStyle, resolverStyle, this._resolverFields, this._chrono, this._zone);\n  };\n\n  _proto.format = function format(temporal) {\n    var buf = new StringBuilder(32);\n\n    this._formatTo(temporal, buf);\n\n    return buf.toString();\n  };\n\n  _proto._formatTo = function _formatTo(temporal, appendable) {\n    requireNonNull(temporal, 'temporal');\n    requireNonNull(appendable, 'appendable');\n    var context = new DateTimePrintContext(temporal, this);\n\n    this._printerParser.print(context, appendable);\n  };\n\n  _proto.parse = function parse(text, type) {\n    if (arguments.length === 1) {\n      return this.parse1(text);\n    } else {\n      return this.parse2(text, type);\n    }\n  };\n\n  _proto.parse1 = function parse1(text) {\n    requireNonNull(text, 'text');\n\n    try {\n      return this._parseToBuilder(text, null).resolve(this._resolverStyle, this._resolverFields);\n    } catch (ex) {\n      if (ex instanceof DateTimeParseException) {\n        throw ex;\n      } else {\n        throw this._createError(text, ex);\n      }\n    }\n  };\n\n  _proto.parse2 = function parse2(text, type) {\n    requireNonNull(text, 'text');\n    requireNonNull(type, 'type');\n\n    try {\n      var builder = this._parseToBuilder(text, null).resolve(this._resolverStyle, this._resolverFields);\n\n      return builder.build(type);\n    } catch (ex) {\n      if (ex instanceof DateTimeParseException) {\n        throw ex;\n      } else {\n        throw this._createError(text, ex);\n      }\n    }\n  };\n\n  _proto._createError = function _createError(text, ex) {\n    var abbr = '';\n\n    if (text.length > 64) {\n      abbr = text.substring(0, 64) + '...';\n    } else {\n      abbr = text;\n    }\n\n    return new DateTimeParseException('Text \\'' + abbr + '\\' could not be parsed: ' + ex.message, text, 0, ex);\n  };\n\n  _proto._parseToBuilder = function _parseToBuilder(text, position) {\n    var pos = position != null ? position : new ParsePosition(0);\n\n    var result = this._parseUnresolved0(text, pos);\n\n    if (result == null || pos.getErrorIndex() >= 0 || position == null && pos.getIndex() < text.length) {\n      var abbr = '';\n\n      if (text.length > 64) {\n        abbr = text.substr(0, 64).toString() + '...';\n      } else {\n        abbr = text;\n      }\n\n      if (pos.getErrorIndex() >= 0) {\n        throw new DateTimeParseException('Text \\'' + abbr + '\\' could not be parsed at index ' + pos.getErrorIndex(), text, pos.getErrorIndex());\n      } else {\n        throw new DateTimeParseException('Text \\'' + abbr + '\\' could not be parsed, unparsed text found at index ' + pos.getIndex(), text, pos.getIndex());\n      }\n    }\n\n    return result.toBuilder();\n  };\n\n  _proto.parseUnresolved = function parseUnresolved(text, position) {\n    return this._parseUnresolved0(text, position);\n  };\n\n  _proto._parseUnresolved0 = function _parseUnresolved0(text, position) {\n    assert(text != null, 'text', NullPointerException);\n    assert(position != null, 'position', NullPointerException);\n    var context = new DateTimeParseContext(this);\n    var pos = position.getIndex();\n    pos = this._printerParser.parse(context, text, pos);\n\n    if (pos < 0) {\n      position.setErrorIndex(~pos);\n      return null;\n    }\n\n    position.setIndex(pos);\n    return context.toParsed();\n  };\n\n  _proto._toPrinterParser = function _toPrinterParser(optional) {\n    return this._printerParser.withOptional(optional);\n  };\n\n  _proto.toString = function toString() {\n    var pattern = this._printerParser.toString();\n\n    return pattern.indexOf('[') === 0 ? pattern : pattern.substring(1, pattern.length - 1);\n  };\n\n  return DateTimeFormatter;\n}();\nfunction _init$a() {\n  DateTimeFormatter.ISO_LOCAL_DATE = new DateTimeFormatterBuilder().appendValue(ChronoField.YEAR, 4, 10, SignStyle.EXCEEDS_PAD).appendLiteral('-').appendValue(ChronoField.MONTH_OF_YEAR, 2).appendLiteral('-').appendValue(ChronoField.DAY_OF_MONTH, 2).toFormatter(ResolverStyle.STRICT).withChronology(IsoChronology.INSTANCE);\n  DateTimeFormatter.ISO_LOCAL_TIME = new DateTimeFormatterBuilder().appendValue(ChronoField.HOUR_OF_DAY, 2).appendLiteral(':').appendValue(ChronoField.MINUTE_OF_HOUR, 2).optionalStart().appendLiteral(':').appendValue(ChronoField.SECOND_OF_MINUTE, 2).optionalStart().appendFraction(ChronoField.NANO_OF_SECOND, 0, 9, true).toFormatter(ResolverStyle.STRICT);\n  DateTimeFormatter.ISO_LOCAL_DATE_TIME = new DateTimeFormatterBuilder().parseCaseInsensitive().append(DateTimeFormatter.ISO_LOCAL_DATE).appendLiteral('T').append(DateTimeFormatter.ISO_LOCAL_TIME).toFormatter(ResolverStyle.STRICT).withChronology(IsoChronology.INSTANCE);\n  DateTimeFormatter.ISO_INSTANT = new DateTimeFormatterBuilder().parseCaseInsensitive().appendInstant().toFormatter(ResolverStyle.STRICT);\n  DateTimeFormatter.ISO_OFFSET_DATE_TIME = new DateTimeFormatterBuilder().parseCaseInsensitive().append(DateTimeFormatter.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(ResolverStyle.STRICT).withChronology(IsoChronology.INSTANCE);\n  DateTimeFormatter.ISO_ZONED_DATE_TIME = new DateTimeFormatterBuilder().append(DateTimeFormatter.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral('[').parseCaseSensitive().appendZoneId().appendLiteral(']').toFormatter(ResolverStyle.STRICT).withChronology(IsoChronology.INSTANCE);\n  DateTimeFormatter.BASIC_ISO_DATE = new DateTimeFormatterBuilder().appendValue(ChronoField.YEAR, 4, 10, SignStyle.EXCEEDS_PAD).appendValue(ChronoField.MONTH_OF_YEAR, 2).appendValue(ChronoField.DAY_OF_MONTH, 2).toFormatter(ResolverStyle.STRICT).withChronology(IsoChronology.INSTANCE);\n  DateTimeFormatter.ISO_OFFSET_DATE = new DateTimeFormatterBuilder().parseCaseInsensitive().append(DateTimeFormatter.ISO_LOCAL_DATE).appendOffsetId().toFormatter(ResolverStyle.STRICT).withChronology(IsoChronology.INSTANCE);\n  DateTimeFormatter.ISO_OFFSET_TIME = new DateTimeFormatterBuilder().parseCaseInsensitive().append(DateTimeFormatter.ISO_LOCAL_TIME).appendOffsetId().toFormatter(ResolverStyle.STRICT).withChronology(IsoChronology.INSTANCE);\n  DateTimeFormatter.ISO_ORDINAL_DATE = new DateTimeFormatterBuilder().appendValue(ChronoField.YEAR, 4, 10, SignStyle.EXCEEDS_PAD).appendLiteral('-').appendValue(ChronoField.DAY_OF_YEAR).toFormatter(ResolverStyle.STRICT);\n  DateTimeFormatter.ISO_WEEK_DATE = new DateTimeFormatterBuilder().appendValue(ChronoField.YEAR, 4, 10, SignStyle.EXCEEDS_PAD).appendLiteral('-W').appendValue(ChronoField.ALIGNED_WEEK_OF_YEAR).appendLiteral('-').appendValue(ChronoField.DAY_OF_WEEK).toFormatter(ResolverStyle.STRICT);\n  DateTimeFormatter.PARSED_EXCESS_DAYS = createTemporalQuery('PARSED_EXCESS_DAYS', function (temporal) {\n    if (temporal instanceof DateTimeBuilder) {\n      return temporal.excessDays;\n    } else {\n      return Period.ZERO;\n    }\n  });\n  DateTimeFormatter.PARSED_LEAP_SECOND = createTemporalQuery('PARSED_LEAP_SECOND', function (temporal) {\n    if (temporal instanceof DateTimeBuilder) {\n      return temporal.leapSecond;\n    } else {\n      return false;\n    }\n  });\n}\n\nvar MonthDay = function (_TemporalAccessor) {\n  _inheritsLoose(MonthDay, _TemporalAccessor);\n\n  MonthDay.now = function now(zoneIdOrClock) {\n    if (arguments.length === 0) {\n      return MonthDay.now0();\n    } else if (arguments.length === 1 && zoneIdOrClock instanceof ZoneId) {\n      return MonthDay.nowZoneId(zoneIdOrClock);\n    } else {\n      return MonthDay.nowClock(zoneIdOrClock);\n    }\n  };\n\n  MonthDay.now0 = function now0() {\n    return this.nowClock(Clock.systemDefaultZone());\n  };\n\n  MonthDay.nowZoneId = function nowZoneId(zone) {\n    requireNonNull(zone, 'zone');\n    return this.nowClock(Clock.system(zone));\n  };\n\n  MonthDay.nowClock = function nowClock(clock) {\n    requireNonNull(clock, 'clock');\n    var now = LocalDate.now(clock);\n    return MonthDay.of(now.month(), now.dayOfMonth());\n  };\n\n  MonthDay.of = function of(monthOrNumber, number) {\n    if (arguments.length === 2 && monthOrNumber instanceof Month) {\n      return MonthDay.ofMonthNumber(monthOrNumber, number);\n    } else {\n      return MonthDay.ofNumberNumber(monthOrNumber, number);\n    }\n  };\n\n  MonthDay.ofMonthNumber = function ofMonthNumber(month, dayOfMonth) {\n    requireNonNull(month, 'month');\n    ChronoField.DAY_OF_MONTH.checkValidValue(dayOfMonth);\n\n    if (dayOfMonth > month.maxLength()) {\n      throw new DateTimeException('Illegal value for DayOfMonth field, value ' + dayOfMonth + ' is not valid for month ' + month.toString());\n    }\n\n    return new MonthDay(month.value(), dayOfMonth);\n  };\n\n  MonthDay.ofNumberNumber = function ofNumberNumber(month, dayOfMonth) {\n    requireNonNull(month, 'month');\n    requireNonNull(dayOfMonth, 'dayOfMonth');\n    return MonthDay.of(Month.of(month), dayOfMonth);\n  };\n\n  MonthDay.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n    requireInstance(temporal, TemporalAccessor, 'temporal');\n\n    if (temporal instanceof MonthDay) {\n      return temporal;\n    }\n\n    try {\n      return MonthDay.of(temporal.get(ChronoField.MONTH_OF_YEAR), temporal.get(ChronoField.DAY_OF_MONTH));\n    } catch (ex) {\n      throw new DateTimeException('Unable to obtain MonthDay from TemporalAccessor: ' + temporal + ', type ' + (temporal && temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n  };\n\n  MonthDay.parse = function parse(text, formatter) {\n    if (arguments.length === 1) {\n      return MonthDay.parseString(text);\n    } else {\n      return MonthDay.parseStringFormatter(text, formatter);\n    }\n  };\n\n  MonthDay.parseString = function parseString(text) {\n    return MonthDay.parseStringFormatter(text, PARSER);\n  };\n\n  MonthDay.parseStringFormatter = function parseStringFormatter(text, formatter) {\n    requireNonNull(text, 'text');\n    requireNonNull(formatter, 'formatter');\n    requireInstance(formatter, DateTimeFormatter, 'formatter');\n    return formatter.parse(text, MonthDay.FROM);\n  };\n\n  function MonthDay(month, dayOfMonth) {\n    var _this;\n\n    _this = _TemporalAccessor.call(this) || this;\n    _this._month = MathUtil.safeToInt(month);\n    _this._day = MathUtil.safeToInt(dayOfMonth);\n    return _this;\n  }\n\n  var _proto = MonthDay.prototype;\n\n  _proto.monthValue = function monthValue() {\n    return this._month;\n  };\n\n  _proto.month = function month() {\n    return Month.of(this._month);\n  };\n\n  _proto.dayOfMonth = function dayOfMonth() {\n    return this._day;\n  };\n\n  _proto.isSupported = function isSupported(field) {\n    if (field instanceof ChronoField) {\n      return field === ChronoField.MONTH_OF_YEAR || field === ChronoField.DAY_OF_MONTH;\n    }\n\n    return field != null && field.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    if (field === ChronoField.MONTH_OF_YEAR) {\n      return field.range();\n    } else if (field === ChronoField.DAY_OF_MONTH) {\n      return ValueRange.of(1, this.month().minLength(), this.month().maxLength());\n    }\n\n    return _TemporalAccessor.prototype.range.call(this, field);\n  };\n\n  _proto.get = function get(field) {\n    return this.range(field).checkValidIntValue(this.getLong(field), field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.DAY_OF_MONTH:\n          return this._day;\n\n        case ChronoField.MONTH_OF_YEAR:\n          return this._month;\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.isValidYear = function isValidYear(year) {\n    return (this._day === 29 && this._month === 2 && Year.isLeap(year) === false) === false;\n  };\n\n  _proto.withMonth = function withMonth(month) {\n    return this.with(Month.of(month));\n  };\n\n  _proto.with = function _with(month) {\n    requireNonNull(month, 'month');\n\n    if (month.value() === this._month) {\n      return this;\n    }\n\n    var day = Math.min(this._day, month.maxLength());\n    return new MonthDay(month.value(), day);\n  };\n\n  _proto.withDayOfMonth = function withDayOfMonth(dayOfMonth) {\n    if (dayOfMonth === this._day) {\n      return this;\n    }\n\n    return MonthDay.of(this._month, dayOfMonth);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n    requireInstance(_query, TemporalQuery, 'query');\n\n    if (_query === TemporalQueries.chronology()) {\n      return IsoChronology.INSTANCE;\n    }\n\n    return _TemporalAccessor.prototype.query.call(this, _query);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    requireNonNull(temporal, 'temporal');\n    temporal = temporal.with(ChronoField.MONTH_OF_YEAR, this._month);\n    return temporal.with(ChronoField.DAY_OF_MONTH, Math.min(temporal.range(ChronoField.DAY_OF_MONTH).maximum(), this._day));\n  };\n\n  _proto.atYear = function atYear(year) {\n    return LocalDate.of(year, this._month, this.isValidYear(year) ? this._day : 28);\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, MonthDay, 'other');\n    var cmp = this._month - other.monthValue();\n\n    if (cmp === 0) {\n      cmp = this._day - other.dayOfMonth();\n    }\n\n    return cmp;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, MonthDay, 'other');\n    return this.compareTo(other) > 0;\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, MonthDay, 'other');\n    return this.compareTo(other) < 0;\n  };\n\n  _proto.equals = function equals(obj) {\n    if (this === obj) {\n      return true;\n    }\n\n    if (obj instanceof MonthDay) {\n      var other = obj;\n      return this.monthValue() === other.monthValue() && this.dayOfMonth() === other.dayOfMonth();\n    }\n\n    return false;\n  };\n\n  _proto.toString = function toString() {\n    return '--' + (this._month < 10 ? '0' : '') + this._month + (this._day < 10 ? '-0' : '-') + this._day;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    requireInstance(formatter, DateTimeFormatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  return MonthDay;\n}(TemporalAccessor);\nvar PARSER;\nfunction _init$b() {\n  PARSER = new DateTimeFormatterBuilder().appendLiteral('--').appendValue(ChronoField.MONTH_OF_YEAR, 2).appendLiteral('-').appendValue(ChronoField.DAY_OF_MONTH, 2).toFormatter();\n  MonthDay.FROM = createTemporalQuery('MonthDay.FROM', function (temporal) {\n    return MonthDay.from(temporal);\n  });\n}\n\nvar YearMonth = function (_Temporal) {\n  _inheritsLoose(YearMonth, _Temporal);\n\n  YearMonth.now = function now(zoneIdOrClock) {\n    if (arguments.length === 0) {\n      return YearMonth.now0();\n    } else if (arguments.length === 1 && zoneIdOrClock instanceof ZoneId) {\n      return YearMonth.nowZoneId(zoneIdOrClock);\n    } else {\n      return YearMonth.nowClock(zoneIdOrClock);\n    }\n  };\n\n  YearMonth.now0 = function now0() {\n    return YearMonth.nowClock(Clock.systemDefaultZone());\n  };\n\n  YearMonth.nowZoneId = function nowZoneId(zone) {\n    return YearMonth.nowClock(Clock.system(zone));\n  };\n\n  YearMonth.nowClock = function nowClock(clock) {\n    var now = LocalDate.now(clock);\n    return YearMonth.of(now.year(), now.month());\n  };\n\n  YearMonth.of = function of(year, monthOrNumber) {\n    if (arguments.length === 2 && monthOrNumber instanceof Month) {\n      return YearMonth.ofNumberMonth(year, monthOrNumber);\n    } else {\n      return YearMonth.ofNumberNumber(year, monthOrNumber);\n    }\n  };\n\n  YearMonth.ofNumberMonth = function ofNumberMonth(year, month) {\n    requireNonNull(month, 'month');\n    requireInstance(month, Month, 'month');\n    return YearMonth.ofNumberNumber(year, month.value());\n  };\n\n  YearMonth.ofNumberNumber = function ofNumberNumber(year, month) {\n    requireNonNull(year, 'year');\n    requireNonNull(month, 'month');\n    ChronoField.YEAR.checkValidValue(year);\n    ChronoField.MONTH_OF_YEAR.checkValidValue(month);\n    return new YearMonth(year, month);\n  };\n\n  YearMonth.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (temporal instanceof YearMonth) {\n      return temporal;\n    }\n\n    try {\n      return YearMonth.of(temporal.get(ChronoField.YEAR), temporal.get(ChronoField.MONTH_OF_YEAR));\n    } catch (ex) {\n      throw new DateTimeException('Unable to obtain YearMonth from TemporalAccessor: ' + temporal + ', type ' + (temporal && temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n  };\n\n  YearMonth.parse = function parse(text, formatter) {\n    if (arguments.length === 1) {\n      return YearMonth.parseString(text);\n    } else {\n      return YearMonth.parseStringFormatter(text, formatter);\n    }\n  };\n\n  YearMonth.parseString = function parseString(text) {\n    return YearMonth.parseStringFormatter(text, PARSER$1);\n  };\n\n  YearMonth.parseStringFormatter = function parseStringFormatter(text, formatter) {\n    requireNonNull(formatter, 'formatter');\n    return formatter.parse(text, YearMonth.FROM);\n  };\n\n  function YearMonth(year, month) {\n    var _this;\n\n    _this = _Temporal.call(this) || this;\n    _this._year = MathUtil.safeToInt(year);\n    _this._month = MathUtil.safeToInt(month);\n    return _this;\n  }\n\n  var _proto = YearMonth.prototype;\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (arguments.length === 1 && fieldOrUnit instanceof TemporalField) {\n      return this.isSupportedField(fieldOrUnit);\n    } else {\n      return this.isSupportedUnit(fieldOrUnit);\n    }\n  };\n\n  _proto.isSupportedField = function isSupportedField(field) {\n    if (field instanceof ChronoField) {\n      return field === ChronoField.YEAR || field === ChronoField.MONTH_OF_YEAR || field === ChronoField.PROLEPTIC_MONTH || field === ChronoField.YEAR_OF_ERA || field === ChronoField.ERA;\n    }\n\n    return field != null && field.isSupportedBy(this);\n  };\n\n  _proto.isSupportedUnit = function isSupportedUnit(unit) {\n    if (unit instanceof ChronoUnit) {\n      return unit === ChronoUnit.MONTHS || unit === ChronoUnit.YEARS || unit === ChronoUnit.DECADES || unit === ChronoUnit.CENTURIES || unit === ChronoUnit.MILLENNIA || unit === ChronoUnit.ERAS;\n    }\n\n    return unit != null && unit.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    if (field === ChronoField.YEAR_OF_ERA) {\n      return this.year() <= 0 ? ValueRange.of(1, Year.MAX_VALUE + 1) : ValueRange.of(1, Year.MAX_VALUE);\n    }\n\n    return _Temporal.prototype.range.call(this, field);\n  };\n\n  _proto.get = function get(field) {\n    requireNonNull(field, 'field');\n    requireInstance(field, TemporalField, 'field');\n    return this.range(field).checkValidIntValue(this.getLong(field), field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    requireNonNull(field, 'field');\n    requireInstance(field, TemporalField, 'field');\n\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.MONTH_OF_YEAR:\n          return this._month;\n\n        case ChronoField.PROLEPTIC_MONTH:\n          return this._getProlepticMonth();\n\n        case ChronoField.YEAR_OF_ERA:\n          return this._year < 1 ? 1 - this._year : this._year;\n\n        case ChronoField.YEAR:\n          return this._year;\n\n        case ChronoField.ERA:\n          return this._year < 1 ? 0 : 1;\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto._getProlepticMonth = function _getProlepticMonth() {\n    return MathUtil.safeAdd(MathUtil.safeMultiply(this._year, 12), this._month - 1);\n  };\n\n  _proto.year = function year() {\n    return this._year;\n  };\n\n  _proto.monthValue = function monthValue() {\n    return this._month;\n  };\n\n  _proto.month = function month() {\n    return Month.of(this._month);\n  };\n\n  _proto.isLeapYear = function isLeapYear() {\n    return IsoChronology.isLeapYear(this._year);\n  };\n\n  _proto.isValidDay = function isValidDay(dayOfMonth) {\n    return dayOfMonth >= 1 && dayOfMonth <= this.lengthOfMonth();\n  };\n\n  _proto.lengthOfMonth = function lengthOfMonth() {\n    return this.month().length(this.isLeapYear());\n  };\n\n  _proto.lengthOfYear = function lengthOfYear() {\n    return this.isLeapYear() ? 366 : 365;\n  };\n\n  _proto.with = function _with(adjusterOrField, value) {\n    if (arguments.length === 1) {\n      return this.withAdjuster(adjusterOrField);\n    } else {\n      return this.withFieldValue(adjusterOrField, value);\n    }\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    requireNonNull(field, 'field');\n    requireInstance(field, TemporalField, 'field');\n\n    if (field instanceof ChronoField) {\n      var f = field;\n      f.checkValidValue(newValue);\n\n      switch (f) {\n        case ChronoField.MONTH_OF_YEAR:\n          return this.withMonth(newValue);\n\n        case ChronoField.PROLEPTIC_MONTH:\n          return this.plusMonths(newValue - this.getLong(ChronoField.PROLEPTIC_MONTH));\n\n        case ChronoField.YEAR_OF_ERA:\n          return this.withYear(this._year < 1 ? 1 - newValue : newValue);\n\n        case ChronoField.YEAR:\n          return this.withYear(newValue);\n\n        case ChronoField.ERA:\n          return this.getLong(ChronoField.ERA) === newValue ? this : this.withYear(1 - this._year);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto.withYear = function withYear(year) {\n    ChronoField.YEAR.checkValidValue(year);\n    return new YearMonth(year, this._month);\n  };\n\n  _proto.withMonth = function withMonth(month) {\n    ChronoField.MONTH_OF_YEAR.checkValidValue(month);\n    return new YearMonth(this._year, month);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    requireInstance(amount, TemporalAmount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    requireNonNull(unit, 'unit');\n    requireInstance(unit, TemporalUnit, 'unit');\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.MONTHS:\n          return this.plusMonths(amountToAdd);\n\n        case ChronoUnit.YEARS:\n          return this.plusYears(amountToAdd);\n\n        case ChronoUnit.DECADES:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 10));\n\n        case ChronoUnit.CENTURIES:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 100));\n\n        case ChronoUnit.MILLENNIA:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 1000));\n\n        case ChronoUnit.ERAS:\n          return this.with(ChronoField.ERA, MathUtil.safeAdd(this.getLong(ChronoField.ERA), amountToAdd));\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusYears = function plusYears(yearsToAdd) {\n    if (yearsToAdd === 0) {\n      return this;\n    }\n\n    var newYear = ChronoField.YEAR.checkValidIntValue(this._year + yearsToAdd);\n    return this.withYear(newYear);\n  };\n\n  _proto.plusMonths = function plusMonths(monthsToAdd) {\n    if (monthsToAdd === 0) {\n      return this;\n    }\n\n    var monthCount = this._year * 12 + (this._month - 1);\n    var calcMonths = monthCount + monthsToAdd;\n    var newYear = ChronoField.YEAR.checkValidIntValue(MathUtil.floorDiv(calcMonths, 12));\n    var newMonth = MathUtil.floorMod(calcMonths, 12) + 1;\n    return new YearMonth(newYear, newMonth);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    return amountToSubtract === MathUtil.MIN_SAFE_INTEGER ? this.plusAmountUnit(MathUtil.MAX_SAFE_INTEGER, unit).plusAmountUnit(1, unit) : this.plusAmountUnit(-amountToSubtract, unit);\n  };\n\n  _proto.minusYears = function minusYears(yearsToSubtract) {\n    return yearsToSubtract === MathUtil.MIN_SAFE_INTEGER ? this.plusYears(MathUtil.MIN_SAFE_INTEGER).plusYears(1) : this.plusYears(-yearsToSubtract);\n  };\n\n  _proto.minusMonths = function minusMonths(monthsToSubtract) {\n    return monthsToSubtract === MathUtil.MIN_SAFE_INTEGER ? this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1) : this.plusMonths(-monthsToSubtract);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n    requireInstance(_query, TemporalQuery, 'query');\n\n    if (_query === TemporalQueries.chronology()) {\n      return IsoChronology.INSTANCE;\n    } else if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.MONTHS;\n    } else if (_query === TemporalQueries.localDate() || _query === TemporalQueries.localTime() || _query === TemporalQueries.zone() || _query === TemporalQueries.zoneId() || _query === TemporalQueries.offset()) {\n      return null;\n    }\n\n    return _Temporal.prototype.query.call(this, _query);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    requireNonNull(temporal, 'temporal');\n    requireInstance(temporal, Temporal, 'temporal');\n    return temporal.with(ChronoField.PROLEPTIC_MONTH, this._getProlepticMonth());\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    requireNonNull(endExclusive, 'endExclusive');\n    requireNonNull(unit, 'unit');\n    requireInstance(endExclusive, Temporal, 'endExclusive');\n    requireInstance(unit, TemporalUnit, 'unit');\n    var end = YearMonth.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      var monthsUntil = end._getProlepticMonth() - this._getProlepticMonth();\n\n      switch (unit) {\n        case ChronoUnit.MONTHS:\n          return monthsUntil;\n\n        case ChronoUnit.YEARS:\n          return monthsUntil / 12;\n\n        case ChronoUnit.DECADES:\n          return monthsUntil / 120;\n\n        case ChronoUnit.CENTURIES:\n          return monthsUntil / 1200;\n\n        case ChronoUnit.MILLENNIA:\n          return monthsUntil / 12000;\n\n        case ChronoUnit.ERAS:\n          return end.getLong(ChronoField.ERA) - this.getLong(ChronoField.ERA);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto.atDay = function atDay(dayOfMonth) {\n    return LocalDate.of(this._year, this._month, dayOfMonth);\n  };\n\n  _proto.atEndOfMonth = function atEndOfMonth() {\n    return LocalDate.of(this._year, this._month, this.lengthOfMonth());\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, YearMonth, 'other');\n    var cmp = this._year - other.year();\n\n    if (cmp === 0) {\n      cmp = this._month - other.monthValue();\n    }\n\n    return cmp;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    return this.compareTo(other) > 0;\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    return this.compareTo(other) < 0;\n  };\n\n  _proto.equals = function equals(obj) {\n    if (this === obj) {\n      return true;\n    }\n\n    if (obj instanceof YearMonth) {\n      var other = obj;\n      return this.year() === other.year() && this.monthValue() === other.monthValue();\n    }\n\n    return false;\n  };\n\n  _proto.toString = function toString() {\n    return PARSER$1.format(this);\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  return YearMonth;\n}(Temporal);\nvar PARSER$1;\nfunction _init$c() {\n  PARSER$1 = new DateTimeFormatterBuilder().appendValue(ChronoField.YEAR, 4, 10, SignStyle.EXCEEDS_PAD).appendLiteral('-').appendValue(ChronoField.MONTH_OF_YEAR, 2).toFormatter();\n  YearMonth.FROM = createTemporalQuery('YearMonth.FROM', function (temporal) {\n    return YearMonth.from(temporal);\n  });\n}\n\nvar Year = function (_Temporal) {\n  _inheritsLoose(Year, _Temporal);\n\n  function Year(value) {\n    var _this;\n\n    _this = _Temporal.call(this) || this;\n    _this._year = MathUtil.safeToInt(value);\n    return _this;\n  }\n\n  var _proto = Year.prototype;\n\n  _proto.value = function value() {\n    return this._year;\n  };\n\n  Year.now = function now(zoneIdOrClock) {\n    if (zoneIdOrClock === void 0) {\n      zoneIdOrClock = undefined;\n    }\n\n    if (zoneIdOrClock === undefined) {\n      return Year.now0();\n    } else if (zoneIdOrClock instanceof ZoneId) {\n      return Year.nowZoneId(zoneIdOrClock);\n    } else {\n      return Year.nowClock(zoneIdOrClock);\n    }\n  };\n\n  Year.now0 = function now0() {\n    return Year.nowClock(Clock.systemDefaultZone());\n  };\n\n  Year.nowZoneId = function nowZoneId(zone) {\n    requireNonNull(zone, 'zone');\n    requireInstance(zone, ZoneId, 'zone');\n    return Year.nowClock(Clock.system(zone));\n  };\n\n  Year.nowClock = function nowClock(clock) {\n    requireNonNull(clock, 'clock');\n    requireInstance(clock, Clock, 'clock');\n    var now = LocalDate.now(clock);\n    return Year.of(now.year());\n  };\n\n  Year.of = function of(isoYear) {\n    requireNonNull(isoYear, 'isoYear');\n    ChronoField.YEAR.checkValidValue(isoYear);\n    return new Year(isoYear);\n  };\n\n  Year.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n    requireInstance(temporal, TemporalAccessor, 'temporal');\n\n    if (temporal instanceof Year) {\n      return temporal;\n    }\n\n    try {\n      return Year.of(temporal.get(ChronoField.YEAR));\n    } catch (ex) {\n      throw new DateTimeException('Unable to obtain Year from TemporalAccessor: ' + temporal + ', type ' + (temporal && temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n  };\n\n  Year.parse = function parse(text, formatter) {\n    if (arguments.length <= 1) {\n      return Year.parseText(text);\n    } else {\n      return Year.parseTextFormatter(text, formatter);\n    }\n  };\n\n  Year.parseText = function parseText(text) {\n    requireNonNull(text, 'text');\n    return Year.parse(text, PARSER$2);\n  };\n\n  Year.parseTextFormatter = function parseTextFormatter(text, formatter) {\n    if (formatter === void 0) {\n      formatter = PARSER$2;\n    }\n\n    requireNonNull(text, 'text');\n    requireNonNull(formatter, 'formatter');\n    requireInstance(formatter, DateTimeFormatter, 'formatter');\n    return formatter.parse(text, Year.FROM);\n  };\n\n  Year.isLeap = function isLeap(year) {\n    return MathUtil.intMod(year, 4) === 0 && (MathUtil.intMod(year, 100) !== 0 || MathUtil.intMod(year, 400) === 0);\n  };\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (arguments.length === 1 && fieldOrUnit instanceof TemporalField) {\n      return this.isSupportedField(fieldOrUnit);\n    } else {\n      return this.isSupportedUnit(fieldOrUnit);\n    }\n  };\n\n  _proto.isSupportedField = function isSupportedField(field) {\n    if (field instanceof ChronoField) {\n      return field === ChronoField.YEAR || field === ChronoField.YEAR_OF_ERA || field === ChronoField.ERA;\n    }\n\n    return field != null && field.isSupportedBy(this);\n  };\n\n  _proto.isSupportedUnit = function isSupportedUnit(unit) {\n    if (unit instanceof ChronoUnit) {\n      return unit === ChronoUnit.YEARS || unit === ChronoUnit.DECADES || unit === ChronoUnit.CENTURIES || unit === ChronoUnit.MILLENNIA || unit === ChronoUnit.ERAS;\n    }\n\n    return unit != null && unit.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    if (this.isSupported(field)) {\n      return field.range();\n    } else if (field instanceof ChronoField) {\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return _Temporal.prototype.range.call(this, field);\n  };\n\n  _proto.get = function get(field) {\n    return this.range(field).checkValidIntValue(this.getLong(field), field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.YEAR_OF_ERA:\n          return this._year < 1 ? 1 - this._year : this._year;\n\n        case ChronoField.YEAR:\n          return this._year;\n\n        case ChronoField.ERA:\n          return this._year < 1 ? 0 : 1;\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.isLeap = function isLeap() {\n    return Year.isLeap(this._year);\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    requireNonNull(field, 'field');\n    requireInstance(field, TemporalField, 'field');\n\n    if (field instanceof ChronoField) {\n      field.checkValidValue(newValue);\n\n      switch (field) {\n        case ChronoField.YEAR_OF_ERA:\n          return Year.of(this._year < 1 ? 1 - newValue : newValue);\n\n        case ChronoField.YEAR:\n          return Year.of(newValue);\n\n        case ChronoField.ERA:\n          return this.getLong(ChronoField.ERA) === newValue ? this : Year.of(1 - this._year);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    requireInstance(amount, TemporalAmount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    requireNonNull(amountToAdd, 'amountToAdd');\n    requireNonNull(unit, 'unit');\n    requireInstance(unit, TemporalUnit, 'unit');\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.YEARS:\n          return this.plusYears(amountToAdd);\n\n        case ChronoUnit.DECADES:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 10));\n\n        case ChronoUnit.CENTURIES:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 100));\n\n        case ChronoUnit.MILLENNIA:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 1000));\n\n        case ChronoUnit.ERAS:\n          return this.with(ChronoField.ERA, MathUtil.safeAdd(this.getLong(ChronoField.ERA), amountToAdd));\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusYears = function plusYears(yearsToAdd) {\n    if (yearsToAdd === 0) {\n      return this;\n    }\n\n    return Year.of(ChronoField.YEAR.checkValidIntValue(MathUtil.safeAdd(this._year, yearsToAdd)));\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    requireInstance(amount, TemporalAmount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    requireNonNull(amountToSubtract, 'amountToSubtract');\n    requireNonNull(unit, 'unit');\n    requireInstance(unit, TemporalUnit, 'unit');\n    return amountToSubtract === MathUtil.MIN_SAFE_INTEGER ? this.plus(MathUtil.MAX_SAFE_INTEGER, unit).plus(1, unit) : this.plus(-amountToSubtract, unit);\n  };\n\n  _proto.minusYears = function minusYears(yearsToSubtract) {\n    return yearsToSubtract === MathUtil.MIN_SAFE_INTEGER ? this.plusYears(MathUtil.MAX_SAFE_INTEGER).plusYears(1) : this.plusYears(-yearsToSubtract);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    requireNonNull(temporal, 'temporal');\n    return temporal.with(ChronoField.YEAR, this._year);\n  };\n\n  _proto.isValidMonthDay = function isValidMonthDay(monthDay) {\n    return monthDay != null && monthDay.isValidYear(this._year);\n  };\n\n  _proto.length = function length() {\n    return this.isLeap() ? 366 : 365;\n  };\n\n  _proto.atDay = function atDay(dayOfYear) {\n    return LocalDate.ofYearDay(this._year, dayOfYear);\n  };\n\n  _proto.atMonth = function atMonth(monthOrNumber) {\n    if (arguments.length === 1 && monthOrNumber instanceof Month) {\n      return this.atMonthMonth(monthOrNumber);\n    } else {\n      return this.atMonthNumber(monthOrNumber);\n    }\n  };\n\n  _proto.atMonthMonth = function atMonthMonth(month) {\n    requireNonNull(month, 'month');\n    requireInstance(month, Month, 'month');\n    return YearMonth.of(this._year, month);\n  };\n\n  _proto.atMonthNumber = function atMonthNumber(month) {\n    requireNonNull(month, 'month');\n    return YearMonth.of(this._year, month);\n  };\n\n  _proto.atMonthDay = function atMonthDay(monthDay) {\n    requireNonNull(monthDay, 'monthDay');\n    requireInstance(monthDay, MonthDay, 'monthDay');\n    return monthDay.atYear(this._year);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query()');\n    requireInstance(_query, TemporalQuery, 'query()');\n\n    if (_query === TemporalQueries.chronology()) {\n      return IsoChronology.INSTANCE;\n    } else if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.YEARS;\n    } else if (_query === TemporalQueries.localDate() || _query === TemporalQueries.localTime() || _query === TemporalQueries.zone() || _query === TemporalQueries.zoneId() || _query === TemporalQueries.offset()) {\n      return null;\n    }\n\n    return _Temporal.prototype.query.call(this, _query);\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, Year, 'other');\n    return this._year - other._year;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, Year, 'other');\n    return this._year > other._year;\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, Year, 'other');\n    return this._year < other._year;\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    requireInstance(formatter, DateTimeFormatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof Year) {\n      return this.value() === other.value();\n    }\n\n    return false;\n  };\n\n  _proto.toString = function toString() {\n    return '' + this._year;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    var end = Year.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      var yearsUntil = end.value() - this.value();\n\n      switch (unit) {\n        case ChronoUnit.YEARS:\n          return yearsUntil;\n\n        case ChronoUnit.DECADES:\n          return MathUtil.intDiv(yearsUntil, 10);\n\n        case ChronoUnit.CENTURIES:\n          return MathUtil.intDiv(yearsUntil, 100);\n\n        case ChronoUnit.MILLENNIA:\n          return MathUtil.intDiv(yearsUntil, 1000);\n\n        case ChronoUnit.ERAS:\n          return end.getLong(ChronoField.ERA) - this.getLong(ChronoField.ERA);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  return Year;\n}(Temporal);\nvar PARSER$2;\nfunction _init$d() {\n  Year.MIN_VALUE = YearConstants.MIN_VALUE;\n  Year.MAX_VALUE = YearConstants.MAX_VALUE;\n  PARSER$2 = new DateTimeFormatterBuilder().appendValue(ChronoField.YEAR, 4, 10, SignStyle.EXCEEDS_PAD).toFormatter();\n  Year.FROM = createTemporalQuery('Year.FROM', function (temporal) {\n    return Year.from(temporal);\n  });\n}\n\nvar TemporalAdjusters = function () {\n  function TemporalAdjusters() {}\n\n  TemporalAdjusters.firstDayOfMonth = function firstDayOfMonth() {\n    return Impl.FIRST_DAY_OF_MONTH;\n  };\n\n  TemporalAdjusters.lastDayOfMonth = function lastDayOfMonth() {\n    return Impl.LAST_DAY_OF_MONTH;\n  };\n\n  TemporalAdjusters.firstDayOfNextMonth = function firstDayOfNextMonth() {\n    return Impl.FIRST_DAY_OF_NEXT_MONTH;\n  };\n\n  TemporalAdjusters.firstDayOfYear = function firstDayOfYear() {\n    return Impl.FIRST_DAY_OF_YEAR;\n  };\n\n  TemporalAdjusters.lastDayOfYear = function lastDayOfYear() {\n    return Impl.LAST_DAY_OF_YEAR;\n  };\n\n  TemporalAdjusters.firstDayOfNextYear = function firstDayOfNextYear() {\n    return Impl.FIRST_DAY_OF_NEXT_YEAR;\n  };\n\n  TemporalAdjusters.firstInMonth = function firstInMonth(dayOfWeek) {\n    requireNonNull(dayOfWeek, 'dayOfWeek');\n    return new DayOfWeekInMonth(1, dayOfWeek);\n  };\n\n  TemporalAdjusters.lastInMonth = function lastInMonth(dayOfWeek) {\n    requireNonNull(dayOfWeek, 'dayOfWeek');\n    return new DayOfWeekInMonth(-1, dayOfWeek);\n  };\n\n  TemporalAdjusters.dayOfWeekInMonth = function dayOfWeekInMonth(ordinal, dayOfWeek) {\n    requireNonNull(dayOfWeek, 'dayOfWeek');\n    return new DayOfWeekInMonth(ordinal, dayOfWeek);\n  };\n\n  TemporalAdjusters.next = function next(dayOfWeek) {\n    return new RelativeDayOfWeek(2, dayOfWeek);\n  };\n\n  TemporalAdjusters.nextOrSame = function nextOrSame(dayOfWeek) {\n    return new RelativeDayOfWeek(0, dayOfWeek);\n  };\n\n  TemporalAdjusters.previous = function previous(dayOfWeek) {\n    return new RelativeDayOfWeek(3, dayOfWeek);\n  };\n\n  TemporalAdjusters.previousOrSame = function previousOrSame(dayOfWeek) {\n    return new RelativeDayOfWeek(1, dayOfWeek);\n  };\n\n  return TemporalAdjusters;\n}();\n\nvar Impl = function (_TemporalAdjuster) {\n  _inheritsLoose(Impl, _TemporalAdjuster);\n\n  function Impl(ordinal) {\n    var _this;\n\n    _this = _TemporalAdjuster.call(this) || this;\n    _this._ordinal = ordinal;\n    return _this;\n  }\n\n  var _proto = Impl.prototype;\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    switch (this._ordinal) {\n      case 0:\n        return temporal.with(ChronoField.DAY_OF_MONTH, 1);\n\n      case 1:\n        return temporal.with(ChronoField.DAY_OF_MONTH, temporal.range(ChronoField.DAY_OF_MONTH).maximum());\n\n      case 2:\n        return temporal.with(ChronoField.DAY_OF_MONTH, 1).plus(1, ChronoUnit.MONTHS);\n\n      case 3:\n        return temporal.with(ChronoField.DAY_OF_YEAR, 1);\n\n      case 4:\n        return temporal.with(ChronoField.DAY_OF_YEAR, temporal.range(ChronoField.DAY_OF_YEAR).maximum());\n\n      case 5:\n        return temporal.with(ChronoField.DAY_OF_YEAR, 1).plus(1, ChronoUnit.YEARS);\n    }\n\n    throw new IllegalStateException('Unreachable');\n  };\n\n  return Impl;\n}(TemporalAdjuster);\n\nImpl.FIRST_DAY_OF_MONTH = new Impl(0);\nImpl.LAST_DAY_OF_MONTH = new Impl(1);\nImpl.FIRST_DAY_OF_NEXT_MONTH = new Impl(2);\nImpl.FIRST_DAY_OF_YEAR = new Impl(3);\nImpl.LAST_DAY_OF_YEAR = new Impl(4);\nImpl.FIRST_DAY_OF_NEXT_YEAR = new Impl(5);\n\nvar DayOfWeekInMonth = function (_TemporalAdjuster2) {\n  _inheritsLoose(DayOfWeekInMonth, _TemporalAdjuster2);\n\n  function DayOfWeekInMonth(ordinal, dow) {\n    var _this2;\n\n    _this2 = _TemporalAdjuster2.call(this) || this;\n    _this2._ordinal = ordinal;\n    _this2._dowValue = dow.value();\n    return _this2;\n  }\n\n  var _proto2 = DayOfWeekInMonth.prototype;\n\n  _proto2.adjustInto = function adjustInto(temporal) {\n    if (this._ordinal >= 0) {\n      var temp = temporal.with(ChronoField.DAY_OF_MONTH, 1);\n      var curDow = temp.get(ChronoField.DAY_OF_WEEK);\n      var dowDiff = MathUtil.intMod(this._dowValue - curDow + 7, 7);\n      dowDiff += (this._ordinal - 1) * 7;\n      return temp.plus(dowDiff, ChronoUnit.DAYS);\n    } else {\n      var _temp = temporal.with(ChronoField.DAY_OF_MONTH, temporal.range(ChronoField.DAY_OF_MONTH).maximum());\n\n      var _curDow = _temp.get(ChronoField.DAY_OF_WEEK);\n\n      var daysDiff = this._dowValue - _curDow;\n      daysDiff = daysDiff === 0 ? 0 : daysDiff > 0 ? daysDiff - 7 : daysDiff;\n      daysDiff -= (-this._ordinal - 1) * 7;\n      return _temp.plus(daysDiff, ChronoUnit.DAYS);\n    }\n  };\n\n  return DayOfWeekInMonth;\n}(TemporalAdjuster);\n\nvar RelativeDayOfWeek = function (_TemporalAdjuster3) {\n  _inheritsLoose(RelativeDayOfWeek, _TemporalAdjuster3);\n\n  function RelativeDayOfWeek(relative, dayOfWeek) {\n    var _this3;\n\n    _this3 = _TemporalAdjuster3.call(this) || this;\n    requireNonNull(dayOfWeek, 'dayOfWeek');\n    _this3._relative = relative;\n    _this3._dowValue = dayOfWeek.value();\n    return _this3;\n  }\n\n  var _proto3 = RelativeDayOfWeek.prototype;\n\n  _proto3.adjustInto = function adjustInto(temporal) {\n    var calDow = temporal.get(ChronoField.DAY_OF_WEEK);\n\n    if (this._relative < 2 && calDow === this._dowValue) {\n      return temporal;\n    }\n\n    if ((this._relative & 1) === 0) {\n      var daysDiff = calDow - this._dowValue;\n      return temporal.plus(daysDiff >= 0 ? 7 - daysDiff : -daysDiff, ChronoUnit.DAYS);\n    } else {\n      var _daysDiff = this._dowValue - calDow;\n\n      return temporal.minus(_daysDiff >= 0 ? 7 - _daysDiff : -_daysDiff, ChronoUnit.DAYS);\n    }\n  };\n\n  return RelativeDayOfWeek;\n}(TemporalAdjuster);\n\nvar IsoChronology = function (_Enum) {\n  _inheritsLoose(IsoChronology, _Enum);\n\n  function IsoChronology() {\n    return _Enum.apply(this, arguments) || this;\n  }\n\n  IsoChronology.isLeapYear = function isLeapYear(prolepticYear) {\n    return (prolepticYear & 3) === 0 && (prolepticYear % 100 !== 0 || prolepticYear % 400 === 0);\n  };\n\n  var _proto = IsoChronology.prototype;\n\n  _proto._updateResolveMap = function _updateResolveMap(fieldValues, field, value) {\n    requireNonNull(fieldValues, 'fieldValues');\n    requireNonNull(field, 'field');\n    var current = fieldValues.get(field);\n\n    if (current != null && current !== value) {\n      throw new DateTimeException('Invalid state, field: ' + field + ' ' + current + ' conflicts with ' + field + ' ' + value);\n    }\n\n    fieldValues.put(field, value);\n  };\n\n  _proto.resolveDate = function resolveDate(fieldValues, resolverStyle) {\n    if (fieldValues.containsKey(ChronoField.EPOCH_DAY)) {\n      return LocalDate.ofEpochDay(fieldValues.remove(ChronoField.EPOCH_DAY));\n    }\n\n    var prolepticMonth = fieldValues.remove(ChronoField.PROLEPTIC_MONTH);\n\n    if (prolepticMonth != null) {\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        ChronoField.PROLEPTIC_MONTH.checkValidValue(prolepticMonth);\n      }\n\n      this._updateResolveMap(fieldValues, ChronoField.MONTH_OF_YEAR, MathUtil.floorMod(prolepticMonth, 12) + 1);\n\n      this._updateResolveMap(fieldValues, ChronoField.YEAR, MathUtil.floorDiv(prolepticMonth, 12));\n    }\n\n    var yoeLong = fieldValues.remove(ChronoField.YEAR_OF_ERA);\n\n    if (yoeLong != null) {\n      if (resolverStyle !== ResolverStyle.LENIENT) {\n        ChronoField.YEAR_OF_ERA.checkValidValue(yoeLong);\n      }\n\n      var era = fieldValues.remove(ChronoField.ERA);\n\n      if (era == null) {\n        var year = fieldValues.get(ChronoField.YEAR);\n\n        if (resolverStyle === ResolverStyle.STRICT) {\n          if (year != null) {\n            this._updateResolveMap(fieldValues, ChronoField.YEAR, year > 0 ? yoeLong : MathUtil.safeSubtract(1, yoeLong));\n          } else {\n            fieldValues.put(ChronoField.YEAR_OF_ERA, yoeLong);\n          }\n        } else {\n          this._updateResolveMap(fieldValues, ChronoField.YEAR, year == null || year > 0 ? yoeLong : MathUtil.safeSubtract(1, yoeLong));\n        }\n      } else if (era === 1) {\n        this._updateResolveMap(fieldValues, ChronoField.YEAR, yoeLong);\n      } else if (era === 0) {\n        this._updateResolveMap(fieldValues, ChronoField.YEAR, MathUtil.safeSubtract(1, yoeLong));\n      } else {\n        throw new DateTimeException('Invalid value for era: ' + era);\n      }\n    } else if (fieldValues.containsKey(ChronoField.ERA)) {\n      ChronoField.ERA.checkValidValue(fieldValues.get(ChronoField.ERA));\n    }\n\n    if (fieldValues.containsKey(ChronoField.YEAR)) {\n      if (fieldValues.containsKey(ChronoField.MONTH_OF_YEAR)) {\n        if (fieldValues.containsKey(ChronoField.DAY_OF_MONTH)) {\n          var y = ChronoField.YEAR.checkValidIntValue(fieldValues.remove(ChronoField.YEAR));\n          var moy = fieldValues.remove(ChronoField.MONTH_OF_YEAR);\n          var dom = fieldValues.remove(ChronoField.DAY_OF_MONTH);\n\n          if (resolverStyle === ResolverStyle.LENIENT) {\n            var months = moy - 1;\n            var days = dom - 1;\n            return LocalDate.of(y, 1, 1).plusMonths(months).plusDays(days);\n          } else if (resolverStyle === ResolverStyle.SMART) {\n            ChronoField.DAY_OF_MONTH.checkValidValue(dom);\n\n            if (moy === 4 || moy === 6 || moy === 9 || moy === 11) {\n              dom = Math.min(dom, 30);\n            } else if (moy === 2) {\n              dom = Math.min(dom, Month.FEBRUARY.length(Year.isLeap(y)));\n            }\n\n            return LocalDate.of(y, moy, dom);\n          } else {\n            return LocalDate.of(y, moy, dom);\n          }\n        }\n      }\n\n      if (fieldValues.containsKey(ChronoField.DAY_OF_YEAR)) {\n        var _y = ChronoField.YEAR.checkValidIntValue(fieldValues.remove(ChronoField.YEAR));\n\n        if (resolverStyle === ResolverStyle.LENIENT) {\n          var _days = MathUtil.safeSubtract(fieldValues.remove(ChronoField.DAY_OF_YEAR), 1);\n\n          return LocalDate.ofYearDay(_y, 1).plusDays(_days);\n        }\n\n        var doy = ChronoField.DAY_OF_YEAR.checkValidIntValue(fieldValues.remove(ChronoField.DAY_OF_YEAR));\n        return LocalDate.ofYearDay(_y, doy);\n      }\n\n      if (fieldValues.containsKey(ChronoField.ALIGNED_WEEK_OF_YEAR)) {\n        if (fieldValues.containsKey(ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR)) {\n          var _y2 = ChronoField.YEAR.checkValidIntValue(fieldValues.remove(ChronoField.YEAR));\n\n          if (resolverStyle === ResolverStyle.LENIENT) {\n            var weeks = MathUtil.safeSubtract(fieldValues.remove(ChronoField.ALIGNED_WEEK_OF_YEAR), 1);\n\n            var _days2 = MathUtil.safeSubtract(fieldValues.remove(ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR), 1);\n\n            return LocalDate.of(_y2, 1, 1).plusWeeks(weeks).plusDays(_days2);\n          }\n\n          var aw = ChronoField.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(fieldValues.remove(ChronoField.ALIGNED_WEEK_OF_YEAR));\n          var ad = ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(fieldValues.remove(ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR));\n          var date = LocalDate.of(_y2, 1, 1).plusDays((aw - 1) * 7 + (ad - 1));\n\n          if (resolverStyle === ResolverStyle.STRICT && date.get(ChronoField.YEAR) !== _y2) {\n            throw new DateTimeException('Strict mode rejected date parsed to a different year');\n          }\n\n          return date;\n        }\n\n        if (fieldValues.containsKey(ChronoField.DAY_OF_WEEK)) {\n          var _y3 = ChronoField.YEAR.checkValidIntValue(fieldValues.remove(ChronoField.YEAR));\n\n          if (resolverStyle === ResolverStyle.LENIENT) {\n            var _weeks = MathUtil.safeSubtract(fieldValues.remove(ChronoField.ALIGNED_WEEK_OF_YEAR), 1);\n\n            var _days3 = MathUtil.safeSubtract(fieldValues.remove(ChronoField.DAY_OF_WEEK), 1);\n\n            return LocalDate.of(_y3, 1, 1).plusWeeks(_weeks).plusDays(_days3);\n          }\n\n          var _aw = ChronoField.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(fieldValues.remove(ChronoField.ALIGNED_WEEK_OF_YEAR));\n\n          var dow = ChronoField.DAY_OF_WEEK.checkValidIntValue(fieldValues.remove(ChronoField.DAY_OF_WEEK));\n\n          var _date = LocalDate.of(_y3, 1, 1).plusWeeks(_aw - 1).with(TemporalAdjusters.nextOrSame(DayOfWeek.of(dow)));\n\n          if (resolverStyle === ResolverStyle.STRICT && _date.get(ChronoField.YEAR) !== _y3) {\n            throw new DateTimeException('Strict mode rejected date parsed to a different month');\n          }\n\n          return _date;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  _proto.date = function date(temporal) {\n    return LocalDate.from(temporal);\n  };\n\n  return IsoChronology;\n}(Enum);\nfunction _init$e() {\n  IsoChronology.INSTANCE = new IsoChronology('IsoChronology');\n}\n\nvar OffsetTime = function (_DefaultInterfaceTemp) {\n  _inheritsLoose(OffsetTime, _DefaultInterfaceTemp);\n\n  OffsetTime.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (temporal instanceof OffsetTime) {\n      return temporal;\n    } else if (temporal instanceof OffsetDateTime) {\n      return temporal.toOffsetTime();\n    }\n\n    try {\n      var time = LocalTime.from(temporal);\n      var offset = ZoneOffset.from(temporal);\n      return new OffsetTime(time, offset);\n    } catch (ex) {\n      throw new DateTimeException(\"Unable to obtain OffsetTime TemporalAccessor: \" + temporal + \", type \" + (temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n  };\n\n  OffsetTime.now = function now(clockOrZone) {\n    if (arguments.length === 0) {\n      return OffsetTime._now(Clock.systemDefaultZone());\n    } else if (clockOrZone instanceof Clock) {\n      return OffsetTime._now(clockOrZone);\n    } else {\n      return OffsetTime._now(Clock.system(clockOrZone));\n    }\n  };\n\n  OffsetTime._now = function _now(clock) {\n    requireNonNull(clock, 'clock');\n    var now = clock.instant();\n    return OffsetTime.ofInstant(now, clock.zone().rules().offset(now));\n  };\n\n  OffsetTime.of = function of() {\n    if (arguments.length <= 2) {\n      return OffsetTime.ofTimeAndOffset.apply(this, arguments);\n    } else {\n      return OffsetTime.ofNumbers.apply(this, arguments);\n    }\n  };\n\n  OffsetTime.ofNumbers = function ofNumbers(hour, minute, second, nanoOfSecond, offset) {\n    var time = LocalTime.of(hour, minute, second, nanoOfSecond);\n    return new OffsetTime(time, offset);\n  };\n\n  OffsetTime.ofTimeAndOffset = function ofTimeAndOffset(time, offset) {\n    return new OffsetTime(time, offset);\n  };\n\n  OffsetTime.ofInstant = function ofInstant(instant, zone) {\n    requireNonNull(instant, 'instant');\n    requireInstance(instant, Instant, 'instant');\n    requireNonNull(zone, 'zone');\n    requireInstance(zone, ZoneId, 'zone');\n    var rules = zone.rules();\n    var offset = rules.offset(instant);\n    var secsOfDay = instant.epochSecond() % LocalTime.SECONDS_PER_DAY;\n    secsOfDay = (secsOfDay + offset.totalSeconds()) % LocalTime.SECONDS_PER_DAY;\n\n    if (secsOfDay < 0) {\n      secsOfDay += LocalTime.SECONDS_PER_DAY;\n    }\n\n    var time = LocalTime.ofSecondOfDay(secsOfDay, instant.nano());\n    return new OffsetTime(time, offset);\n  };\n\n  OffsetTime.parse = function parse(text, formatter) {\n    if (formatter === void 0) {\n      formatter = DateTimeFormatter.ISO_OFFSET_TIME;\n    }\n\n    requireNonNull(formatter, 'formatter');\n    return formatter.parse(text, OffsetTime.FROM);\n  };\n\n  function OffsetTime(time, offset) {\n    var _this;\n\n    _this = _DefaultInterfaceTemp.call(this) || this;\n    requireNonNull(time, 'time');\n    requireInstance(time, LocalTime, 'time');\n    requireNonNull(offset, 'offset');\n    requireInstance(offset, ZoneOffset, 'offset');\n    _this._time = time;\n    _this._offset = offset;\n    return _this;\n  }\n\n  var _proto = OffsetTime.prototype;\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return temporal.with(ChronoField.NANO_OF_DAY, this._time.toNanoOfDay()).with(ChronoField.OFFSET_SECONDS, this.offset().totalSeconds());\n  };\n\n  _proto.atDate = function atDate(date) {\n    return OffsetDateTime.of(date, this._time, this._offset);\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    return formatter.format(this, OffsetTime.FROM);\n  };\n\n  _proto.get = function get(field) {\n    return _DefaultInterfaceTemp.prototype.get.call(this, field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    if (field instanceof ChronoField) {\n      if (field === ChronoField.OFFSET_SECONDS) {\n        return this._offset.totalSeconds();\n      }\n\n      return this._time.getLong(field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.hour = function hour() {\n    return this._time.hour();\n  };\n\n  _proto.minute = function minute() {\n    return this._time.minute();\n  };\n\n  _proto.second = function second() {\n    return this._time.second();\n  };\n\n  _proto.nano = function nano() {\n    return this._time.nano();\n  };\n\n  _proto.offset = function offset() {\n    return this._offset;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    requireNonNull(other, 'other');\n    return this._toEpochNano() > other._toEpochNano();\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    requireNonNull(other, 'other');\n    return this._toEpochNano() < other._toEpochNano();\n  };\n\n  _proto.isEqual = function isEqual(other) {\n    requireNonNull(other, 'other');\n    return this._toEpochNano() === other._toEpochNano();\n  };\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (fieldOrUnit instanceof ChronoField) {\n      return fieldOrUnit.isTimeBased() || fieldOrUnit === ChronoField.OFFSET_SECONDS;\n    } else if (fieldOrUnit instanceof ChronoUnit) {\n      return fieldOrUnit.isTimeBased();\n    }\n\n    return fieldOrUnit != null && fieldOrUnit.isSupportedBy(this);\n  };\n\n  _proto.minusHours = function minusHours(hours) {\n    return this._withLocalTimeOffset(this._time.minusHours(hours), this._offset);\n  };\n\n  _proto.minusMinutes = function minusMinutes(minutes) {\n    return this._withLocalTimeOffset(this._time.minusMinutes(minutes), this._offset);\n  };\n\n  _proto.minusSeconds = function minusSeconds(seconds) {\n    return this._withLocalTimeOffset(this._time.minusSeconds(seconds), this._offset);\n  };\n\n  _proto.minusNanos = function minusNanos(nanos) {\n    return this._withLocalTimeOffset(this._time.minusNanos(nanos), this._offset);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount);\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    return this.plus(-1 * amountToSubtract, unit);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount);\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    if (unit instanceof ChronoUnit) {\n      return this._withLocalTimeOffset(this._time.plus(amountToAdd, unit), this._offset);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusHours = function plusHours(hours) {\n    return this._withLocalTimeOffset(this._time.plusHours(hours), this._offset);\n  };\n\n  _proto.plusMinutes = function plusMinutes(minutes) {\n    return this._withLocalTimeOffset(this._time.plusMinutes(minutes), this._offset);\n  };\n\n  _proto.plusSeconds = function plusSeconds(seconds) {\n    return this._withLocalTimeOffset(this._time.plusSeconds(seconds), this._offset);\n  };\n\n  _proto.plusNanos = function plusNanos(nanos) {\n    return this._withLocalTimeOffset(this._time.plusNanos(nanos), this._offset);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.NANOS;\n    } else if (_query === TemporalQueries.offset() || _query === TemporalQueries.zone()) {\n      return this.offset();\n    } else if (_query === TemporalQueries.localTime()) {\n      return this._time;\n    } else if (_query === TemporalQueries.chronology() || _query === TemporalQueries.localDate() || _query === TemporalQueries.zoneId()) {\n      return null;\n    }\n\n    return _DefaultInterfaceTemp.prototype.query.call(this, _query);\n  };\n\n  _proto.range = function range(field) {\n    if (field instanceof ChronoField) {\n      if (field === ChronoField.OFFSET_SECONDS) {\n        return field.range();\n      }\n\n      return this._time.range(field);\n    }\n\n    return field.rangeRefinedBy(this);\n  };\n\n  _proto.toLocalTime = function toLocalTime() {\n    return this._time;\n  };\n\n  _proto.truncatedTo = function truncatedTo(unit) {\n    return this._withLocalTimeOffset(this._time.truncatedTo(unit), this._offset);\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    requireNonNull(endExclusive, 'endExclusive');\n    requireNonNull(unit, 'unit');\n    var end = OffsetTime.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      var nanosUntil = end._toEpochNano() - this._toEpochNano();\n\n      switch (unit) {\n        case ChronoUnit.NANOS:\n          return nanosUntil;\n\n        case ChronoUnit.MICROS:\n          return Math.floor(nanosUntil / 1000);\n\n        case ChronoUnit.MILLIS:\n          return Math.floor(nanosUntil / 1000000);\n\n        case ChronoUnit.SECONDS:\n          return Math.floor(nanosUntil / LocalTime.NANOS_PER_SECOND);\n\n        case ChronoUnit.MINUTES:\n          return Math.floor(nanosUntil / LocalTime.NANOS_PER_MINUTE);\n\n        case ChronoUnit.HOURS:\n          return Math.floor(nanosUntil / LocalTime.NANOS_PER_HOUR);\n\n        case ChronoUnit.HALF_DAYS:\n          return Math.floor(nanosUntil / (12 * LocalTime.NANOS_PER_HOUR));\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto.withHour = function withHour(hour) {\n    return this._withLocalTimeOffset(this._time.withHour(hour), this._offset);\n  };\n\n  _proto.withMinute = function withMinute(minute) {\n    return this._withLocalTimeOffset(this._time.withMinute(minute), this._offset);\n  };\n\n  _proto.withSecond = function withSecond(second) {\n    return this._withLocalTimeOffset(this._time.withSecond(second), this._offset);\n  };\n\n  _proto.withNano = function withNano(nano) {\n    return this._withLocalTimeOffset(this._time.withNano(nano), this._offset);\n  };\n\n  _proto.withOffsetSameInstant = function withOffsetSameInstant(offset) {\n    requireNonNull(offset, 'offset');\n\n    if (offset.equals(this._offset)) {\n      return this;\n    }\n\n    var difference = offset.totalSeconds() - this._offset.totalSeconds();\n\n    var adjusted = this._time.plusSeconds(difference);\n\n    return new OffsetTime(adjusted, offset);\n  };\n\n  _proto.withOffsetSameLocal = function withOffsetSameLocal(offset) {\n    return offset != null && offset.equals(this._offset) ? this : new OffsetTime(this._time, offset);\n  };\n\n  _proto._toEpochNano = function _toEpochNano() {\n    var nod = this._time.toNanoOfDay();\n\n    var offsetNanos = this._offset.totalSeconds() * LocalTime.NANOS_PER_SECOND;\n    return nod - offsetNanos;\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n\n    if (adjuster instanceof LocalTime) {\n      return this._withLocalTimeOffset(adjuster, this._offset);\n    } else if (adjuster instanceof ZoneOffset) {\n      return this._withLocalTimeOffset(this._time, adjuster);\n    } else if (adjuster instanceof OffsetTime) {\n      return adjuster;\n    }\n\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      if (field === ChronoField.OFFSET_SECONDS) {\n        return this._withLocalTimeOffset(this._time, ZoneOffset.ofTotalSeconds(field.checkValidIntValue(newValue)));\n      }\n\n      return this._withLocalTimeOffset(this._time.with(field, newValue), this._offset);\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto._withLocalTimeOffset = function _withLocalTimeOffset(time, offset) {\n    if (this._time === time && this._offset.equals(offset)) {\n      return this;\n    }\n\n    return new OffsetTime(time, offset);\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, OffsetTime, 'other');\n\n    if (this._offset.equals(other._offset)) {\n      return this._time.compareTo(other._time);\n    }\n\n    var compare = MathUtil.compareNumbers(this._toEpochNano(), other._toEpochNano());\n\n    if (compare === 0) {\n      return this._time.compareTo(other._time);\n    }\n\n    return compare;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof OffsetTime) {\n      return this._time.equals(other._time) && this._offset.equals(other._offset);\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return this._time.hashCode() ^ this._offset.hashCode();\n  };\n\n  _proto.toString = function toString() {\n    return this._time.toString() + this._offset.toString();\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return OffsetTime;\n}(DefaultInterfaceTemporal);\nfunction _init$f() {\n  OffsetTime.MIN = OffsetTime.ofNumbers(0, 0, 0, 0, ZoneOffset.MAX);\n  OffsetTime.MAX = OffsetTime.ofNumbers(23, 59, 59, 999999999, ZoneOffset.MIN);\n  OffsetTime.FROM = createTemporalQuery('OffsetTime.FROM', function (temporal) {\n    return OffsetTime.from(temporal);\n  });\n}\n\nvar ChronoZonedDateTime = function (_DefaultInterfaceTemp) {\n  _inheritsLoose(ChronoZonedDateTime, _DefaultInterfaceTemp);\n\n  function ChronoZonedDateTime() {\n    return _DefaultInterfaceTemp.apply(this, arguments) || this;\n  }\n\n  var _proto = ChronoZonedDateTime.prototype;\n\n  _proto.query = function query(_query) {\n    if (_query === TemporalQueries.zoneId() || _query === TemporalQueries.zone()) {\n      return this.zone();\n    } else if (_query === TemporalQueries.chronology()) {\n      return this.toLocalDate().chronology();\n    } else if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.NANOS;\n    } else if (_query === TemporalQueries.offset()) {\n      return this.offset();\n    } else if (_query === TemporalQueries.localDate()) {\n      return LocalDate.ofEpochDay(this.toLocalDate().toEpochDay());\n    } else if (_query === TemporalQueries.localTime()) {\n      return this.toLocalTime();\n    }\n\n    return _DefaultInterfaceTemp.prototype.query.call(this, _query);\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  _proto.toInstant = function toInstant() {\n    return Instant.ofEpochSecond(this.toEpochSecond(), this.toLocalTime().nano());\n  };\n\n  _proto.toEpochSecond = function toEpochSecond() {\n    var epochDay = this.toLocalDate().toEpochDay();\n    var secs = epochDay * 86400 + this.toLocalTime().toSecondOfDay();\n    secs -= this.offset().totalSeconds();\n    return secs;\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    var cmp = MathUtil.compareNumbers(this.toEpochSecond(), other.toEpochSecond());\n\n    if (cmp === 0) {\n      cmp = this.toLocalTime().nano() - other.toLocalTime().nano();\n\n      if (cmp === 0) {\n        cmp = this.toLocalDateTime().compareTo(other.toLocalDateTime());\n\n        if (cmp === 0) {\n          cmp = strcmp(this.zone().id(), other.zone().id());\n        }\n      }\n    }\n\n    return cmp;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    requireNonNull(other, 'other');\n    var thisEpochSec = this.toEpochSecond();\n    var otherEpochSec = other.toEpochSecond();\n    return thisEpochSec > otherEpochSec || thisEpochSec === otherEpochSec && this.toLocalTime().nano() > other.toLocalTime().nano();\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    requireNonNull(other, 'other');\n    var thisEpochSec = this.toEpochSecond();\n    var otherEpochSec = other.toEpochSecond();\n    return thisEpochSec < otherEpochSec || thisEpochSec === otherEpochSec && this.toLocalTime().nano() < other.toLocalTime().nano();\n  };\n\n  _proto.isEqual = function isEqual(other) {\n    requireNonNull(other, 'other');\n    return this.toEpochSecond() === other.toEpochSecond() && this.toLocalTime().nano() === other.toLocalTime().nano();\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof ChronoZonedDateTime) {\n      return this.compareTo(other) === 0;\n    }\n\n    return false;\n  };\n\n  return ChronoZonedDateTime;\n}(DefaultInterfaceTemporal);\n\nfunction strcmp(a, b) {\n  if (a < b) {\n    return -1;\n  }\n\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n}\n\nvar ZonedDateTime = function (_ChronoZonedDateTime) {\n  _inheritsLoose(ZonedDateTime, _ChronoZonedDateTime);\n\n  ZonedDateTime.now = function now(clockOrZone) {\n    var clock;\n\n    if (clockOrZone instanceof ZoneId) {\n      clock = Clock.system(clockOrZone);\n    } else {\n      clock = clockOrZone == null ? Clock.systemDefaultZone() : clockOrZone;\n    }\n\n    return ZonedDateTime.ofInstant(clock.instant(), clock.zone());\n  };\n\n  ZonedDateTime.of = function of() {\n    if (arguments.length <= 2) {\n      return ZonedDateTime.of2.apply(this, arguments);\n    } else if (arguments.length === 3 && arguments[0] instanceof LocalDate) {\n      return ZonedDateTime.of3.apply(this, arguments);\n    } else {\n      return ZonedDateTime.of8.apply(this, arguments);\n    }\n  };\n\n  ZonedDateTime.of3 = function of3(date, time, zone) {\n    return ZonedDateTime.of2(LocalDateTime.of(date, time), zone);\n  };\n\n  ZonedDateTime.of2 = function of2(localDateTime, zone) {\n    return ZonedDateTime.ofLocal(localDateTime, zone, null);\n  };\n\n  ZonedDateTime.of8 = function of8(year, month, dayOfMonth, hour, minute, second, nanoOfSecond, zone) {\n    var dt = LocalDateTime.of(year, month, dayOfMonth, hour, minute, second, nanoOfSecond);\n    return ZonedDateTime.ofLocal(dt, zone, null);\n  };\n\n  ZonedDateTime.ofLocal = function ofLocal(localDateTime, zone, preferredOffset) {\n    requireNonNull(localDateTime, 'localDateTime');\n    requireNonNull(zone, 'zone');\n\n    if (zone instanceof ZoneOffset) {\n      return new ZonedDateTime(localDateTime, zone, zone);\n    }\n\n    var offset = null;\n    var rules = zone.rules();\n    var validOffsets = rules.validOffsets(localDateTime);\n\n    if (validOffsets.length === 1) {\n      offset = validOffsets[0];\n    } else if (validOffsets.length === 0) {\n      var trans = rules.transition(localDateTime);\n      localDateTime = localDateTime.plusSeconds(trans.duration().seconds());\n      offset = trans.offsetAfter();\n    } else {\n      if (preferredOffset != null && validOffsets.some(function (validOffset) {\n        return validOffset.equals(preferredOffset);\n      })) {\n        offset = preferredOffset;\n      } else {\n        offset = requireNonNull(validOffsets[0], 'offset');\n      }\n    }\n\n    return new ZonedDateTime(localDateTime, offset, zone);\n  };\n\n  ZonedDateTime.ofInstant = function ofInstant() {\n    if (arguments.length === 2) {\n      return ZonedDateTime.ofInstant2.apply(this, arguments);\n    } else {\n      return ZonedDateTime.ofInstant3.apply(this, arguments);\n    }\n  };\n\n  ZonedDateTime.ofInstant2 = function ofInstant2(instant, zone) {\n    requireNonNull(instant, 'instant');\n    requireNonNull(zone, 'zone');\n    return ZonedDateTime._create(instant.epochSecond(), instant.nano(), zone);\n  };\n\n  ZonedDateTime.ofInstant3 = function ofInstant3(localDateTime, offset, zone) {\n    requireNonNull(localDateTime, 'localDateTime');\n    requireNonNull(offset, 'offset');\n    requireNonNull(zone, 'zone');\n    return ZonedDateTime._create(localDateTime.toEpochSecond(offset), localDateTime.nano(), zone);\n  };\n\n  ZonedDateTime._create = function _create(epochSecond, nanoOfSecond, zone) {\n    var rules = zone.rules();\n    var instant = Instant.ofEpochSecond(epochSecond, nanoOfSecond);\n    var offset = rules.offset(instant);\n    var ldt = LocalDateTime.ofEpochSecond(epochSecond, nanoOfSecond, offset);\n    return new ZonedDateTime(ldt, offset, zone);\n  };\n\n  ZonedDateTime.ofStrict = function ofStrict(localDateTime, offset, zone) {\n    requireNonNull(localDateTime, 'localDateTime');\n    requireNonNull(offset, 'offset');\n    requireNonNull(zone, 'zone');\n    var rules = zone.rules();\n\n    if (rules.isValidOffset(localDateTime, offset) === false) {\n      var trans = rules.transition(localDateTime);\n\n      if (trans != null && trans.isGap()) {\n        throw new DateTimeException('LocalDateTime ' + localDateTime + ' does not exist in zone ' + zone + ' due to a gap in the local time-line, typically caused by daylight savings');\n      }\n\n      throw new DateTimeException('ZoneOffset \"' + offset + '\" is not valid for LocalDateTime \"' + localDateTime + '\" in zone \"' + zone + '\"');\n    }\n\n    return new ZonedDateTime(localDateTime, offset, zone);\n  };\n\n  ZonedDateTime.ofLenient = function ofLenient(localDateTime, offset, zone) {\n    requireNonNull(localDateTime, 'localDateTime');\n    requireNonNull(offset, 'offset');\n    requireNonNull(zone, 'zone');\n\n    if (zone instanceof ZoneOffset && offset.equals(zone) === false) {\n      throw new IllegalArgumentException('ZoneId must match ZoneOffset');\n    }\n\n    return new ZonedDateTime(localDateTime, offset, zone);\n  };\n\n  ZonedDateTime.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (temporal instanceof ZonedDateTime) {\n      return temporal;\n    }\n\n    var zone = ZoneId.from(temporal);\n\n    if (temporal.isSupported(ChronoField.INSTANT_SECONDS)) {\n      var zdt = ZonedDateTime._from(temporal, zone);\n\n      if (zdt != null) return zdt;\n    }\n\n    var ldt = LocalDateTime.from(temporal);\n    return ZonedDateTime.of2(ldt, zone);\n  };\n\n  ZonedDateTime._from = function _from(temporal, zone) {\n    try {\n      return ZonedDateTime.__from(temporal, zone);\n    } catch (ex) {\n      if (!(ex instanceof DateTimeException)) throw ex;\n    }\n  };\n\n  ZonedDateTime.__from = function __from(temporal, zone) {\n    var epochSecond = temporal.getLong(ChronoField.INSTANT_SECONDS);\n    var nanoOfSecond = temporal.get(ChronoField.NANO_OF_SECOND);\n    return ZonedDateTime._create(epochSecond, nanoOfSecond, zone);\n  };\n\n  ZonedDateTime.parse = function parse(text, formatter) {\n    if (formatter === void 0) {\n      formatter = DateTimeFormatter.ISO_ZONED_DATE_TIME;\n    }\n\n    requireNonNull(formatter, 'formatter');\n    return formatter.parse(text, ZonedDateTime.FROM);\n  };\n\n  function ZonedDateTime(dateTime, offset, zone) {\n    var _this;\n\n    requireNonNull(dateTime, 'dateTime');\n    requireNonNull(offset, 'offset');\n    requireNonNull(zone, 'zone');\n    _this = _ChronoZonedDateTime.call(this) || this;\n    _this._dateTime = dateTime;\n    _this._offset = offset;\n    _this._zone = zone;\n    return _this;\n  }\n\n  var _proto = ZonedDateTime.prototype;\n\n  _proto._resolveLocal = function _resolveLocal(newDateTime) {\n    requireNonNull(newDateTime, 'newDateTime');\n    return ZonedDateTime.ofLocal(newDateTime, this._zone, this._offset);\n  };\n\n  _proto._resolveInstant = function _resolveInstant(newDateTime) {\n    return ZonedDateTime.ofInstant3(newDateTime, this._offset, this._zone);\n  };\n\n  _proto._resolveOffset = function _resolveOffset(offset) {\n    if (offset.equals(this._offset) === false && this._zone.rules().isValidOffset(this._dateTime, offset)) {\n      return new ZonedDateTime(this._dateTime, offset, this._zone);\n    }\n\n    return this;\n  };\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (fieldOrUnit instanceof ChronoField) {\n      return true;\n    } else if (fieldOrUnit instanceof ChronoUnit) {\n      return fieldOrUnit.isDateBased() || fieldOrUnit.isTimeBased();\n    }\n\n    return fieldOrUnit != null && fieldOrUnit.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    if (field instanceof ChronoField) {\n      if (field === ChronoField.INSTANT_SECONDS || field === ChronoField.OFFSET_SECONDS) {\n        return field.range();\n      }\n\n      return this._dateTime.range(field);\n    }\n\n    return field.rangeRefinedBy(this);\n  };\n\n  _proto.get = function get(field) {\n    return this.getLong(field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.INSTANT_SECONDS:\n          return this.toEpochSecond();\n\n        case ChronoField.OFFSET_SECONDS:\n          return this._offset.totalSeconds();\n      }\n\n      return this._dateTime.getLong(field);\n    }\n\n    requireNonNull(field, 'field');\n    return field.getFrom(this);\n  };\n\n  _proto.offset = function offset() {\n    return this._offset;\n  };\n\n  _proto.withEarlierOffsetAtOverlap = function withEarlierOffsetAtOverlap() {\n    var trans = this._zone.rules().transition(this._dateTime);\n\n    if (trans != null && trans.isOverlap()) {\n      var earlierOffset = trans.offsetBefore();\n\n      if (earlierOffset.equals(this._offset) === false) {\n        return new ZonedDateTime(this._dateTime, earlierOffset, this._zone);\n      }\n    }\n\n    return this;\n  };\n\n  _proto.withLaterOffsetAtOverlap = function withLaterOffsetAtOverlap() {\n    var trans = this._zone.rules().transition(this.toLocalDateTime());\n\n    if (trans != null) {\n      var laterOffset = trans.offsetAfter();\n\n      if (laterOffset.equals(this._offset) === false) {\n        return new ZonedDateTime(this._dateTime, laterOffset, this._zone);\n      }\n    }\n\n    return this;\n  };\n\n  _proto.zone = function zone() {\n    return this._zone;\n  };\n\n  _proto.withZoneSameLocal = function withZoneSameLocal(zone) {\n    requireNonNull(zone, 'zone');\n    return this._zone.equals(zone) ? this : ZonedDateTime.ofLocal(this._dateTime, zone, this._offset);\n  };\n\n  _proto.withZoneSameInstant = function withZoneSameInstant(zone) {\n    requireNonNull(zone, 'zone');\n    return this._zone.equals(zone) ? this : ZonedDateTime._create(this._dateTime.toEpochSecond(this._offset), this._dateTime.nano(), zone);\n  };\n\n  _proto.withFixedOffsetZone = function withFixedOffsetZone() {\n    return this._zone.equals(this._offset) ? this : new ZonedDateTime(this._dateTime, this._offset, this._offset);\n  };\n\n  _proto.year = function year() {\n    return this._dateTime.year();\n  };\n\n  _proto.monthValue = function monthValue() {\n    return this._dateTime.monthValue();\n  };\n\n  _proto.month = function month() {\n    return this._dateTime.month();\n  };\n\n  _proto.dayOfMonth = function dayOfMonth() {\n    return this._dateTime.dayOfMonth();\n  };\n\n  _proto.dayOfYear = function dayOfYear() {\n    return this._dateTime.dayOfYear();\n  };\n\n  _proto.dayOfWeek = function dayOfWeek() {\n    return this._dateTime.dayOfWeek();\n  };\n\n  _proto.hour = function hour() {\n    return this._dateTime.hour();\n  };\n\n  _proto.minute = function minute() {\n    return this._dateTime.minute();\n  };\n\n  _proto.second = function second() {\n    return this._dateTime.second();\n  };\n\n  _proto.nano = function nano() {\n    return this._dateTime.nano();\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    if (adjuster instanceof LocalDate) {\n      return this._resolveLocal(LocalDateTime.of(adjuster, this._dateTime.toLocalTime()));\n    } else if (adjuster instanceof LocalTime) {\n      return this._resolveLocal(LocalDateTime.of(this._dateTime.toLocalDate(), adjuster));\n    } else if (adjuster instanceof LocalDateTime) {\n      return this._resolveLocal(adjuster);\n    } else if (adjuster instanceof Instant) {\n      var instant = adjuster;\n      return ZonedDateTime._create(instant.epochSecond(), instant.nano(), this._zone);\n    } else if (adjuster instanceof ZoneOffset) {\n      return this._resolveOffset(adjuster);\n    }\n\n    requireNonNull(adjuster, 'adjuster');\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.INSTANT_SECONDS:\n          return ZonedDateTime._create(newValue, this.nano(), this._zone);\n\n        case ChronoField.OFFSET_SECONDS:\n          {\n            var offset = ZoneOffset.ofTotalSeconds(field.checkValidIntValue(newValue));\n            return this._resolveOffset(offset);\n          }\n      }\n\n      return this._resolveLocal(this._dateTime.with(field, newValue));\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto.withYear = function withYear(year) {\n    return this._resolveLocal(this._dateTime.withYear(year));\n  };\n\n  _proto.withMonth = function withMonth(month) {\n    return this._resolveLocal(this._dateTime.withMonth(month));\n  };\n\n  _proto.withDayOfMonth = function withDayOfMonth(dayOfMonth) {\n    return this._resolveLocal(this._dateTime.withDayOfMonth(dayOfMonth));\n  };\n\n  _proto.withDayOfYear = function withDayOfYear(dayOfYear) {\n    return this._resolveLocal(this._dateTime.withDayOfYear(dayOfYear));\n  };\n\n  _proto.withHour = function withHour(hour) {\n    return this._resolveLocal(this._dateTime.withHour(hour));\n  };\n\n  _proto.withMinute = function withMinute(minute) {\n    return this._resolveLocal(this._dateTime.withMinute(minute));\n  };\n\n  _proto.withSecond = function withSecond(second) {\n    return this._resolveLocal(this._dateTime.withSecond(second));\n  };\n\n  _proto.withNano = function withNano(nanoOfSecond) {\n    return this._resolveLocal(this._dateTime.withNano(nanoOfSecond));\n  };\n\n  _proto.truncatedTo = function truncatedTo(unit) {\n    return this._resolveLocal(this._dateTime.truncatedTo(unit));\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount);\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    if (unit instanceof ChronoUnit) {\n      if (unit.isDateBased()) {\n        return this._resolveLocal(this._dateTime.plus(amountToAdd, unit));\n      } else {\n        return this._resolveInstant(this._dateTime.plus(amountToAdd, unit));\n      }\n    }\n\n    requireNonNull(unit, 'unit');\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusYears = function plusYears(years) {\n    return this._resolveLocal(this._dateTime.plusYears(years));\n  };\n\n  _proto.plusMonths = function plusMonths(months) {\n    return this._resolveLocal(this._dateTime.plusMonths(months));\n  };\n\n  _proto.plusWeeks = function plusWeeks(weeks) {\n    return this._resolveLocal(this._dateTime.plusWeeks(weeks));\n  };\n\n  _proto.plusDays = function plusDays(days) {\n    return this._resolveLocal(this._dateTime.plusDays(days));\n  };\n\n  _proto.plusHours = function plusHours(hours) {\n    return this._resolveInstant(this._dateTime.plusHours(hours));\n  };\n\n  _proto.plusMinutes = function plusMinutes(minutes) {\n    return this._resolveInstant(this._dateTime.plusMinutes(minutes));\n  };\n\n  _proto.plusSeconds = function plusSeconds(seconds) {\n    return this._resolveInstant(this._dateTime.plusSeconds(seconds));\n  };\n\n  _proto.plusNanos = function plusNanos(nanos) {\n    return this._resolveInstant(this._dateTime.plusNanos(nanos));\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    return this.plusAmountUnit(-1 * amountToSubtract, unit);\n  };\n\n  _proto.minusYears = function minusYears(years) {\n    return this.plusYears(-1 * years);\n  };\n\n  _proto.minusMonths = function minusMonths(months) {\n    return this.plusMonths(-1 * months);\n  };\n\n  _proto.minusWeeks = function minusWeeks(weeks) {\n    return this.plusWeeks(-1 * weeks);\n  };\n\n  _proto.minusDays = function minusDays(days) {\n    return this.plusDays(-1 * days);\n  };\n\n  _proto.minusHours = function minusHours(hours) {\n    return this.plusHours(-1 * hours);\n  };\n\n  _proto.minusMinutes = function minusMinutes(minutes) {\n    return this.plusMinutes(-1 * minutes);\n  };\n\n  _proto.minusSeconds = function minusSeconds(seconds) {\n    return this.plusSeconds(-1 * seconds);\n  };\n\n  _proto.minusNanos = function minusNanos(nanos) {\n    return this.plusNanos(-1 * nanos);\n  };\n\n  _proto.query = function query(_query) {\n    if (_query === TemporalQueries.localDate()) {\n      return this.toLocalDate();\n    }\n\n    requireNonNull(_query, 'query');\n    return _ChronoZonedDateTime.prototype.query.call(this, _query);\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    var end = ZonedDateTime.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      end = end.withZoneSameInstant(this._zone);\n\n      if (unit.isDateBased()) {\n        return this._dateTime.until(end._dateTime, unit);\n      } else {\n        var difference = this._offset.totalSeconds() - end._offset.totalSeconds();\n\n        var adjustedEnd = end._dateTime.plusSeconds(difference);\n\n        return this._dateTime.until(adjustedEnd, unit);\n      }\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto.toLocalDateTime = function toLocalDateTime() {\n    return this._dateTime;\n  };\n\n  _proto.toLocalDate = function toLocalDate() {\n    return this._dateTime.toLocalDate();\n  };\n\n  _proto.toLocalTime = function toLocalTime() {\n    return this._dateTime.toLocalTime();\n  };\n\n  _proto.toOffsetDateTime = function toOffsetDateTime() {\n    return OffsetDateTime.of(this._dateTime, this._offset);\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof ZonedDateTime) {\n      return this._dateTime.equals(other._dateTime) && this._offset.equals(other._offset) && this._zone.equals(other._zone);\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return MathUtil.hashCode(this._dateTime.hashCode(), this._offset.hashCode(), this._zone.hashCode());\n  };\n\n  _proto.toString = function toString() {\n    var str = this._dateTime.toString() + this._offset.toString();\n\n    if (this._offset !== this._zone) {\n      str += '[' + this._zone.toString() + ']';\n    }\n\n    return str;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.format = function format(formatter) {\n    return _ChronoZonedDateTime.prototype.format.call(this, formatter);\n  };\n\n  return ZonedDateTime;\n}(ChronoZonedDateTime);\nfunction _init$g() {\n  ZonedDateTime.FROM = createTemporalQuery('ZonedDateTime.FROM', function (temporal) {\n    return ZonedDateTime.from(temporal);\n  });\n}\n\nvar OffsetDateTime = function (_DefaultInterfaceTemp) {\n  _inheritsLoose(OffsetDateTime, _DefaultInterfaceTemp);\n\n  OffsetDateTime.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (temporal instanceof OffsetDateTime) {\n      return temporal;\n    }\n\n    try {\n      var offset = ZoneOffset.from(temporal);\n\n      try {\n        var ldt = LocalDateTime.from(temporal);\n        return OffsetDateTime.of(ldt, offset);\n      } catch (_) {\n        var instant = Instant.from(temporal);\n        return OffsetDateTime.ofInstant(instant, offset);\n      }\n    } catch (ex) {\n      throw new DateTimeException(\"Unable to obtain OffsetDateTime TemporalAccessor: \" + temporal + \", type \" + (temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n  };\n\n  OffsetDateTime.now = function now(clockOrZone) {\n    if (arguments.length === 0) {\n      return OffsetDateTime.now(Clock.systemDefaultZone());\n    } else {\n      requireNonNull(clockOrZone, 'clockOrZone');\n\n      if (clockOrZone instanceof ZoneId) {\n        return OffsetDateTime.now(Clock.system(clockOrZone));\n      } else if (clockOrZone instanceof Clock) {\n        var now = clockOrZone.instant();\n        return OffsetDateTime.ofInstant(now, clockOrZone.zone().rules().offset(now));\n      } else {\n        throw new IllegalArgumentException('clockOrZone must be an instance of ZoneId or Clock');\n      }\n    }\n  };\n\n  OffsetDateTime.of = function of() {\n    if (arguments.length <= 2) {\n      return OffsetDateTime.ofDateTime.apply(this, arguments);\n    } else if (arguments.length === 3) {\n      return OffsetDateTime.ofDateAndTime.apply(this, arguments);\n    } else {\n      return OffsetDateTime.ofNumbers.apply(this, arguments);\n    }\n  };\n\n  OffsetDateTime.ofDateTime = function ofDateTime(dateTime, offset) {\n    return new OffsetDateTime(dateTime, offset);\n  };\n\n  OffsetDateTime.ofDateAndTime = function ofDateAndTime(date, time, offset) {\n    var dt = LocalDateTime.of(date, time);\n    return new OffsetDateTime(dt, offset);\n  };\n\n  OffsetDateTime.ofNumbers = function ofNumbers(year, month, dayOfMonth, hour, minute, second, nanoOfSecond, offset) {\n    if (hour === void 0) {\n      hour = 0;\n    }\n\n    if (minute === void 0) {\n      minute = 0;\n    }\n\n    if (second === void 0) {\n      second = 0;\n    }\n\n    if (nanoOfSecond === void 0) {\n      nanoOfSecond = 0;\n    }\n\n    var dt = LocalDateTime.of(year, month, dayOfMonth, hour, minute, second, nanoOfSecond);\n    return new OffsetDateTime(dt, offset);\n  };\n\n  OffsetDateTime.ofInstant = function ofInstant(instant, zone) {\n    requireNonNull(instant, 'instant');\n    requireNonNull(zone, 'zone');\n    var rules = zone.rules();\n    var offset = rules.offset(instant);\n    var ldt = LocalDateTime.ofEpochSecond(instant.epochSecond(), instant.nano(), offset);\n    return new OffsetDateTime(ldt, offset);\n  };\n\n  OffsetDateTime.parse = function parse(text, formatter) {\n    if (formatter === void 0) {\n      formatter = DateTimeFormatter.ISO_OFFSET_DATE_TIME;\n    }\n\n    requireNonNull(formatter, 'formatter');\n    return formatter.parse(text, OffsetDateTime.FROM);\n  };\n\n  function OffsetDateTime(dateTime, offset) {\n    var _this;\n\n    _this = _DefaultInterfaceTemp.call(this) || this;\n    requireNonNull(dateTime, 'dateTime');\n    requireInstance(dateTime, LocalDateTime, 'dateTime');\n    requireNonNull(offset, 'offset');\n    requireInstance(offset, ZoneOffset, 'offset');\n    _this._dateTime = dateTime;\n    _this._offset = offset;\n    return _this;\n  }\n\n  var _proto = OffsetDateTime.prototype;\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return temporal.with(ChronoField.EPOCH_DAY, this.toLocalDate().toEpochDay()).with(ChronoField.NANO_OF_DAY, this.toLocalTime().toNanoOfDay()).with(ChronoField.OFFSET_SECONDS, this.offset().totalSeconds());\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    var end = OffsetDateTime.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      end = end.withOffsetSameInstant(this._offset);\n      return this._dateTime.until(end._dateTime, unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto.atZoneSameInstant = function atZoneSameInstant(zone) {\n    return ZonedDateTime.ofInstant(this._dateTime, this._offset, zone);\n  };\n\n  _proto.atZoneSimilarLocal = function atZoneSimilarLocal(zone) {\n    return ZonedDateTime.ofLocal(this._dateTime, zone, this._offset);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.chronology()) {\n      return IsoChronology.INSTANCE;\n    } else if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.NANOS;\n    } else if (_query === TemporalQueries.offset() || _query === TemporalQueries.zone()) {\n      return this.offset();\n    } else if (_query === TemporalQueries.localDate()) {\n      return this.toLocalDate();\n    } else if (_query === TemporalQueries.localTime()) {\n      return this.toLocalTime();\n    } else if (_query === TemporalQueries.zoneId()) {\n      return null;\n    }\n\n    return _DefaultInterfaceTemp.prototype.query.call(this, _query);\n  };\n\n  _proto.get = function get(field) {\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.INSTANT_SECONDS:\n          throw new DateTimeException('Field too large for an int: ' + field);\n\n        case ChronoField.OFFSET_SECONDS:\n          return this.offset().totalSeconds();\n      }\n\n      return this._dateTime.get(field);\n    }\n\n    return _DefaultInterfaceTemp.prototype.get.call(this, field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.INSTANT_SECONDS:\n          return this.toEpochSecond();\n\n        case ChronoField.OFFSET_SECONDS:\n          return this.offset().totalSeconds();\n      }\n\n      return this._dateTime.getLong(field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.offset = function offset() {\n    return this._offset;\n  };\n\n  _proto.year = function year() {\n    return this._dateTime.year();\n  };\n\n  _proto.monthValue = function monthValue() {\n    return this._dateTime.monthValue();\n  };\n\n  _proto.month = function month() {\n    return this._dateTime.month();\n  };\n\n  _proto.dayOfMonth = function dayOfMonth() {\n    return this._dateTime.dayOfMonth();\n  };\n\n  _proto.dayOfYear = function dayOfYear() {\n    return this._dateTime.dayOfYear();\n  };\n\n  _proto.dayOfWeek = function dayOfWeek() {\n    return this._dateTime.dayOfWeek();\n  };\n\n  _proto.hour = function hour() {\n    return this._dateTime.hour();\n  };\n\n  _proto.minute = function minute() {\n    return this._dateTime.minute();\n  };\n\n  _proto.second = function second() {\n    return this._dateTime.second();\n  };\n\n  _proto.nano = function nano() {\n    return this._dateTime.nano();\n  };\n\n  _proto.toLocalDateTime = function toLocalDateTime() {\n    return this._dateTime;\n  };\n\n  _proto.toLocalDate = function toLocalDate() {\n    return this._dateTime.toLocalDate();\n  };\n\n  _proto.toLocalTime = function toLocalTime() {\n    return this._dateTime.toLocalTime();\n  };\n\n  _proto.toOffsetTime = function toOffsetTime() {\n    return OffsetTime.of(this._dateTime.toLocalTime(), this._offset);\n  };\n\n  _proto.toZonedDateTime = function toZonedDateTime() {\n    return ZonedDateTime.of(this._dateTime, this._offset);\n  };\n\n  _proto.toInstant = function toInstant() {\n    return this._dateTime.toInstant(this._offset);\n  };\n\n  _proto.toEpochSecond = function toEpochSecond() {\n    return this._dateTime.toEpochSecond(this._offset);\n  };\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (fieldOrUnit instanceof ChronoField) {\n      return fieldOrUnit.isDateBased() || fieldOrUnit.isTimeBased();\n    }\n\n    if (fieldOrUnit instanceof ChronoUnit) {\n      return fieldOrUnit.isDateBased() || fieldOrUnit.isTimeBased();\n    }\n\n    return fieldOrUnit != null && fieldOrUnit.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    if (field instanceof ChronoField) {\n      if (field === ChronoField.INSTANT_SECONDS || field === ChronoField.OFFSET_SECONDS) {\n        return field.range();\n      }\n\n      return this._dateTime.range(field);\n    }\n\n    return field.rangeRefinedBy(this);\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster);\n\n    if (adjuster instanceof LocalDate || adjuster instanceof LocalTime || adjuster instanceof LocalDateTime) {\n      return this._withDateTimeOffset(this._dateTime.with(adjuster), this._offset);\n    } else if (adjuster instanceof Instant) {\n      return OffsetDateTime.ofInstant(adjuster, this._offset);\n    } else if (adjuster instanceof ZoneOffset) {\n      return this._withDateTimeOffset(this._dateTime, adjuster);\n    } else if (adjuster instanceof OffsetDateTime) {\n      return adjuster;\n    }\n\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    requireNonNull(field);\n\n    if (field instanceof ChronoField) {\n      var f = field;\n\n      switch (f) {\n        case ChronoField.INSTANT_SECONDS:\n          return OffsetDateTime.ofInstant(Instant.ofEpochSecond(newValue, this.nano()), this._offset);\n\n        case ChronoField.OFFSET_SECONDS:\n          {\n            return this._withDateTimeOffset(this._dateTime, ZoneOffset.ofTotalSeconds(f.checkValidIntValue(newValue)));\n          }\n      }\n\n      return this._withDateTimeOffset(this._dateTime.with(field, newValue), this._offset);\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto._withDateTimeOffset = function _withDateTimeOffset(dateTime, offset) {\n    if (this._dateTime === dateTime && this._offset.equals(offset)) {\n      return this;\n    }\n\n    return new OffsetDateTime(dateTime, offset);\n  };\n\n  _proto.withYear = function withYear(year) {\n    return this._withDateTimeOffset(this._dateTime.withYear(year), this._offset);\n  };\n\n  _proto.withMonth = function withMonth(month) {\n    return this._withDateTimeOffset(this._dateTime.withMonth(month), this._offset);\n  };\n\n  _proto.withDayOfMonth = function withDayOfMonth(dayOfMonth) {\n    return this._withDateTimeOffset(this._dateTime.withDayOfMonth(dayOfMonth), this._offset);\n  };\n\n  _proto.withDayOfYear = function withDayOfYear(dayOfYear) {\n    return this._withDateTimeOffset(this._dateTime.withDayOfYear(dayOfYear), this._offset);\n  };\n\n  _proto.withHour = function withHour(hour) {\n    return this._withDateTimeOffset(this._dateTime.withHour(hour), this._offset);\n  };\n\n  _proto.withMinute = function withMinute(minute) {\n    return this._withDateTimeOffset(this._dateTime.withMinute(minute), this._offset);\n  };\n\n  _proto.withSecond = function withSecond(second) {\n    return this._withDateTimeOffset(this._dateTime.withSecond(second), this._offset);\n  };\n\n  _proto.withNano = function withNano(nanoOfSecond) {\n    return this._withDateTimeOffset(this._dateTime.withNano(nanoOfSecond), this._offset);\n  };\n\n  _proto.withOffsetSameLocal = function withOffsetSameLocal(offset) {\n    requireNonNull(offset, 'offset');\n    return this._withDateTimeOffset(this._dateTime, offset);\n  };\n\n  _proto.withOffsetSameInstant = function withOffsetSameInstant(offset) {\n    requireNonNull(offset, 'offset');\n\n    if (offset.equals(this._offset)) {\n      return this;\n    }\n\n    var difference = offset.totalSeconds() - this._offset.totalSeconds();\n\n    var adjusted = this._dateTime.plusSeconds(difference);\n\n    return new OffsetDateTime(adjusted, offset);\n  };\n\n  _proto.truncatedTo = function truncatedTo(unit) {\n    return this._withDateTimeOffset(this._dateTime.truncatedTo(unit), this._offset);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    if (unit instanceof ChronoUnit) {\n      return this._withDateTimeOffset(this._dateTime.plus(amountToAdd, unit), this._offset);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusYears = function plusYears(years) {\n    return this._withDateTimeOffset(this._dateTime.plusYears(years), this._offset);\n  };\n\n  _proto.plusMonths = function plusMonths(months) {\n    return this._withDateTimeOffset(this._dateTime.plusMonths(months), this._offset);\n  };\n\n  _proto.plusWeeks = function plusWeeks(weeks) {\n    return this._withDateTimeOffset(this._dateTime.plusWeeks(weeks), this._offset);\n  };\n\n  _proto.plusDays = function plusDays(days) {\n    return this._withDateTimeOffset(this._dateTime.plusDays(days), this._offset);\n  };\n\n  _proto.plusHours = function plusHours(hours) {\n    return this._withDateTimeOffset(this._dateTime.plusHours(hours), this._offset);\n  };\n\n  _proto.plusMinutes = function plusMinutes(minutes) {\n    return this._withDateTimeOffset(this._dateTime.plusMinutes(minutes), this._offset);\n  };\n\n  _proto.plusSeconds = function plusSeconds(seconds) {\n    return this._withDateTimeOffset(this._dateTime.plusSeconds(seconds), this._offset);\n  };\n\n  _proto.plusNanos = function plusNanos(nanos) {\n    return this._withDateTimeOffset(this._dateTime.plusNanos(nanos), this._offset);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount);\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    return this.plus(-1 * amountToSubtract, unit);\n  };\n\n  _proto.minusYears = function minusYears(years) {\n    return this._withDateTimeOffset(this._dateTime.minusYears(years), this._offset);\n  };\n\n  _proto.minusMonths = function minusMonths(months) {\n    return this._withDateTimeOffset(this._dateTime.minusMonths(months), this._offset);\n  };\n\n  _proto.minusWeeks = function minusWeeks(weeks) {\n    return this._withDateTimeOffset(this._dateTime.minusWeeks(weeks), this._offset);\n  };\n\n  _proto.minusDays = function minusDays(days) {\n    return this._withDateTimeOffset(this._dateTime.minusDays(days), this._offset);\n  };\n\n  _proto.minusHours = function minusHours(hours) {\n    return this._withDateTimeOffset(this._dateTime.minusHours(hours), this._offset);\n  };\n\n  _proto.minusMinutes = function minusMinutes(minutes) {\n    return this._withDateTimeOffset(this._dateTime.minusMinutes(minutes), this._offset);\n  };\n\n  _proto.minusSeconds = function minusSeconds(seconds) {\n    return this._withDateTimeOffset(this._dateTime.minusSeconds(seconds), this._offset);\n  };\n\n  _proto.minusNanos = function minusNanos(nanos) {\n    return this._withDateTimeOffset(this._dateTime.minusNanos(nanos), this._offset);\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, OffsetDateTime, 'other');\n\n    if (this.offset().equals(other.offset())) {\n      return this.toLocalDateTime().compareTo(other.toLocalDateTime());\n    }\n\n    var cmp = MathUtil.compareNumbers(this.toEpochSecond(), other.toEpochSecond());\n\n    if (cmp === 0) {\n      cmp = this.toLocalTime().nano() - other.toLocalTime().nano();\n\n      if (cmp === 0) {\n        cmp = this.toLocalDateTime().compareTo(other.toLocalDateTime());\n      }\n    }\n\n    return cmp;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    requireNonNull(other, 'other');\n    var thisEpochSec = this.toEpochSecond();\n    var otherEpochSec = other.toEpochSecond();\n    return thisEpochSec > otherEpochSec || thisEpochSec === otherEpochSec && this.toLocalTime().nano() > other.toLocalTime().nano();\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    requireNonNull(other, 'other');\n    var thisEpochSec = this.toEpochSecond();\n    var otherEpochSec = other.toEpochSecond();\n    return thisEpochSec < otherEpochSec || thisEpochSec === otherEpochSec && this.toLocalTime().nano() < other.toLocalTime().nano();\n  };\n\n  _proto.isEqual = function isEqual(other) {\n    requireNonNull(other, 'other');\n    return this.toEpochSecond() === other.toEpochSecond() && this.toLocalTime().nano() === other.toLocalTime().nano();\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof OffsetDateTime) {\n      return this._dateTime.equals(other._dateTime) && this._offset.equals(other._offset);\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return this._dateTime.hashCode() ^ this._offset.hashCode();\n  };\n\n  _proto.toString = function toString() {\n    return this._dateTime.toString() + this._offset.toString();\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  return OffsetDateTime;\n}(DefaultInterfaceTemporal);\nfunction _init$h() {\n  OffsetDateTime.MIN = LocalDateTime.MIN.atOffset(ZoneOffset.MAX);\n  OffsetDateTime.MAX = LocalDateTime.MAX.atOffset(ZoneOffset.MIN);\n  OffsetDateTime.FROM = createTemporalQuery('OffsetDateTime.FROM', function (temporal) {\n    return OffsetDateTime.from(temporal);\n  });\n}\n\nvar DAYS_PER_CYCLE = 146097;\nvar DAYS_0000_TO_1970 = DAYS_PER_CYCLE * 5 - (30 * 365 + 7);\nvar LocalDate = function (_ChronoLocalDate) {\n  _inheritsLoose(LocalDate, _ChronoLocalDate);\n\n  LocalDate.now = function now(clockOrZone) {\n    var clock;\n\n    if (clockOrZone == null) {\n      clock = Clock.systemDefaultZone();\n    } else if (clockOrZone instanceof ZoneId) {\n      clock = Clock.system(clockOrZone);\n    } else {\n      clock = clockOrZone;\n    }\n\n    return LocalDate.ofInstant(clock.instant(), clock.zone());\n  };\n\n  LocalDate.ofInstant = function ofInstant(instant, zone) {\n    if (zone === void 0) {\n      zone = ZoneId.systemDefault();\n    }\n\n    requireNonNull(instant, 'instant');\n    var offset = zone.rules().offset(instant);\n    var epochSec = instant.epochSecond() + offset.totalSeconds();\n    var epochDay = MathUtil.floorDiv(epochSec, LocalTime.SECONDS_PER_DAY);\n    return LocalDate.ofEpochDay(epochDay);\n  };\n\n  LocalDate.of = function of(year, month, dayOfMonth) {\n    return new LocalDate(year, month, dayOfMonth);\n  };\n\n  LocalDate.ofYearDay = function ofYearDay(year, dayOfYear) {\n    ChronoField.YEAR.checkValidValue(year);\n    var leap = IsoChronology.isLeapYear(year);\n\n    if (dayOfYear === 366 && leap === false) {\n      assert(false, 'Invalid date \\'DayOfYear 366\\' as \\'' + year + '\\' is not a leap year', DateTimeException);\n    }\n\n    var moy = Month.of(Math.floor((dayOfYear - 1) / 31 + 1));\n    var monthEnd = moy.firstDayOfYear(leap) + moy.length(leap) - 1;\n\n    if (dayOfYear > monthEnd) {\n      moy = moy.plus(1);\n    }\n\n    var dom = dayOfYear - moy.firstDayOfYear(leap) + 1;\n    return new LocalDate(year, moy.value(), dom);\n  };\n\n  LocalDate.ofEpochDay = function ofEpochDay(epochDay) {\n    if (epochDay === void 0) {\n      epochDay = 0;\n    }\n\n    var adjust, adjustCycles, doyEst, yearEst, zeroDay;\n    zeroDay = epochDay + DAYS_0000_TO_1970;\n    zeroDay -= 60;\n    adjust = 0;\n\n    if (zeroDay < 0) {\n      adjustCycles = MathUtil.intDiv(zeroDay + 1, DAYS_PER_CYCLE) - 1;\n      adjust = adjustCycles * 400;\n      zeroDay += -adjustCycles * DAYS_PER_CYCLE;\n    }\n\n    yearEst = MathUtil.intDiv(400 * zeroDay + 591, DAYS_PER_CYCLE);\n    doyEst = zeroDay - (365 * yearEst + MathUtil.intDiv(yearEst, 4) - MathUtil.intDiv(yearEst, 100) + MathUtil.intDiv(yearEst, 400));\n\n    if (doyEst < 0) {\n      yearEst--;\n      doyEst = zeroDay - (365 * yearEst + MathUtil.intDiv(yearEst, 4) - MathUtil.intDiv(yearEst, 100) + MathUtil.intDiv(yearEst, 400));\n    }\n\n    yearEst += adjust;\n    var marchDoy0 = doyEst;\n    var marchMonth0 = MathUtil.intDiv(marchDoy0 * 5 + 2, 153);\n    var month = (marchMonth0 + 2) % 12 + 1;\n    var dom = marchDoy0 - MathUtil.intDiv(marchMonth0 * 306 + 5, 10) + 1;\n    yearEst += MathUtil.intDiv(marchMonth0, 10);\n    var year = yearEst;\n    return new LocalDate(year, month, dom);\n  };\n\n  LocalDate.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n    var date = temporal.query(TemporalQueries.localDate());\n\n    if (date == null) {\n      throw new DateTimeException(\"Unable to obtain LocalDate from TemporalAccessor: \" + temporal + \", type \" + (temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n\n    return date;\n  };\n\n  LocalDate.parse = function parse(text, formatter) {\n    if (formatter === void 0) {\n      formatter = DateTimeFormatter.ISO_LOCAL_DATE;\n    }\n\n    assert(formatter != null, 'formatter', NullPointerException);\n    return formatter.parse(text, LocalDate.FROM);\n  };\n\n  LocalDate._resolvePreviousValid = function _resolvePreviousValid(year, month, day) {\n    switch (month) {\n      case 2:\n        day = Math.min(day, IsoChronology.isLeapYear(year) ? 29 : 28);\n        break;\n\n      case 4:\n      case 6:\n      case 9:\n      case 11:\n        day = Math.min(day, 30);\n        break;\n    }\n\n    return LocalDate.of(year, month, day);\n  };\n\n  function LocalDate(year, month, dayOfMonth) {\n    var _this;\n\n    _this = _ChronoLocalDate.call(this) || this;\n    requireNonNull(year, 'year');\n    requireNonNull(month, 'month');\n    requireNonNull(dayOfMonth, 'dayOfMonth');\n\n    if (month instanceof Month) {\n      month = month.value();\n    }\n\n    _this._year = MathUtil.safeToInt(year);\n    _this._month = MathUtil.safeToInt(month);\n    _this._day = MathUtil.safeToInt(dayOfMonth);\n\n    LocalDate._validate(_this._year, _this._month, _this._day);\n\n    return _this;\n  }\n\n  LocalDate._validate = function _validate(year, month, dayOfMonth) {\n    var dom;\n    ChronoField.YEAR.checkValidValue(year);\n    ChronoField.MONTH_OF_YEAR.checkValidValue(month);\n    ChronoField.DAY_OF_MONTH.checkValidValue(dayOfMonth);\n\n    if (dayOfMonth > 28) {\n      dom = 31;\n\n      switch (month) {\n        case 2:\n          dom = IsoChronology.isLeapYear(year) ? 29 : 28;\n          break;\n\n        case 4:\n        case 6:\n        case 9:\n        case 11:\n          dom = 30;\n      }\n\n      if (dayOfMonth > dom) {\n        if (dayOfMonth === 29) {\n          assert(false, 'Invalid date \\'February 29\\' as \\'' + year + '\\' is not a leap year', DateTimeException);\n        } else {\n          assert(false, 'Invalid date \\'' + year + '\\' \\'' + month + '\\' \\'' + dayOfMonth + '\\'', DateTimeException);\n        }\n      }\n    }\n  };\n\n  var _proto = LocalDate.prototype;\n\n  _proto.isSupported = function isSupported(field) {\n    return _ChronoLocalDate.prototype.isSupported.call(this, field);\n  };\n\n  _proto.range = function range(field) {\n    if (field instanceof ChronoField) {\n      if (field.isDateBased()) {\n        switch (field) {\n          case ChronoField.DAY_OF_MONTH:\n            return ValueRange.of(1, this.lengthOfMonth());\n\n          case ChronoField.DAY_OF_YEAR:\n            return ValueRange.of(1, this.lengthOfYear());\n\n          case ChronoField.ALIGNED_WEEK_OF_MONTH:\n            return ValueRange.of(1, this.month() === Month.FEBRUARY && this.isLeapYear() === false ? 4 : 5);\n\n          case ChronoField.YEAR_OF_ERA:\n            return this._year <= 0 ? ValueRange.of(1, Year.MAX_VALUE + 1) : ValueRange.of(1, Year.MAX_VALUE);\n        }\n\n        return field.range();\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.rangeRefinedBy(this);\n  };\n\n  _proto.get = function get(field) {\n    return this.getLong(field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    assert(field != null, '', NullPointerException);\n\n    if (field instanceof ChronoField) {\n      return this._get0(field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto._get0 = function _get0(field) {\n    switch (field) {\n      case ChronoField.DAY_OF_WEEK:\n        return this.dayOfWeek().value();\n\n      case ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH:\n        return MathUtil.intMod(this._day - 1, 7) + 1;\n\n      case ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR:\n        return MathUtil.intMod(this.dayOfYear() - 1, 7) + 1;\n\n      case ChronoField.DAY_OF_MONTH:\n        return this._day;\n\n      case ChronoField.DAY_OF_YEAR:\n        return this.dayOfYear();\n\n      case ChronoField.EPOCH_DAY:\n        return this.toEpochDay();\n\n      case ChronoField.ALIGNED_WEEK_OF_MONTH:\n        return MathUtil.intDiv(this._day - 1, 7) + 1;\n\n      case ChronoField.ALIGNED_WEEK_OF_YEAR:\n        return MathUtil.intDiv(this.dayOfYear() - 1, 7) + 1;\n\n      case ChronoField.MONTH_OF_YEAR:\n        return this._month;\n\n      case ChronoField.PROLEPTIC_MONTH:\n        return this._prolepticMonth();\n\n      case ChronoField.YEAR_OF_ERA:\n        return this._year >= 1 ? this._year : 1 - this._year;\n\n      case ChronoField.YEAR:\n        return this._year;\n\n      case ChronoField.ERA:\n        return this._year >= 1 ? 1 : 0;\n    }\n\n    throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n  };\n\n  _proto._prolepticMonth = function _prolepticMonth() {\n    return this._year * 12 + (this._month - 1);\n  };\n\n  _proto.chronology = function chronology() {\n    return IsoChronology.INSTANCE;\n  };\n\n  _proto.year = function year() {\n    return this._year;\n  };\n\n  _proto.monthValue = function monthValue() {\n    return this._month;\n  };\n\n  _proto.month = function month() {\n    return Month.of(this._month);\n  };\n\n  _proto.dayOfMonth = function dayOfMonth() {\n    return this._day;\n  };\n\n  _proto.dayOfYear = function dayOfYear() {\n    return this.month().firstDayOfYear(this.isLeapYear()) + this._day - 1;\n  };\n\n  _proto.dayOfWeek = function dayOfWeek() {\n    var dow0 = MathUtil.floorMod(this.toEpochDay() + 3, 7);\n    return DayOfWeek.of(dow0 + 1);\n  };\n\n  _proto.isLeapYear = function isLeapYear() {\n    return IsoChronology.isLeapYear(this._year);\n  };\n\n  _proto.lengthOfMonth = function lengthOfMonth() {\n    switch (this._month) {\n      case 2:\n        return this.isLeapYear() ? 29 : 28;\n\n      case 4:\n      case 6:\n      case 9:\n      case 11:\n        return 30;\n\n      default:\n        return 31;\n    }\n  };\n\n  _proto.lengthOfYear = function lengthOfYear() {\n    return this.isLeapYear() ? 366 : 365;\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n\n    if (adjuster instanceof LocalDate) {\n      return adjuster;\n    }\n\n    assert(typeof adjuster.adjustInto === 'function', 'adjuster', IllegalArgumentException);\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    assert(field != null, 'field', NullPointerException);\n\n    if (field instanceof ChronoField) {\n      var f = field;\n      f.checkValidValue(newValue);\n\n      switch (f) {\n        case ChronoField.DAY_OF_WEEK:\n          return this.plusDays(newValue - this.dayOfWeek().value());\n\n        case ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH:\n          return this.plusDays(newValue - this.getLong(ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH));\n\n        case ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR:\n          return this.plusDays(newValue - this.getLong(ChronoField.ALIGNED_DAY_OF_WEEK_IN_YEAR));\n\n        case ChronoField.DAY_OF_MONTH:\n          return this.withDayOfMonth(newValue);\n\n        case ChronoField.DAY_OF_YEAR:\n          return this.withDayOfYear(newValue);\n\n        case ChronoField.EPOCH_DAY:\n          return LocalDate.ofEpochDay(newValue);\n\n        case ChronoField.ALIGNED_WEEK_OF_MONTH:\n          return this.plusWeeks(newValue - this.getLong(ChronoField.ALIGNED_WEEK_OF_MONTH));\n\n        case ChronoField.ALIGNED_WEEK_OF_YEAR:\n          return this.plusWeeks(newValue - this.getLong(ChronoField.ALIGNED_WEEK_OF_YEAR));\n\n        case ChronoField.MONTH_OF_YEAR:\n          return this.withMonth(newValue);\n\n        case ChronoField.PROLEPTIC_MONTH:\n          return this.plusMonths(newValue - this.getLong(ChronoField.PROLEPTIC_MONTH));\n\n        case ChronoField.YEAR_OF_ERA:\n          return this.withYear(this._year >= 1 ? newValue : 1 - newValue);\n\n        case ChronoField.YEAR:\n          return this.withYear(newValue);\n\n        case ChronoField.ERA:\n          return this.getLong(ChronoField.ERA) === newValue ? this : this.withYear(1 - this._year);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto.withYear = function withYear(year) {\n    if (this._year === year) {\n      return this;\n    }\n\n    ChronoField.YEAR.checkValidValue(year);\n    return LocalDate._resolvePreviousValid(year, this._month, this._day);\n  };\n\n  _proto.withMonth = function withMonth(month) {\n    var m = month instanceof Month ? month.value() : month;\n\n    if (this._month === m) {\n      return this;\n    }\n\n    ChronoField.MONTH_OF_YEAR.checkValidValue(m);\n    return LocalDate._resolvePreviousValid(this._year, m, this._day);\n  };\n\n  _proto.withDayOfMonth = function withDayOfMonth(dayOfMonth) {\n    if (this._day === dayOfMonth) {\n      return this;\n    }\n\n    return LocalDate.of(this._year, this._month, dayOfMonth);\n  };\n\n  _proto.withDayOfYear = function withDayOfYear(dayOfYear) {\n    if (this.dayOfYear() === dayOfYear) {\n      return this;\n    }\n\n    return LocalDate.ofYearDay(this._year, dayOfYear);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    requireNonNull(amountToAdd, 'amountToAdd');\n    requireNonNull(unit, 'unit');\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.DAYS:\n          return this.plusDays(amountToAdd);\n\n        case ChronoUnit.WEEKS:\n          return this.plusWeeks(amountToAdd);\n\n        case ChronoUnit.MONTHS:\n          return this.plusMonths(amountToAdd);\n\n        case ChronoUnit.YEARS:\n          return this.plusYears(amountToAdd);\n\n        case ChronoUnit.DECADES:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 10));\n\n        case ChronoUnit.CENTURIES:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 100));\n\n        case ChronoUnit.MILLENNIA:\n          return this.plusYears(MathUtil.safeMultiply(amountToAdd, 1000));\n\n        case ChronoUnit.ERAS:\n          return this.with(ChronoField.ERA, MathUtil.safeAdd(this.getLong(ChronoField.ERA), amountToAdd));\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusYears = function plusYears(yearsToAdd) {\n    if (yearsToAdd === 0) {\n      return this;\n    }\n\n    var newYear = ChronoField.YEAR.checkValidIntValue(this._year + yearsToAdd);\n    return LocalDate._resolvePreviousValid(newYear, this._month, this._day);\n  };\n\n  _proto.plusMonths = function plusMonths(monthsToAdd) {\n    if (monthsToAdd === 0) {\n      return this;\n    }\n\n    var monthCount = this._year * 12 + (this._month - 1);\n    var calcMonths = monthCount + monthsToAdd;\n    var newYear = ChronoField.YEAR.checkValidIntValue(MathUtil.floorDiv(calcMonths, 12));\n    var newMonth = MathUtil.floorMod(calcMonths, 12) + 1;\n    return LocalDate._resolvePreviousValid(newYear, newMonth, this._day);\n  };\n\n  _proto.plusWeeks = function plusWeeks(weeksToAdd) {\n    return this.plusDays(MathUtil.safeMultiply(weeksToAdd, 7));\n  };\n\n  _proto.plusDays = function plusDays(daysToAdd) {\n    if (daysToAdd === 0) {\n      return this;\n    }\n\n    var mjDay = MathUtil.safeAdd(this.toEpochDay(), daysToAdd);\n    return LocalDate.ofEpochDay(mjDay);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    requireNonNull(amountToSubtract, 'amountToSubtract');\n    requireNonNull(unit, 'unit');\n    return this.plusAmountUnit(-1 * amountToSubtract, unit);\n  };\n\n  _proto.minusYears = function minusYears(yearsToSubtract) {\n    return this.plusYears(yearsToSubtract * -1);\n  };\n\n  _proto.minusMonths = function minusMonths(monthsToSubtract) {\n    return this.plusMonths(monthsToSubtract * -1);\n  };\n\n  _proto.minusWeeks = function minusWeeks(weeksToSubtract) {\n    return this.plusWeeks(weeksToSubtract * -1);\n  };\n\n  _proto.minusDays = function minusDays(daysToSubtract) {\n    return this.plusDays(daysToSubtract * -1);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.localDate()) {\n      return this;\n    }\n\n    return _ChronoLocalDate.prototype.query.call(this, _query);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return _ChronoLocalDate.prototype.adjustInto.call(this, temporal);\n  };\n\n  _proto.until = function until(p1, p2) {\n    if (arguments.length < 2) {\n      return this.until1(p1);\n    } else {\n      return this.until2(p1, p2);\n    }\n  };\n\n  _proto.until2 = function until2(endExclusive, unit) {\n    var end = LocalDate.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.DAYS:\n          return this.daysUntil(end);\n\n        case ChronoUnit.WEEKS:\n          return MathUtil.intDiv(this.daysUntil(end), 7);\n\n        case ChronoUnit.MONTHS:\n          return this._monthsUntil(end);\n\n        case ChronoUnit.YEARS:\n          return MathUtil.intDiv(this._monthsUntil(end), 12);\n\n        case ChronoUnit.DECADES:\n          return MathUtil.intDiv(this._monthsUntil(end), 120);\n\n        case ChronoUnit.CENTURIES:\n          return MathUtil.intDiv(this._monthsUntil(end), 1200);\n\n        case ChronoUnit.MILLENNIA:\n          return MathUtil.intDiv(this._monthsUntil(end), 12000);\n\n        case ChronoUnit.ERAS:\n          return end.getLong(ChronoField.ERA) - this.getLong(ChronoField.ERA);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto.daysUntil = function daysUntil(end) {\n    return end.toEpochDay() - this.toEpochDay();\n  };\n\n  _proto._monthsUntil = function _monthsUntil(end) {\n    var packed1 = this._prolepticMonth() * 32 + this.dayOfMonth();\n    var packed2 = end._prolepticMonth() * 32 + end.dayOfMonth();\n    return MathUtil.intDiv(packed2 - packed1, 32);\n  };\n\n  _proto.until1 = function until1(endDate) {\n    var end = LocalDate.from(endDate);\n\n    var totalMonths = end._prolepticMonth() - this._prolepticMonth();\n\n    var days = end._day - this._day;\n\n    if (totalMonths > 0 && days < 0) {\n      totalMonths--;\n      var calcDate = this.plusMonths(totalMonths);\n      days = end.toEpochDay() - calcDate.toEpochDay();\n    } else if (totalMonths < 0 && days > 0) {\n      totalMonths++;\n      days -= end.lengthOfMonth();\n    }\n\n    var years = MathUtil.intDiv(totalMonths, 12);\n    var months = MathUtil.intMod(totalMonths, 12);\n    return Period.of(years, months, days);\n  };\n\n  _proto.atTime = function atTime() {\n    if (arguments.length === 1) {\n      return this.atTime1.apply(this, arguments);\n    } else {\n      return this.atTime4.apply(this, arguments);\n    }\n  };\n\n  _proto.atTime1 = function atTime1(time) {\n    requireNonNull(time, 'time');\n\n    if (time instanceof LocalTime) {\n      return LocalDateTime.of(this, time);\n    } else if (time instanceof OffsetTime) {\n      return this._atTimeOffsetTime(time);\n    } else {\n      throw new IllegalArgumentException('time must be an instance of LocalTime or OffsetTime' + (time && time.constructor && time.constructor.name ? ', but is ' + time.constructor.name : ''));\n    }\n  };\n\n  _proto.atTime4 = function atTime4(hour, minute, second, nanoOfSecond) {\n    if (second === void 0) {\n      second = 0;\n    }\n\n    if (nanoOfSecond === void 0) {\n      nanoOfSecond = 0;\n    }\n\n    return this.atTime1(LocalTime.of(hour, minute, second, nanoOfSecond));\n  };\n\n  _proto._atTimeOffsetTime = function _atTimeOffsetTime(time) {\n    return OffsetDateTime.of(LocalDateTime.of(this, time.toLocalTime()), time.offset());\n  };\n\n  _proto.atStartOfDay = function atStartOfDay(zone) {\n    if (zone != null) {\n      return this.atStartOfDayWithZone(zone);\n    } else {\n      return LocalDateTime.of(this, LocalTime.MIDNIGHT);\n    }\n  };\n\n  _proto.atStartOfDayWithZone = function atStartOfDayWithZone(zone) {\n    requireNonNull(zone, 'zone');\n    var ldt = this.atTime(LocalTime.MIDNIGHT);\n\n    if (zone instanceof ZoneOffset === false) {\n      var trans = zone.rules().transition(ldt);\n\n      if (trans != null && trans.isGap()) {\n        ldt = trans.dateTimeAfter();\n      }\n    }\n\n    return ZonedDateTime.of(ldt, zone);\n  };\n\n  _proto.toEpochDay = function toEpochDay() {\n    var y = this._year;\n    var m = this._month;\n    var total = 0;\n    total += 365 * y;\n\n    if (y >= 0) {\n      total += MathUtil.intDiv(y + 3, 4) - MathUtil.intDiv(y + 99, 100) + MathUtil.intDiv(y + 399, 400);\n    } else {\n      total -= MathUtil.intDiv(y, -4) - MathUtil.intDiv(y, -100) + MathUtil.intDiv(y, -400);\n    }\n\n    total += MathUtil.intDiv(367 * m - 362, 12);\n    total += this.dayOfMonth() - 1;\n\n    if (m > 2) {\n      total--;\n\n      if (!IsoChronology.isLeapYear(y)) {\n        total--;\n      }\n    }\n\n    return total - DAYS_0000_TO_1970;\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, LocalDate, 'other');\n    return this._compareTo0(other);\n  };\n\n  _proto._compareTo0 = function _compareTo0(otherDate) {\n    var cmp = this._year - otherDate._year;\n\n    if (cmp === 0) {\n      cmp = this._month - otherDate._month;\n\n      if (cmp === 0) {\n        cmp = this._day - otherDate._day;\n      }\n    }\n\n    return cmp;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    return this.compareTo(other) > 0;\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    return this.compareTo(other) < 0;\n  };\n\n  _proto.isEqual = function isEqual(other) {\n    return this.compareTo(other) === 0;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof LocalDate) {\n      return this._compareTo0(other) === 0;\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    var yearValue = this._year;\n    var monthValue = this._month;\n    var dayValue = this._day;\n    return MathUtil.hash(yearValue & 0xFFFFF800 ^ (yearValue << 11) + (monthValue << 6) + dayValue);\n  };\n\n  _proto.toString = function toString() {\n    var dayString, monthString, yearString;\n    var yearValue = this._year;\n    var monthValue = this._month;\n    var dayValue = this._day;\n    var absYear = Math.abs(yearValue);\n\n    if (absYear < 1000) {\n      if (yearValue < 0) {\n        yearString = '-' + ('' + (yearValue - 10000)).slice(-4);\n      } else {\n        yearString = ('' + (yearValue + 10000)).slice(-4);\n      }\n    } else {\n      if (yearValue > 9999) {\n        yearString = '+' + yearValue;\n      } else {\n        yearString = '' + yearValue;\n      }\n    }\n\n    if (monthValue < 10) {\n      monthString = '-0' + monthValue;\n    } else {\n      monthString = '-' + monthValue;\n    }\n\n    if (dayValue < 10) {\n      dayString = '-0' + dayValue;\n    } else {\n      dayString = '-' + dayValue;\n    }\n\n    return yearString + monthString + dayString;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    requireInstance(formatter, DateTimeFormatter, 'formatter');\n    return _ChronoLocalDate.prototype.format.call(this, formatter);\n  };\n\n  return LocalDate;\n}(ChronoLocalDate);\nfunction _init$i() {\n  LocalDate.MIN = LocalDate.of(YearConstants.MIN_VALUE, 1, 1);\n  LocalDate.MAX = LocalDate.of(YearConstants.MAX_VALUE, 12, 31);\n  LocalDate.EPOCH_0 = LocalDate.ofEpochDay(0);\n  LocalDate.FROM = createTemporalQuery('LocalDate.FROM', function (temporal) {\n    return LocalDate.from(temporal);\n  });\n}\n\nvar ChronoLocalDateTime = function (_DefaultInterfaceTemp) {\n  _inheritsLoose(ChronoLocalDateTime, _DefaultInterfaceTemp);\n\n  function ChronoLocalDateTime() {\n    return _DefaultInterfaceTemp.apply(this, arguments) || this;\n  }\n\n  var _proto = ChronoLocalDateTime.prototype;\n\n  _proto.chronology = function chronology() {\n    return this.toLocalDate().chronology();\n  };\n\n  _proto.query = function query(_query) {\n    if (_query === TemporalQueries.chronology()) {\n      return this.chronology();\n    } else if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.NANOS;\n    } else if (_query === TemporalQueries.localDate()) {\n      return LocalDate.ofEpochDay(this.toLocalDate().toEpochDay());\n    } else if (_query === TemporalQueries.localTime()) {\n      return this.toLocalTime();\n    } else if (_query === TemporalQueries.zone() || _query === TemporalQueries.zoneId() || _query === TemporalQueries.offset()) {\n      return null;\n    }\n\n    return _DefaultInterfaceTemp.prototype.query.call(this, _query);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return temporal.with(ChronoField.EPOCH_DAY, this.toLocalDate().toEpochDay()).with(ChronoField.NANO_OF_DAY, this.toLocalTime().toNanoOfDay());\n  };\n\n  _proto.toInstant = function toInstant(offset) {\n    requireInstance(offset, ZoneOffset, 'zoneId');\n    return Instant.ofEpochSecond(this.toEpochSecond(offset), this.toLocalTime().nano());\n  };\n\n  _proto.toEpochSecond = function toEpochSecond(offset) {\n    requireNonNull(offset, 'offset');\n    var epochDay = this.toLocalDate().toEpochDay();\n    var secs = epochDay * 86400 + this.toLocalTime().toSecondOfDay();\n    secs -= offset.totalSeconds();\n    return MathUtil.safeToInt(secs);\n  };\n\n  return ChronoLocalDateTime;\n}(DefaultInterfaceTemporal);\n\nvar LocalDateTime = function (_ChronoLocalDateTime) {\n  _inheritsLoose(LocalDateTime, _ChronoLocalDateTime);\n\n  LocalDateTime.now = function now(clockOrZone) {\n    if (clockOrZone == null) {\n      return LocalDateTime._now(Clock.systemDefaultZone());\n    } else if (clockOrZone instanceof Clock) {\n      return LocalDateTime._now(clockOrZone);\n    } else {\n      return LocalDateTime._now(Clock.system(clockOrZone));\n    }\n  };\n\n  LocalDateTime._now = function _now(clock) {\n    requireNonNull(clock, 'clock');\n    return LocalDateTime.ofInstant(clock.instant(), clock.zone());\n  };\n\n  LocalDateTime._ofEpochMillis = function _ofEpochMillis(epochMilli, offset) {\n    var localSecond = MathUtil.floorDiv(epochMilli, 1000) + offset.totalSeconds();\n    var localEpochDay = MathUtil.floorDiv(localSecond, LocalTime.SECONDS_PER_DAY);\n    var secsOfDay = MathUtil.floorMod(localSecond, LocalTime.SECONDS_PER_DAY);\n    var nanoOfSecond = MathUtil.floorMod(epochMilli, 1000) * 1000000;\n    var date = LocalDate.ofEpochDay(localEpochDay);\n    var time = LocalTime.ofSecondOfDay(secsOfDay, nanoOfSecond);\n    return new LocalDateTime(date, time);\n  };\n\n  LocalDateTime.of = function of() {\n    if (arguments.length <= 2) {\n      return LocalDateTime.ofDateAndTime.apply(this, arguments);\n    } else {\n      return LocalDateTime.ofNumbers.apply(this, arguments);\n    }\n  };\n\n  LocalDateTime.ofNumbers = function ofNumbers(year, month, dayOfMonth, hour, minute, second, nanoOfSecond) {\n    if (hour === void 0) {\n      hour = 0;\n    }\n\n    if (minute === void 0) {\n      minute = 0;\n    }\n\n    if (second === void 0) {\n      second = 0;\n    }\n\n    if (nanoOfSecond === void 0) {\n      nanoOfSecond = 0;\n    }\n\n    var date = LocalDate.of(year, month, dayOfMonth);\n    var time = LocalTime.of(hour, minute, second, nanoOfSecond);\n    return new LocalDateTime(date, time);\n  };\n\n  LocalDateTime.ofDateAndTime = function ofDateAndTime(date, time) {\n    requireNonNull(date, 'date');\n    requireNonNull(time, 'time');\n    return new LocalDateTime(date, time);\n  };\n\n  LocalDateTime.ofInstant = function ofInstant(instant, zone) {\n    if (zone === void 0) {\n      zone = ZoneId.systemDefault();\n    }\n\n    requireNonNull(instant, 'instant');\n    requireInstance(instant, Instant, 'instant');\n    requireNonNull(zone, 'zone');\n    var offset = zone.rules().offset(instant);\n    return LocalDateTime.ofEpochSecond(instant.epochSecond(), instant.nano(), offset);\n  };\n\n  LocalDateTime.ofEpochSecond = function ofEpochSecond(epochSecond, nanoOfSecond, offset) {\n    if (epochSecond === void 0) {\n      epochSecond = 0;\n    }\n\n    if (nanoOfSecond === void 0) {\n      nanoOfSecond = 0;\n    }\n\n    if (arguments.length === 2 && nanoOfSecond instanceof ZoneOffset) {\n      offset = nanoOfSecond;\n      nanoOfSecond = 0;\n    }\n\n    requireNonNull(offset, 'offset');\n    var localSecond = epochSecond + offset.totalSeconds();\n    var localEpochDay = MathUtil.floorDiv(localSecond, LocalTime.SECONDS_PER_DAY);\n    var secsOfDay = MathUtil.floorMod(localSecond, LocalTime.SECONDS_PER_DAY);\n    var date = LocalDate.ofEpochDay(localEpochDay);\n    var time = LocalTime.ofSecondOfDay(secsOfDay, nanoOfSecond);\n    return new LocalDateTime(date, time);\n  };\n\n  LocalDateTime.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n\n    if (temporal instanceof LocalDateTime) {\n      return temporal;\n    } else if (temporal instanceof ZonedDateTime) {\n      return temporal.toLocalDateTime();\n    }\n\n    try {\n      var date = LocalDate.from(temporal);\n      var time = LocalTime.from(temporal);\n      return new LocalDateTime(date, time);\n    } catch (ex) {\n      throw new DateTimeException(\"Unable to obtain LocalDateTime TemporalAccessor: \" + temporal + \", type \" + (temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n  };\n\n  LocalDateTime.parse = function parse(text, formatter) {\n    if (formatter === void 0) {\n      formatter = DateTimeFormatter.ISO_LOCAL_DATE_TIME;\n    }\n\n    requireNonNull(formatter, 'formatter');\n    return formatter.parse(text, LocalDateTime.FROM);\n  };\n\n  function LocalDateTime(date, time) {\n    var _this;\n\n    _this = _ChronoLocalDateTime.call(this) || this;\n    requireInstance(date, LocalDate, 'date');\n    requireInstance(time, LocalTime, 'time');\n    _this._date = date;\n    _this._time = time;\n    return _this;\n  }\n\n  var _proto = LocalDateTime.prototype;\n\n  _proto._withDateTime = function _withDateTime(newDate, newTime) {\n    if (this._date.equals(newDate) && this._time.equals(newTime)) {\n      return this;\n    }\n\n    return new LocalDateTime(newDate, newTime);\n  };\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (fieldOrUnit instanceof ChronoField) {\n      return fieldOrUnit.isDateBased() || fieldOrUnit.isTimeBased();\n    } else if (fieldOrUnit instanceof ChronoUnit) {\n      return fieldOrUnit.isDateBased() || fieldOrUnit.isTimeBased();\n    }\n\n    return fieldOrUnit != null && fieldOrUnit.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    if (field instanceof ChronoField) {\n      return field.isTimeBased() ? this._time.range(field) : this._date.range(field);\n    }\n\n    return field.rangeRefinedBy(this);\n  };\n\n  _proto.get = function get(field) {\n    if (field instanceof ChronoField) {\n      return field.isTimeBased() ? this._time.get(field) : this._date.get(field);\n    }\n\n    return _ChronoLocalDateTime.prototype.get.call(this, field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      return field.isTimeBased() ? this._time.getLong(field) : this._date.getLong(field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.year = function year() {\n    return this._date.year();\n  };\n\n  _proto.monthValue = function monthValue() {\n    return this._date.monthValue();\n  };\n\n  _proto.month = function month() {\n    return this._date.month();\n  };\n\n  _proto.dayOfMonth = function dayOfMonth() {\n    return this._date.dayOfMonth();\n  };\n\n  _proto.dayOfYear = function dayOfYear() {\n    return this._date.dayOfYear();\n  };\n\n  _proto.dayOfWeek = function dayOfWeek() {\n    return this._date.dayOfWeek();\n  };\n\n  _proto.hour = function hour() {\n    return this._time.hour();\n  };\n\n  _proto.minute = function minute() {\n    return this._time.minute();\n  };\n\n  _proto.second = function second() {\n    return this._time.second();\n  };\n\n  _proto.nano = function nano() {\n    return this._time.nano();\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n\n    if (adjuster instanceof LocalDate) {\n      return this._withDateTime(adjuster, this._time);\n    } else if (adjuster instanceof LocalTime) {\n      return this._withDateTime(this._date, adjuster);\n    } else if (adjuster instanceof LocalDateTime) {\n      return adjuster;\n    }\n\n    assert(typeof adjuster.adjustInto === 'function', 'adjuster', IllegalArgumentException);\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      if (field.isTimeBased()) {\n        return this._withDateTime(this._date, this._time.with(field, newValue));\n      } else {\n        return this._withDateTime(this._date.with(field, newValue), this._time);\n      }\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto.withYear = function withYear(year) {\n    return this._withDateTime(this._date.withYear(year), this._time);\n  };\n\n  _proto.withMonth = function withMonth(month) {\n    return this._withDateTime(this._date.withMonth(month), this._time);\n  };\n\n  _proto.withDayOfMonth = function withDayOfMonth(dayOfMonth) {\n    return this._withDateTime(this._date.withDayOfMonth(dayOfMonth), this._time);\n  };\n\n  _proto.withDayOfYear = function withDayOfYear(dayOfYear) {\n    return this._withDateTime(this._date.withDayOfYear(dayOfYear), this._time);\n  };\n\n  _proto.withHour = function withHour(hour) {\n    var newTime = this._time.withHour(hour);\n\n    return this._withDateTime(this._date, newTime);\n  };\n\n  _proto.withMinute = function withMinute(minute) {\n    var newTime = this._time.withMinute(minute);\n\n    return this._withDateTime(this._date, newTime);\n  };\n\n  _proto.withSecond = function withSecond(second) {\n    var newTime = this._time.withSecond(second);\n\n    return this._withDateTime(this._date, newTime);\n  };\n\n  _proto.withNano = function withNano(nanoOfSecond) {\n    var newTime = this._time.withNano(nanoOfSecond);\n\n    return this._withDateTime(this._date, newTime);\n  };\n\n  _proto.truncatedTo = function truncatedTo(unit) {\n    return this._withDateTime(this._date, this._time.truncatedTo(unit));\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    requireNonNull(unit, 'unit');\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.NANOS:\n          return this.plusNanos(amountToAdd);\n\n        case ChronoUnit.MICROS:\n          return this.plusDays(MathUtil.intDiv(amountToAdd, LocalTime.MICROS_PER_DAY)).plusNanos(MathUtil.intMod(amountToAdd, LocalTime.MICROS_PER_DAY) * 1000);\n\n        case ChronoUnit.MILLIS:\n          return this.plusDays(MathUtil.intDiv(amountToAdd, LocalTime.MILLIS_PER_DAY)).plusNanos(MathUtil.intMod(amountToAdd, LocalTime.MILLIS_PER_DAY) * 1000000);\n\n        case ChronoUnit.SECONDS:\n          return this.plusSeconds(amountToAdd);\n\n        case ChronoUnit.MINUTES:\n          return this.plusMinutes(amountToAdd);\n\n        case ChronoUnit.HOURS:\n          return this.plusHours(amountToAdd);\n\n        case ChronoUnit.HALF_DAYS:\n          return this.plusDays(MathUtil.intDiv(amountToAdd, 256)).plusHours(MathUtil.intMod(amountToAdd, 256) * 12);\n      }\n\n      return this._withDateTime(this._date.plus(amountToAdd, unit), this._time);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusYears = function plusYears(years) {\n    var newDate = this._date.plusYears(years);\n\n    return this._withDateTime(newDate, this._time);\n  };\n\n  _proto.plusMonths = function plusMonths(months) {\n    var newDate = this._date.plusMonths(months);\n\n    return this._withDateTime(newDate, this._time);\n  };\n\n  _proto.plusWeeks = function plusWeeks(weeks) {\n    var newDate = this._date.plusWeeks(weeks);\n\n    return this._withDateTime(newDate, this._time);\n  };\n\n  _proto.plusDays = function plusDays(days) {\n    var newDate = this._date.plusDays(days);\n\n    return this._withDateTime(newDate, this._time);\n  };\n\n  _proto.plusHours = function plusHours(hours) {\n    return this._plusWithOverflow(this._date, hours, 0, 0, 0, 1);\n  };\n\n  _proto.plusMinutes = function plusMinutes(minutes) {\n    return this._plusWithOverflow(this._date, 0, minutes, 0, 0, 1);\n  };\n\n  _proto.plusSeconds = function plusSeconds(seconds) {\n    return this._plusWithOverflow(this._date, 0, 0, seconds, 0, 1);\n  };\n\n  _proto.plusNanos = function plusNanos(nanos) {\n    return this._plusWithOverflow(this._date, 0, 0, 0, nanos, 1);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    requireNonNull(unit, 'unit');\n    return this.plusAmountUnit(-1 * amountToSubtract, unit);\n  };\n\n  _proto.minusYears = function minusYears(years) {\n    return this.plusYears(-1 * years);\n  };\n\n  _proto.minusMonths = function minusMonths(months) {\n    return this.plusMonths(-1 * months);\n  };\n\n  _proto.minusWeeks = function minusWeeks(weeks) {\n    return this.plusWeeks(-1 * weeks);\n  };\n\n  _proto.minusDays = function minusDays(days) {\n    return this.plusDays(-1 * days);\n  };\n\n  _proto.minusHours = function minusHours(hours) {\n    return this._plusWithOverflow(this._date, hours, 0, 0, 0, -1);\n  };\n\n  _proto.minusMinutes = function minusMinutes(minutes) {\n    return this._plusWithOverflow(this._date, 0, minutes, 0, 0, -1);\n  };\n\n  _proto.minusSeconds = function minusSeconds(seconds) {\n    return this._plusWithOverflow(this._date, 0, 0, seconds, 0, -1);\n  };\n\n  _proto.minusNanos = function minusNanos(nanos) {\n    return this._plusWithOverflow(this._date, 0, 0, 0, nanos, -1);\n  };\n\n  _proto._plusWithOverflow = function _plusWithOverflow(newDate, hours, minutes, seconds, nanos, sign) {\n    if (hours === 0 && minutes === 0 && seconds === 0 && nanos === 0) {\n      return this._withDateTime(newDate, this._time);\n    }\n\n    var totDays = MathUtil.intDiv(nanos, LocalTime.NANOS_PER_DAY) + MathUtil.intDiv(seconds, LocalTime.SECONDS_PER_DAY) + MathUtil.intDiv(minutes, LocalTime.MINUTES_PER_DAY) + MathUtil.intDiv(hours, LocalTime.HOURS_PER_DAY);\n    totDays *= sign;\n    var totNanos = MathUtil.intMod(nanos, LocalTime.NANOS_PER_DAY) + MathUtil.intMod(seconds, LocalTime.SECONDS_PER_DAY) * LocalTime.NANOS_PER_SECOND + MathUtil.intMod(minutes, LocalTime.MINUTES_PER_DAY) * LocalTime.NANOS_PER_MINUTE + MathUtil.intMod(hours, LocalTime.HOURS_PER_DAY) * LocalTime.NANOS_PER_HOUR;\n\n    var curNoD = this._time.toNanoOfDay();\n\n    totNanos = totNanos * sign + curNoD;\n    totDays += MathUtil.floorDiv(totNanos, LocalTime.NANOS_PER_DAY);\n    var newNoD = MathUtil.floorMod(totNanos, LocalTime.NANOS_PER_DAY);\n    var newTime = newNoD === curNoD ? this._time : LocalTime.ofNanoOfDay(newNoD);\n    return this._withDateTime(newDate.plusDays(totDays), newTime);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.localDate()) {\n      return this.toLocalDate();\n    }\n\n    return _ChronoLocalDateTime.prototype.query.call(this, _query);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return _ChronoLocalDateTime.prototype.adjustInto.call(this, temporal);\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    requireNonNull(endExclusive, 'endExclusive');\n    requireNonNull(unit, 'unit');\n    var end = LocalDateTime.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      if (unit.isTimeBased()) {\n        var daysUntil = this._date.daysUntil(end._date);\n\n        var timeUntil = end._time.toNanoOfDay() - this._time.toNanoOfDay();\n\n        if (daysUntil > 0 && timeUntil < 0) {\n          daysUntil--;\n          timeUntil += LocalTime.NANOS_PER_DAY;\n        } else if (daysUntil < 0 && timeUntil > 0) {\n          daysUntil++;\n          timeUntil -= LocalTime.NANOS_PER_DAY;\n        }\n\n        var amount = daysUntil;\n\n        switch (unit) {\n          case ChronoUnit.NANOS:\n            amount = MathUtil.safeMultiply(amount, LocalTime.NANOS_PER_DAY);\n            return MathUtil.safeAdd(amount, timeUntil);\n\n          case ChronoUnit.MICROS:\n            amount = MathUtil.safeMultiply(amount, LocalTime.MICROS_PER_DAY);\n            return MathUtil.safeAdd(amount, MathUtil.intDiv(timeUntil, 1000));\n\n          case ChronoUnit.MILLIS:\n            amount = MathUtil.safeMultiply(amount, LocalTime.MILLIS_PER_DAY);\n            return MathUtil.safeAdd(amount, MathUtil.intDiv(timeUntil, 1000000));\n\n          case ChronoUnit.SECONDS:\n            amount = MathUtil.safeMultiply(amount, LocalTime.SECONDS_PER_DAY);\n            return MathUtil.safeAdd(amount, MathUtil.intDiv(timeUntil, LocalTime.NANOS_PER_SECOND));\n\n          case ChronoUnit.MINUTES:\n            amount = MathUtil.safeMultiply(amount, LocalTime.MINUTES_PER_DAY);\n            return MathUtil.safeAdd(amount, MathUtil.intDiv(timeUntil, LocalTime.NANOS_PER_MINUTE));\n\n          case ChronoUnit.HOURS:\n            amount = MathUtil.safeMultiply(amount, LocalTime.HOURS_PER_DAY);\n            return MathUtil.safeAdd(amount, MathUtil.intDiv(timeUntil, LocalTime.NANOS_PER_HOUR));\n\n          case ChronoUnit.HALF_DAYS:\n            amount = MathUtil.safeMultiply(amount, 2);\n            return MathUtil.safeAdd(amount, MathUtil.intDiv(timeUntil, LocalTime.NANOS_PER_HOUR * 12));\n        }\n\n        throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n      }\n\n      var endDate = end._date;\n      var endTime = end._time;\n\n      if (endDate.isAfter(this._date) && endTime.isBefore(this._time)) {\n        endDate = endDate.minusDays(1);\n      } else if (endDate.isBefore(this._date) && endTime.isAfter(this._time)) {\n        endDate = endDate.plusDays(1);\n      }\n\n      return this._date.until(endDate, unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto.atOffset = function atOffset(offset) {\n    return OffsetDateTime.of(this, offset);\n  };\n\n  _proto.atZone = function atZone(zone) {\n    return ZonedDateTime.of(this, zone);\n  };\n\n  _proto.toLocalDate = function toLocalDate() {\n    return this._date;\n  };\n\n  _proto.toLocalTime = function toLocalTime() {\n    return this._time;\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, LocalDateTime, 'other');\n    return this._compareTo0(other);\n  };\n\n  _proto._compareTo0 = function _compareTo0(other) {\n    var cmp = this._date.compareTo(other.toLocalDate());\n\n    if (cmp === 0) {\n      cmp = this._time.compareTo(other.toLocalTime());\n    }\n\n    return cmp;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    return this.compareTo(other) > 0;\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    return this.compareTo(other) < 0;\n  };\n\n  _proto.isEqual = function isEqual(other) {\n    return this.compareTo(other) === 0;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof LocalDateTime) {\n      return this._date.equals(other._date) && this._time.equals(other._time);\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return this._date.hashCode() ^ this._time.hashCode();\n  };\n\n  _proto.toString = function toString() {\n    return this._date.toString() + 'T' + this._time.toString();\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  return LocalDateTime;\n}(ChronoLocalDateTime);\nfunction _init$j() {\n  LocalDateTime.MIN = LocalDateTime.of(LocalDate.MIN, LocalTime.MIN);\n  LocalDateTime.MAX = LocalDateTime.of(LocalDate.MAX, LocalTime.MAX);\n  LocalDateTime.FROM = createTemporalQuery('LocalDateTime.FROM', function (temporal) {\n    return LocalDateTime.from(temporal);\n  });\n}\n\nvar LocalTime = function (_Temporal) {\n  _inheritsLoose(LocalTime, _Temporal);\n\n  LocalTime.now = function now(clockOrZone) {\n    if (clockOrZone == null) {\n      return LocalTime._now(Clock.systemDefaultZone());\n    } else if (clockOrZone instanceof Clock) {\n      return LocalTime._now(clockOrZone);\n    } else {\n      return LocalTime._now(Clock.system(clockOrZone));\n    }\n  };\n\n  LocalTime._now = function _now(clock) {\n    if (clock === void 0) {\n      clock = Clock.systemDefaultZone();\n    }\n\n    requireNonNull(clock, 'clock');\n    return LocalTime.ofInstant(clock.instant(), clock.zone());\n  };\n\n  LocalTime.ofInstant = function ofInstant(instant, zone) {\n    if (zone === void 0) {\n      zone = ZoneId.systemDefault();\n    }\n\n    var offset = zone.rules().offset(instant);\n    var secsOfDay = MathUtil.intMod(instant.epochSecond(), LocalTime.SECONDS_PER_DAY);\n    secsOfDay = MathUtil.intMod(secsOfDay + offset.totalSeconds(), LocalTime.SECONDS_PER_DAY);\n\n    if (secsOfDay < 0) {\n      secsOfDay += LocalTime.SECONDS_PER_DAY;\n    }\n\n    return LocalTime.ofSecondOfDay(secsOfDay, instant.nano());\n  };\n\n  LocalTime.of = function of(hour, minute, second, nanoOfSecond) {\n    return new LocalTime(hour, minute, second, nanoOfSecond);\n  };\n\n  LocalTime.ofSecondOfDay = function ofSecondOfDay(secondOfDay, nanoOfSecond) {\n    if (secondOfDay === void 0) {\n      secondOfDay = 0;\n    }\n\n    if (nanoOfSecond === void 0) {\n      nanoOfSecond = 0;\n    }\n\n    ChronoField.SECOND_OF_DAY.checkValidValue(secondOfDay);\n    ChronoField.NANO_OF_SECOND.checkValidValue(nanoOfSecond);\n    var hours = MathUtil.intDiv(secondOfDay, LocalTime.SECONDS_PER_HOUR);\n    secondOfDay -= hours * LocalTime.SECONDS_PER_HOUR;\n    var minutes = MathUtil.intDiv(secondOfDay, LocalTime.SECONDS_PER_MINUTE);\n    secondOfDay -= minutes * LocalTime.SECONDS_PER_MINUTE;\n    return new LocalTime(hours, minutes, secondOfDay, nanoOfSecond);\n  };\n\n  LocalTime.ofNanoOfDay = function ofNanoOfDay(nanoOfDay) {\n    if (nanoOfDay === void 0) {\n      nanoOfDay = 0;\n    }\n\n    ChronoField.NANO_OF_DAY.checkValidValue(nanoOfDay);\n    var hours = MathUtil.intDiv(nanoOfDay, LocalTime.NANOS_PER_HOUR);\n    nanoOfDay -= hours * LocalTime.NANOS_PER_HOUR;\n    var minutes = MathUtil.intDiv(nanoOfDay, LocalTime.NANOS_PER_MINUTE);\n    nanoOfDay -= minutes * LocalTime.NANOS_PER_MINUTE;\n    var seconds = MathUtil.intDiv(nanoOfDay, LocalTime.NANOS_PER_SECOND);\n    nanoOfDay -= seconds * LocalTime.NANOS_PER_SECOND;\n    return new LocalTime(hours, minutes, seconds, nanoOfDay);\n  };\n\n  LocalTime.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n    var time = temporal.query(TemporalQueries.localTime());\n\n    if (time == null) {\n      throw new DateTimeException(\"Unable to obtain LocalTime TemporalAccessor: \" + temporal + \", type \" + (temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n\n    return time;\n  };\n\n  LocalTime.parse = function parse(text, formatter) {\n    if (formatter === void 0) {\n      formatter = DateTimeFormatter.ISO_LOCAL_TIME;\n    }\n\n    requireNonNull(formatter, 'formatter');\n    return formatter.parse(text, LocalTime.FROM);\n  };\n\n  function LocalTime(hour, minute, second, nanoOfSecond) {\n    var _this;\n\n    if (hour === void 0) {\n      hour = 0;\n    }\n\n    if (minute === void 0) {\n      minute = 0;\n    }\n\n    if (second === void 0) {\n      second = 0;\n    }\n\n    if (nanoOfSecond === void 0) {\n      nanoOfSecond = 0;\n    }\n\n    _this = _Temporal.call(this) || this;\n\n    var _hour = MathUtil.safeToInt(hour);\n\n    var _minute = MathUtil.safeToInt(minute);\n\n    var _second = MathUtil.safeToInt(second);\n\n    var _nanoOfSecond = MathUtil.safeToInt(nanoOfSecond);\n\n    LocalTime._validate(_hour, _minute, _second, _nanoOfSecond);\n\n    if (_minute === 0 && _second === 0 && _nanoOfSecond === 0) {\n      if (!LocalTime.HOURS[_hour]) {\n        _this._hour = _hour;\n        _this._minute = _minute;\n        _this._second = _second;\n        _this._nano = _nanoOfSecond;\n        LocalTime.HOURS[_hour] = _assertThisInitialized(_this);\n      }\n\n      return LocalTime.HOURS[_hour] || _assertThisInitialized(_this);\n    }\n\n    _this._hour = _hour;\n    _this._minute = _minute;\n    _this._second = _second;\n    _this._nano = _nanoOfSecond;\n    return _this;\n  }\n\n  LocalTime._validate = function _validate(hour, minute, second, nanoOfSecond) {\n    ChronoField.HOUR_OF_DAY.checkValidValue(hour);\n    ChronoField.MINUTE_OF_HOUR.checkValidValue(minute);\n    ChronoField.SECOND_OF_MINUTE.checkValidValue(second);\n    ChronoField.NANO_OF_SECOND.checkValidValue(nanoOfSecond);\n  };\n\n  var _proto = LocalTime.prototype;\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (fieldOrUnit instanceof ChronoField) {\n      return fieldOrUnit.isTimeBased();\n    } else if (fieldOrUnit instanceof ChronoUnit) {\n      return fieldOrUnit.isTimeBased();\n    }\n\n    return fieldOrUnit != null && fieldOrUnit.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    requireNonNull(field);\n    return _Temporal.prototype.range.call(this, field);\n  };\n\n  _proto.get = function get(field) {\n    return this.getLong(field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      return this._get0(field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto._get0 = function _get0(field) {\n    switch (field) {\n      case ChronoField.NANO_OF_SECOND:\n        return this._nano;\n\n      case ChronoField.NANO_OF_DAY:\n        return this.toNanoOfDay();\n\n      case ChronoField.MICRO_OF_SECOND:\n        return MathUtil.intDiv(this._nano, 1000);\n\n      case ChronoField.MICRO_OF_DAY:\n        return MathUtil.intDiv(this.toNanoOfDay(), 1000);\n\n      case ChronoField.MILLI_OF_SECOND:\n        return MathUtil.intDiv(this._nano, 1000000);\n\n      case ChronoField.MILLI_OF_DAY:\n        return MathUtil.intDiv(this.toNanoOfDay(), 1000000);\n\n      case ChronoField.SECOND_OF_MINUTE:\n        return this._second;\n\n      case ChronoField.SECOND_OF_DAY:\n        return this.toSecondOfDay();\n\n      case ChronoField.MINUTE_OF_HOUR:\n        return this._minute;\n\n      case ChronoField.MINUTE_OF_DAY:\n        return this._hour * 60 + this._minute;\n\n      case ChronoField.HOUR_OF_AMPM:\n        return MathUtil.intMod(this._hour, 12);\n\n      case ChronoField.CLOCK_HOUR_OF_AMPM:\n        {\n          var ham = MathUtil.intMod(this._hour, 12);\n          return ham % 12 === 0 ? 12 : ham;\n        }\n\n      case ChronoField.HOUR_OF_DAY:\n        return this._hour;\n\n      case ChronoField.CLOCK_HOUR_OF_DAY:\n        return this._hour === 0 ? 24 : this._hour;\n\n      case ChronoField.AMPM_OF_DAY:\n        return MathUtil.intDiv(this._hour, 12);\n    }\n\n    throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n  };\n\n  _proto.hour = function hour() {\n    return this._hour;\n  };\n\n  _proto.minute = function minute() {\n    return this._minute;\n  };\n\n  _proto.second = function second() {\n    return this._second;\n  };\n\n  _proto.nano = function nano() {\n    return this._nano;\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n\n    if (adjuster instanceof LocalTime) {\n      return adjuster;\n    }\n\n    assert(typeof adjuster.adjustInto === 'function', 'adjuster', IllegalArgumentException);\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    requireNonNull(field, 'field');\n    requireInstance(field, TemporalField, 'field');\n\n    if (field instanceof ChronoField) {\n      field.checkValidValue(newValue);\n\n      switch (field) {\n        case ChronoField.NANO_OF_SECOND:\n          return this.withNano(newValue);\n\n        case ChronoField.NANO_OF_DAY:\n          return LocalTime.ofNanoOfDay(newValue);\n\n        case ChronoField.MICRO_OF_SECOND:\n          return this.withNano(newValue * 1000);\n\n        case ChronoField.MICRO_OF_DAY:\n          return LocalTime.ofNanoOfDay(newValue * 1000);\n\n        case ChronoField.MILLI_OF_SECOND:\n          return this.withNano(newValue * 1000000);\n\n        case ChronoField.MILLI_OF_DAY:\n          return LocalTime.ofNanoOfDay(newValue * 1000000);\n\n        case ChronoField.SECOND_OF_MINUTE:\n          return this.withSecond(newValue);\n\n        case ChronoField.SECOND_OF_DAY:\n          return this.plusSeconds(newValue - this.toSecondOfDay());\n\n        case ChronoField.MINUTE_OF_HOUR:\n          return this.withMinute(newValue);\n\n        case ChronoField.MINUTE_OF_DAY:\n          return this.plusMinutes(newValue - (this._hour * 60 + this._minute));\n\n        case ChronoField.HOUR_OF_AMPM:\n          return this.plusHours(newValue - MathUtil.intMod(this._hour, 12));\n\n        case ChronoField.CLOCK_HOUR_OF_AMPM:\n          return this.plusHours((newValue === 12 ? 0 : newValue) - MathUtil.intMod(this._hour, 12));\n\n        case ChronoField.HOUR_OF_DAY:\n          return this.withHour(newValue);\n\n        case ChronoField.CLOCK_HOUR_OF_DAY:\n          return this.withHour(newValue === 24 ? 0 : newValue);\n\n        case ChronoField.AMPM_OF_DAY:\n          return this.plusHours((newValue - MathUtil.intDiv(this._hour, 12)) * 12);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto.withHour = function withHour(hour) {\n    if (hour === void 0) {\n      hour = 0;\n    }\n\n    if (this._hour === hour) {\n      return this;\n    }\n\n    return new LocalTime(hour, this._minute, this._second, this._nano);\n  };\n\n  _proto.withMinute = function withMinute(minute) {\n    if (minute === void 0) {\n      minute = 0;\n    }\n\n    if (this._minute === minute) {\n      return this;\n    }\n\n    return new LocalTime(this._hour, minute, this._second, this._nano);\n  };\n\n  _proto.withSecond = function withSecond(second) {\n    if (second === void 0) {\n      second = 0;\n    }\n\n    if (this._second === second) {\n      return this;\n    }\n\n    return new LocalTime(this._hour, this._minute, second, this._nano);\n  };\n\n  _proto.withNano = function withNano(nanoOfSecond) {\n    if (nanoOfSecond === void 0) {\n      nanoOfSecond = 0;\n    }\n\n    if (this._nano === nanoOfSecond) {\n      return this;\n    }\n\n    return new LocalTime(this._hour, this._minute, this._second, nanoOfSecond);\n  };\n\n  _proto.truncatedTo = function truncatedTo(unit) {\n    requireNonNull(unit, 'unit');\n\n    if (unit === ChronoUnit.NANOS) {\n      return this;\n    }\n\n    var unitDur = unit.duration();\n\n    if (unitDur.seconds() > LocalTime.SECONDS_PER_DAY) {\n      throw new DateTimeException('Unit is too large to be used for truncation');\n    }\n\n    var dur = unitDur.toNanos();\n\n    if (MathUtil.intMod(LocalTime.NANOS_PER_DAY, dur) !== 0) {\n      throw new DateTimeException('Unit must divide into a standard day without remainder');\n    }\n\n    var nod = this.toNanoOfDay();\n    return LocalTime.ofNanoOfDay(MathUtil.intDiv(nod, dur) * dur);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    requireNonNull(unit, 'unit');\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.NANOS:\n          return this.plusNanos(amountToAdd);\n\n        case ChronoUnit.MICROS:\n          return this.plusNanos(MathUtil.intMod(amountToAdd, LocalTime.MICROS_PER_DAY) * 1000);\n\n        case ChronoUnit.MILLIS:\n          return this.plusNanos(MathUtil.intMod(amountToAdd, LocalTime.MILLIS_PER_DAY) * 1000000);\n\n        case ChronoUnit.SECONDS:\n          return this.plusSeconds(amountToAdd);\n\n        case ChronoUnit.MINUTES:\n          return this.plusMinutes(amountToAdd);\n\n        case ChronoUnit.HOURS:\n          return this.plusHours(amountToAdd);\n\n        case ChronoUnit.HALF_DAYS:\n          return this.plusHours(MathUtil.intMod(amountToAdd, 2) * 12);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusHours = function plusHours(hoursToAdd) {\n    if (hoursToAdd === 0) {\n      return this;\n    }\n\n    var newHour = MathUtil.intMod(MathUtil.intMod(hoursToAdd, LocalTime.HOURS_PER_DAY) + this._hour + LocalTime.HOURS_PER_DAY, LocalTime.HOURS_PER_DAY);\n    return new LocalTime(newHour, this._minute, this._second, this._nano);\n  };\n\n  _proto.plusMinutes = function plusMinutes(minutesToAdd) {\n    if (minutesToAdd === 0) {\n      return this;\n    }\n\n    var mofd = this._hour * LocalTime.MINUTES_PER_HOUR + this._minute;\n    var newMofd = MathUtil.intMod(MathUtil.intMod(minutesToAdd, LocalTime.MINUTES_PER_DAY) + mofd + LocalTime.MINUTES_PER_DAY, LocalTime.MINUTES_PER_DAY);\n\n    if (mofd === newMofd) {\n      return this;\n    }\n\n    var newHour = MathUtil.intDiv(newMofd, LocalTime.MINUTES_PER_HOUR);\n    var newMinute = MathUtil.intMod(newMofd, LocalTime.MINUTES_PER_HOUR);\n    return new LocalTime(newHour, newMinute, this._second, this._nano);\n  };\n\n  _proto.plusSeconds = function plusSeconds(secondsToAdd) {\n    if (secondsToAdd === 0) {\n      return this;\n    }\n\n    var sofd = this._hour * LocalTime.SECONDS_PER_HOUR + this._minute * LocalTime.SECONDS_PER_MINUTE + this._second;\n    var newSofd = MathUtil.intMod(MathUtil.intMod(secondsToAdd, LocalTime.SECONDS_PER_DAY) + sofd + LocalTime.SECONDS_PER_DAY, LocalTime.SECONDS_PER_DAY);\n\n    if (sofd === newSofd) {\n      return this;\n    }\n\n    var newHour = MathUtil.intDiv(newSofd, LocalTime.SECONDS_PER_HOUR);\n    var newMinute = MathUtil.intMod(MathUtil.intDiv(newSofd, LocalTime.SECONDS_PER_MINUTE), LocalTime.MINUTES_PER_HOUR);\n    var newSecond = MathUtil.intMod(newSofd, LocalTime.SECONDS_PER_MINUTE);\n    return new LocalTime(newHour, newMinute, newSecond, this._nano);\n  };\n\n  _proto.plusNanos = function plusNanos(nanosToAdd) {\n    if (nanosToAdd === 0) {\n      return this;\n    }\n\n    var nofd = this.toNanoOfDay();\n    var newNofd = MathUtil.intMod(MathUtil.intMod(nanosToAdd, LocalTime.NANOS_PER_DAY) + nofd + LocalTime.NANOS_PER_DAY, LocalTime.NANOS_PER_DAY);\n\n    if (nofd === newNofd) {\n      return this;\n    }\n\n    var newHour = MathUtil.intDiv(newNofd, LocalTime.NANOS_PER_HOUR);\n    var newMinute = MathUtil.intMod(MathUtil.intDiv(newNofd, LocalTime.NANOS_PER_MINUTE), LocalTime.MINUTES_PER_HOUR);\n    var newSecond = MathUtil.intMod(MathUtil.intDiv(newNofd, LocalTime.NANOS_PER_SECOND), LocalTime.SECONDS_PER_MINUTE);\n    var newNano = MathUtil.intMod(newNofd, LocalTime.NANOS_PER_SECOND);\n    return new LocalTime(newHour, newMinute, newSecond, newNano);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    requireNonNull(unit, 'unit');\n    return this.plusAmountUnit(-1 * amountToSubtract, unit);\n  };\n\n  _proto.minusHours = function minusHours(hoursToSubtract) {\n    return this.plusHours(-1 * MathUtil.intMod(hoursToSubtract, LocalTime.HOURS_PER_DAY));\n  };\n\n  _proto.minusMinutes = function minusMinutes(minutesToSubtract) {\n    return this.plusMinutes(-1 * MathUtil.intMod(minutesToSubtract, LocalTime.MINUTES_PER_DAY));\n  };\n\n  _proto.minusSeconds = function minusSeconds(secondsToSubtract) {\n    return this.plusSeconds(-1 * MathUtil.intMod(secondsToSubtract, LocalTime.SECONDS_PER_DAY));\n  };\n\n  _proto.minusNanos = function minusNanos(nanosToSubtract) {\n    return this.plusNanos(-1 * MathUtil.intMod(nanosToSubtract, LocalTime.NANOS_PER_DAY));\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.NANOS;\n    } else if (_query === TemporalQueries.localTime()) {\n      return this;\n    }\n\n    if (_query === TemporalQueries.chronology() || _query === TemporalQueries.zoneId() || _query === TemporalQueries.zone() || _query === TemporalQueries.offset() || _query === TemporalQueries.localDate()) {\n      return null;\n    }\n\n    return _query.queryFrom(this);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    return temporal.with(LocalTime.NANO_OF_DAY, this.toNanoOfDay());\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    requireNonNull(endExclusive, 'endExclusive');\n    requireNonNull(unit, 'unit');\n    var end = LocalTime.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      var nanosUntil = end.toNanoOfDay() - this.toNanoOfDay();\n\n      switch (unit) {\n        case ChronoUnit.NANOS:\n          return nanosUntil;\n\n        case ChronoUnit.MICROS:\n          return MathUtil.intDiv(nanosUntil, 1000);\n\n        case ChronoUnit.MILLIS:\n          return MathUtil.intDiv(nanosUntil, 1000000);\n\n        case ChronoUnit.SECONDS:\n          return MathUtil.intDiv(nanosUntil, LocalTime.NANOS_PER_SECOND);\n\n        case ChronoUnit.MINUTES:\n          return MathUtil.intDiv(nanosUntil, LocalTime.NANOS_PER_MINUTE);\n\n        case ChronoUnit.HOURS:\n          return MathUtil.intDiv(nanosUntil, LocalTime.NANOS_PER_HOUR);\n\n        case ChronoUnit.HALF_DAYS:\n          return MathUtil.intDiv(nanosUntil, 12 * LocalTime.NANOS_PER_HOUR);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto.atDate = function atDate(date) {\n    return LocalDateTime.of(date, this);\n  };\n\n  _proto.toSecondOfDay = function toSecondOfDay() {\n    var total = this._hour * LocalTime.SECONDS_PER_HOUR;\n    total += this._minute * LocalTime.SECONDS_PER_MINUTE;\n    total += this._second;\n    return total;\n  };\n\n  _proto.toNanoOfDay = function toNanoOfDay() {\n    var total = this._hour * LocalTime.NANOS_PER_HOUR;\n    total += this._minute * LocalTime.NANOS_PER_MINUTE;\n    total += this._second * LocalTime.NANOS_PER_SECOND;\n    total += this._nano;\n    return total;\n  };\n\n  _proto.compareTo = function compareTo(other) {\n    requireNonNull(other, 'other');\n    requireInstance(other, LocalTime, 'other');\n    var cmp = MathUtil.compareNumbers(this._hour, other._hour);\n\n    if (cmp === 0) {\n      cmp = MathUtil.compareNumbers(this._minute, other._minute);\n\n      if (cmp === 0) {\n        cmp = MathUtil.compareNumbers(this._second, other._second);\n\n        if (cmp === 0) {\n          cmp = MathUtil.compareNumbers(this._nano, other._nano);\n        }\n      }\n    }\n\n    return cmp;\n  };\n\n  _proto.isAfter = function isAfter(other) {\n    return this.compareTo(other) > 0;\n  };\n\n  _proto.isBefore = function isBefore(other) {\n    return this.compareTo(other) < 0;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof LocalTime) {\n      return this._hour === other._hour && this._minute === other._minute && this._second === other._second && this._nano === other._nano;\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    var nod = this.toNanoOfDay();\n    return MathUtil.hash(nod);\n  };\n\n  _proto.toString = function toString() {\n    var buf = '';\n    var hourValue = this._hour;\n    var minuteValue = this._minute;\n    var secondValue = this._second;\n    var nanoValue = this._nano;\n    buf += hourValue < 10 ? '0' : '';\n    buf += hourValue;\n    buf += minuteValue < 10 ? ':0' : ':';\n    buf += minuteValue;\n\n    if (secondValue > 0 || nanoValue > 0) {\n      buf += secondValue < 10 ? ':0' : ':';\n      buf += secondValue;\n\n      if (nanoValue > 0) {\n        buf += '.';\n\n        if (MathUtil.intMod(nanoValue, 1000000) === 0) {\n          buf += ('' + (MathUtil.intDiv(nanoValue, 1000000) + 1000)).substring(1);\n        } else if (MathUtil.intMod(nanoValue, 1000) === 0) {\n          buf += ('' + (MathUtil.intDiv(nanoValue, 1000) + 1000000)).substring(1);\n        } else {\n          buf += ('' + (nanoValue + 1000000000)).substring(1);\n        }\n      }\n    }\n\n    return buf;\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  _proto.format = function format(formatter) {\n    requireNonNull(formatter, 'formatter');\n    return formatter.format(this);\n  };\n\n  return LocalTime;\n}(Temporal);\nfunction _init$k() {\n  LocalTime.HOURS = [];\n\n  for (var hour = 0; hour < 24; hour++) {\n    LocalTime.of(hour, 0, 0, 0);\n  }\n\n  LocalTime.MIN = LocalTime.HOURS[0];\n  LocalTime.MAX = new LocalTime(23, 59, 59, 999999999);\n  LocalTime.MIDNIGHT = LocalTime.HOURS[0];\n  LocalTime.NOON = LocalTime.HOURS[12];\n  LocalTime.FROM = createTemporalQuery('LocalTime.FROM', function (temporal) {\n    return LocalTime.from(temporal);\n  });\n}\nLocalTime.HOURS_PER_DAY = 24;\nLocalTime.MINUTES_PER_HOUR = 60;\nLocalTime.MINUTES_PER_DAY = LocalTime.MINUTES_PER_HOUR * LocalTime.HOURS_PER_DAY;\nLocalTime.SECONDS_PER_MINUTE = 60;\nLocalTime.SECONDS_PER_HOUR = LocalTime.SECONDS_PER_MINUTE * LocalTime.MINUTES_PER_HOUR;\nLocalTime.SECONDS_PER_DAY = LocalTime.SECONDS_PER_HOUR * LocalTime.HOURS_PER_DAY;\nLocalTime.MILLIS_PER_DAY = LocalTime.SECONDS_PER_DAY * 1000;\nLocalTime.MICROS_PER_DAY = LocalTime.SECONDS_PER_DAY * 1000000;\nLocalTime.NANOS_PER_SECOND = 1000000000;\nLocalTime.NANOS_PER_MINUTE = LocalTime.NANOS_PER_SECOND * LocalTime.SECONDS_PER_MINUTE;\nLocalTime.NANOS_PER_HOUR = LocalTime.NANOS_PER_MINUTE * LocalTime.MINUTES_PER_HOUR;\nLocalTime.NANOS_PER_DAY = LocalTime.NANOS_PER_HOUR * LocalTime.HOURS_PER_DAY;\n\nvar NANOS_PER_MILLI = 1000000;\nvar Instant = function (_Temporal) {\n  _inheritsLoose(Instant, _Temporal);\n\n  Instant.now = function now(clock) {\n    if (clock === void 0) {\n      clock = Clock.systemUTC();\n    }\n\n    return clock.instant();\n  };\n\n  Instant.ofEpochSecond = function ofEpochSecond(epochSecond, nanoAdjustment) {\n    if (nanoAdjustment === void 0) {\n      nanoAdjustment = 0;\n    }\n\n    var secs = epochSecond + MathUtil.floorDiv(nanoAdjustment, LocalTime.NANOS_PER_SECOND);\n    var nos = MathUtil.floorMod(nanoAdjustment, LocalTime.NANOS_PER_SECOND);\n    return Instant._create(secs, nos);\n  };\n\n  Instant.ofEpochMilli = function ofEpochMilli(epochMilli) {\n    var secs = MathUtil.floorDiv(epochMilli, 1000);\n    var mos = MathUtil.floorMod(epochMilli, 1000);\n    return Instant._create(secs, mos * 1000000);\n  };\n\n  Instant.from = function from(temporal) {\n    try {\n      var instantSecs = temporal.getLong(ChronoField.INSTANT_SECONDS);\n      var nanoOfSecond = temporal.get(ChronoField.NANO_OF_SECOND);\n      return Instant.ofEpochSecond(instantSecs, nanoOfSecond);\n    } catch (ex) {\n      throw new DateTimeException('Unable to obtain Instant from TemporalAccessor: ' + temporal + ', type ' + typeof temporal, ex);\n    }\n  };\n\n  Instant.parse = function parse(text) {\n    return DateTimeFormatter.ISO_INSTANT.parse(text, Instant.FROM);\n  };\n\n  Instant._create = function _create(seconds, nanoOfSecond) {\n    if (seconds === 0 && nanoOfSecond === 0) {\n      return Instant.EPOCH;\n    }\n\n    return new Instant(seconds, nanoOfSecond);\n  };\n\n  Instant._validate = function _validate(seconds, nanoOfSecond) {\n    if (seconds < Instant.MIN_SECONDS || seconds > Instant.MAX_SECONDS) {\n      throw new DateTimeException('Instant exceeds minimum or maximum instant');\n    }\n\n    if (nanoOfSecond < 0 || nanoOfSecond > LocalTime.NANOS_PER_SECOND) {\n      throw new DateTimeException('Instant exceeds minimum or maximum instant');\n    }\n  };\n\n  function Instant(seconds, nanoOfSecond) {\n    var _this;\n\n    _this = _Temporal.call(this) || this;\n\n    Instant._validate(seconds, nanoOfSecond);\n\n    _this._seconds = MathUtil.safeToInt(seconds);\n    _this._nanos = MathUtil.safeToInt(nanoOfSecond);\n    return _this;\n  }\n\n  var _proto = Instant.prototype;\n\n  _proto.isSupported = function isSupported(fieldOrUnit) {\n    if (fieldOrUnit instanceof ChronoField) {\n      return fieldOrUnit === ChronoField.INSTANT_SECONDS || fieldOrUnit === ChronoField.NANO_OF_SECOND || fieldOrUnit === ChronoField.MICRO_OF_SECOND || fieldOrUnit === ChronoField.MILLI_OF_SECOND;\n    }\n\n    if (fieldOrUnit instanceof ChronoUnit) {\n      return fieldOrUnit.isTimeBased() || fieldOrUnit === ChronoUnit.DAYS;\n    }\n\n    return fieldOrUnit != null && fieldOrUnit.isSupportedBy(this);\n  };\n\n  _proto.range = function range(field) {\n    return _Temporal.prototype.range.call(this, field);\n  };\n\n  _proto.get = function get(field) {\n    return this.getLong(field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.NANO_OF_SECOND:\n          return this._nanos;\n\n        case ChronoField.MICRO_OF_SECOND:\n          return MathUtil.intDiv(this._nanos, 1000);\n\n        case ChronoField.MILLI_OF_SECOND:\n          return MathUtil.intDiv(this._nanos, NANOS_PER_MILLI);\n\n        case ChronoField.INSTANT_SECONDS:\n          return this._seconds;\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.epochSecond = function epochSecond() {\n    return this._seconds;\n  };\n\n  _proto.nano = function nano() {\n    return this._nanos;\n  };\n\n  _proto.withAdjuster = function withAdjuster(adjuster) {\n    requireNonNull(adjuster, 'adjuster');\n    return adjuster.adjustInto(this);\n  };\n\n  _proto.withFieldValue = function withFieldValue(field, newValue) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      field.checkValidValue(newValue);\n\n      switch (field) {\n        case ChronoField.MILLI_OF_SECOND:\n          {\n            var nval = newValue * NANOS_PER_MILLI;\n            return nval !== this._nanos ? Instant._create(this._seconds, nval) : this;\n          }\n\n        case ChronoField.MICRO_OF_SECOND:\n          {\n            var _nval = newValue * 1000;\n\n            return _nval !== this._nanos ? Instant._create(this._seconds, _nval) : this;\n          }\n\n        case ChronoField.NANO_OF_SECOND:\n          return newValue !== this._nanos ? Instant._create(this._seconds, newValue) : this;\n\n        case ChronoField.INSTANT_SECONDS:\n          return newValue !== this._seconds ? Instant._create(newValue, this._nanos) : this;\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.adjustInto(this, newValue);\n  };\n\n  _proto.truncatedTo = function truncatedTo(unit) {\n    requireNonNull(unit, 'unit');\n\n    if (unit === ChronoUnit.NANOS) {\n      return this;\n    }\n\n    var unitDur = unit.duration();\n\n    if (unitDur.seconds() > LocalTime.SECONDS_PER_DAY) {\n      throw new DateTimeException('Unit is too large to be used for truncation');\n    }\n\n    var dur = unitDur.toNanos();\n\n    if (MathUtil.intMod(LocalTime.NANOS_PER_DAY, dur) !== 0) {\n      throw new DateTimeException('Unit must divide into a standard day without remainder');\n    }\n\n    var nod = MathUtil.intMod(this._seconds, LocalTime.SECONDS_PER_DAY) * LocalTime.NANOS_PER_SECOND + this._nanos;\n\n    var result = MathUtil.intDiv(nod, dur) * dur;\n    return this.plusNanos(result - nod);\n  };\n\n  _proto.plusAmount = function plusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.addTo(this);\n  };\n\n  _proto.plusAmountUnit = function plusAmountUnit(amountToAdd, unit) {\n    requireNonNull(amountToAdd, 'amountToAdd');\n    requireNonNull(unit, 'unit');\n    requireInstance(unit, TemporalUnit);\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.NANOS:\n          return this.plusNanos(amountToAdd);\n\n        case ChronoUnit.MICROS:\n          return this._plus(MathUtil.intDiv(amountToAdd, 1000000), MathUtil.intMod(amountToAdd, 1000000) * 1000);\n\n        case ChronoUnit.MILLIS:\n          return this.plusMillis(amountToAdd);\n\n        case ChronoUnit.SECONDS:\n          return this.plusSeconds(amountToAdd);\n\n        case ChronoUnit.MINUTES:\n          return this.plusSeconds(MathUtil.safeMultiply(amountToAdd, LocalTime.SECONDS_PER_MINUTE));\n\n        case ChronoUnit.HOURS:\n          return this.plusSeconds(MathUtil.safeMultiply(amountToAdd, LocalTime.SECONDS_PER_HOUR));\n\n        case ChronoUnit.HALF_DAYS:\n          return this.plusSeconds(MathUtil.safeMultiply(amountToAdd, LocalTime.SECONDS_PER_DAY / 2));\n\n        case ChronoUnit.DAYS:\n          return this.plusSeconds(MathUtil.safeMultiply(amountToAdd, LocalTime.SECONDS_PER_DAY));\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.addTo(this, amountToAdd);\n  };\n\n  _proto.plusSeconds = function plusSeconds(secondsToAdd) {\n    return this._plus(secondsToAdd, 0);\n  };\n\n  _proto.plusMillis = function plusMillis(millisToAdd) {\n    return this._plus(MathUtil.intDiv(millisToAdd, 1000), MathUtil.intMod(millisToAdd, 1000) * NANOS_PER_MILLI);\n  };\n\n  _proto.plusNanos = function plusNanos(nanosToAdd) {\n    return this._plus(0, nanosToAdd);\n  };\n\n  _proto._plus = function _plus(secondsToAdd, nanosToAdd) {\n    if (secondsToAdd === 0 && nanosToAdd === 0) {\n      return this;\n    }\n\n    var epochSec = this._seconds + secondsToAdd;\n    epochSec = epochSec + MathUtil.intDiv(nanosToAdd, LocalTime.NANOS_PER_SECOND);\n    var nanoAdjustment = this._nanos + nanosToAdd % LocalTime.NANOS_PER_SECOND;\n    return Instant.ofEpochSecond(epochSec, nanoAdjustment);\n  };\n\n  _proto.minusAmount = function minusAmount(amount) {\n    requireNonNull(amount, 'amount');\n    return amount.subtractFrom(this);\n  };\n\n  _proto.minusAmountUnit = function minusAmountUnit(amountToSubtract, unit) {\n    return this.plusAmountUnit(-1 * amountToSubtract, unit);\n  };\n\n  _proto.minusSeconds = function minusSeconds(secondsToSubtract) {\n    return this.plusSeconds(secondsToSubtract * -1);\n  };\n\n  _proto.minusMillis = function minusMillis(millisToSubtract) {\n    return this.plusMillis(-1 * millisToSubtract);\n  };\n\n  _proto.minusNanos = function minusNanos(nanosToSubtract) {\n    return this.plusNanos(-1 * nanosToSubtract);\n  };\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.precision()) {\n      return ChronoUnit.NANOS;\n    }\n\n    if (_query === TemporalQueries.localDate() || _query === TemporalQueries.localTime() || _query === TemporalQueries.chronology() || _query === TemporalQueries.zoneId() || _query === TemporalQueries.zone() || _query === TemporalQueries.offset()) {\n      return null;\n    }\n\n    return _query.queryFrom(this);\n  };\n\n  _proto.adjustInto = function adjustInto(temporal) {\n    requireNonNull(temporal, 'temporal');\n    return temporal.with(ChronoField.INSTANT_SECONDS, this._seconds).with(ChronoField.NANO_OF_SECOND, this._nanos);\n  };\n\n  _proto.until = function until(endExclusive, unit) {\n    requireNonNull(endExclusive, 'endExclusive');\n    requireNonNull(unit, 'unit');\n    var end = Instant.from(endExclusive);\n\n    if (unit instanceof ChronoUnit) {\n      switch (unit) {\n        case ChronoUnit.NANOS:\n          return this._nanosUntil(end);\n\n        case ChronoUnit.MICROS:\n          return MathUtil.intDiv(this._nanosUntil(end), 1000);\n\n        case ChronoUnit.MILLIS:\n          return MathUtil.safeSubtract(end.toEpochMilli(), this.toEpochMilli());\n\n        case ChronoUnit.SECONDS:\n          return this._secondsUntil(end);\n\n        case ChronoUnit.MINUTES:\n          return MathUtil.intDiv(this._secondsUntil(end), LocalTime.SECONDS_PER_MINUTE);\n\n        case ChronoUnit.HOURS:\n          return MathUtil.intDiv(this._secondsUntil(end), LocalTime.SECONDS_PER_HOUR);\n\n        case ChronoUnit.HALF_DAYS:\n          return MathUtil.intDiv(this._secondsUntil(end), 12 * LocalTime.SECONDS_PER_HOUR);\n\n        case ChronoUnit.DAYS:\n          return MathUtil.intDiv(this._secondsUntil(end), LocalTime.SECONDS_PER_DAY);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported unit: ' + unit);\n    }\n\n    return unit.between(this, end);\n  };\n\n  _proto._nanosUntil = function _nanosUntil(end) {\n    var secsDiff = MathUtil.safeSubtract(end.epochSecond(), this.epochSecond());\n    var totalNanos = MathUtil.safeMultiply(secsDiff, LocalTime.NANOS_PER_SECOND);\n    return MathUtil.safeAdd(totalNanos, end.nano() - this.nano());\n  };\n\n  _proto._secondsUntil = function _secondsUntil(end) {\n    var secsDiff = MathUtil.safeSubtract(end.epochSecond(), this.epochSecond());\n    var nanosDiff = end.nano() - this.nano();\n\n    if (secsDiff > 0 && nanosDiff < 0) {\n      secsDiff--;\n    } else if (secsDiff < 0 && nanosDiff > 0) {\n      secsDiff++;\n    }\n\n    return secsDiff;\n  };\n\n  _proto.atOffset = function atOffset(offset) {\n    return OffsetDateTime.ofInstant(this, offset);\n  };\n\n  _proto.atZone = function atZone(zone) {\n    return ZonedDateTime.ofInstant(this, zone);\n  };\n\n  _proto.toEpochMilli = function toEpochMilli() {\n    var millis = MathUtil.safeMultiply(this._seconds, 1000);\n    return millis + MathUtil.intDiv(this._nanos, NANOS_PER_MILLI);\n  };\n\n  _proto.compareTo = function compareTo(otherInstant) {\n    requireNonNull(otherInstant, 'otherInstant');\n    requireInstance(otherInstant, Instant, 'otherInstant');\n    var cmp = MathUtil.compareNumbers(this._seconds, otherInstant._seconds);\n\n    if (cmp !== 0) {\n      return cmp;\n    }\n\n    return this._nanos - otherInstant._nanos;\n  };\n\n  _proto.isAfter = function isAfter(otherInstant) {\n    return this.compareTo(otherInstant) > 0;\n  };\n\n  _proto.isBefore = function isBefore(otherInstant) {\n    return this.compareTo(otherInstant) < 0;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    if (other instanceof Instant) {\n      return this.epochSecond() === other.epochSecond() && this.nano() === other.nano();\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return MathUtil.hashCode(this._seconds, this._nanos);\n  };\n\n  _proto.toString = function toString() {\n    return DateTimeFormatter.ISO_INSTANT.format(this);\n  };\n\n  _proto.toJSON = function toJSON() {\n    return this.toString();\n  };\n\n  return Instant;\n}(Temporal);\nfunction _init$l() {\n  Instant.MIN_SECONDS = -31619119219200;\n  Instant.MAX_SECONDS = 31494816403199;\n  Instant.EPOCH = new Instant(0, 0);\n  Instant.MIN = Instant.ofEpochSecond(Instant.MIN_SECONDS, 0);\n  Instant.MAX = Instant.ofEpochSecond(Instant.MAX_SECONDS, 999999999);\n  Instant.FROM = createTemporalQuery('Instant.FROM', function (temporal) {\n    return Instant.from(temporal);\n  });\n}\n\nvar Clock = function () {\n  function Clock() {}\n\n  Clock.systemUTC = function systemUTC() {\n    return new SystemClock(ZoneOffset.UTC);\n  };\n\n  Clock.systemDefaultZone = function systemDefaultZone() {\n    return new SystemClock(ZoneId.systemDefault());\n  };\n\n  Clock.system = function system(zone) {\n    return new SystemClock(zone);\n  };\n\n  Clock.fixed = function fixed(fixedInstant, zoneId) {\n    return new FixedClock(fixedInstant, zoneId);\n  };\n\n  Clock.offset = function offset(baseClock, duration) {\n    return new OffsetClock(baseClock, duration);\n  };\n\n  var _proto = Clock.prototype;\n\n  _proto.millis = function millis() {\n    abstractMethodFail('Clock.millis');\n  };\n\n  _proto.instant = function instant() {\n    abstractMethodFail('Clock.instant');\n  };\n\n  _proto.zone = function zone() {\n    abstractMethodFail('Clock.zone');\n  };\n\n  _proto.withZone = function withZone() {\n    abstractMethodFail('Clock.withZone');\n  };\n\n  return Clock;\n}();\n\nvar SystemClock = function (_Clock) {\n  _inheritsLoose(SystemClock, _Clock);\n\n  function SystemClock(zone) {\n    var _this;\n\n    requireNonNull(zone, 'zone');\n    _this = _Clock.call(this) || this;\n    _this._zone = zone;\n    return _this;\n  }\n\n  var _proto2 = SystemClock.prototype;\n\n  _proto2.zone = function zone() {\n    return this._zone;\n  };\n\n  _proto2.millis = function millis() {\n    return new Date().getTime();\n  };\n\n  _proto2.instant = function instant() {\n    return Instant.ofEpochMilli(this.millis());\n  };\n\n  _proto2.equals = function equals(obj) {\n    if (obj instanceof SystemClock) {\n      return this._zone.equals(obj._zone);\n    }\n\n    return false;\n  };\n\n  _proto2.withZone = function withZone(zone) {\n    if (zone.equals(this._zone)) {\n      return this;\n    }\n\n    return new SystemClock(zone);\n  };\n\n  _proto2.toString = function toString() {\n    return 'SystemClock[' + this._zone.toString() + ']';\n  };\n\n  return SystemClock;\n}(Clock);\n\nvar FixedClock = function (_Clock2) {\n  _inheritsLoose(FixedClock, _Clock2);\n\n  function FixedClock(fixedInstant, zoneId) {\n    var _this2;\n\n    _this2 = _Clock2.call(this) || this;\n    _this2._instant = fixedInstant;\n    _this2._zoneId = zoneId;\n    return _this2;\n  }\n\n  var _proto3 = FixedClock.prototype;\n\n  _proto3.instant = function instant() {\n    return this._instant;\n  };\n\n  _proto3.millis = function millis() {\n    return this._instant.toEpochMilli();\n  };\n\n  _proto3.zone = function zone() {\n    return this._zoneId;\n  };\n\n  _proto3.toString = function toString() {\n    return 'FixedClock[]';\n  };\n\n  _proto3.equals = function equals(obj) {\n    if (obj instanceof FixedClock) {\n      return this._instant.equals(obj._instant) && this._zoneId.equals(obj._zoneId);\n    }\n\n    return false;\n  };\n\n  _proto3.withZone = function withZone(zone) {\n    if (zone.equals(this._zoneId)) {\n      return this;\n    }\n\n    return new FixedClock(this._instant, zone);\n  };\n\n  return FixedClock;\n}(Clock);\n\nvar OffsetClock = function (_Clock3) {\n  _inheritsLoose(OffsetClock, _Clock3);\n\n  function OffsetClock(baseClock, offset) {\n    var _this3;\n\n    _this3 = _Clock3.call(this) || this;\n    _this3._baseClock = baseClock;\n    _this3._offset = offset;\n    return _this3;\n  }\n\n  var _proto4 = OffsetClock.prototype;\n\n  _proto4.zone = function zone() {\n    return this._baseClock.zone();\n  };\n\n  _proto4.withZone = function withZone(zone) {\n    if (zone.equals(this._baseClock.zone())) {\n      return this;\n    }\n\n    return new OffsetClock(this._baseClock.withZone(zone), this._offset);\n  };\n\n  _proto4.millis = function millis() {\n    return this._baseClock.millis() + this._offset.toMillis();\n  };\n\n  _proto4.instant = function instant() {\n    return this._baseClock.instant().plus(this._offset);\n  };\n\n  _proto4.equals = function equals(obj) {\n    if (obj instanceof OffsetClock) {\n      return this._baseClock.equals(obj._baseClock) && this._offset.equals(obj._offset);\n    }\n\n    return false;\n  };\n\n  _proto4.toString = function toString() {\n    return 'OffsetClock[' + this._baseClock + ',' + this._offset + ']';\n  };\n\n  return OffsetClock;\n}(Clock);\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar ZoneOffsetTransition = function () {\n  ZoneOffsetTransition.of = function of(transition, offsetBefore, offsetAfter) {\n    return new ZoneOffsetTransition(transition, offsetBefore, offsetAfter);\n  };\n\n  function ZoneOffsetTransition(transition, offsetBefore, offsetAfter) {\n    requireNonNull(transition, 'transition');\n    requireNonNull(offsetBefore, 'offsetBefore');\n    requireNonNull(offsetAfter, 'offsetAfter');\n\n    if (offsetBefore.equals(offsetAfter)) {\n      throw new IllegalArgumentException('Offsets must not be equal');\n    }\n\n    if (transition.nano() !== 0) {\n      throw new IllegalArgumentException('Nano-of-second must be zero');\n    }\n\n    if (transition instanceof LocalDateTime) {\n      this._transition = transition;\n    } else {\n      this._transition = LocalDateTime.ofEpochSecond(transition, 0, offsetBefore);\n    }\n\n    this._offsetBefore = offsetBefore;\n    this._offsetAfter = offsetAfter;\n  }\n\n  var _proto = ZoneOffsetTransition.prototype;\n\n  _proto.instant = function instant() {\n    return this._transition.toInstant(this._offsetBefore);\n  };\n\n  _proto.toEpochSecond = function toEpochSecond() {\n    return this._transition.toEpochSecond(this._offsetBefore);\n  };\n\n  _proto.dateTimeBefore = function dateTimeBefore() {\n    return this._transition;\n  };\n\n  _proto.dateTimeAfter = function dateTimeAfter() {\n    return this._transition.plusSeconds(this.durationSeconds());\n  };\n\n  _proto.offsetBefore = function offsetBefore() {\n    return this._offsetBefore;\n  };\n\n  _proto.offsetAfter = function offsetAfter() {\n    return this._offsetAfter;\n  };\n\n  _proto.duration = function duration() {\n    return Duration.ofSeconds(this.durationSeconds());\n  };\n\n  _proto.durationSeconds = function durationSeconds() {\n    return this._offsetAfter.totalSeconds() - this._offsetBefore.totalSeconds();\n  };\n\n  _proto.isGap = function isGap() {\n    return this._offsetAfter.totalSeconds() > this._offsetBefore.totalSeconds();\n  };\n\n  _proto.isOverlap = function isOverlap() {\n    return this._offsetAfter.totalSeconds() < this._offsetBefore.totalSeconds();\n  };\n\n  _proto.isValidOffset = function isValidOffset(offset) {\n    return this.isGap() ? false : this._offsetBefore.equals(offset) || this._offsetAfter.equals(offset);\n  };\n\n  _proto.validOffsets = function validOffsets() {\n    if (this.isGap()) {\n      return [];\n    } else {\n      return [this._offsetBefore, this._offsetAfter];\n    }\n  };\n\n  _proto.compareTo = function compareTo(transition) {\n    return this.instant().compareTo(transition.instant());\n  };\n\n  _proto.equals = function equals(other) {\n    if (other === this) {\n      return true;\n    }\n\n    if (other instanceof ZoneOffsetTransition) {\n      var d = other;\n      return this._transition.equals(d._transition) && this._offsetBefore.equals(d.offsetBefore()) && this._offsetAfter.equals(d.offsetAfter());\n    }\n\n    return false;\n  };\n\n  _proto.hashCode = function hashCode() {\n    return this._transition.hashCode() ^ this._offsetBefore.hashCode() ^ this._offsetAfter.hashCode() >>> 16;\n  };\n\n  _proto.toString = function toString() {\n    return 'Transition[' + (this.isGap() ? 'Gap' : 'Overlap') + ' at ' + this._transition.toString() + this._offsetBefore.toString() + ' to ' + this._offsetAfter + ']';\n  };\n\n  return ZoneOffsetTransition;\n}();\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nfunction _init$m() {\n  TemporalQueries.ZONE_ID = createTemporalQuery('ZONE_ID', function (temporal) {\n    return temporal.query(TemporalQueries.ZONE_ID);\n  });\n  TemporalQueries.CHRONO = createTemporalQuery('CHRONO', function (temporal) {\n    return temporal.query(TemporalQueries.CHRONO);\n  });\n  TemporalQueries.PRECISION = createTemporalQuery('PRECISION', function (temporal) {\n    return temporal.query(TemporalQueries.PRECISION);\n  });\n  TemporalQueries.OFFSET = createTemporalQuery('OFFSET', function (temporal) {\n    if (temporal.isSupported(ChronoField.OFFSET_SECONDS)) {\n      return ZoneOffset.ofTotalSeconds(temporal.get(ChronoField.OFFSET_SECONDS));\n    }\n\n    return null;\n  });\n  TemporalQueries.ZONE = createTemporalQuery('ZONE', function (temporal) {\n    var zone = temporal.query(TemporalQueries.ZONE_ID);\n    return zone != null ? zone : temporal.query(TemporalQueries.OFFSET);\n  });\n  TemporalQueries.LOCAL_DATE = createTemporalQuery('LOCAL_DATE', function (temporal) {\n    if (temporal.isSupported(ChronoField.EPOCH_DAY)) {\n      return LocalDate.ofEpochDay(temporal.getLong(ChronoField.EPOCH_DAY));\n    }\n\n    return null;\n  });\n  TemporalQueries.LOCAL_TIME = createTemporalQuery('LOCAL_TIME', function (temporal) {\n    if (temporal.isSupported(ChronoField.NANO_OF_DAY)) {\n      return LocalTime.ofNanoOfDay(temporal.getLong(ChronoField.NANO_OF_DAY));\n    }\n\n    return null;\n  });\n}\n\nvar SystemDefaultZoneRules = function (_ZoneRules) {\n  _inheritsLoose(SystemDefaultZoneRules, _ZoneRules);\n\n  function SystemDefaultZoneRules() {\n    return _ZoneRules.apply(this, arguments) || this;\n  }\n\n  var _proto = SystemDefaultZoneRules.prototype;\n\n  _proto.isFixedOffset = function isFixedOffset() {\n    return false;\n  };\n\n  _proto.offsetOfInstant = function offsetOfInstant(instant) {\n    var offsetInMinutes = new Date(instant.toEpochMilli()).getTimezoneOffset();\n    return ZoneOffset.ofTotalMinutes(offsetInMinutes * -1);\n  };\n\n  _proto.offsetOfEpochMilli = function offsetOfEpochMilli(epochMilli) {\n    var offsetInMinutes = new Date(epochMilli).getTimezoneOffset();\n    return ZoneOffset.ofTotalMinutes(offsetInMinutes * -1);\n  };\n\n  _proto.offsetOfLocalDateTime = function offsetOfLocalDateTime(localDateTime) {\n    var epochMilli = localDateTime.toEpochSecond(ZoneOffset.UTC) * 1000;\n    var offsetInMinutesBeforePossibleTransition = new Date(epochMilli).getTimezoneOffset();\n    var epochMilliSystemZone = epochMilli + offsetInMinutesBeforePossibleTransition * 60000;\n    var offsetInMinutesAfterPossibleTransition = new Date(epochMilliSystemZone).getTimezoneOffset();\n    return ZoneOffset.ofTotalMinutes(offsetInMinutesAfterPossibleTransition * -1);\n  };\n\n  _proto.validOffsets = function validOffsets(localDateTime) {\n    return [this.offsetOfLocalDateTime(localDateTime)];\n  };\n\n  _proto.transition = function transition() {\n    return null;\n  };\n\n  _proto.standardOffset = function standardOffset(instant) {\n    return this.offsetOfInstant(instant);\n  };\n\n  _proto.daylightSavings = function daylightSavings() {\n    this._throwNotSupported();\n  };\n\n  _proto.isDaylightSavings = function isDaylightSavings() {\n    this._throwNotSupported();\n  };\n\n  _proto.isValidOffset = function isValidOffset(dateTime, offset) {\n    return this.offsetOfLocalDateTime(dateTime).equals(offset);\n  };\n\n  _proto.nextTransition = function nextTransition() {\n    this._throwNotSupported();\n  };\n\n  _proto.previousTransition = function previousTransition() {\n    this._throwNotSupported();\n  };\n\n  _proto.transitions = function transitions() {\n    this._throwNotSupported();\n  };\n\n  _proto.transitionRules = function transitionRules() {\n    this._throwNotSupported();\n  };\n\n  _proto._throwNotSupported = function _throwNotSupported() {\n    throw new DateTimeException('not supported operation');\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other || other instanceof SystemDefaultZoneRules) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  _proto.toString = function toString() {\n    return 'SYSTEM';\n  };\n\n  return SystemDefaultZoneRules;\n}(ZoneRules);\n\nvar SystemDefaultZoneId = function (_ZoneId) {\n  _inheritsLoose(SystemDefaultZoneId, _ZoneId);\n\n  function SystemDefaultZoneId() {\n    var _this;\n\n    _this = _ZoneId.call(this) || this;\n    _this._rules = new SystemDefaultZoneRules();\n    return _this;\n  }\n\n  var _proto = SystemDefaultZoneId.prototype;\n\n  _proto.rules = function rules() {\n    return this._rules;\n  };\n\n  _proto.equals = function equals(other) {\n    if (this === other) {\n      return true;\n    }\n\n    return false;\n  };\n\n  _proto.id = function id() {\n    return 'SYSTEM';\n  };\n\n  return SystemDefaultZoneId;\n}(ZoneId);\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar ZoneIdFactory = function () {\n  function ZoneIdFactory() {}\n\n  ZoneIdFactory.systemDefault = function systemDefault() {\n    return SYSTEM_DEFAULT_ZONE_ID_INSTANCE;\n  };\n\n  ZoneIdFactory.getAvailableZoneIds = function getAvailableZoneIds() {\n    return ZoneRulesProvider.getAvailableZoneIds();\n  };\n\n  ZoneIdFactory.of = function of(zoneId) {\n    requireNonNull(zoneId, 'zoneId');\n\n    if (zoneId === 'Z') {\n      return ZoneOffset.UTC;\n    }\n\n    if (zoneId.length === 1) {\n      throw new DateTimeException('Invalid zone: ' + zoneId);\n    }\n\n    if (StringUtil.startsWith(zoneId, '+') || StringUtil.startsWith(zoneId, '-')) {\n      return ZoneOffset.of(zoneId);\n    }\n\n    if (zoneId === 'UTC' || zoneId === 'GMT' || zoneId === 'GMT0' || zoneId === 'UT') {\n      return new ZoneRegion(zoneId, ZoneOffset.UTC.rules());\n    }\n\n    if (StringUtil.startsWith(zoneId, 'UTC+') || StringUtil.startsWith(zoneId, 'GMT+') || StringUtil.startsWith(zoneId, 'UTC-') || StringUtil.startsWith(zoneId, 'GMT-')) {\n      var offset = ZoneOffset.of(zoneId.substring(3));\n\n      if (offset.totalSeconds() === 0) {\n        return new ZoneRegion(zoneId.substring(0, 3), offset.rules());\n      }\n\n      return new ZoneRegion(zoneId.substring(0, 3) + offset.id(), offset.rules());\n    }\n\n    if (StringUtil.startsWith(zoneId, 'UT+') || StringUtil.startsWith(zoneId, 'UT-')) {\n      var _offset = ZoneOffset.of(zoneId.substring(2));\n\n      if (_offset.totalSeconds() === 0) {\n        return new ZoneRegion('UT', _offset.rules());\n      }\n\n      return new ZoneRegion('UT' + _offset.id(), _offset.rules());\n    }\n\n    if (zoneId === 'SYSTEM') {\n      return ZoneId.systemDefault();\n    }\n\n    return ZoneRegion.ofId(zoneId);\n  };\n\n  ZoneIdFactory.ofOffset = function ofOffset(prefix, offset) {\n    requireNonNull(prefix, 'prefix');\n    requireNonNull(offset, 'offset');\n\n    if (prefix.length === 0) {\n      return offset;\n    }\n\n    if (prefix === 'GMT' || prefix === 'UTC' || prefix === 'UT') {\n      if (offset.totalSeconds() === 0) {\n        return new ZoneRegion(prefix, offset.rules());\n      }\n\n      return new ZoneRegion(prefix + offset.id(), offset.rules());\n    }\n\n    throw new IllegalArgumentException('Invalid prefix, must be GMT, UTC or UT: ' + prefix);\n  };\n\n  ZoneIdFactory.from = function from(temporal) {\n    requireNonNull(temporal, 'temporal');\n    var obj = temporal.query(TemporalQueries.zone());\n\n    if (obj == null) {\n      throw new DateTimeException('Unable to obtain ZoneId from TemporalAccessor: ' + temporal + ', type ' + (temporal.constructor != null ? temporal.constructor.name : ''));\n    }\n\n    return obj;\n  };\n\n  return ZoneIdFactory;\n}();\nvar SYSTEM_DEFAULT_ZONE_ID_INSTANCE = null;\nfunction _init$n() {\n  SYSTEM_DEFAULT_ZONE_ID_INSTANCE = new SystemDefaultZoneId();\n  ZoneId.systemDefault = ZoneIdFactory.systemDefault;\n  ZoneId.getAvailableZoneIds = ZoneIdFactory.getAvailableZoneIds;\n  ZoneId.of = ZoneIdFactory.of;\n  ZoneId.ofOffset = ZoneIdFactory.ofOffset;\n  ZoneId.from = ZoneIdFactory.from;\n  ZoneOffset.from = ZoneIdFactory.from;\n  ZoneId.SYSTEM = SYSTEM_DEFAULT_ZONE_ID_INSTANCE;\n  ZoneId.UTC = ZoneOffset.ofTotalSeconds(0);\n}\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar isInit = false;\n\nfunction init() {\n  if (isInit) {\n    return;\n  }\n\n  isInit = true;\n  _init$1();\n  _init();\n  _init$2();\n  _init$3();\n  _init$k();\n  _init$8();\n  _init$m();\n  _init$4();\n  _init$l();\n  _init$i();\n  _init$j();\n  _init$d();\n  _init$5();\n  _init$c();\n  _init$b();\n  _init$6();\n  _init$7();\n  _init$g();\n  _init$n();\n  _init$e();\n  _init$a();\n  _init$9();\n  _init$h();\n  _init$f();\n}\n\ninit();\n\n/*\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\n\nvar ToNativeJsConverter = function () {\n  function ToNativeJsConverter(temporal, zone) {\n    var zonedDateTime;\n\n    if (temporal instanceof LocalDate) {\n      zone = zone == null ? ZoneId.systemDefault() : zone;\n      zonedDateTime = temporal.atStartOfDay(zone);\n    } else if (temporal instanceof LocalDateTime) {\n      zone = zone == null ? ZoneId.systemDefault() : zone;\n      zonedDateTime = temporal.atZone(zone);\n    } else if (temporal instanceof ZonedDateTime) {\n      if (zone == null) {\n        zonedDateTime = temporal;\n      } else {\n        zonedDateTime = temporal.withZoneSameInstant(zone);\n      }\n    } else {\n      throw new IllegalArgumentException('unsupported instance for convert operation:' + temporal);\n    }\n\n    this.instant = zonedDateTime.toInstant();\n  }\n\n  var _proto = ToNativeJsConverter.prototype;\n\n  _proto.toDate = function toDate() {\n    return new Date(this.instant.toEpochMilli());\n  };\n\n  _proto.toEpochMilli = function toEpochMilli() {\n    return this.instant.toEpochMilli();\n  };\n\n  return ToNativeJsConverter;\n}();\n\nfunction convert(temporal, zone) {\n  return new ToNativeJsConverter(temporal, zone);\n}\n\nvar NativeJsTemporal = function (_TemporalAccessor) {\n  _inheritsLoose(NativeJsTemporal, _TemporalAccessor);\n\n  function NativeJsTemporal(date, zone) {\n    var _this;\n\n    if (zone === void 0) {\n      zone = ZoneId.systemDefault();\n    }\n\n    _this = _TemporalAccessor.call(this) || this;\n    _this._zone = zone;\n\n    if (date instanceof Date) {\n      _this._epochMilli = date.getTime();\n      return _assertThisInitialized(_this);\n    } else if (typeof date.toDate === 'function' && date.toDate() instanceof Date) {\n      _this._epochMilli = date.toDate().getTime();\n      return _assertThisInitialized(_this);\n    }\n\n    assert(false, 'date must be either a javascript date or a moment');\n    return _this;\n  }\n\n  var _proto = NativeJsTemporal.prototype;\n\n  _proto.query = function query(_query) {\n    requireNonNull(_query, 'query');\n\n    if (_query === TemporalQueries.localDate()) {\n      return LocalDate.ofInstant(Instant.ofEpochMilli(this._epochMilli), this._zone);\n    } else if (_query === TemporalQueries.localTime()) {\n      return LocalTime.ofInstant(Instant.ofEpochMilli(this._epochMilli), this._zone);\n    } else if (_query === TemporalQueries.zone()) {\n      return this._zone;\n    }\n\n    return _TemporalAccessor.prototype.query.call(this, _query);\n  };\n\n  _proto.get = function get(field) {\n    return this.getLong(field);\n  };\n\n  _proto.getLong = function getLong(field) {\n    requireNonNull(field, 'field');\n\n    if (field instanceof ChronoField) {\n      switch (field) {\n        case ChronoField.NANO_OF_SECOND:\n          return MathUtil.floorMod(this._epochMilli, 1000) * 1000000;\n\n        case ChronoField.INSTANT_SECONDS:\n          return MathUtil.floorDiv(this._epochMilli, 1000);\n      }\n\n      throw new UnsupportedTemporalTypeException('Unsupported field: ' + field);\n    }\n\n    return field.getFrom(this);\n  };\n\n  _proto.isSupported = function isSupported(field) {\n    return field === ChronoField.INSTANT_SECONDS || field === ChronoField.NANO_OF_SECOND;\n  };\n\n  return NativeJsTemporal;\n}(TemporalAccessor);\n\nfunction nativeJs(date, zone) {\n  return new NativeJsTemporal(date, zone);\n}\n\nfunction bindUse(jsJoda) {\n  var used = [];\n  return function use(fn) {\n    if (!~used.indexOf(fn)) {\n      fn(jsJoda);\n      used.push(fn);\n    }\n\n    return jsJoda;\n  };\n}\n\n/**\n * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper\n * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)\n */\nvar _ = {\n  assert: assert$1,\n  DateTimeBuilder: DateTimeBuilder,\n  DateTimeParseContext: DateTimeParseContext,\n  DateTimePrintContext: DateTimePrintContext,\n  MathUtil: MathUtil,\n  StringUtil: StringUtil,\n  StringBuilder: StringBuilder\n};\nvar jsJodaExports = {\n  _: _,\n  convert: convert,\n  nativeJs: nativeJs,\n  ArithmeticException: ArithmeticException,\n  DateTimeException: DateTimeException,\n  DateTimeParseException: DateTimeParseException,\n  IllegalArgumentException: IllegalArgumentException,\n  IllegalStateException: IllegalStateException,\n  UnsupportedTemporalTypeException: UnsupportedTemporalTypeException,\n  NullPointerException: NullPointerException,\n  Clock: Clock,\n  DayOfWeek: DayOfWeek,\n  Duration: Duration,\n  Instant: Instant,\n  LocalDate: LocalDate,\n  LocalTime: LocalTime,\n  LocalDateTime: LocalDateTime,\n  OffsetTime: OffsetTime,\n  OffsetDateTime: OffsetDateTime,\n  Month: Month,\n  MonthDay: MonthDay,\n  Period: Period,\n  Year: Year,\n  YearConstants: YearConstants,\n  YearMonth: YearMonth,\n  ZonedDateTime: ZonedDateTime,\n  ZoneOffset: ZoneOffset,\n  ZoneId: ZoneId,\n  ZoneRegion: ZoneRegion,\n  ZoneOffsetTransition: ZoneOffsetTransition,\n  ZoneRules: ZoneRules,\n  ZoneRulesProvider: ZoneRulesProvider,\n  ChronoLocalDate: ChronoLocalDate,\n  ChronoLocalDateTime: ChronoLocalDateTime,\n  ChronoZonedDateTime: ChronoZonedDateTime,\n  IsoChronology: IsoChronology,\n  ChronoField: ChronoField,\n  ChronoUnit: ChronoUnit,\n  IsoFields: IsoFields,\n  Temporal: Temporal,\n  TemporalAccessor: TemporalAccessor,\n  TemporalAdjuster: TemporalAdjuster,\n  TemporalAdjusters: TemporalAdjusters,\n  TemporalAmount: TemporalAmount,\n  TemporalField: TemporalField,\n  TemporalQueries: TemporalQueries,\n  TemporalQuery: TemporalQuery,\n  TemporalUnit: TemporalUnit,\n  ValueRange: ValueRange,\n  DateTimeFormatter: DateTimeFormatter,\n  DateTimeFormatterBuilder: DateTimeFormatterBuilder,\n  DecimalStyle: DecimalStyle,\n  ResolverStyle: ResolverStyle,\n  SignStyle: SignStyle,\n  TextStyle: TextStyle\n};\nvar use = bindUse(jsJodaExports);\njsJodaExports.use = use;\n\nexport { ArithmeticException, ChronoField, ChronoLocalDate, ChronoLocalDateTime, ChronoUnit, ChronoZonedDateTime, Clock, DateTimeException, DateTimeFormatter, DateTimeFormatterBuilder, DateTimeParseException, DayOfWeek, DecimalStyle, Duration, IllegalArgumentException, IllegalStateException, Instant, IsoChronology, IsoFields, LocalDate, LocalDateTime, LocalTime, Month, MonthDay, NullPointerException, OffsetDateTime, OffsetTime, Period, ResolverStyle, SignStyle, Temporal, TemporalAccessor, TemporalAdjuster, TemporalAdjusters, TemporalAmount, TemporalField, TemporalQueries, TemporalQuery, TemporalUnit, TextStyle, UnsupportedTemporalTypeException, ValueRange, Year, YearConstants, YearMonth, ZoneId, ZoneOffset, ZoneOffsetTransition, ZoneRegion, ZoneRules, ZoneRulesProvider, ZonedDateTime, _, convert, nativeJs, use };\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nif (typeof Element != \"undefined\" && !Element.prototype.remove) {\n    Object.defineProperty(Element.prototype, \"remove\", {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value: function() { this.parentNode && this.parentNode.removeChild(this); }\n    });\n}\n\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\n\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\nif (exports.isIOS) exports.isMac = true;\n\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"./useragent\"); \nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    \n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    \n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function(n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            } else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            } else if (n === \"ref\") {\n                if (refs) refs[val] = el;\n            } else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.removeChildren = function(element) {\n    element.innerHTML = \"\";\n};\n\nexports.createTextNode = function(textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\n\nexports.createFragment = function(element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id)\n                return true;\n    }\n};\n\nexports.importCssString = function importCssString(cssText, id, target) {\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    } else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    \n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    exports.buildDom([\"link\", {rel: \"stylesheet\", href: uri}], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n}\n\nexports.computedStyle = function(element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\n\nexports.setStyle = function(styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\n\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\n\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform  !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\n\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function(element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) +\"px)\";\n    };\n} else {\n    exports.translate = function(element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8, \n            \"control\": 1\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nvar pressedKeys = null;\nvar ts = 0;\n\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function() {}, { \n            get passive() { \n                activeListenerOptions = {passive: false};\n            }\n        });\n    } catch(e) {}\n}\n\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\n\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function() {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\n\nvar addListener = exports.addListener = function(elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\n\nvar removeListener = exports.removeListener = function(elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback, destroyer) {\n    if (\"onmousewheel\" in el) {\n        addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        }, destroyer);\n    } else if (\"onwheel\" in el) {\n        addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        }, destroyer);\n    } else {\n        addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        }, destroyer);\n    }\n};\n\nexports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function(el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\n\nvar getModifierHash = function(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\n\nexports.addCommandKeyListener = function(el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        \n        var listener = function(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        \n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\n\nexports.$idleBlocked = false;\nexports.onIdle = function(cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        } else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\n\nexports.$idleBlockId = null;\nexports.blockIdle = function(delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n        \n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function() {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar $cancelT;\nmodule.exports = { \n    lineMode: false,\n    pasteCancelled: function() {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function() {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\n\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    \n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    \n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        if (ignoreFocusEvents) return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function(e) {\n        if (ignoreFocusEvents) return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            } catch(e) {}\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function() {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        } catch(e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function(p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    \n    host.on(\"beforeEndOperation\", function() {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    \n    var resetSelection = isIOS\n    ? function(value) {\n        if (!isFocused || (copied && !value) || sendingText) return;\n        if (!value) \n            value = \"\";\n        var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n        if (newValue != text.value)\n            text.value = lastValue = newValue;\n        \n        var selectionStart = 4;\n        var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n        if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        }\n        lastSelectionStart = selectionStart;\n        lastSelectionEnd = selectionEnd;\n    }\n    : function() {\n        if (inComposition || sendingText)\n            return;\n        if (!isFocused && !afterContextMenu)\n            return;\n        inComposition = true;\n        \n        var selectionStart = 0;\n        var selectionEnd = 0;\n        var line = \"\";\n\n        if (host.session) {\n            var selection = host.selection;\n            var range = selection.getRange();\n            var row = selection.cursor.row;\n            selectionStart = range.start.column;\n            selectionEnd = range.end.column;\n            line = host.session.getLine(row);\n\n            if (range.start.row != row) {\n                var prevLine = host.session.getLine(row - 1);\n                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                selectionEnd += prevLine.length + 1;\n                line = prevLine + \"\\n\" + line;\n            }\n            else if (range.end.row != row) {\n                var nextLine = host.session.getLine(row + 1);\n                selectionEnd = range.end.row > row  + 1 ? nextLine.length : selectionEnd;\n                selectionEnd += line.length + 1;\n                line = line + \"\\n\" + nextLine;\n            }\n            else if (isMobile && row > 0) {\n                line = \"\\n\" + line;\n                selectionEnd += 1;\n                selectionStart += 1;\n            }\n\n            if (line.length > MAX_LINE_LENGTH) {\n                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                    line = line.slice(0, MAX_LINE_LENGTH);\n                } else {\n                    line = \"\\n\";\n                    if (selectionStart == selectionEnd) {\n                        selectionStart = selectionEnd = 0;\n                    }\n                    else {\n                        selectionStart = 0;\n                        selectionEnd = 1;\n                    }\n                }\n            }\n        }\n\n        var newValue = line + \"\\n\\n\";\n        if (newValue != lastValue) {\n            text.value = lastValue = newValue;\n            lastSelectionStart = lastSelectionEnd = newValue.length;\n        }\n        if (afterContextMenu) {\n            lastSelectionStart = text.selectionStart;\n            lastSelectionEnd = text.selectionEnd;\n        }\n        if (\n            lastSelectionEnd != selectionEnd \n            || lastSelectionStart != selectionStart \n            || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n        ) {\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n            } catch(e){}\n        }\n        inComposition = false;\n    };\n    this.resetSelection = resetSelection;\n\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n\n    var onSelect = function(e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n    \n    var sendText = function(value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        } else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n        \n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            \n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n        \n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1  && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i-1;\n            restoreEnd -= i-1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            } \n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            \n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            } else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            \n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (\n            data.length > MAX_LINE_LENGTH + 100 \n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd\n        ) {\n            resetSelection();\n        }\n    };\n    \n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        \n        inComposition = {};\n\n        if (commandMode)\n            return;\n        \n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        \n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        \n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        \n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        \n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e) onInput();\n    };\n    \n\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    \n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n\n    this.getElement = function() {\n        return text;\n    };\n    this.setCommandMode = function(value) {\n       commandMode = value;\n       text.readOnly = false;\n    };\n    \n    this.setReadOnly = function(readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n\n    this.setCopyWithEmptySelection = function(value) {\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        host.renderer.$isMousePressed = true;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    \n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n \n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout) clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function(e) {\n            if (document.activeElement !== text) return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            \n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            } else if (selectionStart == 1) {\n                key = KEYS.home;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            } else if (\n                selectionStart < lastSelectionStart\n                || (\n                    selectionStart == lastSelectionStart \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.left;\n            } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            } else if (\n                selectionEnd > lastSelectionEnd\n                || (\n                    selectionEnd == lastSelectionEnd \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.right;\n            }\n            \n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n};\n\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function(_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent) return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        \n        var editor = this.editor;\n        \n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        \n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        \n        var direction = Math.abs(vx / vy);\n        \n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n            \n        if (canScroll) {\n            prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        \n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n    \n    this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\n\nexports.addTouchListeners = function(el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    \n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function() {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(\n                dom.buildDom(isOpen ? [\"span\",\n                    !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                    clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                    hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Pallete\"]\n                ] : [\"span\"]),\n                contextMenu.firstChild\n            );\n        };\n        var handleClick = function(e) {\n            var action = e.target.getAttribute(\"action\");\n\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function(e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function(e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu) createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        } else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        } else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function(e) {\n        if (!pressed) return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        \n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        \n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        \n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        } else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            \n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function(x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            \n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            \n            var diff1 = weightedDistance(\n                e.clientX - rect.left - cursorPos.left + offsetLeft,\n                e.clientY - rect.top - cursorPos.top + offsetTop\n            );\n            var diff2 = weightedDistance(\n                e.clientX - rect.left - anchorPos.left + offsetLeft,\n                e.clientY - rect.top - anchorPos.top + offsetTop\n            );\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n                \n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer) clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        } else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        } else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        } else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\") return;\n\n        var touchObj = touches[0];\n\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function() {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01) vX = 0;\n            if (Math.abs(vY) < 0.01) vY = 0;\n            if (animationSteps < 20) vX = 0.9 * vX;\n            if (animationSteps < 20) vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function(resolve) {\n            callback = resolve;\n        });\n    }\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function(key) {\n                return !options[key].hidden;\n            });\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\n\nexports.$modes = {};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    \n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\n\nvar reportErrorIfPathIsNotConfigured = function() {\n    if (\n        !options.basePath && !options.workerPath \n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length\n    ) {\n        console.error(\n            \"Unable to infer path to ace from script src,\",\n            \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\n            \"or with webpack use ace/webpack-resolver\"\n        );\n        reportErrorIfPathIsNotConfigured = function() {};\n    }\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n}\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nexports.version = \"1.4.12\";\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        var onOperationEnd = function(e) {\n            if (!self.releaseMouse) return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({command: {name: \"mouse\"}});\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function() {\n        if (this.releaseMouse) this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimeout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n        \n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        \n        if (!success && hashId == -1) {\n            toExecute = {command: \"insertstring\"};\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        \n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        \n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\n\nvar impTab_LTR = [\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t0x11,\t\t2,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t],\t[\t0,\t\t3,\t\t0x15,\t\t0x15,\t\t4,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]\n];\n\nvar impTab_RTL = [\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t],\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t0x21,\t\t3,\t\t1,\t\t1\t]\n];\n\nvar LTR = 0, RTL = 1;\n\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\n\nvar UnicodeTBL00 = [\nBN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,\nWS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,\nEN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,\nBN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nCS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,\nET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON\n];\n\nvar UnicodeTBL20 = [\nWS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R\t,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,\nET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS\n];\n\nfunction _computeLevels(chars, levels, len, charTypes) {\n\tvar impTab = dir ? impTab_RTL : impTab_LTR\n\t\t, prevState = null, newClass = null, newLevel = null, newState = 0\n\t\t, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n\n\tif (!charTypes) {\n\t\tfor (i = 0, charTypes = []; i < len; i++) {\n\t\t\tcharTypes[i] = _getCharacterType(chars[i]);\n\t\t}\n\t}\n\thiLevel = dir;\n\tlastArabic = false;\n\thasUBAT_AL = false;\n\thasUBAT_B = false;\n\thasUBAT_S = false;\n\tfor (ix = 0; ix < len; ix++){\n\t\tprevState = newState;\n\t\tclasses[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n\t\tnewState = impTab[prevState][newClass];\n\t\taction = newState & 0xF0;\n\t\tnewState &= 0x0F;\n\t\tlevels[ix] = newLevel = impTab[newState][5];\n\t\tif (action > 0){\n\t\t\tif (action == 0x10){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t} else {\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tcond = impTab[newState][6];\n\t\tif (cond){\n\t\t\tif(condPos == -1){\n\t\t\t\tcondPos = ix;\n\t\t\t}\n\t\t}else{\n\t\t\tif (condPos > -1){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tif (charTypes[ix] == B){\n\t\t\tlevels[ix] = 0;\n\t\t}\n\t\thiLevel |= newLevel;\n\t}\n\tif (hasUBAT_S){\n\t\tfor(i = 0; i < len; i++){\n\t\t\tif(charTypes[i] == S){\n\t\t\t\tlevels[i] = dir;\n\t\t\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\t\t\tif(charTypes[j] == WS){\n\t\t\t\t\t\tlevels[j] = dir;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _invertLevel(lev, levels, _array) {\n\tif (hiLevel < lev){\n\t\treturn;\n\t}\n\tif (lev == 1 && dir == RTL && !hasUBAT_B){\n\t\t_array.reverse();\n\t\treturn;\n\t}\n\tvar len = _array.length, start = 0, end, lo, hi, tmp;\n\twhile(start < len){\n\t\tif (levels[start] >= lev){\n\t\t\tend = start + 1;\n\t\twhile(end < len && levels[end] >= lev){\n\t\t\tend++;\n\t\t}\n\t\tfor(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){\n\t\t\ttmp = _array[lo];\n\t\t\t_array[lo] = _array[hi];\n\t\t\t_array[hi] = tmp;\n\t\t}\n\t\tstart = end;\n\t}\n\tstart++;\n\t}\n}\n\nfunction _getCharClass(chars, types, classes, ix) {\t\t\t\n\tvar cType = types[ix], wType, nType, len, i;\n\tswitch(cType){\n\t\tcase L:\n\t\tcase R:\n\t\t\tlastArabic = false;\n\t\tcase ON:\n\t\tcase AN:\n\t\t\treturn cType;\n\t\tcase EN:\n\t\t\treturn lastArabic ? AN : EN;\n\t\tcase AL:\n\t\t\tlastArabic = true;\n\t\t\thasUBAT_AL = true;\n\t\t\treturn R;\n\t\tcase WS:\n\t\t\treturn ON;\n\t\tcase CS:\n\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t((wType = classes[ix - 1]) != EN && wType != AN) ||\n\t\t\t\t((nType = types[ix + 1]) != EN && nType != AN)){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\tif (lastArabic){nType = AN;}\n\t\t\treturn nType == wType ? nType : ON;\n\t\tcase ES:\n\t\t\twType = ix > 0 ? classes[ix - 1] : B;\n\t\t\tif (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase ET:\n\t\t\tif (ix > 0 && classes[ix - 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\tif (lastArabic){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\ti = ix + 1;\n\t\t\tlen = types.length;\n\t\t\twhile (i < len && types[i] == ET){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len && types[i] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase NSM:\n\t\t\tlen = types.length;\n\t\t\ti = ix + 1;\n\t\t\twhile (i < len && types[i] == NSM){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len){\n\t\t\t\tvar c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n\t\t\t\t\n\t\t\t\twType = types[i];\n\t\t\t\tif (rtlCandidate && (wType == R || wType == AL)){\n\t\t\t\t\treturn R;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ix < 1 || (wType = types[ix - 1]) == B){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\treturn classes[ix - 1];\n\t\tcase B:\n\t\t\tlastArabic = false;\n\t\t\thasUBAT_B = true;\n\t\t\treturn dir;\n\t\tcase S:\n\t\t\thasUBAT_S = true;\n\t\t\treturn ON;\n\t\tcase LRE:\n\t\tcase RLE:\n\t\tcase LRO:\n\t\tcase RLO:\n\t\tcase PDF:\n\t\t\tlastArabic = false;\n\t\tcase BN:\n\t\t\treturn ON;\n\t}\n}\n\nfunction _getCharacterType( ch ) {\t\t\n\tvar uc = ch.charCodeAt(0), hi = uc >> 8;\n\t\n\tif (hi == 0) {\t\t\n\t\treturn ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n\t} else if (hi == 5) {\n\t\treturn (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n\t} else if (hi == 6) {\n\t\tif (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n\t\t\treturn NSM;\n\t\telse if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n\t\t\treturn AN;\n\t\telse if (uc == 0x066A)\n\t\t\treturn ET;\n\t\telse if (/[\\u06f0-\\u06f9]/.test(ch))\n\t\t\treturn EN;\t\t\t\n\t\telse\n\t\t\treturn AL;\n\t} else if (hi == 0x20 && uc <= 0x205F) {\n\t\treturn UnicodeTBL20[uc & 0xFF];\n\t} else if (hi == 0xFE) {\n\t\treturn (uc >= 0xFE70 ? AL : ON);\n\t}\t\t\n\treturn ON;\t\n}\n\nfunction _isArabicDiacritics( ch ) {\n\treturn (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\n\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function(text, textCharTypes, isRtl) {\n\tif (text.length < 2)\n\t\treturn {};\n\t\t\n\tvar chars = text.split(\"\"), logicalFromVisual = new Array(chars.length),\n\t\tbidiLevels = new Array(chars.length), levels = []; \n\n\tdir = isRtl ? RTL : LTR;\n\n\t_computeLevels(chars, levels, chars.length, textCharTypes);\n\n\tfor (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);\n\n\t_invertLevel(2, levels, logicalFromVisual);\n\t_invertLevel(1, levels, logicalFromVisual);\n\n\tfor (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n\t\tif (textCharTypes[i] === AN) {\n\t\t\tlevels[i] = exports.AN;\n\t\t} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE) \n\t\t\t|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n\t\t\tlevels[i] = exports.ON_R;\n\t\t} else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n\t\t\tlevels[i - 1] = levels[i] = exports.R_H;\n\t\t\ti++;\n\t\t}\n\t}\n\tif (chars[chars.length - 1] === exports.DOT)\n\t\tlevels[chars.length - 1] = exports.B;\n\t\t\t\t\n\tif (chars[0] === '\\u202B')\n\t\tlevels[0] = exports.RLE;\n\t\t\t\t\n\tfor (var i = 0; i < logicalFromVisual.length; i++) {\n\t\tbidiLevels[i] = levels[logicalFromVisual[i]];\n\t}\n\n\treturn {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};\n};\nexports.hasBidiCharacters = function(text, textCharTypes){\n\tvar ret = false;\n\tfor (var i = 0; i < text.length; i++){\n\t\ttextCharTypes[i] = _getCharacterType(text.charAt(i));\n\t\tif (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n\t\t\tret = true;\n\t}\n\treturn ret;\n};\t\nexports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n\tfor (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n\t\tif (rowMap.logicalFromVisual[i] == logIdx)\n\t\t\treturn i;\n\t}\n\treturn 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n\n(function() {\n    this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function(delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        } \n        else {\n            this.currentRow = null;\n        }\n    };\n\n    this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n    };\n\n    this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        } else {\n            splitIndex = this.currentRow;\n        }\n\n        return splitIndex;\n    };\n\n    this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n            \n        var isLastRow = (docRow === this.session.getLength() - 1),\n            endOfLine = isLastRow ? this.EOF : this.EOL;\n\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n\n                if(splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                            this.line.substring(splits[splits.length - 1]);\n                } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n            }\n            if (splitIndex == splits.length)\n                this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n        } else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function(ch, i){\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    \n    this.updateBidiMap = function() {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n             this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        } else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function() {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function(fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n\n        this.currentRow = null;\n    };\n\n    this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n\n    this.setEolChar = function(eolChar) {\n        this.EOL = eolChar; \n    };\n\n    this.setContentWidth = function(width) {\n        this.contentWidth = width;\n    };\n\n    this.isRtlLine = function(row) {\n        if (this.$isRtl) return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir; \n    };\n\n    this.setRtlDirection = function(editor, isRtlDir) {\n        var cursor = editor.getCursorPosition(); \n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({column: 0, row: row}, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n            levels = this.bidiMap.bidiLevels, left = 0;\n\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n            \n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n\n        return left;\n    };\n    this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0,\n            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false, isSelectedPrev = false, selectionStart = 0;\n            \n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            } else if (!isSelected && isSelectedPrev) {\n                selections.push({left: selectionStart, width: offset - selectionStart});\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({left: selectionStart, width: offset - selectionStart});\n        }\n\n        if(this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function(posX) {\n        if(this.isRtlDir)\n            posX -= this.rtlLineOffset;\n\n        var logicalIdx = 0, posX = Math.max(posX, 0),\n            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n           posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n    \n        while(posX > offset + charWidth/2) {\n            offset += charWidth;\n            if(visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n    \n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){\n            if(posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n\n        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n\n        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n\n        return (logicalIdx + this.wrapIndent);\n    };\n\n}).call(BidiHandler.prototype);\n\nexports.BidiHandler = BidiHandler;\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n\n    var self = this;\n    this.cursor.on(\"change\", function(e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.anchor.on(\"change\", function() {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        );\n    };\n    this.isMultiLine = function() {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor = \n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        \n        return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n\n    this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length-1 == tabSize;\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            } else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            } else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        \n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        \n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            \n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        } catch(e) {\n            return Range.fromPoints(start, start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n        \n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function(x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; ) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase(); \n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }\n            : function(value) {return keywords[value] || defaultToken; };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n    this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n    \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar defaultQuotes = {'\"' : '\"', \"'\" : \"'\"};\n\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function(options) {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) \n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                \n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                \n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                \n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote &&  (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar wordChars = [48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2];\n\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\n\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar config = require(\"../config\");\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n};\n\n(function() {\n    this.$defaultBehaviour = new CstyleBehaviour();\n\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            }(this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n            \n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    \n    this.$safeApplyDelta = function(delta) {\n        var docLength = this.$lines.length;\n        if (\n            delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength\n        ) {\n            this.applyDelta(delta);\n        }\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function(delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (endLine == -1)\n            endLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n    this.$bias = 1;\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        \n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n    \n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    } else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        } else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                \n                if (r.start.row > endRow)\n                    break;\n                    \n                if (r.end.row < endRow\n                    && (\n                        startRow < r.end.row \n                        || startRow == r.end.row && start.column < r.end.column\n                    )\n                ) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                \n                if (r.start.row < endRow\n                    && (\n                        startRow < r.start.row \n                        || startRow == r.start.row && start.column < r.start.column\n                    )\n                ) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)  j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            } else if (end >= first){\n                if (start >= first) // fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function(subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null) expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        } else {\n            this.expandFolds(folds);\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            \n            if (test && !test(row)) continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    \n    this.foldToLevel = function(level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    \n    this.foldAllComments = function() {\n        var session = this;\n        this.foldAll(null, null, null, function(row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\n\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n    this.getMatchingBracketRanges = function(pos) {\n        var line = this.getLine(pos.row);\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        }\n\n        if (!match)\n            return null;\n\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n\n        return [startRange, endRange];\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\nEditSession.$uid = 0;\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            \n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        \n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        \n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        } else {\n            this.$syncInformUndoManager = function() {};\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        hasUndo: function() {},\n        hasRedo: function() {},\n        reset: function() {},\n        add: function() {},\n        addSelection: function() {},\n        startNewGroup: function() {},\n        addSession: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n            \n        var oldMode = this.$mode;\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.on(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", {oldMode: oldMode, mode: mode});\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            } else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var range, point;\n\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start) continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                } else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            \n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2) len -= 1;\n            }\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        \n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        \n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            \n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            \n            return [screenColumn, column];\n        };\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        this.selection.detach();\n    };\n\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    }\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function() {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true \n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: {initialValue: false},\n    foldStyle: {\n        set: function(val) {this.setFoldStyle(val);},\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val);},\n        get: function() {return this.doc.getNewLineMode();},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val); },\n        get: function() { return this.$modeId; },\n        handlesSet: true\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)\n            ) {\n                firstRange = null;\n                return false;\n            }\n            \n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        return re;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        \n        if (backwards) {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        \n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function(row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0) return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1) return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset) return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function(row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length) break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function(row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row,last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length) return false;\n                    }\n                }\n            };\n        }\n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\n\nexports.Search = Search;\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position \n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            \n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x;});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n\n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    description: \"Select all\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    description: \"Center selection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    description: \"Go to line...\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor, line) {\n        if (typeof line === \"number\" && !isNaN(line))\n            editor.gotoLine(line);\n        editor.prompt({ $type: \"gotoLine\" });\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    description: \"Fold all\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldAllComments\",\n    description: \"Fold all comments\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAllComments(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    description: \"Fold other\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    description: \"Unfold all\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    description: \"Find next\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    description: \"Find previous\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    description: \"Select or find next\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    description: \"Select or find previous\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    description: \"Find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor);});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    description: \"Overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    description: \"Select to start\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    description: \"Go to start\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    description: \"Select up\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    description: \"Go line up\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    description: \"Select to end\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    description: \"Go to end\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    description: \"Select down\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    description: \"Go line down\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    description: \"Select word left\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    description: \"Go to word left\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    description: \"Select to line start\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    description: \"Go to line start\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    description: \"Select left\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    description: \"Go to left\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    description: \"Select word right\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    description: \"Go to word right\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    description: \"Select to line end\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    description: \"Go to line end\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    description: \"Select right\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    description: \"Go to right\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    description: \"Select page down\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    description: \"Page down\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    description: \"Go to page down\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    description: \"Select page up\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    description: \"Page up\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    description: \"Go to page up\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    description: \"Scroll up\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    description: \"Scroll down\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    description: \"Select line start\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    description: \"Select line end\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    description: \"Toggle recording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    description: \"Replay macro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    description: \"Jump to matching\",\n    bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    description: \"Select to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    description: \"Expand to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    description: \"Pass keys to browser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    description: \"Copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    description: \"Cut\",\n    exec: function(editor) {\n        var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n        var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n        editor._emit(\"cut\", range);\n\n        if (!range.isEmpty())\n            editor.session.remove(range);\n        editor.clearSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    description: \"Paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    description: \"Remove line\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    description: \"Duplicate selection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    description: \"Sort lines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    description: \"Toggle comment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    description: \"Toggle block comment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    description: \"Modify number up\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    description: \"Modify number down\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    description: \"Replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true);});\n    }\n}, {\n    name: \"undo\",\n    description: \"Undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    description: \"Redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    description: \"Copy lines up\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    description: \"Move lines up\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    description: \"Copy lines down\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    description: \"Move lines down\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    description: \"Delete\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    description: \"Backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    description: \"Cut or delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    description: \"Remove to line start\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    description: \"Remove to line end\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestarthard\",\n    description: \"Remove to line start hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.start.column = 0;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineendhard\",\n    description: \"Remove to line end hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.end.column = Number.MAX_VALUE;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    description: \"Remove word left\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    description: \"Remove word right\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    description: \"Outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    description: \"Indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    description: \"Block outdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    description: \"Block indent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    description: \"Insert string\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    description: \"Insert text\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    description: \"Split line\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    description: \"Transpose letters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    description: \"To uppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    description: \"To lowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"autoindent\",\n    description: \"Auto Indent\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) { editor.autoIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"animate\"\n}, {\n    name: \"expandtoline\",\n    description: \"Expand to line\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    description: \"Join lines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    description: \"Invert selection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}, {\n    name: \"addLineAfter\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        editor.navigateLineEnd();\n        editor.insert(\"\\n\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"addLineBefore\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        var cursor = editor.getCursorPosition();\n        editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n        editor.insert(\"\\n\");\n        if (cursor.row === 0) editor.navigateUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"openCommandPallete\",\n    description: \"Open command pallete\",\n    bindKey: bindKey(\"F1\", \"F1\"),\n    exec: function(editor) {\n        editor.prompt({ $type: \"commands\" });\n    },\n    readOnly: true\n}, {\n    name: \"modeSelect\",\n    description: \"Change language mode...\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        editor.prompt({ $type: \"modes\" });\n    },\n    readOnly: true\n}];\n\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function(editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\n\nvar clipboard = require(\"./clipboard\");\nvar Editor = function(renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\n\nEditor.$uid = 0;\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        \n        this.on(\"changeSelection\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp) return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.onCursorChange();\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n        \n        if (session && session.bgTokenizer)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function(id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n            if (!ranges && session.$mode.getMatching) \n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges)\n                return;\n\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            } else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function(range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") !== -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var currentTag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value === '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            currentTag = token.value;\n                            if (tag === currentTag) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (tag === currentTag && token.value === '/>') { // self closing tag\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            if (tag === token.value) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (token.value === '/>') { // self closing tag\n                            var stepCount = 0;\n                            var tmpToken = prevToken;\n                            while (tmpToken) {\n                                if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                                    depth--;\n                                    break;\n                                } else if (tmpToken.value === '<') {\n                                    break;\n                                }\n                                tmpToken = iterator.stepBackward();\n                                stepCount++;\n                            }\n                            for (var i = 0; i < stepCount; i++) {\n                                iterator.stepForward();\n                            }\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (!session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            if (!_self.isFocused())\n                _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        \n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        \n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        \n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine= false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = {text: text};\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : \"\";\n        return e.text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n\n        var lineMode = text == clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        } else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function(range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n    \n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n                session.insert({row: cursor.row+1, column: 0}, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        } else {\n            var selectedRange = this.getSelectionRange();\n\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({row: row, column: 0}, lineIndent);\n                }\n            }\n\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n\n\n    this.onTextInput = function(text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        \n        this.startOperation({command: { name: \"insertstring\" }});\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    \n    this.applyComposition = function(text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        } else {\n            this.toggleWord();\n        }\n    };\n\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0) delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function(el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function(message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function(value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    enableAutoIndent: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val);}\n    },\n    keyboardHandler: {\n        set: function(val) { this.setKeyboardHandler(val); },\n        get: function() { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function(val) { this.session.setValue(val); },\n        get: function() { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function(val) { this.setSession(val); },\n        get: function() { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    \n    showLineNumbers: {\n        set: function(show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function(value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function(message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function() {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    } else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    } else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\n\nvar relativeNumberRenderer = {\n    getText: function(session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function(session, lastLineNumber, config) {\n        return Math.max(\n            lastLineNumber.toString().length,\n            (config.lastRow + 1).toString().length,\n            2\n        ) * config.characterWidth;\n    },\n    update: function(e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function(editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function(editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\n\nexports.Editor = Editor;\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.reset();\n};\n\n(function() {\n    \n    this.addSession = function(session) {\n        this.$session = session;\n    };\n    this.add = function(delta, allowMerge, session) {\n        if (this.$fromUndo) return;\n        if (delta == this.$lastDelta) return;\n        if (!this.$keepRedoStack) this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    \n    this.addSelection = function(selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    \n    this.startNewGroup = function() {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    \n    this.markIgnored = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    \n    this.getSelection = function(rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    \n    this.getRevision = function() {\n        return this.$rev;\n    };\n    \n    this.getDeltas = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i+1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    \n    this.getChangedRanges = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    \n    this.getChangedLines = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    this.undo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        \n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        \n        if (!session)\n            session = this.$session;\n        \n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        \n        this.$fromUndo = true;\n        \n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        \n        this.$fromUndo = false;\n\n        return undoSelectionRange;\n    };\n    this.redo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        \n        if (!session)\n            session = this.$session;\n        \n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function(x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        \n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        \n        return redoSelectionRange;\n    };\n    \n    this.$syncRev = function() {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function() {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function(rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function() {\n        return this.$rev === this.mark;\n    };\n    \n    this.toJSON = function() {\n        \n    };\n    \n    this.fromJSON = function() {\n        \n    };\n    \n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    \n    this.$prettyPrint = function(delta) {\n        if (delta) return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\n\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--; ) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while(i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\n\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\n\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert) end = start;\n\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\n\n\n\nfunction clonePos(pos) {\n    return {row: pos.row,column: pos.column};\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    } else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        } else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column \n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\n\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--; ) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }                \n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore = \n    ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        } else {\n            shift(d1, c1, 1);\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        } else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        } else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    } else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        } else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        } else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\n    \nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);    \n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    \n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col)   ; \n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\n\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                } else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1); \n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\n\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Lines = function(element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    \n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n\n(function() {\n    \n    this.moveContainer = function(config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };    \n    \n    this.pageChanged = function(oldConfig, newConfig) {\n        return (\n            Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight)\n        );\n    };\n    \n    this.computeLineTop = function(row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    \n    this.computeLineHeight = function(row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    \n    this.getLength = function() {\n        return this.cells.length;\n    };\n    \n    this.get = function(index) {\n        return this.cells[index];\n    };\n    \n    this.shift = function() {\n        this.$cacheCell(this.cells.shift());\n    };\n    \n    this.pop = function() {\n        this.$cacheCell(this.cells.pop());\n    };\n    \n    this.push = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        } else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    \n    this.unshift = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        } else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    \n    this.last = function() {\n        if (this.cells.length)\n            return this.cells[this.cells.length-1];\n        else\n            return null;\n    };\n    \n    this.$cacheCell = function(cell) {\n        if (!cell)\n            return;\n            \n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    \n    this.createCell = function(row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            \n            this.element.appendChild(element);\n            \n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        \n        return cell;\n    };\n    \n}).call(Lines.prototype);\n\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    \n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        this.config = config;\n        \n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n            \n        this.oldLastRow = lastRow;\n        this.config = config;\n        \n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n            \n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        \n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                    \n                break;\n            }\n\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            } else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$updateGutterWidth = function(config) {\n        var session = this.session;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        \n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        \n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width = \n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    \n    this.$updateCursorRow = function() {\n        if (!this.$highlightGutterLine)\n            return;\n            \n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        \n        this.$cursorRow = position.row;\n    };\n    \n    this.updateLineHighlight = function() {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    \n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n        \n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        \n        this.$lines.moveContainer(config);\n\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        \n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldLastRow > lastRow)\n            for (var row=this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        \n        this.updateLineHighlight();\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$renderLines = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n\n            row++;\n        }\n        return fragment;\n    };\n    \n    this.$renderCell = function(cell, config, fold, row) {\n        var element = cell.element;\n        \n        var session = this.session;\n        \n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n\n        var firstLineNumber = session.$firstLineNumber;\n        \n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        \n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart &&  this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        \n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        } else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        \n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n            \n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        \n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        \n        cell.text = text;\n        return cell;\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function(highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return 0;},\n            getText: function() {return \"\";}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    \n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    \n    return element;\n}\n\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n    \n    this.elt = function(className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        } else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n\n    this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i !=-1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, \n                clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),\n                layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n           var range1 = range.clone();\n           range1.end.row = range1.start.row;\n           range1.end.column = this.session.getLine(range1.start.row).length;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        } else {\n            this.elt(\n                clazz + \" ace_br1 ace_start\",\n                \"height:\"+ height+ \"px;\"+ \"right:0;\"+ \"top:\"+top+ \"px;left:\"+ left+ \"px;\" + (extraStyle || \"\")\n            );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n           var range1 = range.clone();\n           range1.start.row = range1.end.row;\n           range1.start.column = 0;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        } else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n\n            this.elt(\n                clazz + \" ace_br12\",\n                \"height:\"+ height+ \"px;\"+\n                \"width:\"+ width+ \"px;\"+\n                \"top:\"+ top+ \"px;\"+\n                \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n            );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        this.elt(\n            clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"),\n            \"height:\"+ height+ \"px;\"+\n            \"right:0;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"width:\"+ width+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ left+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n        selections.forEach(function(selection) {\n            this.elt(\n                clazz,\n                \"height:\" + height + \"px;\" +\n                \"width:\" + selection.width + (extraLength || 0) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\")\n            );\n        }, this);\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.dom = dom; \n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n\n    this.$updateEolChar = function() {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        } else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showTabs) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_tab\";\n                span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                tabStr.push(span);\n            } else {\n                tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n            var spaceContent = this.showSpaces\n                ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                : lang.stringRepeat(\" \", this.tabSize);\n\n            var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n            var tabContent = this.showTabs \n                ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                : spaceContent;\n\n            var span = this.dom.createElement(\"span\");\n            span.className = className + spaceClass;\n            span.textContent = spaceContent;\n            this.$tabStrings[\" \"] = span;\n            \n            var span = this.dom.createElement(\"span\");\n            span.className = className + tabClass;\n            span.textContent = tabContent;\n            this.$tabStrings[\"\\t\"] = span;\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        \n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(\n                    lineElement, row, row == foldStart ? foldLine : false\n                );\n\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n            \n        this.$lines.moveContainer(config);\n        \n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var line = this.$lines.createCell(row, config, this.session);\n            \n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            } else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.$lines.moveContainer(config);\n        \n        this.config = config;\n\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n            \n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        \n        var valueFragment = this.dom.createFragment(this.element);\n\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            \n            if (!self.showSpaces && simpleSpace)\n                continue;\n\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n\n            i = m.index + m[0].length;\n            \n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n                \n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            } else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                } else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            } else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            } else if (cjkSpace) {\n                screenColumn += 1;\n                \n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            } else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        \n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n                \n            span.className = classes;\n            span.appendChild(valueFragment);\n            \n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        \n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols/this.tabSize;\n            for (var i=0; i<count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            for (var i=0; i<cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$createLineElement = function(parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        \n        return lineEl;\n    };\n\n    this.$renderWrappedLine = function(parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        \n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn, token, value\n                    );\n                }\n            }\n        }\n        \n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n\n    this.$renderSimpleLine = function(parent, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(parent, value);\n        if (value)\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    \n    this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token,\n            value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n            \n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        \n        parent.appendChild(overflowEl);        \n    };\n    this.$renderLine = function(parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            } else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        } else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            \n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {};\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n\n(function() {\n    \n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n\n    this.$startCssAnimation = function() {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n\n        setTimeout(function() {\n            dom.addCssClass(this.element, \"ace_animate-blinking\");\n        }.bind(this));\n    };\n    \n    this.$stopCssAnimation = function() {\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        } else {\n            var blink = function(){\n                this.timeoutId = setTimeout(function() {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n    \n            this.intervalId = setInterval(function() {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.isCursorInView = function(pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            \n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                } else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            } else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = \n    this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function(ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        \n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0) return;\n            _self.schedule();\n        } else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n\n(function() {\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n\n    this.clear = function(change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 256;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    \n    \n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function(size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n    \n    this.$addObserver = function() {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function(e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        \n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function(node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n    \n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement) return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function() {\n        var t = function(t, l) {\n            return [\"div\", {\n                style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n            }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function(clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        \n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        \n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return  add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n    \n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\npadding: 0;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\nfont-variant-ligatures: no-common-ligatures;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_error_bracket {\\\nposition: absolute;\\\nborder-bottom: 1px solid #DE5555;\\\nborder-radius: 0;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\ntransform-origin: left;\\\nwhite-space: pre;\\\nopacity: 0.7;\\\nmargin: 0 10px;\\\n}\";\n\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    \n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            \n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function(width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (this.$isMousePressed) return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        \n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        \n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth + this.margin.left;\n\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    \n    this.setMargin = function(top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\", changes);\n        \n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            \n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            \n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            \n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\", changes);\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, \n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        \n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height : this.$size.scrollerHeight\n        };\n\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n            \n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (!_self.session) \n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        \n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n             ? this.session.$bidiHandler.getPosLeft(pos.column)\n             : Math.round(pos.column * this.characterWidth));\n        \n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        \n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function(text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n        \n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    \n    this.addToken = function(text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = {type: type, value: text};\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        } else {\n            var l = 0;\n            for (var i =0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n    \n                    tokens.splice(i, 1, {type: token.type, value: before},  newToken,  {type: token.type, value: after});\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n\n    this.removeExtraToken = function(row, column) {\n        this.updateLines(row, row);\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    \n    this.attachToShadowRoot = function() {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function() {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function(val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val); },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {\n    },\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n            \n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        \n        this.updateAnchors(delta);\n        \n        if (inMainRange)\n            this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            } else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        \n        this.$updating = false;\n        this.updateMarkers();\n    };\n    \n    this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    \n    this.updateMarkers = function() {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    description: \"Add cursor above\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    description: \"Add cursor below\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    description: \"Add cursor above (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    description: \"Add cursor below (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    description: \"Select more before\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    description: \"Select more after\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    description: \"Select next before\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    description: \"Select next after\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"toggleSplitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) {\n        if (editor.multiSelect.rangeCount > 1)\n            editor.multiSelect.joinSelections();\n        else\n            editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"splitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    description: \"Align cursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    description: \"Find all\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    description: \"Single selection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            } else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    \n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),\n                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    if (!editor.textInput) return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    }, editor);\n\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\nexports.$id = \"ace/theme/textmate\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"./lib/dom\");\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            } else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    \n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.$registerLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n            \n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    \n    this.addLineWidget = function(w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        \n        if (!this.editor) return w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            \n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        \n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n            \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            } else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.session != this.session) continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            \n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            \n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\n\nif (typeof define === \"function\")\n    exports.define = define;\nexports.edit = function(el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el), doc, options);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","ace.define(\"ace/ext/modelist\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar modes = [];\nfunction getModeForPath(path) {\n    var mode = modesByName.text;\n    var fileName = path.split(/[\\/\\\\]/).pop();\n    for (var i = 0; i < modes.length; i++) {\n        if (modes[i].supportsFile(fileName)) {\n            mode = modes[i];\n            break;\n        }\n    }\n    return mode;\n}\n\nvar Mode = function(name, caption, extensions) {\n    this.name = name;\n    this.caption = caption;\n    this.mode = \"ace/mode/\" + name;\n    this.extensions = extensions;\n    var re;\n    if (/\\^/.test(extensions)) {\n        re = extensions.replace(/\\|(\\^)?/g, function(a, b){\n            return \"$|\" + (b ? \"^\" : \"^.*\\\\.\");\n        }) + \"$\";\n    } else {\n        re = \"^.*\\\\.(\" + extensions + \")$\";\n    }\n\n    this.extRe = new RegExp(re, \"gi\");\n};\n\nMode.prototype.supportsFile = function(filename) {\n    return filename.match(this.extRe);\n};\nvar supportedModes = {\n    ABAP:        [\"abap\"],\n    ABC:         [\"abc\"],\n    ActionScript:[\"as\"],\n    ADA:         [\"ada|adb\"],\n    Alda:        [\"alda\"],\n    Apache_Conf: [\"^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd\"],\n    Apex:        [\"apex|cls|trigger|tgr\"],\n    AQL:         [\"aql\"],\n    AsciiDoc:    [\"asciidoc|adoc\"],\n    ASL:         [\"dsl|asl\"],\n    Assembly_x86:[\"asm|a\"],\n    AutoHotKey:  [\"ahk\"],\n    BatchFile:   [\"bat|cmd\"],\n    C_Cpp:       [\"cpp|c|cc|cxx|h|hh|hpp|ino\"],\n    C9Search:    [\"c9search_results\"],\n    Cirru:       [\"cirru|cr\"],\n    Clojure:     [\"clj|cljs\"],\n    Cobol:       [\"CBL|COB\"],\n    coffee:      [\"coffee|cf|cson|^Cakefile\"],\n    ColdFusion:  [\"cfm\"],\n    Crystal:     [\"cr\"],\n    CSharp:      [\"cs\"],\n    Csound_Document: [\"csd\"],\n    Csound_Orchestra: [\"orc\"],\n    Csound_Score: [\"sco\"],\n    CSS:         [\"css\"],\n    Curly:       [\"curly\"],\n    D:           [\"d|di\"],\n    Dart:        [\"dart\"],\n    Diff:        [\"diff|patch\"],\n    Dockerfile:  [\"^Dockerfile\"],\n    Dot:         [\"dot\"],\n    Drools:      [\"drl\"],\n    Edifact:     [\"edi\"],\n    Eiffel:      [\"e|ge\"],\n    EJS:         [\"ejs\"],\n    Elixir:      [\"ex|exs\"],\n    Elm:         [\"elm\"],\n    Erlang:      [\"erl|hrl\"],\n    Forth:       [\"frt|fs|ldr|fth|4th\"],\n    Fortran:     [\"f|f90\"],\n    FSharp:      [\"fsi|fs|ml|mli|fsx|fsscript\"],\n    FSL:         [\"fsl\"],\n    FTL:         [\"ftl\"],\n    Gcode:       [\"gcode\"],\n    Gherkin:     [\"feature\"],\n    Gitignore:   [\"^.gitignore\"],\n    Glsl:        [\"glsl|frag|vert\"],\n    Gobstones:   [\"gbs\"],\n    golang:      [\"go\"],\n    GraphQLSchema: [\"gql\"],\n    Groovy:      [\"groovy\"],\n    HAML:        [\"haml\"],\n    Handlebars:  [\"hbs|handlebars|tpl|mustache\"],\n    Haskell:     [\"hs\"],\n    Haskell_Cabal: [\"cabal\"],\n    haXe:        [\"hx\"],\n    Hjson:       [\"hjson\"],\n    HTML:        [\"html|htm|xhtml|vue|we|wpy\"],\n    HTML_Elixir: [\"eex|html.eex\"],\n    HTML_Ruby:   [\"erb|rhtml|html.erb\"],\n    INI:         [\"ini|conf|cfg|prefs\"],\n    Io:          [\"io\"],\n    Jack:        [\"jack\"],\n    Jade:        [\"jade|pug\"],\n    Java:        [\"java\"],\n    JavaScript:  [\"js|jsm|jsx\"],\n    JSON:        [\"json\"],\n    JSON5:       [\"json5\"],\n    JSONiq:      [\"jq\"],\n    JSP:         [\"jsp\"],\n    JSSM:        [\"jssm|jssm_state\"],\n    JSX:         [\"jsx\"],\n    Julia:       [\"jl\"],\n    Kotlin:      [\"kt|kts\"],\n    LaTeX:       [\"tex|latex|ltx|bib\"],\n    LESS:        [\"less\"],\n    Liquid:      [\"liquid\"],\n    Lisp:        [\"lisp\"],\n    LiveScript:  [\"ls\"],\n    LogiQL:      [\"logic|lql\"],\n    LSL:         [\"lsl\"],\n    Lua:         [\"lua\"],\n    LuaPage:     [\"lp\"],\n    Lucene:      [\"lucene\"],\n    Makefile:    [\"^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make\"],\n    Markdown:    [\"md|markdown\"],\n    Mask:        [\"mask\"],\n    MATLAB:      [\"matlab\"],\n    Maze:        [\"mz\"],\n    MediaWiki:   [\"wiki|mediawiki\"],\n    MEL:         [\"mel\"],\n    MIXAL:       [\"mixal\"],\n    MUSHCode:    [\"mc|mush\"],\n    MySQL:       [\"mysql\"],\n    Nginx:       [\"nginx|conf\"],\n    Nim:         [\"nim\"],\n    Nix:         [\"nix\"],\n    NSIS:        [\"nsi|nsh\"],\n    Nunjucks:    [\"nunjucks|nunjs|nj|njk\"],\n    ObjectiveC:  [\"m|mm\"],\n    OCaml:       [\"ml|mli\"],\n    Pascal:      [\"pas|p\"],\n    Perl:        [\"pl|pm\"],\n    Perl6:       [\"p6|pl6|pm6\"],\n    pgSQL:       [\"pgsql\"],\n    PHP:         [\"php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module\"],\n    PHP_Laravel_blade: [\"blade.php\"],\n    Pig:         [\"pig\"],\n    Powershell:  [\"ps1\"],\n    Praat:       [\"praat|praatscript|psc|proc\"],\n    Prisma:      [\"prisma\"],\n    Prolog:      [\"plg|prolog\"],\n    Properties:  [\"properties\"],\n    Protobuf:    [\"proto\"],\n    Puppet:      [\"epp|pp\"],\n    Python:      [\"py\"],\n    QML:         [\"qml\"],\n    R:           [\"r\"],\n    Razor:       [\"cshtml|asp\"],\n    RDoc:        [\"Rd\"],\n    Red:         [\"red|reds\"],\n    RHTML:       [\"Rhtml\"],\n    RST:         [\"rst\"],\n    Ruby:        [\"rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile\"],\n    Rust:        [\"rs\"],\n    SASS:        [\"sass\"],\n    SCAD:        [\"scad\"],\n    Scala:       [\"scala|sbt\"],\n    Scheme:      [\"scm|sm|rkt|oak|scheme\"],\n    SCSS:        [\"scss\"],\n    SH:          [\"sh|bash|^.bashrc\"],\n    SJS:         [\"sjs\"],\n    Slim:        [\"slim|skim\"],\n    Smarty:      [\"smarty|tpl\"],\n    snippets:    [\"snippets\"],\n    Soy_Template:[\"soy\"],\n    Space:       [\"space\"],\n    SQL:         [\"sql\"],\n    SQLServer:   [\"sqlserver\"],\n    Stylus:      [\"styl|stylus\"],\n    SVG:         [\"svg\"],\n    Swift:       [\"swift\"],\n    Tcl:         [\"tcl\"],\n    Terraform:   [\"tf\", \"tfvars\", \"terragrunt\"],\n    Tex:         [\"tex\"],\n    Text:        [\"txt\"],\n    Textile:     [\"textile\"],\n    Toml:        [\"toml\"],\n    TSX:         [\"tsx\"],\n    Twig:        [\"latte|twig|swig\"],\n    Typescript:  [\"ts|typescript|str\"],\n    Vala:        [\"vala\"],\n    VBScript:    [\"vbs|vb\"],\n    Velocity:    [\"vm\"],\n    Verilog:     [\"v|vh|sv|svh\"],\n    VHDL:        [\"vhd|vhdl\"],\n    Visualforce: [\"vfp|component|page\"],\n    Wollok:      [\"wlk|wpgm|wtest\"],\n    XML:         [\"xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml\"],\n    XQuery:      [\"xq\"],\n    YAML:        [\"yaml|yml\"],\n    Zeek:        [\"zeek|bro\"],\n    Django:      [\"html\"]\n};\n\nvar nameOverrides = {\n    ObjectiveC: \"Objective-C\",\n    CSharp: \"C#\",\n    golang: \"Go\",\n    C_Cpp: \"C and C++\",\n    Csound_Document: \"Csound Document\",\n    Csound_Orchestra: \"Csound\",\n    Csound_Score: \"Csound Score\",\n    coffee: \"CoffeeScript\",\n    HTML_Ruby: \"HTML (Ruby)\",\n    HTML_Elixir: \"HTML (Elixir)\",\n    FTL: \"FreeMarker\",\n    PHP_Laravel_blade: \"PHP (Blade Template)\",\n    Perl6: \"Perl 6\",\n    AutoHotKey: \"AutoHotkey / AutoIt\"\n};\nvar modesByName = {};\nfor (var name in supportedModes) {\n    var data = supportedModes[name];\n    var displayName = (nameOverrides[name] || name).replace(/_/g, \" \");\n    var filename = name.toLowerCase();\n    var mode = new Mode(filename, displayName, data[0]);\n    modesByName[filename] = mode;\n    modes.push(mode);\n}\n\nmodule.exports = {\n    getModeForPath: getModeForPath,\n    modes: modes,\n    modesByName: modesByName\n};\n\n});                (function() {\n                    ace.require([\"ace/ext/modelist\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","ace.define(\"ace/snippets/snippets\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.snippetText = \"# snippets for making snippets :)\\n\\\nsnippet snip\\n\\\n\tsnippet ${1:trigger}\\n\\\n\t\t${2}\\n\\\nsnippet msnip\\n\\\n\tsnippet ${1:trigger} ${2:description}\\n\\\n\t\t${3}\\n\\\nsnippet v\\n\\\n\t{VISUAL}\\n\\\n\";\nexports.scope = \"snippets\";\n\n});                (function() {\n                    ace.require([\"ace/snippets/snippets\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","import { LitElement, html, css } from 'lit-element';\nimport { repeat } from 'lit-html/directives/repeat.js';\n\nimport { initializeApp } from 'firebase/app';\nimport { GithubAuthProvider, getAuth, onAuthStateChanged, signOut, signInWithRedirect, getRedirectResult} from 'firebase/auth';\n\nimport 'ace-builds/src-noconflict/ace.js';\nimport 'ace-builds/src-noconflict/ext-modelist.js';\nimport 'ace-builds/src-noconflict/snippets/snippets.js';\n\nimport { Instant, LocalDateTime, DateTimeFormatter } from '@js-joda/core';\n\nlet jwt = null;\n\n/**\n * An example for browsing files in rest-server.\n *\n */\nexport class FileBrowser extends LitElement {\n  static get styles() {\n    return css`\n      :host {\n        display: block;\n      }\n    `;\n  }\n\n  static get properties() {\n    return {\n      restURL: { type: String, notify: true },\n      data: { type: Object, notify: true },\n      path: { type: String, notify: true },\n      filePrefix: { type: String, notify: true },\n      context: { type: String, notify: true },\n      user: { type: String, notify: true },\n    };\n  }\n\n  constructor() {\n    super();\n    this.restURL = 'rest/';\n    this.filePrefix = \"/dev\";\n    this.context = '';\n    this.data = {};\n    this.path = \".\";\n    this.user;\n\n    // Your web app's Firebase configuration\n    var firebaseConfig = {\n      apiKey: \"AIzaSyCttqU-vwitkbeVA4-E4hFuNmV1WR32mKo\",\n      authDomain: \"ccs-rest.firebaseapp.com\",\n      projectId: \"ccs-rest\",\n      storageBucket: \"ccs-rest.appspot.com\",\n      messagingSenderId: \"393539384742\",\n      appId: \"1:393539384742:web:700f0a54b0847572790b67\"\n    };\n\n    this.firebaseApp = initializeApp(firebaseConfig);\n    const auth = getAuth();\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        // User is signed in, see docs for a list of available properties\n        // https://firebase.google.com/docs/reference/js/firebase.User\n        this.user = user;\n        user.getIdToken().then((token) => {\n          jwt = token;\n        });\n        getRedirectResult(auth).then((result) => {\n          // This gives you a GitHub Access Token. You can use it to access the GitHub API.\n          if (result != null) {\n            const credential = GithubAuthProvider.credentialFromResult(result);\n            const token = credential.accessToken;\n            // The signed-in user info.\n            const user = result.user;\n          }\n          // ...\n        }).catch((error) => {\n          // Handle Errors here.\n          const errorCode = error.code;\n          const errorMessage = error.message;\n          // The email of the user's account used.\n          const email = error.email;\n          // The AuthCredential type that was used.\n          const credential = GithubAuthProvider.credentialFromError(error);\n          // ...\n        });\n      } else {\n        this.user = null;\n        jwt == null;\n      }\n    });\n  }\n\n  render() {\n\n    return html`\n      ${this.user ? html`Hello ${this.user.displayName} <a @click=${this._logout} href=\"#\">Logout</a>` : html`<a @click=${this._login} href=\"#\">Login</a>`}\n      <path-browser @path-changed=${this._pathChanged} path=${this.path}></path-browser>\n      ${this.data.versionedFile ? this._renderVersionedFile(this.data) : this.data.children != null ? this._renderFolder(this.data) : this._renderFile(this.data)}\n      `;\n  }\n\n  _login() {\n    const auth = getAuth();\n    const provider = new GithubAuthProvider();\n    //provider.addScope('read:org');\n    signInWithRedirect(auth, provider);\n  }\n\n  _logout() {\n    const auth = getAuth();\n    signOut(auth).then(() => {\n      this.user = null;\n    }).catch((error) => {\n      // An error happened.\n    });\n  }\n\n  _renderFolder(data) {\n    let dtf = new FileDateSizeFormatter();\n    return html`\n      <table>\n        <thead>\n          <th>Size</th><th>Date</th><th>File</th>\n        </thead>\n        <tbody>\n        ${repeat(this.data.children, (row) => row.name, (row, index) => html`\n          <tr class=\"file-list-element\">\n             <td class=\"size\"></div>${dtf.humanFileSize(row.size, true)}</td>\n             <td class=\"date\">${dtf.format(row.lastModified)}</td>\n             <td class=\"name\"><a href=\"#\" @click=${this._gotoFile}>${row.name}</a></td>\n            </tr>\n        `)}\n        </tbody>\n      </table>\n      <!-- <form><input id=\"upload\" type=\"file\"><button @click=${this._upload} ?disabled=${this.user ==  null}>Upload</button></form> -->\n    `;\n  }\n\n  _renderVersionedFile(data) {\n    return html`\n      <file-versions restURL=\"${this.restURL}\" path=\"${this.path}\" name=${data.name} ?allowChanges=${this.user != null}></file-versions>\n    `;\n  }\n\n  _renderFile(data) {\n    let dtf = new FileDateSizeFormatter();\n    return html`\n      <p>Size: ${dtf.humanFileSize(data.size)} Date: ${dtf.format(data.lastModified)} Type: ${data.mimeType} (<a href=\"${this.restURL + 'download/' + this.path}\">download</a>)</p>\n      ${data.mimeType && data.mimeType.startsWith(\"text/\") ? this._renderEditor(this.restURL + 'download/' + this.path, data.name) : null}\n      ${data.mimeType && data.mimeType.startsWith(\"image/\") ? this._renderImage(this.restURL + 'download/' + this.path) : null}\n    `;\n  }\n\n  _renderEditor(url, name) {\n    return html`\n      <ace-editor readonly name=${name} fileURL=${url}></ace-editor>\n    `;\n  }\n\n  _renderImage(url) {\n    return html`\n      <img src=${url}>\n    `;\n  }\n\n  firstUpdated(changedProperties) {\n    ace.config.set('basePath', this.context + '/ace');\n    this.path = window.location.pathname.replace(this.filePrefix, '.');\n    if (this.path == \"./\") this.path = \".\";\n    this._updateData();\n    window.onpopstate = (e) => {\n      this._goto(e.state == null ? \".\" : e.state);\n    };\n  }\n\n  _updateData() {\n    fetch(this.restURL + \"list/\" + this.path)\n      .then(response => response.json())\n      .then(data => this.data = data);\n  }\n\n  _gotoFile(e) {\n    e.preventDefault();\n    // Dragons: Browser incompatibility. Tested with chrome and firefox, apparently does not work with Safari\n    let textContent = e.path ? e.path[0].textContent : e.currentTarget.textContent;\n    let newPath = this.path + \"/\" + textContent\n    this._goto(newPath);\n    window.history.pushState(newPath, 'Content', this.filePrefix + newPath.substring(1));\n  }\n\n  _pathChanged(e) {\n    let newPath = e.detail.path\n    this._goto(newPath);\n    window.history.pushState(newPath, 'Content', this.filePrefix + newPath.substring(1));\n  }\n\n  _goto(path) {\n    this.data = {};\n    this.path = path;\n    this._updateData();\n  }\n\n  _upload(e) {\n    e.preventDefault();\n    let fileSelector = this.shadowRoot.querySelector(\"#upload\");\n    fetch(this.restURL + \"version/upload\" + this.path + fileSelector.textContent)\n    console.log(e);\n  }\n\n}\n\nexport class PathBrowser extends LitElement {\n  static get styles() {\n    return css`\n      :host {\n        display: inline;\n      }\n    `;\n  }\n\n  static get properties() {\n    return {\n      path: { type: String, notify: true },\n    };\n  }\n\n  render() {\n\n    let parts = this.path.split('/');\n    const pathTemplates = [];\n    parts.forEach((part, i, array) => {\n      if (i == array.length - 1) {\n        pathTemplates.push(html`${part}`);\n      } else {\n        pathTemplates.push(html`<a href='#' @click=${this._gotoPath} id=${i}>${part}</a>/`);\n      }\n    });\n\n    return html`\n      <h2>Path: ${pathTemplates}</h2>\n      `;\n\n  }\n\n  _gotoPath(e) {\n    // Dragons: Browser incompatibility. Tested with chrome and firefox, apparently does not work with Safari\n    let index = e.path ? parseInt(e.path[0].id) : parseInt(e.currentTarget.id);\n    let parts = this.path.split('/');\n\n    let newPath = parts.slice(0, index + 1).join('/');\n    e.preventDefault();\n    let event = new CustomEvent('path-changed', {\n      detail: {\n        path: newPath\n      }\n    });\n    this.dispatchEvent(event);\n  }\n\n}\n\nexport class AceEditor extends LitElement {\n  static get styles() {\n    return css`\n        :host {\n          display: block;\n          width: 100%;\n          height: 400px;\n        }\n\n        #editor {\n          border: 1px solid #e3e3e3;\n          border-radius: 4px;\n          height: 400px;\n          width: 100%;\n        }\n    `;\n  }\n\n  static get properties() {\n    return {\n      fileURL: { type: String, notify: true },\n      readonly: { type: Boolean, notify: true },\n      name: { type: String, notify: true },\n    };\n  }\n\n  constructor() {\n    super();\n    this.readonly = false;\n    this.fileChanged = false;\n    this.loading = false;\n  }\n\n  render() {\n\n    return html`\n      <div id=\"editor\"></div>\n    `;\n  }\n\n  static get importMeta() { return import.meta; }\n\n  firstUpdated(changedProperties) {\n    let div = this.shadowRoot.getElementById('editor');\n    this.editor = ace.edit(div, { readOnly: this.readonly });\n    var modelist = ace.require(\"ace/ext/modelist\");\n    let mode = modelist.getModeForPath(this.name).mode;\n    this.editor.session.setMode(mode);\n    this.editor.renderer.attachToShadowRoot();\n    this.editor.getSession().on('change', () => this._changed());\n    this._load(this.fileURL);\n  }\n\n  _load(url) {\n    this.loading = true;\n    this.editor.setValue(\"Loading...\");\n    fetch(this.fileURL)\n      .then(response => response.text())\n      .then(text => {\n        this.editor.setValue(text, -1);\n        this.editor.session.getUndoManager().reset();\n        this.fileChanged = false;\n        this.loading = false;\n      });\n  }\n\n  updated(changedProperties) {\n    if (changedProperties.get(\"fileURL\")) {\n      this._load(this.fileURL);\n    }\n    if (changedProperties.get(\"readonly\") != undefined) {\n      this.editor.setReadOnly(this.readonly);\n    }\n  }\n\n  postTo(url) {\n    let text = this.editor.getValue();\n    let headers = { 'Content-type': 'application/octet-stream' };\n    if (jwt) headers['Authorization'] = 'Bearer '+jwt;\n    return fetch(url, { method: 'POST', 'body': text, 'headers': headers })\n      .then(response => response.json());\n  }\n\n  _changed() {\n    if (!this.loading) {\n      this.fileChanged = this.editor.session.getUndoManager().hasUndo();\n      this._sendFileChangedEvent(this.fileChanged);\n    }\n  }\n\n  _sendFileChangedEvent(fileChanged) {\n    let event = new CustomEvent('file-changed', {\n      detail: {\n        isChanged: fileChanged\n      }\n    });\n    this.dispatchEvent(event);\n  }\n\n  reset() {\n    if (this.fileChanged) {\n      this._load(this.fileURL);\n      this._sendFileChangedEvent(false);\n    }\n  }\n\n  focus() {\n    this.editor.focus()\n  }\n\n}\n\nexport class FileVersions extends LitElement {\n  static get styles() {\n    return css`\n        :host {\n          display: block;\n        }\n    `;\n  }\n\n  static get properties() {\n    return {\n      restURL: { type: String, notify: true },\n      data: { type: Object, notify: true },\n      path: { type: String, notify: true },\n      name: { type: String, notify: true },\n      selectedVersion: { type: String, notify: true },\n      fileChanged: { type: Boolean, notify: true },\n      readOnly: { type: Boolean, notify: true },\n      allowChanges: { type: Boolean, notify: true },\n      showHidden: { type: Boolean, notify: true },\n    };\n  };\n\n  constructor() {\n    super();\n    this.restURL = '';\n    this.data = { \"versions\": [] };\n    this.path = \".\";\n    this.selectedVersion = 'default';\n    this.fileChanged = false;\n    this.readOnly = true;\n    this.allowChanges = false;\n    this.showHidden = false;\n  }\n\n  render() {\n    let dtf = new FileDateSizeFormatter();\n    return html`\n      <table>\n        <thead>\n          <tr><td colspan=3><input id=\"showHidden\" type=\"checkbox\" @click=${this._showHidden} ?checked=${this.showHidden}><label for=\"showHidden\">Show Hidden</label></td></tr>\n          <tr><th>Hidden</th><th>Default</th><th>Latest</th><th>Version</th><th>Size</th><th>Date</th><th>Download</th><th>Comment</th></tr>\n        </thead>\n        <tbody>\n          ${repeat(this.data.versions, (row) => row.version, (row, index) => row.hidden && !this.showHidden ? null : html`\n            <tr>\n              <td><input type=\"checkbox\" id=\"h${row.version}\" @click=${this._hide} ?checked=${row.hidden} ?disabled=${row.version == this.data.latest || row.version == this.data.default || !this.allowChanges}></td>\n              <td><input type=\"radio\" name=\"default\" id=\"d${row.version}\" @click=${this._makeDefault} ?checked=${row.version == this.data.default} ?disabled=${row.hidden || !this.allowChanges}></td>\n              <td><input type=\"radio\" name=\"latest\" id=\"l${row.version}\" ?checked=${row.version == this.data.latest} ?disabled=${row.version != this.data.latest}></td>\n              <td>${row.version}</td>\n              <td>${dtf.humanFileSize(row.size)}</td>\n              <td>${dtf.format(row.lastModified)}</td>\n              <td>(<a href=\"${this.restURL + 'version/download/' + this.path + \"?version=\" + row.version}\">download</a>)</td>\n              <td><button id=\"b${row.version}\" ?disabled=${!this.allowChanges} @click=${this._updateComment}>Update</button><input type=\"text\" id=\"c${row.version}\" value=${row.comment} ?disabled=${!this.allowChanges}></td>\n            </tr>\n          `)}\n        </tbody>\n      </table>\n      Version: <select id=\"selectedVersion\" @change=${this._selectionChanged} ?disabled=${!this.readOnly}>\n        <option value=\"default\" ?selected=${this.selectedVersion == \"default\"}>default</option>\n        <option value=\"latest\" ?selected=${this.selectedVersion == \"latest\"}>latest</option>\n        ${repeat(this.data.versions, (row) => row.version, (row, index) => html`\n          <option value=${row.version} ?selected=${this.selectedVersion == row.version}>${row.version}</option>\n        `)}\n        </select>\n\n        ${this.allowChanges ? html`\n          <button @click=${this._edit} ?disabled=${!this.readOnly}>Edit</button>\n          <button @click=${this._cancel} ?disabled=${this.readOnly}>Cancel</button>\n          <button @click=${this._save} ?disabled=${!this.fileChanged}>Save</button>\n          <button>Diff Viewer (coming soon)</button>` : null}\n        <ace-editor @file-changed=${this._fileChanged} ?readonly=${this.readOnly} name=${this.name} fileURL=\"${this.restURL + \"version/download/\" + this.path + \"?version=\" + (this.selectedVersion == \"default\" && this.data.default ? this.data.default : this.selectedVersion)}\"></ace-editor>\n    `;\n  }\n\n  firstUpdated(changedProperties) {\n    this._updateData();\n  }\n\n  _updateData() {\n\n    fetch(this.restURL + \"version/info/\" + this.path, {'method': 'GET', 'headers':  {'x-protocol-version': '2'}})\n      .then(response => response.json())\n      .then(versions => this.data = versions);\n  }\n\n  _selectionChanged() {\n    let selection = this.shadowRoot.querySelector('#selectedVersion');\n    this.selectedVersion = selection.value;\n  }\n\n  _getSelectedVersion(e) {\n    // Dragons: Browser incompatibility. Tested with chrome and firefox, apparently does not work with Safari\n    let id = e.path ? e.path[0].id : e.currentTarget.id;\n    return id.substring(1);\n  }\n\n  _makeDefault(e) {\n    let defaultVersion = this._getSelectedVersion(e);\n    let options = {'version': defaultVersion, 'default': true};\n    this._updateSettings(options);\n  }\n\n  _hide(e) {\n    let version = this._getSelectedVersion(e);\n    let hidden = this.data.versions[version-1].hidden;\n    let options = {'version': version, 'hidden': !hidden};\n    this._updateSettings(options);\n  }\n\n  _updateComment(e) {\n    let version = this._getSelectedVersion(e);\n    let comment = this.shadowRoot.querySelector(\"#c\"+version).value;\n    let options = {'version': version, 'comment': comment};\n    this._updateSettings(options);\n  }\n\n  _updateSettings(options) {\n    let headers = { 'Content-type': 'application/json; charset=UTF-8', 'x-protocol-version': '2' };\n    if (jwt) headers['Authorization'] =  'Bearer '+jwt;\n    fetch(this.restURL + \"version/setOptions/\" + this.path, { 'method': 'PUT', 'body': JSON.stringify(options), 'headers': headers })\n      .then(response => response.json())\n      .then(versions => this.data = versions);\n  }\n\n  _showHidden(e) {\n    this.showHidden = !this.showHidden;\n  }\n\n  _edit() {\n    this.readOnly = false;\n    let editor = this.shadowRoot.querySelector(\"ace-editor\");\n    editor.readonly = false;\n    editor.focus();\n  }\n\n  _cancel() {\n    let editor = this.shadowRoot.querySelector(\"ace-editor\");\n    if (editor.fileChanged) {\n      editor.reset();\n    }\n    editor.readonly = true;\n    this.readOnly = true;\n  }\n\n  _fileChanged(e) {\n    this.fileChanged = e.detail.isChanged;\n  }\n\n  _save() {\n    let editor = this.shadowRoot.querySelector(\"ace-editor\");\n    editor.postTo(this.restURL + \"version/upload/\" + this.path).then((data) => this._updateData());\n    this.fileChanged = false;\n    editor.readonly = false;\n    this.readOnly = true;\n    this.selectedVersion = 'latest';\n  }\n}\n\n\nclass FileDateSizeFormatter {\n\n  constructor() {\n    this.referenceTime = Instant.now();\n  }\n\n  format(epochMillis) {\n    if (epochMillis == null) return \"\";\n    let timeStamp = Instant.ofEpochMilli(epochMillis);\n    //let age = Duration.between(this.referenceTime, timeStamp);\n    let formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm\");\n    return LocalDateTime.ofInstant(timeStamp).format(formatter);\n  }\n\n  /**\n * Format bytes as human-readable text.\n *\n * @param bytes Number of bytes.\n * @param si True to use metric (SI) units, aka powers of 1000. False to use\n *           binary (IEC), aka powers of 1024.\n * @param dp Number of decimal places to display.\n *\n * @return Formatted string.\n */\n  humanFileSize(bytes, si = false, dp = 1) {\n    const thresh = si ? 1000 : 1024;\n\n    if (Math.abs(bytes) < thresh) {\n      return bytes;\n    }\n\n    const units = si\n      ? ['k', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y']\n      : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n    let u = -1;\n    const r = 10 ** dp;\n\n    do {\n      bytes /= thresh;\n      ++u;\n    } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n\n    return bytes.toFixed(dp) + units[u];\n  }\n}\n\nwindow.customElements.define('file-browser', FileBrowser);\nwindow.customElements.define('path-browser', PathBrowser);\nwindow.customElements.define('ace-editor', AceEditor);\nwindow.customElements.define('file-versions', FileVersions);"],"names":["isCEPolyfill","window","customElements","undefined","polyfillWrapFlushCallback","removeNodes","container","start","end","n","nextSibling","removeChild","marker","String","Math","random","slice","nodeMarker","markerRegex","RegExp","Template","[object Object]","result","element","this","parts","nodesToRemove","stack","walker","document","createTreeWalker","content","lastPartIndex","index","partIndex","strings","values","length","node","nextNode","nodeType","hasAttributes","attributes","count","i","endsWith","name","stringForPart","lastAttributeNameRegex","exec","attributeLookupName","toLowerCase","attributeValue","getAttribute","removeAttribute","statics","split","push","type","tagName","currentNode","data","indexOf","parent","parentNode","lastIndex","insert","s","createMarker","match","createTextNode","insertBefore","previousSibling","pop","str","suffix","isTemplatePartActive","part","createComment","removeNodesFromTemplate","template","nextActiveIndexInTemplateParts","nodeIndex","removeCount","nodesToRemoveInTemplate","currentRemovingNode","has","forEach","countNodes","startIndex","directives","WeakMap","isDirective","o","noChange","nothing","TemplateInstance","processor","options","__parts","setValue","commit","fragment","cloneNode","importNode","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","policy","trustedTypes","createPolicy","createHTML","commentMarker","TemplateResult","l","html","isCommentBinding","commentOpen","lastIndexOf","attributeMatch","substr","createElement","value","getHTML","innerHTML","isPrimitive","isIterable","Array","isArray","Symbol","iterator","AttributeCommitter","dirty","_createPart","AttributePart","v","text","t","setAttribute","_getValue","committer","directive","NodePart","__pendingValue","startNode","appendChild","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","clear","valueAsString","templateFactory","update","instance","_clone","itemParts","itemPart","item","appendIntoPart","insertAfterPart","BooleanAttributePart","Error","PropertyCommitter","super","single","PropertyPart","eventOptionsSupported","capture","addEventListener","removeEventListener","_e","EventPart","eventName","eventContext","__boundHandleEvent","e","handleEvent","newListener","oldListener","shouldRemoveListener","once","passive","shouldAddListener","__options","getOptions","event","call","templateCache","templateCaches","get","stringsArray","keyString","Map","set","key","join","getTemplateElement","defaultTemplateProcessor","prefix","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","console","warn","shadyTemplateFactory","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","prepareTemplateStyles","renderedDOM","add","templateElement","styles","querySelectorAll","condensedStyle","style","textContent","templates","from","removeStylesFromLitTemplates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","querySelector","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","Boolean","Object","JSON","stringify","Number","parse","notEqual","old","defaultPropertyDeclaration","attribute","converter","reflect","hasChanged","UpdatingElement","HTMLElement","initialize","observedAttributes","finalize","_classProperties","p","attr","_attributeNameForProperty","_attributeToPropertyMap","hasOwnProperty","superProperties","getPrototypeOf","k","_ensureClassProperties","noAccessor","prototype","descriptor","getPropertyDescriptor","defineProperty","oldValue","requestUpdateInternal","configurable","enumerable","superCtor","props","properties","propKeys","getOwnPropertyNames","getOwnPropertySymbols","createProperty","fromAttribute","toAttribute","_updateState","_updatePromise","Promise","res","_enableUpdatingResolver","_changedProperties","_saveInstanceProperties","constructor","_v","_instanceProperties","enableUpdating","_attributeToProperty","ctor","attrValue","_propertyValueToAttribute","propName","getPropertyOptions","_propertyValueFromAttribute","shouldRequestUpdate","_valueHasChanged","_reflectingProperties","_hasRequestedUpdate","_enqueueUpdate","updateComplete","performUpdate","hasUpdated","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_getUpdateComplete","size","_propertyToAttribute","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","styleSheet","_styleSheet","replaceSync","css","reduce","acc","idx","textFromCSSResult","renderNotImplemented","LitElement","userStyles","getStyles","addStyles","reduceRight","unshift","_styles","map","cssRules","rule","_getUniqueStyles","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","attachShadow","mode","adoptedStyleSheets","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","connectedCallback","styleElement","templateResult","render","hasRendered","needsScoping","host","firstScopeRender","renderContainer","createDocumentFragment","assign","appendInto","litRender","delete","createAndInsertPart","containerPart","beforePart","beforeNode","newPart","updatePart","insertPartBefore","before","reparentNodes","removePart","generateMap","list","partListCache","keyListCache","repeat","f","items","keyFnOrTemplate","keyFn","oldParts","oldKeys","newParts","newValues","newKeys","newKeyToIndexMap","oldKeyToIndexMap","oldHead","oldTail","newHead","newTail","oldIndex","oldPart","args","d","__assign","arguments","apply","__awaiter","thisArg","_arguments","P","generator","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","throw","return","op","TypeError","__values","m","__read","r","ar","error","__spreadArray","to","il","j","extendStatics","b","setPrototypeOf","__proto__","base64","byteToCharMap_","charToByteMap_","byteToCharMapWebSafe_","charToByteMapWebSafe_","ENCODED_VALS_BASE","ENCODED_VALS","ENCODED_VALS_WEBSAFE","HAS_NATIVE_SUPPORT","atob","encodeByteArray","input","webSafe","init_","byteToCharMap","output","byte1","haveByte2","byte2","haveByte3","byte3","outByte1","outByte2","outByte3","outByte4","encodeString","btoa","out","c","charCodeAt","stringToByteArray","decodeString","bytes","pos","c1","fromCharCode","c2","u","c3","byteArrayToString","decodeStringToByteArray","charToByteMap","charAt","byte4","Deferred","_this","promise","wrapCallback","callback","catch","getUA","navigator","FirebaseError","_super","code","message","customData","captureStackTrace","ErrorFactory","create","__","__extends","service","serviceName","errors","_i","fullCode","replaceTemplate","fullMessage","replace","PATTERN","querystring","querystringParams","params","_loop_1","arrayVal","encodeURIComponent","_a","entries","_b","ObserverProxy","executor","onNoObservers","observers","unsubscribes","observerCount","task","finalized","forEachObserver","observer","close","complete","subscribe","nextOrObserver","obj","methods","methods_1","method","implementsAnyMethods","noop","unsub","unsubscribeOne","bind","finalError","fn","sendOne","err","getModularInstance","_delegate","Component","instanceFactory","multipleInstances","serviceProps","instantiationMode","onInstanceCreated","setInstantiationMode","setMultipleInstances","setServiceProps","setInstanceCreatedCallback","Provider","component","instances","instancesDeferred","identifier","normalizedIdentifier","normalizeInstanceIdentifier","deferred","isInitialized","shouldAutoInitialize","getOrInitializeService","instanceIdentifier","getImmediate","optional","getComponent","setComponent","e_1","isComponentEager","_c","_d","instanceDeferred","e_1_1","clearInstance","services","all","filter","INTERNAL","_delete","isComponentSet","opts","e_2","_f","instanceIdentifier_1","e_2_1","LogLevel","ComponentContainer","providers","addComponent","provider","getProvider","addOrOverwriteComponent","getProviders","__spreadArrays","a","jl","levelStringToEnum","debug","DEBUG","verbose","VERBOSE","info","INFO","WARN","ERROR","silent","SILENT","defaultLogLevel","ConsoleMethod","defaultLogHandler","logType","logLevel","now","Date","toISOString","Logger","_logLevel","_logHandler","_userLogHandler","val","setLogLevel","log","PlatformLoggerServiceImpl","isVersionServiceProvider","library","version","logString","logger","PLATFORM_LOG_STRING","@firebase/app-exp","@firebase/app-compat","@firebase/analytics-exp","@firebase/analytics-compat","@firebase/auth-exp","@firebase/auth-compat","@firebase/database","@firebase/database-compat","@firebase/functions-exp","@firebase/functions-compat","@firebase/installations-exp","@firebase/installations-compat","@firebase/messaging-exp","@firebase/messaging-compat","@firebase/performance-exp","@firebase/performance-compat","@firebase/remote-config-exp","@firebase/remote-config-compat","@firebase/storage","@firebase/storage-compat","@firebase/firestore","@firebase/firestore-compat","fire-js","firebase-exp","_apps","_components","_addComponent","app","_registerComponent","componentName","_getProvider","ERROR_FACTORY","no-app","bad-app-name","duplicate-app","app-deleted","invalid-app-argument","invalid-log-argument","FirebaseAppImpl","config","_isDeleted","_options","_name","_automaticDataCollectionEnabled","automaticDataCollectionEnabled","_container","checkDestroyed","isDeleted","appName","registerVersion","libraryKeyOrName","variant","libraryMismatch","versionMismatch","warning","__rest","propertyIsEnumerable","_DEFAULT_AUTH_ERROR_FACTORY","dependent-sdk-initialized-before-auth","logClient","_logError","msg","_fail","authOrCode","rest","createErrorInternal","_createError","fullParams","_errorFactory","_assert","assertion","debugFail","failure","debugAssert","instanceCache","_getInstance","cls","Function","_getCurrentUrl","self","location","href","_getCurrentScheme","protocol","_isOnline","onLine","runtime","chrome","browser","id","Delay","shortDelay","longDelay","isMobile","test","min","_emulatorUrl","path","emulator","url","startsWith","FetchProvider","fetchImpl","headersImpl","responseImpl","fetch","Headers","Response","SERVER_ERROR_MAP","CREDENTIAL_MISMATCH","MISSING_CUSTOM_TOKEN","INVALID_IDENTIFIER","MISSING_CONTINUE_URI","INVALID_PASSWORD","MISSING_PASSWORD","EMAIL_EXISTS","PASSWORD_LOGIN_DISABLED","INVALID_IDP_RESPONSE","INVALID_PENDING_TOKEN","FEDERATED_USER_ID_ALREADY_LINKED","MISSING_REQ_TYPE","EMAIL_NOT_FOUND","RESET_PASSWORD_EXCEED_LIMIT","EXPIRED_OOB_CODE","INVALID_OOB_CODE","MISSING_OOB_CODE","CREDENTIAL_TOO_OLD_LOGIN_AGAIN","INVALID_ID_TOKEN","TOKEN_EXPIRED","USER_NOT_FOUND","TOO_MANY_ATTEMPTS_TRY_LATER","INVALID_CODE","INVALID_SESSION_INFO","INVALID_TEMPORARY_PROOF","MISSING_SESSION_INFO","SESSION_EXPIRED","MISSING_ANDROID_PACKAGE_NAME","UNAUTHORIZED_DOMAIN","INVALID_OAUTH_CLIENT_ID","ADMIN_ONLY_OPERATION","INVALID_MFA_PENDING_CREDENTIAL","MFA_ENROLLMENT_NOT_FOUND","MISSING_MFA_ENROLLMENT_ID","MISSING_MFA_PENDING_CREDENTIAL","SECOND_FACTOR_EXISTS","SECOND_FACTOR_LIMIT_EXCEEDED","DEFAULT_API_TIMEOUT_MS","async","_performApiRequest","auth","request","customErrorMap","_performFetchWithErrorHandling","query","apiKey","headers","_getSdkClientVersion","languageCode","_getFinalTarget","apiHost","referrerPolicy","fetchFn","_canInitEmulator","errorMap","networkTimeout","NetworkTimeout","response","race","clearNetworkTimeout","json","_makeTaggedError","ok","serverErrorCode","errorMessage","base","apiScheme","timer","setTimeout","clearTimeout","errorParams","email","phoneNumber","_tokenResponse","utcTimestampToDateString","utcTimestamp","date","isNaN","getTime","toUTCString","secondsStringToMilliseconds","seconds","_parseToken","token","algorithm","payload","signature","decoded","base64Decode","_logoutIfInvalidated","user","bypassAuthState","isUserInvalidated","currentUser","signOut","ProactiveRefresh","isRunning","timerId","errorBackoff","schedule","wasError","interval","stsTokenManager","expirationTime","max","getInterval","iteration","getIdToken","UserMetadata","createdAt","lastLoginAt","_initializeTime","lastSignInTime","creationTime","metadata","_reloadWithoutSaving","idToken","getAccountInfo","users","coreAccount","_notifyReloadListener","newProviderData","providerUserInfo","providerId","uid","rawId","displayName","photoURL","photoUrl","providerData","original","newData","some","oldIsAnonymous","isAnonymous","newIsAnonymous","passwordHash","updates","localId","emailVerified","tenantId","StsTokenManager","refreshToken","accessToken","isExpired","expiresIn","parsedToken","exp","iat","_tokenExpiresIn","updateTokensAndExpiration","forceRefresh","refresh","oldToken","grant_type","refresh_token","tokenApiHost","X-Client-Version","Content-Type","access_token","expires_in","requestStsToken","expiresInSec","object","manager","toJSON","assertStringOrUndefined","UserImpl","opt","proactiveRefresh","reloadUserInfo","reloadListener","getToken","_persistUserIfCurrent","_notifyListenersIfCurrent","userInternal","claims","auth_time","firebase","signInProvider","authTime","issuedAtTime","signInSecondFactor","getIdTokenResult","reload","userInfo","_copy","_assign","_start","_stop","tokensRefreshed","updateFromServerResponse","deleteAccount","clearRefreshToken","_redirectEventId","_g","_h","plainObjectTokenManager","fromJSON","idTokenResponse","InMemoryPersistence","storage","_key","_listener","inMemoryPersistence","_persistenceKeyName","PersistenceUserManager","persistence","userKey","fullUserKey","fullPersistenceKey","boundEventHandler","_onStorageEvent","_addListener","_set","blob","_get","_fromJSON","_remove","newPersistence","getCurrentUser","removeCurrentUser","setCurrentUser","_removeListener","persistenceHierarchy","chosenPersistence","_isAvailable","userToMigrate","_getBrowserName","userAgent","ua","includes","_isIEMobile","_isFirefox","_isBlackBerry","_isWebOS","_isSafari","_isChromeIOS","_isAndroid","re","matches","_isIOS","_isIE10","documentMode","_isMobileBrowser","_getClientVersion","clientPlatform","frameworks","reportedPlatform","AuthImpl","emulatorConfig","operations","authStateSubscription","Subscription","idTokenSubscription","redirectUser","isProactiveRefreshEnabled","redirectInitializerError","_isInitialized","_deleted","_initializationPromise","_popupRedirectResolver","lastNotifiedUid","settings","appVerificationDisabledForTesting","clientVersion","sdkClientVersion","popupRedirectResolver","queue","persistenceManager","_shouldInitProactively","_initialize","initializeCurrentUser","assertedPersistence","_currentUser","_updateCurrentUser","storedUser","authDomain","getOrInitRedirectPersistenceManager","redirectUserEventId","storedUserEventId","tryRedirectSignIn","directlySetCurrentUser","reloadAndSetCurrentUserOrClear","redirectResolver","_completeRedirectFn","_setRedirectUser","navigatorLanguage","languages","language","_getUserLanguage","userExtern","notifyAuthListeners","redirectPersistenceManager","setPersistence","completed","registerStateListener","redirectManager","resolver","_redirectPersistence","_startProactiveRefresh","_stopProactiveRefresh","currentUid","subscription","cb","addObserver","action","framework","sort","_getFrameworks","_castAuth","proxy","AuthCredential","signInMethod","_auth","_idToken","signInWithIdp","serverResponse","_performSignInRequest","_addTidIfNecessary","OAuthCredential","pendingToken","cred","nonce","oauthToken","oauthTokenSecret","secret","buildRequest","autoCreate","requestUri","returnSecureToken","postBody","FederatedAuthProvider","defaultLanguageCode","customParameters","customOAuthParameters","BaseOAuthProvider","scopes","scope","GithubAuthProvider","_fromParams","PROVIDER_ID","GITHUB_SIGN_IN_METHOD","userCredential","credentialFromTaggedObject","tokenResponse","oauthAccessToken","credential","UserCredentialImpl","operationType","_fromIdTokenResponse","providerIdForResponse","_updateTokensIfNecessary","MultiFactorError","_processCredentialSavingMfaContextIfNecessary","_getReauthenticationResolver","_getIdTokenResponse","_fromErrorAndOperation","AuthInterop","internalListeners","assertAuthConfigured","listener","unsubscribe","onIdTokenChanged","updateProactiveRefresh","BrowserPersistenceClass","setItem","removeItem","getItem","BrowserLocalPersistence","localStorage","listeners","localCache","pollTimer","safariLocalStorageNotSynced","_iframeCannotSyncWebStorage","top","_isIframe","fallbackToPolling","onStorageEvent","keys","newValue","poll","forAllChangedKeys","_oldValue","notifyListeners","detachListener","stopPolling","storedValue","triggerListeners","setInterval","StorageEvent","clearInterval","startPolling","attachListener","browserLocalPersistence","Receiver","eventTarget","handlersMap","existingInstance","receivers","find","receiver","isListeningto","newInstance","messageEvent","eventId","eventType","handlers","ports","postMessage","status","promises","handler","origin","reason","_allSettled","eventHandler","Sender","target","messageChannel","port1","onMessage","timeout","MessageChannel","completionTimer","digits","floor","pow","generateEventId","ackTimer","port2","finally","removeMessageHandler","_window","_isWorker","DB_NAME","DBPromise","getObjectStore","db","isReadWrite","transaction","objectStore","_openDatabase","indexedDB","open","createObjectStore","keyPath","objectStoreNames","contains","deleteDatabase","toPromise","_deleteDatabase","_putObject","put","fbase_key","_deleteObject","IndexedDBLocalPersistence","pendingWrites","sender","serviceWorkerReceiverAvailable","activeServiceWorker","_workerInitializationPromise","initializeServiceWorkerMessaging","numAttempts","_openDb","initializeReceiver","initializeSender","_subscribe","_origin","keyProcessed","_poll","_data","serviceWorker","ready","active","_getActiveServiceWorker","results","_send","controller","_getServiceWorkerController","write","_withPendingWrite","_withRetries","notifyServiceWorker","getObject","getAllRequest","getAll","keysInResult","localKey","indexedDBLocalPersistence","AuthEventManager","cachedEventUids","consumers","queuedRedirectEvent","hasHandledPotentialRedirect","lastProcessedEventTime","authEventConsumer","isEventForConsumer","sendToConsumer","saveEventToCache","hasEventBeenHandled","handled","consumer","isNullRedirectEvent","isRedirectEvent","onError","onAuthEvent","eventIdMatches","eventUid","sessionId","IP_ADDRESS_REGEX","HTTP_REGEX","_validateOrigin","authorizedDomains","_getProjectConfig","domain","matchDomain","expected","currentUrl","hostname","URL","ceUrl","escapedDomainPattern","_loadJS","el","onload","onerror","charset","getElementsByTagName","getScriptParentElement","NETWORK_TIMEOUT","resetUnloadedGapiModules","beacon","___jsl","H","hint","L","CP","loadGapi","loadGapiIframe","gapi","load","iframes","getContext","ontimeout","Iframe","cbName","cachedGApiLoader","PING_TIMEOUT","IFRAME_ATTRIBUTES","position","width","height","EID_FROM_APIHOST","getIframeUrl","eid","fw","_openIframe","context","_loadGapi","where","messageHandlersFilter","CROSS_ORIGIN_IFRAMES_FILTER","dontclear","iframe","restyle","setHideOnLeave","networkError","networkErrorTimer","clearTimerAndResolve","ping","BrowserSessionPersistence","sessionStorage","browserSessionPersistence","BASE_POPUP_OPTIONS","resizable","statusbar","toolbar","AuthPopup","associatedEvent","_open","screen","availHeight","toString","left","availWidth","scrollbars","optionsString","accum","standalone","_isIOSStandalone","click","createEvent","initMouseEvent","dispatchEvent","openAsNewWindowIOS","newWin","focus","_withDefaultResolver","resolverOverride","IdpCredential","_buildIdpRequest","returnIdpCredential","_signIn","_signInWithCredential","_reauth","parsed","sub","_forOperation","_reauthenticate","_link$1","_linkToIdToken","_link","redirectOutcomeMap","RedirectAction","pendingPromise","eventManager","onExecution","registerConsumer","urlResponse","getIdpTask","unregisterAndCleanUp","unregisterConsumer","cleanUp","readyOutcome","pendingRedirectKey","hasPendingRedirect","resolverPersistence","_getAndClearPendingRedirectStatus","execute","_redirectUserForId","signInWithRedirect","authInternal","resolverInternal","_setPendingRedirectStatus","_openRedirect","_signInWithRedirect","_getRedirectResult","resolverExtern","_getRedirectUrl","authType","redirectUrl","additionalParams","setDefaultLanguage","isEmpty","getCustomParameters","getScopes","tid","paramsDict","getHandlerBase","browserPopupRedirectResolver","eventManagers","originValidationPromises","_originValidation","initAndGetManager","register","iframeEvent","authEvent","onEvent","send","isSupported","getAuth","getApp","deps","initializeAuth","createErrorType","init","superErrorClass","JsJodaException","authInstance","hierarchy","_updateErrorMap","_initializeWithPersistence","_initializeAuthInstance","_instanceIdentifier","_instance","getVersionForPlatform","global","define","module","modules","payloads","trace","ns","root","_require","parentId","lookup","dep","require","packagedModule","normalizeModule","moduleName","chunks","previous","exports","mod","uri","packaged","ace","Element","remove","writable","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","os","platform","isWin","isIE","parseFloat","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","MSStream","useragent","buildDom","arr","refs","txt","els","ch","childIndex","className","getDocumentHead","doc","head","documentElement","tag","createElementNS","removeChildren","ownerDocument","createFragment","hasCssClass","addCssClass","removeCssClass","classes","splice","toggleCssClass","setCssClass","include","hasCssString","sheets","importCssString","getRootNode","importCssStylsheet","rel","scrollbarWidth","inner","minWidth","display","outer","overflow","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","property","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","transform","animationName","translate","tx","ty","round","inherits","super_","mixin","implement","proto","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","91","92","93","KEY_MODS","ctrl","alt","option","shift","meta","command","cmd","control","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","-13","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","parseInt","enter","escape","esc","del","mods","x","keyCodeToString","keyCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","detectListenerOptionsSupport","EventListener","elem","destroy","removeListener","addListener","destroyer","$toDestroy","stopEvent","stopPropagation","preventDefault","getButton","ctrlKey","altKey","shiftKey","button","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","clicks","eventNames","2","3","4","onMousedown","isNewClick","abs","clientX","clientY","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","postMessageId","nextTick","win","messageName","$idleBlocked","onIdle","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startRow","startColumn","endRow","endColumn","row","column","isEqual","range","compare","compareRange","cmp","comparePoint","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","clone","collapseRows","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","stringReverse","string","reverse","stringRepeat","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","deepCopy","arrayToMap","createMap","arrayRemove","escapeRegExp","escapeHTML","getMatchOffsets","regExp","offset","deferredCall","fcn","cancel","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","dom","lang","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","KEYS","MODS","valueResetRegex","TextInput","opacity","copied","pasted","inComposition","sendingText","tempStyle","fontSize","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","preventScroll","isTransformed","getBoundingClientRect","ancestors","parentElement","blur","on","curOp","commandName","isUserAction","docChanged","selectionChanged","onCompositionEnd","selectionEnd","selection","setSelectionRange","afterContextMenu","selectionStart","line","getRange","cursor","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","MAX_LINE_LENGTH","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","compositionStartOffset","off","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","_signal","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","bottom","clientHeight","move","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","down","right","commands","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","DefaultHandlers","mouseHandler","$clickSelection","editor","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","DragdropHandler","blankImage","src","dragSelectionMarker","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","dataTransfer","effectAllowed","getReadOnly","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","types","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","selected","hasUndo","getUndoManager","replaceChild","class","readText","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","xhr","XMLHttpRequest","onreadystatechange","readyState","responseText","loadScript","isAbort","qualifyURL","EventEmitter","_dispatchEvent","_eventRegistry","_defaultHandlers","defaultHandler","newCallback","_disabled_","disabled","removeDefaultHandler","capturing","removeAllListeners","optionsProvider","setOptions","optList","setOption","optionNames","$options","hidden","getOption","forwardTo","handlesSet","reportError","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","$moduleUrls","loadWorkerFromBlob","sharedPopups","$modes","moduleUrl","sep","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","m1","toUpperCase","DefaultGutterHandler","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","rtlCandidate","_getCharacterType","uc","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","getValue","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","isFullWidth","getScreenTabSize","$main","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","getDocument","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","func","rangeCount","ranges","r1","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","caseInsensitive","regex","adjustedregex","matchcount","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","tokens","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","consumeLineEnd","merge","TextHighlightRules","$rules","addRules","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","concat","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","\"","'","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","$matchTokenType","iterator2","bracket","wordChars","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","autoOutdent","createWorker","createModeDelegates","$id","delegations","functionName","$delegator","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","textOrLines","$lines","insertMergedLines","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","foldBefore","newFoldLine","foldLineNext","idxToPosition","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","trim","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","children","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets",")","(","]","[","{","}","<",">","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","setMode","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","description","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","resize","onResize","setTheme","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","$highlightTags","$highlightTagPending","$tagHighlight","currentTag","prevToken","stepCount","tmpToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","reg","wordPairs","negate","firstCondition","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","autoScrollEditorIntoView","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","padding","$padding","$computePadding","ceil","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","rparen","lparen","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","m2","ut","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","deltaQueue","$doc","emit","ex","attachToDocument","q","UIWorkerClient","main","emitSync","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","edit","_id","getElementById","env","oldNode","createEditSession","modes","caption","extensions","extRe","supportsFile","filename","supportedModes","ABAP","ABC","ActionScript","ADA","Alda","Apache_Conf","Apex","AQL","AsciiDoc","ASL","Assembly_x86","AutoHotKey","BatchFile","C_Cpp","C9Search","Cirru","Clojure","Cobol","coffee","ColdFusion","Crystal","CSharp","Csound_Document","Csound_Orchestra","Csound_Score","CSS","Curly","D","Dart","Diff","Dockerfile","Dot","Drools","Edifact","Eiffel","EJS","Elixir","Elm","Erlang","Forth","Fortran","FSharp","FSL","FTL","Gcode","Gherkin","Gitignore","Glsl","Gobstones","golang","GraphQLSchema","Groovy","HAML","Handlebars","Haskell","Haskell_Cabal","haXe","Hjson","HTML","HTML_Elixir","HTML_Ruby","INI","Io","Jack","Jade","Java","JavaScript","JSON5","JSONiq","JSP","JSSM","JSX","Julia","Kotlin","LaTeX","LESS","Liquid","Lisp","LiveScript","LogiQL","LSL","Lua","LuaPage","Lucene","Makefile","Markdown","Mask","MATLAB","Maze","MediaWiki","MEL","MIXAL","MUSHCode","MySQL","Nginx","Nim","Nix","NSIS","Nunjucks","ObjectiveC","OCaml","Pascal","Perl","Perl6","pgSQL","PHP","PHP_Laravel_blade","Pig","Powershell","Praat","Prisma","Prolog","Properties","Protobuf","Puppet","Python","QML","Razor","RDoc","Red","RHTML","RST","Ruby","Rust","SASS","SCAD","Scala","Scheme","SCSS","SH","SJS","Slim","Smarty","snippets","Soy_Template","Space","SQL","SQLServer","Stylus","SVG","Swift","Tcl","Terraform","Tex","Textile","Toml","TSX","Twig","Typescript","Vala","VBScript","Velocity","Verilog","VHDL","Visualforce","Wollok","XML","XQuery","YAML","Zeek","Django","nameOverrides","modesByName","getModeForPath","fileName","snippetText","DateTimeException","cause","DateTimeParseException","parsedString","errorIndex","UnsupportedTemporalTypeException","ArithmeticException","IllegalArgumentException","IllegalStateException","NullPointerException","_inheritsLoose","subClass","superClass","_assertThisInitialized","ReferenceError","assert","requireNonNull","parameterName","requireInstance","_class","abstractMethodFail","methodName","MathUtil","intDiv","roundDown","safeZero","intMod","floorDiv","floorMod","safeAdd","verifyInt","safeToInt","safeSubtract","safeMultiply","_parseInt","_x","compareNumbers","smi","int","hash","number","hashCode","_len","numbers","_numbers","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","Enum","_proto","equals","TemporalAmount","unit","units","addTo","temporal","subtractFrom","TemporalUnit","duration","isDurationEstimated","isDateBased","isTimeBased","isSupportedBy","dateTime","periodToAdd","between","temporal1","temporal2","Duration","_TemporalAmount","nanos","_seconds","_nanos","ofDays","days","_create","LocalTime","SECONDS_PER_DAY","ofHours","hours","SECONDS_PER_HOUR","ofMinutes","minutes","SECONDS_PER_MINUTE","ofSeconds","nanoAdjustment","secs","NANOS_PER_SECOND","nos","ofMillis","millis","mos","ofNanos","of","ZERO","plus","startInclusive","endExclusive","until","ChronoUnit","SECONDS","ChronoField","NANO_OF_SECOND","startNos","getLong","adjustedEnd","with","dayMatch","hourMatch","minuteMatch","secondMatch","fractionMatch","daysAsSecs","_parseNumber","hoursAsSecs","minsAsSecs","negativeSecs","_parseFraction","multiplier","errorText","_createSecondsNanos","_createNegateDaysHoursMinutesSecondsNanos","negated","NANOS","isZero","isNegative","nano","withSeconds","withNanos","nanoOfSecond","checkValidIntValue","plusDuration","durationOrNumber","unitOrNumber","plusAmountUnit","plusSecondsNanos","amountToAdd","DAYS","plusNanos","MICROS","MILLIS","plusMillis","plusSeconds","multipliedBy","plusDays","daysToAdd","plusHours","hoursToAdd","plusMinutes","minutesToAdd","secondsToAdd","millisToAdd","nanosToAdd","epochSec","minus","minusDuration","minusAmountUnit","secsToSubtract","nanosToSubtract","amountToSubtract","minusDays","daysToSubtract","minusHours","hoursToSubtract","minusMinutes","minutesToSubtract","minusSeconds","secondsToSubtract","minusMillis","millisToSubtract","minusNanos","multiplicand","dividedBy","divisor","secsMod","toDays","toHours","toMinutes","toMillis","toNanos","totalNanos","compareTo","otherDuration","nanoString","rval","YearConstants","_TemporalUnit","estimatedDuration","_duration","FOREVER","e2","TemporalField","baseUnit","rangeUnit","rangeRefinedBy","getFrom","adjustInto","ValueRange","minSmallest","minLargest","maxSmallest","maxLargest","_minSmallest","_minLargest","_maxLargest","_maxSmallest","isFixed","minimum","largestMinimum","maximum","smallestMaximum","isValidValue","checkValidValue","field","isValidIntValue","isIntValue","_TemporalField","_baseUnit","_rangeUnit","_range","fieldName","DAY_OF_WEEK","ALIGNED_DAY_OF_WEEK_IN_MONTH","ALIGNED_DAY_OF_WEEK_IN_YEAR","DAY_OF_MONTH","DAY_OF_YEAR","EPOCH_DAY","ALIGNED_WEEK_OF_MONTH","ALIGNED_WEEK_OF_YEAR","MONTH_OF_YEAR","YEAR_OF_ERA","YEAR","ERA","NANO_OF_DAY","MICRO_OF_SECOND","MICRO_OF_DAY","MILLI_OF_SECOND","MILLI_OF_DAY","SECOND_OF_MINUTE","SECOND_OF_DAY","MINUTE_OF_HOUR","MINUTE_OF_DAY","HOUR_OF_AMPM","CLOCK_HOUR_OF_AMPM","HOUR_OF_DAY","CLOCK_HOUR_OF_DAY","AMPM_OF_DAY","TemporalQueries","zoneId","ZONE_ID","chronology","CHRONO","precision","PRECISION","zone","ZONE","OFFSET","localDate","LOCAL_DATE","localTime","LOCAL_TIME","TemporalAccessor","_query","queryFrom","TemporalQuery","_Enum","createTemporalQuery","queryFromFunction","ExtendedTemporalQuery","_TemporalQuery","ENUMS","DayOfWeek","_TemporalAccessor","ordinal","_ordinal","valueOf","dayOfWeek","locale","MONTHS","Month","_value","months","newMonthVal","leapYear","FEBRUARY","APRIL","JUNE","SEPTEMBER","NOVEMBER","minLength","maxLength","firstDayOfYear","leap","JANUARY","MARCH","MAY","JULY","AUGUST","OCTOBER","DECEMBER","firstMonthOfQuarter","IsoChronology","INSTANCE","month","Period","years","_years","_months","_days","ofYears","ofMonths","ofWeeks","weeks","unitAmount","YEARS","startDate","endDate","LocalDate","_parse","yearMatch","monthMatch","weekMatch","withYears","withMonths","withDays","plusYears","yearsToAdd","plusMonths","monthsToAdd","minusYears","yearsToSubtract","minusMonths","monthsToSubtract","scalar","normalized","totalMonths","toTotalMonths","splitYears","splitMonths","ParsePosition","_index","_errorIndex","getIndex","setIndex","getErrorIndex","setErrorIndex","EnumMap","_map","putAll","otherMap","containsKey","retainAll","keyName","keySet","ResolverStyle","STRICT","SMART","LENIENT","TemporalAdjuster","Temporal","minusAmount","plusAmount","endTemporal","withAdjuster","withFieldValue","adjuster","DefaultInterfaceTemporal","_Temporal","ChronoLocalDate","_DefaultInterfaceTemp","fieldOrUnit","ofEpochDay","toEpochDay","format","formatter","DateTimeFormatter","StringUtil","pattern","ZoneId","systemDefault","getAvailableZoneIds","ofOffset","isFixedOffset","Instant","EPOCH","ZoneRules","Fixed","instantOrLocalDateTime","offsetOfInstant","offsetOfLocalDateTime","instant","offsetOfEpochMilli","epochMilli","localDateTime","validOffsets","transition","standardOffset","daylightSavings","isDaylightSavings","isValidOffset","nextTransition","previousTransition","transitions","transitionRules","_ZoneRules","_offset","_proto2","SECONDS_CACHE","ID_CACHE","ZoneOffset","_ZoneId","totalSeconds","_validateTotalSeconds","_totalSeconds","_rules","_buildId","absTotalSeconds","absHours","absMinutes","MINUTES_PER_HOUR","absSeconds","MAX_SECONDS","_validate","offsetId","ofHoursMinutesSeconds","precededByColon","ch1","ch2","ofHoursMinutes","ofTotalSeconds","ofTotalMinutes","totalMinutes","totalSecs","OFFSET_SECONDS","DateTimeBuilder","fieldValues","chrono","leapSecond","excessDays","dtb","_addFieldValue","getFieldValue0","_putFieldValue0","resolverStyle","resolverFields","_mergeDate","_mergeTime","_resolveTimeInferZeroes","_resolveInstant","_checkDate","resolveDate","_addObject","val1","val2","_ch","ap","hap","nod","cod","lod","sod","los","cos","_nos","_cos","_los","hod","moh","som","hodVal","mohVal","somVal","nosVal","_hodVal","ofNanoOfDay","_excessDays","ofSecondOfDay","_excessDays2","dateOrTime","offsetSecs","atTime","atZone","INSTANT_SECONDS","_instant","build","DateTimeParseContext","_constructorSelf","_constructorFormatter","_constructorParam","_caseSensitive","_strict","_parsed","Parsed","symbols","_locale","_symbols","_overrideChronology","decimalStyle","_overrideZone","isStrict","setStrict","strict","setLocale","startOptional","currentParsed","endOptional","successful","isCaseSensitive","setCaseSensitive","subSequenceEquals","cs1","offset1","cs2","offset2","charEquals","charEqualsIgnoreCase","setParsedField","errorPos","successPos","currentParsedFieldValues","setParsedZone","getParsed","toParsed","setParsedLeapSecond","getEffectiveChronology","dateTimeParseContext","cloned","toBuilder","builder","overrideZone","DateTimePrintContext","localeOrFormatter","_temporal","adjust","_optional","getValueQuery","setDateTime","IsoFields","QUARTER_DAYS","Field","_isIso","_getWeekRangeByLocalDate","wby","_getWeekBasedYear","_getWeekRangeByYear","THURSDAY","WEDNESDAY","isLeapYear","_getWeek","dow0","doy0","dayOfYear","doyThu0","firstMonDoy0","withDayOfYear","week","year","doy","_dow","DAY_OF_QUARTER_FIELD","_Field","QUARTER_YEARS","qoy","QUARTER_OF_YEAR","moy","curValue","partialTemporal","yearLong","qoyLong","doq","DAY_OF_QUARTER","_qoy","QUARTER_OF_YEAR_FIELD","_Field2","_proto3","WEEK_OF_WEEK_BASED_YEAR_FIELD","_Field3","_proto4","WEEKS","WEEK_BASED_YEARS","wbyLong","WEEK_BASED_YEAR","dowLong","wowby","WEEK_OF_WEEK_BASED_YEAR","dow","plusWeeks","_dow2","temp","WEEK_BASED_YEAR_FIELD","_Field4","_proto5","newWby","resolved","Unit","_proto6","DecimalStyle","zeroChar","positiveSignChar","negativeSignChar","decimalPointChar","_zeroDigit","_zeroDigitCharCode","_positiveSign","_negativeSign","_decimalSeparator","positiveSign","withPositiveSign","negativeSign","withNegativeSign","zeroDigit","withZeroDigit","decimalSeparator","withDecimalSeparator","convertToDigit","char","convertNumberToI18N","numericText","convertedText","availableLocales","STANDARD","SignStyle","positive","NORMAL","ALWAYS","EXCEEDS_PAD","NEVER","NOT_NEGATIVE","TextStyle","isStandalone","FULL_STANDALONE","SHORT_STANDALONE","NARROW_STANDALONE","asStandalone","FULL","SHORT","NARROW","asNormal","CharLiteralPrinterParser","literal","_literal","print","CompositePrinterParser","printerParsers","_printerParsers","withOptional","setLength","FractionPrinterParser","maxWidth","decimalPoint","fraction","convertToFraction","outputScale","effectiveMin","effectiveMax","minEndPos","maxEndPos","total","moveLeft","scale","convertFromFraction","_min","decimal","EXCEED_POINTS","NumberPrinterParser","signStyle","subsequentWidth","_field","_minWidth","_maxWidth","_signStyle","_subsequentWidth","withFixedWidth","withSubsequentWidth","_isFixedWidth","contextValue","sign","negative","effMinWidth","effMaxWidth","pass","parseLen","_parseLen","_setValue","ReducedPrinterParser","_NumberPrinterParser","baseValue","baseDate","_baseValue","_baseDate","absValue","basePart","isFixedWidth","PATTERNS","OffsetIdPrinterParser","noOffsetText","_checkPattern","bufPos","appendChar","noOffsetLen","arrayIndex","parseText","required","converted","INSTANCE_ID","PadPrinterParserDecorator","printerParser","padWidth","padChar","_printerParser","_padWidth","_padChar","preLen","endPos","resultPos","SettingsParser","SENSITIVE","INSENSITIVE","StringLiteralPrinterParser","ZoneRulesProvider","ZoneRegion","ofId","ZoneIdPrinterParser","nextChar","newContext","nextNextChar","_parsePrefixedOffset","UTC","availableZoneIds","zoneIdTree","ZoneIdTree","createTreeMap","maxParseLength","treeMap","parsedZoneId","parseLength","parsedSubZoneId","isLeaf","prefixPos","sortedZoneIds","ZoneIdTreeMap","_treeMap","idLength","subZoneId","subTreeMap","DateTimeFormatterBuilder","_active","_parent","_padNextWidth","_padNextChar","_valueParserIndex","_of","dtFormatterBuilder","parseCaseSensitive","_appendInternalPrinterParser","parseCaseInsensitive","parseStrict","parseLenient","appendValue","_appendValue1","_appendValue2","_appendValue4","_appendValuePrinterParser","pp","appendValueReduced","_appendValueReducedFieldWidthMaxWidthBaseDate","_appendValueReducedFieldWidthMaxWidthBaseValue","activeValueParser","basePP","_appendInternal","appendFraction","appendInstant","fractionalDigits","InstantPrinterParser","appendOffsetId","appendOffset","appendZoneId","appendPattern","_parsePattern","appendZoneText","appendText","appendLocalizedOffset","appendWeekField","FIELD_MAP","G","Q","M","F","E","K","S","A","N","cur","pad","padNext","_parseField","zero","appendLiteral","optionalStart","optionalEnd","BASE_DATE","_padNext1","_padNext2","cpp","_toPrinterParser","toFormatter","inSecs","inNanos","inSec","inNano","zeroSecs","ldt","LocalDateTime","ofEpochSecond","second","_zeroSecs","_hi","_lo","_ldt","minDigits","maxDigits","ISO_LOCAL_DATE","instantSecs","yearParsed","day","hour","secVal","nanoVal","sec","toEpochSecond","StringBuilder","_str","_decimalStyle","_resolverStyle","_resolverFields","_chrono","_zone","parsedExcessDays","PARSED_EXCESS_DAYS","parsedLeapSecond","PARSED_LEAP_SECOND","ofPattern","withChronology","withLocale","withResolverStyle","_formatTo","appendable","parse1","parse2","_parseToBuilder","abbr","_parseUnresolved0","parseUnresolved","PARSER","MonthDay","dayOfMonth","_month","_day","zoneIdOrClock","now0","nowZoneId","nowClock","Clock","systemDefaultZone","system","clock","monthOrNumber","ofMonthNumber","ofNumberNumber","parseString","parseStringFormatter","FROM","monthValue","isValidYear","Year","isLeap","withMonth","withDayOfMonth","atYear","isAfter","isBefore","PARSER$1","YearMonth","_year","ofNumberMonth","isSupportedField","isSupportedUnit","PROLEPTIC_MONTH","DECADES","CENTURIES","MILLENNIA","ERAS","_getProlepticMonth","isValidDay","lengthOfMonth","lengthOfYear","adjusterOrField","withYear","newYear","calcMonths","monthsUntil","atDay","atEndOfMonth","PARSER$2","isoYear","parseTextFormatter","isValidMonthDay","monthDay","ofYearDay","atMonth","atMonthMonth","atMonthNumber","atMonthDay","yearsUntil","TemporalAdjusters","firstDayOfMonth","Impl","FIRST_DAY_OF_MONTH","lastDayOfMonth","LAST_DAY_OF_MONTH","firstDayOfNextMonth","FIRST_DAY_OF_NEXT_MONTH","FIRST_DAY_OF_YEAR","lastDayOfYear","LAST_DAY_OF_YEAR","firstDayOfNextYear","FIRST_DAY_OF_NEXT_YEAR","firstInMonth","DayOfWeekInMonth","lastInMonth","dayOfWeekInMonth","RelativeDayOfWeek","nextOrSame","previousOrSame","_TemporalAdjuster","_TemporalAdjuster2","_this2","_dowValue","curDow","dowDiff","_temp","_curDow","daysDiff","_TemporalAdjuster3","relative","_this3","_relative","calDow","_daysDiff","prolepticYear","_updateResolveMap","current","prolepticMonth","yoeLong","era","_y","_y2","_days2","aw","ad","_y3","_weeks","_days3","_aw","_date","OffsetTime","_time","OffsetDateTime","toOffsetTime","clockOrZone","_now","ofInstant","ofTimeAndOffset","ofNumbers","minute","secsOfDay","epochSecond","ISO_OFFSET_TIME","toNanoOfDay","atDate","_toEpochNano","_withLocalTimeOffset","toLocalTime","truncatedTo","nanosUntil","MINUTES","NANOS_PER_MINUTE","HOURS","NANOS_PER_HOUR","HALF_DAYS","withHour","withMinute","withSecond","withNano","withOffsetSameInstant","difference","withOffsetSameLocal","ZonedDateTime","_ChronoZonedDateTime","_dateTime","of2","of3","of8","ofLocal","preferredOffset","trans","offsetAfter","validOffset","ofInstant2","ofInstant3","ofStrict","isGap","ofLenient","zdt","_from","__from","ISO_ZONED_DATE_TIME","_resolveLocal","newDateTime","_resolveOffset","withEarlierOffsetAtOverlap","isOverlap","earlierOffset","offsetBefore","withLaterOffsetAtOverlap","toLocalDateTime","laterOffset","withZoneSameLocal","withZoneSameInstant","withFixedOffsetZone","toLocalDate","minusWeeks","toOffsetDateTime","ChronoZonedDateTime","toInstant","toSecondOfDay","strcmp","thisEpochSec","otherEpochSec","ofDateTime","ofDateAndTime","ISO_OFFSET_DATE_TIME","atZoneSameInstant","atZoneSimilarLocal","toZonedDateTime","_withDateTimeOffset","_ChronoLocalDate","epochDay","adjustCycles","doyEst","yearEst","zeroDay","DAYS_PER_CYCLE","marchDoy0","marchMonth0","_resolvePreviousValid","_get0","_prolepticMonth","newMonth","weeksToAdd","mjDay","weeksToSubtract","until1","until2","daysUntil","_monthsUntil","packed1","packed2","calcDate","atTime1","atTime4","_atTimeOffsetTime","atStartOfDay","atStartOfDayWithZone","MIDNIGHT","dateTimeAfter","_compareTo0","otherDate","yearValue","dayValue","_ChronoLocalDateTime","_ofEpochMillis","localSecond","localEpochDay","ISO_LOCAL_DATE_TIME","_withDateTime","newDate","newTime","MICROS_PER_DAY","MILLIS_PER_DAY","_plusWithOverflow","totDays","NANOS_PER_DAY","MINUTES_PER_DAY","HOURS_PER_DAY","totNanos","curNoD","newNoD","timeUntil","endTime","atOffset","ChronoLocalDateTime","_hour","_minute","_second","_nanoOfSecond","_nano","secondOfDay","nanoOfDay","ISO_LOCAL_TIME","ham","unitDur","dur","mofd","newMofd","sofd","newSofd","nofd","newNofd","hourValue","minuteValue","secondValue","nanoValue","systemUTC","ofEpochMilli","ISO_INSTANT","MIN_SECONDS","nval","_nval","_plus","_nanosUntil","toEpochMilli","_secondsUntil","secsDiff","nanosDiff","otherInstant","SystemClock","fixed","fixedInstant","FixedClock","baseClock","OffsetClock","withZone","_Clock","_Clock2","_zoneId","_Clock3","_baseClock","ZoneOffsetTransition","_transition","_offsetBefore","_offsetAfter","dateTimeBefore","durationSeconds","SystemDefaultZoneRules","offsetInMinutes","getTimezoneOffset","offsetInMinutesBeforePossibleTransition","offsetInMinutesAfterPossibleTransition","_throwNotSupported","SystemDefaultZoneId","ZoneIdFactory","SYSTEM_DEFAULT_ZONE_ID_INSTANCE","isInit","MIN_VALUE","MIN","NOON","_init$k","isoWeekOfWeekyear","isoWeekyear","MONDAY","TUESDAY","FRIDAY","SATURDAY","SUNDAY","EPOCH_0","SYSTEM","BASIC_ISO_DATE","ISO_OFFSET_DATE","ISO_ORDINAL_DATE","ISO_WEEK_DATE","NativeJsTemporal","_epochMilli","toDate","jwt","FileBrowser","restURL","notify","filePrefix","firebaseApp","rawConfig","newApp","initializeApp","projectId","storageBucket","messagingSenderId","appId","onAuthStateChanged","getRedirectResult","credentialFromResult","credentialFromError","_logout","_login","_pathChanged","versionedFile","_renderVersionedFile","_renderFolder","_renderFile","dtf","FileDateSizeFormatter","humanFileSize","lastModified","_gotoFile","_upload","mimeType","_renderEditor","_renderImage","pathname","_updateData","onpopstate","_goto","currentTarget","newPath","history","fileSelector","shadowRoot","PathBrowser","pathTemplates","_gotoPath","CustomEvent","AceEditor","fileURL","readonly","fileChanged","loading","importMeta","import","_changed","_load","Content-type","_sendFileChangedEvent","isChanged","FileVersions","selectedVersion","allowChanges","showHidden","versions","_showHidden","_hide","latest","default","_makeDefault","_updateComment","_selectionChanged","_edit","_cancel","_save","_fileChanged","x-protocol-version","_getSelectedVersion","_updateSettings","postTo","referenceTime","epochMillis","si","dp","thresh"],"mappings":"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AAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,GAAG,MAAM,GAAG,KAAK,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,E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"}